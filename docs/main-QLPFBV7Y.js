import{$ as Et,$a as lk,$b as Bn,$c as Ta,A as gv,Aa as _t,Ab as Vt,Ac as _k,B as su,Ba as Fc,Bb as Re,Bc as zt,C as lu,Ca as QO,Cb as Co,Cc as xk,D as xi,Da as si,Db as It,Dc as Pf,E as At,Ea as vt,Eb as fk,Ec as wk,F as kw,Fa as qw,Fb as Sa,Fc as Ck,G as vl,Ga as Nc,Gb as mk,Gc as Hc,H as zi,Ha as yr,Hb as $t,Hc as Ek,I as Ya,Ia as Bc,Ib as fu,Ic as Mv,J as Pw,Ja as JO,Jb as mu,Jc as Sk,K as oi,Ka as Rf,Kb as fr,Kc as Mk,L as Lw,La as ek,Lb as mr,Lc as yu,M as Xa,Ma as Vc,Mb as ae,Mc as Dk,N as Df,Na as Wi,Nb as ue,Nc as Gc,O as Lc,Oa as If,Ob as Pe,Oc as Tk,P as yl,Pa as tk,Pb as Cv,Pc as Ak,Q as Fw,Qa as bv,Qb as Br,Qc as jw,R as GO,Ra as Ln,Rb as pu,Rc as Rk,S as Nw,Sa as Of,Sb as Xe,Sc as Ik,T as WO,Ta as uu,Tb as nt,U as jO,Ua as hu,Ub as Dr,V as Bw,Va as rk,Vb as Ct,Vc as Xo,W as vv,Wa as ik,Wb as Tr,Wc as Da,X as dr,Xa as nk,Xb as Qr,Xc as Ok,Y as nr,Ya as ak,Yb as Mt,Z as hr,Za as ok,Zb as Dt,Zc as pn,_ as cu,_a as sk,_b as pk,_c as Ts,a as Oe,aa as yv,ab as Ea,ac as mn,ad as kk,b as Bt,ba as Ar,bb as ck,bc as Qa,bd as Pk,c as au,ca,cb as ge,cc as He,da as Je,db as kf,dc as Rr,e as j,ea as bt,eb as Yo,ec as zc,f as la,fa as $O,fb as Za,fc as Ja,g as rt,ga as je,gb as qi,gc as eo,h as UO,ha as Vw,hb as Jt,hc as to,i as Xn,ia as Sr,ib as _v,ic as Yt,j as Iw,ja as V,jb as Kn,jc as gu,k as mv,ka as du,kb as Fn,kc as qc,l as Ue,la as YO,lb as dk,lc as Uc,m as ir,ma as Ka,mb as Nn,mc as Ww,n as Ow,na as wo,nb as uk,nc as Ev,o as xo,oa as Ii,ob as hk,oc as gk,p as ri,pa as Gt,pb as Uw,pc as Kr,q as Ze,qa as Wt,qb as De,qc as vk,r as kc,ra as Tf,rb as xt,rc as Rt,s as Sf,sa as wi,sb as ut,sc as Ds,t as HO,ta as XO,tb as Zr,tc as Ma,u as pt,ua as Nr,ub as Nt,uc as Eo,v as ou,va as Af,vb as Hw,vc as bl,w as Ca,wa as KO,wb as xv,wc as Sv,x as Mf,xa as ZO,xb as Gw,xc as yk,y as pv,ya as zw,yb as wv,yc as vu,z as Pc,za as gt,zb as Ms,zc as bk}from"./chunk-42ZUR7KL.js";var TN=j((m4e,DN)=>{"use strict";var MN="Expected a function",EN=NaN,gle="[object Symbol]",vle=/^\s+|\s+$/g,yle=/^[-+]0x[0-9a-f]+$/i,ble=/^0b[01]+$/i,_le=/^0o[0-7]+$/i,xle=parseInt,wle=typeof global=="object"&&global&&global.Object===Object&&global,Cle=typeof self=="object"&&self&&self.Object===Object&&self,Ele=wle||Cle||Function("return this")(),Sle=Object.prototype,Mle=Sle.toString,Dle=Math.max,Tle=Math.min,m1=function(){return Ele.Date.now()};function Ale(r,t,e){var i,n,a,o,s,l,c=0,d=!1,u=!1,f=!0;if(typeof r!="function")throw new TypeError(MN);t=SN(t)||0,nb(e)&&(d=!!e.leading,u="maxWait"in e,a=u?Dle(SN(e.maxWait)||0,t):a,f="trailing"in e?!!e.trailing:f);function m(D){var T=i,O=n;return i=n=void 0,c=D,o=r.apply(O,T),o}function g(D){return c=D,s=setTimeout(b,t),d?m(D):o}function v(D){var T=D-l,O=D-c,F=t-T;return u?Tle(F,a-O):F}function y(D){var T=D-l,O=D-c;return l===void 0||T>=t||T<0||u&&O>=a}function b(){var D=m1();if(y(D))return _(D);s=setTimeout(b,v(D))}function _(D){return s=void 0,f&&i?m(D):(i=n=void 0,o)}function w(){s!==void 0&&clearTimeout(s),c=0,i=l=n=s=void 0}function E(){return s===void 0?o:_(m1())}function S(){var D=m1(),T=y(D);if(i=arguments,n=this,l=D,T){if(s===void 0)return g(l);if(u)return s=setTimeout(b,t),m(l)}return s===void 0&&(s=setTimeout(b,t)),o}return S.cancel=w,S.flush=E,S}function Rle(r,t,e){var i=!0,n=!0;if(typeof r!="function")throw new TypeError(MN);return nb(e)&&(i="leading"in e?!!e.leading:i,n="trailing"in e?!!e.trailing:n),Ale(r,t,{leading:i,maxWait:t,trailing:n})}function nb(r){var t=typeof r;return!!r&&(t=="object"||t=="function")}function Ile(r){return!!r&&typeof r=="object"}function Ole(r){return typeof r=="symbol"||Ile(r)&&Mle.call(r)==gle}function SN(r){if(typeof r=="number")return r;if(Ole(r))return EN;if(nb(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=nb(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=r.replace(vle,"");var e=ble.test(r);return e||_le.test(r)?xle(r.slice(2),e?2:8):yle.test(r)?EN:+r}DN.exports=Rle});var Bs=j((oh,Wm)=>{"use strict";(function(){var r,t="4.17.21",e=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",s=500,l="__lodash_placeholder__",c=1,d=2,u=4,f=1,m=2,g=1,v=2,y=4,b=8,_=16,w=32,E=64,S=128,D=256,T=512,O=30,F="...",P=800,L=16,C=1,A=2,R=3,k=1/0,I=9007199254740991,B=17976931348623157e292,z=NaN,W=4294967295,$=W-1,G=W>>>1,K=[["ary",S],["bind",g],["bindKey",v],["curry",b],["curryRight",_],["flip",T],["partial",w],["partialRight",E],["rearg",D]],oe="[object Arguments]",te="[object Array]",le="[object AsyncFunction]",re="[object Boolean]",Q="[object Date]",se="[object DOMException]",ee="[object Error]",Z="[object Function]",ce="[object GeneratorFunction]",ye="[object Map]",Te="[object Number]",be="[object Null]",at="[object Object]",wt="[object Promise]",$e="[object Proxy]",xe="[object RegExp]",Me="[object Set]",Ve="[object String]",Ke="[object Symbol]",Ge="[object Undefined]",We="[object WeakMap]",it="[object WeakSet]",ct="[object ArrayBuffer]",Se="[object DataView]",U="[object Float32Array]",de="[object Float64Array]",ve="[object Int8Array]",Y="[object Int16Array]",X="[object Int32Array]",me="[object Uint8Array]",ne="[object Uint8ClampedArray]",pe="[object Uint16Array]",we="[object Uint32Array]",ze=/\b__p \+= '';/g,ke=/\b(__p \+=) '' \+/g,Ce=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fe=/&(?:amp|lt|gt|quot|#39);/g,Be=/[&<>"']/g,qe=RegExp(Fe.source),ot=RegExp(Be.source),Ut=/<%-([\s\S]+?)%>/g,st=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ar=/[\\^$.*+?()[\]{}|]/g,vr=RegExp(ar.source),zr=/^\s+/,or=/\s/,Ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ei=/\{\n\/\* \[wrapped with (.+)\] \*/,rr=/,? & /,xr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yr=/[()=,{}\[\]\/\s]/,Vo=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Na=/\w*$/,zo=/^[-+]0x[0-9a-f]+$/i,go=/^0b[01]+$/i,nl=/^\[object .+?Constructor\]$/,qo=/^0o[0-7]+$/i,Uo=/^(?:0|[1-9]\d*)$/,Wd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ho=/($^)/,Go=/['\n\r\u2028\u2029\\]/g,Ba="\\ud800-\\udfff",al="\\u0300-\\u036f",ol="\\ufe20-\\ufe2f",wc="\\u20d0-\\u20ff",Cc=al+ol+wc,un="\\u2700-\\u27bf",gs="a-z\\xdf-\\xf6\\xf8-\\xff",Ai="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zt="\\u2000-\\u206f",Va=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wn="A-Z\\xc0-\\xd6\\xd8-\\xde",xR="\\ufe0e\\ufe0f",wR=Ai+Ft+Zt+Va,xx="['\u2019]",O9="["+Ba+"]",CR="["+wR+"]",Tg="["+Cc+"]",ER="\\d+",k9="["+un+"]",SR="["+gs+"]",MR="[^"+Ba+wR+ER+un+gs+Wn+"]",wx="\\ud83c[\\udffb-\\udfff]",P9="(?:"+Tg+"|"+wx+")",DR="[^"+Ba+"]",Cx="(?:\\ud83c[\\udde6-\\uddff]){2}",Ex="[\\ud800-\\udbff][\\udc00-\\udfff]",jd="["+Wn+"]",TR="\\u200d",AR="(?:"+SR+"|"+MR+")",L9="(?:"+jd+"|"+MR+")",RR="(?:"+xx+"(?:d|ll|m|re|s|t|ve))?",IR="(?:"+xx+"(?:D|LL|M|RE|S|T|VE))?",OR=P9+"?",kR="["+xR+"]?",F9="(?:"+TR+"(?:"+[DR,Cx,Ex].join("|")+")"+kR+OR+")*",N9="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",B9="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PR=kR+OR+F9,V9="(?:"+[k9,Cx,Ex].join("|")+")"+PR,z9="(?:"+[DR+Tg+"?",Tg,Cx,Ex,O9].join("|")+")",q9=RegExp(xx,"g"),U9=RegExp(Tg,"g"),Sx=RegExp(wx+"(?="+wx+")|"+z9+PR,"g"),H9=RegExp([jd+"?"+SR+"+"+RR+"(?="+[CR,jd,"$"].join("|")+")",L9+"+"+IR+"(?="+[CR,jd+AR,"$"].join("|")+")",jd+"?"+AR+"+"+RR,jd+"+"+IR,B9,N9,ER,V9].join("|"),"g"),G9=RegExp("["+TR+Ba+Cc+xR+"]"),W9=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,j9=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$9=-1,pi={};pi[U]=pi[de]=pi[ve]=pi[Y]=pi[X]=pi[me]=pi[ne]=pi[pe]=pi[we]=!0,pi[oe]=pi[te]=pi[ct]=pi[re]=pi[Se]=pi[Q]=pi[ee]=pi[Z]=pi[ye]=pi[Te]=pi[at]=pi[xe]=pi[Me]=pi[Ve]=pi[We]=!1;var ai={};ai[oe]=ai[te]=ai[ct]=ai[Se]=ai[re]=ai[Q]=ai[U]=ai[de]=ai[ve]=ai[Y]=ai[X]=ai[ye]=ai[Te]=ai[at]=ai[xe]=ai[Me]=ai[Ve]=ai[Ke]=ai[me]=ai[ne]=ai[pe]=ai[we]=!0,ai[ee]=ai[Z]=ai[We]=!1;var Y9={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},X9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},K9={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Z9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Q9=parseFloat,J9=parseInt,LR=typeof global=="object"&&global&&global.Object===Object&&global,eK=typeof self=="object"&&self&&self.Object===Object&&self,hn=LR||eK||Function("return this")(),Mx=typeof oh=="object"&&oh&&!oh.nodeType&&oh,Ec=Mx&&typeof Wm=="object"&&Wm&&!Wm.nodeType&&Wm,FR=Ec&&Ec.exports===Mx,Dx=FR&&LR.process,za=function(){try{var he=Ec&&Ec.require&&Ec.require("util").types;return he||Dx&&Dx.binding&&Dx.binding("util")}catch{}}(),NR=za&&za.isArrayBuffer,BR=za&&za.isDate,VR=za&&za.isMap,zR=za&&za.isRegExp,qR=za&&za.isSet,UR=za&&za.isTypedArray;function va(he,Ee,_e){switch(_e.length){case 0:return he.call(Ee);case 1:return he.call(Ee,_e[0]);case 2:return he.call(Ee,_e[0],_e[1]);case 3:return he.call(Ee,_e[0],_e[1],_e[2])}return he.apply(Ee,_e)}function tK(he,Ee,_e,dt){for(var jt=-1,Fr=he==null?0:he.length;++jt<Fr;){var Ji=he[jt];Ee(dt,Ji,_e(Ji),he)}return dt}function qa(he,Ee){for(var _e=-1,dt=he==null?0:he.length;++_e<dt&&Ee(he[_e],_e,he)!==!1;);return he}function rK(he,Ee){for(var _e=he==null?0:he.length;_e--&&Ee(he[_e],_e,he)!==!1;);return he}function HR(he,Ee){for(var _e=-1,dt=he==null?0:he.length;++_e<dt;)if(!Ee(he[_e],_e,he))return!1;return!0}function sl(he,Ee){for(var _e=-1,dt=he==null?0:he.length,jt=0,Fr=[];++_e<dt;){var Ji=he[_e];Ee(Ji,_e,he)&&(Fr[jt++]=Ji)}return Fr}function Ag(he,Ee){var _e=he==null?0:he.length;return!!_e&&$d(he,Ee,0)>-1}function Tx(he,Ee,_e){for(var dt=-1,jt=he==null?0:he.length;++dt<jt;)if(_e(Ee,he[dt]))return!0;return!1}function _i(he,Ee){for(var _e=-1,dt=he==null?0:he.length,jt=Array(dt);++_e<dt;)jt[_e]=Ee(he[_e],_e,he);return jt}function ll(he,Ee){for(var _e=-1,dt=Ee.length,jt=he.length;++_e<dt;)he[jt+_e]=Ee[_e];return he}function Ax(he,Ee,_e,dt){var jt=-1,Fr=he==null?0:he.length;for(dt&&Fr&&(_e=he[++jt]);++jt<Fr;)_e=Ee(_e,he[jt],jt,he);return _e}function iK(he,Ee,_e,dt){var jt=he==null?0:he.length;for(dt&&jt&&(_e=he[--jt]);jt--;)_e=Ee(_e,he[jt],jt,he);return _e}function Rx(he,Ee){for(var _e=-1,dt=he==null?0:he.length;++_e<dt;)if(Ee(he[_e],_e,he))return!0;return!1}var nK=Ix("length");function aK(he){return he.split("")}function oK(he){return he.match(xr)||[]}function GR(he,Ee,_e){var dt;return _e(he,function(jt,Fr,Ji){if(Ee(jt,Fr,Ji))return dt=Fr,!1}),dt}function Rg(he,Ee,_e,dt){for(var jt=he.length,Fr=_e+(dt?1:-1);dt?Fr--:++Fr<jt;)if(Ee(he[Fr],Fr,he))return Fr;return-1}function $d(he,Ee,_e){return Ee===Ee?yK(he,Ee,_e):Rg(he,WR,_e)}function sK(he,Ee,_e,dt){for(var jt=_e-1,Fr=he.length;++jt<Fr;)if(dt(he[jt],Ee))return jt;return-1}function WR(he){return he!==he}function jR(he,Ee){var _e=he==null?0:he.length;return _e?kx(he,Ee)/_e:z}function Ix(he){return function(Ee){return Ee==null?r:Ee[he]}}function Ox(he){return function(Ee){return he==null?r:he[Ee]}}function $R(he,Ee,_e,dt,jt){return jt(he,function(Fr,Ji,ti){_e=dt?(dt=!1,Fr):Ee(_e,Fr,Ji,ti)}),_e}function lK(he,Ee){var _e=he.length;for(he.sort(Ee);_e--;)he[_e]=he[_e].value;return he}function kx(he,Ee){for(var _e,dt=-1,jt=he.length;++dt<jt;){var Fr=Ee(he[dt]);Fr!==r&&(_e=_e===r?Fr:_e+Fr)}return _e}function Px(he,Ee){for(var _e=-1,dt=Array(he);++_e<he;)dt[_e]=Ee(_e);return dt}function cK(he,Ee){return _i(Ee,function(_e){return[_e,he[_e]]})}function YR(he){return he&&he.slice(0,QR(he)+1).replace(zr,"")}function ya(he){return function(Ee){return he(Ee)}}function Lx(he,Ee){return _i(Ee,function(_e){return he[_e]})}function df(he,Ee){return he.has(Ee)}function XR(he,Ee){for(var _e=-1,dt=he.length;++_e<dt&&$d(Ee,he[_e],0)>-1;);return _e}function KR(he,Ee){for(var _e=he.length;_e--&&$d(Ee,he[_e],0)>-1;);return _e}function dK(he,Ee){for(var _e=he.length,dt=0;_e--;)he[_e]===Ee&&++dt;return dt}var uK=Ox(Y9),hK=Ox(X9);function fK(he){return"\\"+Z9[he]}function mK(he,Ee){return he==null?r:he[Ee]}function Yd(he){return G9.test(he)}function pK(he){return W9.test(he)}function gK(he){for(var Ee,_e=[];!(Ee=he.next()).done;)_e.push(Ee.value);return _e}function Fx(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(dt,jt){_e[++Ee]=[jt,dt]}),_e}function ZR(he,Ee){return function(_e){return he(Ee(_e))}}function cl(he,Ee){for(var _e=-1,dt=he.length,jt=0,Fr=[];++_e<dt;){var Ji=he[_e];(Ji===Ee||Ji===l)&&(he[_e]=l,Fr[jt++]=_e)}return Fr}function Ig(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(dt){_e[++Ee]=dt}),_e}function vK(he){var Ee=-1,_e=Array(he.size);return he.forEach(function(dt){_e[++Ee]=[dt,dt]}),_e}function yK(he,Ee,_e){for(var dt=_e-1,jt=he.length;++dt<jt;)if(he[dt]===Ee)return dt;return-1}function bK(he,Ee,_e){for(var dt=_e+1;dt--;)if(he[dt]===Ee)return dt;return dt}function Xd(he){return Yd(he)?xK(he):nK(he)}function vo(he){return Yd(he)?wK(he):aK(he)}function QR(he){for(var Ee=he.length;Ee--&&or.test(he.charAt(Ee)););return Ee}var _K=Ox(K9);function xK(he){for(var Ee=Sx.lastIndex=0;Sx.test(he);)++Ee;return Ee}function wK(he){return he.match(Sx)||[]}function CK(he){return he.match(H9)||[]}var EK=function he(Ee){Ee=Ee==null?hn:dl.defaults(hn.Object(),Ee,dl.pick(hn,j9));var _e=Ee.Array,dt=Ee.Date,jt=Ee.Error,Fr=Ee.Function,Ji=Ee.Math,ti=Ee.Object,Nx=Ee.RegExp,SK=Ee.String,Ua=Ee.TypeError,Og=_e.prototype,MK=Fr.prototype,Kd=ti.prototype,kg=Ee["__core-js_shared__"],Pg=MK.toString,Xr=Kd.hasOwnProperty,DK=0,JR=function(){var h=/[^.]+$/.exec(kg&&kg.keys&&kg.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Lg=Kd.toString,TK=Pg.call(ti),AK=hn._,RK=Nx("^"+Pg.call(Xr).replace(ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fg=FR?Ee.Buffer:r,ul=Ee.Symbol,Ng=Ee.Uint8Array,eI=Fg?Fg.allocUnsafe:r,Bg=ZR(ti.getPrototypeOf,ti),tI=ti.create,rI=Kd.propertyIsEnumerable,Vg=Og.splice,iI=ul?ul.isConcatSpreadable:r,uf=ul?ul.iterator:r,Sc=ul?ul.toStringTag:r,zg=function(){try{var h=Rc(ti,"defineProperty");return h({},"",{}),h}catch{}}(),IK=Ee.clearTimeout!==hn.clearTimeout&&Ee.clearTimeout,OK=dt&&dt.now!==hn.Date.now&&dt.now,kK=Ee.setTimeout!==hn.setTimeout&&Ee.setTimeout,qg=Ji.ceil,Ug=Ji.floor,Bx=ti.getOwnPropertySymbols,PK=Fg?Fg.isBuffer:r,nI=Ee.isFinite,LK=Og.join,FK=ZR(ti.keys,ti),en=Ji.max,kn=Ji.min,NK=dt.now,BK=Ee.parseInt,aI=Ji.random,VK=Og.reverse,Vx=Rc(Ee,"DataView"),hf=Rc(Ee,"Map"),zx=Rc(Ee,"Promise"),Zd=Rc(Ee,"Set"),ff=Rc(Ee,"WeakMap"),mf=Rc(ti,"create"),Hg=ff&&new ff,Qd={},zK=Ic(Vx),qK=Ic(hf),UK=Ic(zx),HK=Ic(Zd),GK=Ic(ff),Gg=ul?ul.prototype:r,pf=Gg?Gg.valueOf:r,oI=Gg?Gg.toString:r;function q(h){if(Ri(h)&&!Qt(h)&&!(h instanceof Er)){if(h instanceof Ha)return h;if(Xr.call(h,"__wrapped__"))return sO(h)}return new Ha(h)}var Jd=function(){function h(){}return function(p){if(!Si(p))return{};if(tI)return tI(p);h.prototype=p;var x=new h;return h.prototype=r,x}}();function Wg(){}function Ha(h,p){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=r}q.templateSettings={escape:Ut,evaluate:st,interpolate:Ye,variable:"",imports:{_:q}},q.prototype=Wg.prototype,q.prototype.constructor=q,Ha.prototype=Jd(Wg.prototype),Ha.prototype.constructor=Ha;function Er(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function WK(){var h=new Er(this.__wrapped__);return h.__actions__=na(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=na(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=na(this.__views__),h}function jK(){if(this.__filtered__){var h=new Er(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function $K(){var h=this.__wrapped__.value(),p=this.__dir__,x=Qt(h),M=p<0,N=x?h.length:0,H=aZ(0,N,this.__views__),J=H.start,ie=H.end,fe=ie-J,Ae=M?ie:J-1,Ie=this.__iteratees__,Le=Ie.length,et=0,yt=kn(fe,this.__takeCount__);if(!x||!M&&N==fe&&yt==fe)return RI(h,this.__actions__);var Pt=[];e:for(;fe--&&et<yt;){Ae+=p;for(var cr=-1,Lt=h[Ae];++cr<Le;){var wr=Ie[cr],Mr=wr.iteratee,xa=wr.type,Yn=Mr(Lt);if(xa==A)Lt=Yn;else if(!Yn){if(xa==C)continue e;break e}}Pt[et++]=Lt}return Pt}Er.prototype=Jd(Wg.prototype),Er.prototype.constructor=Er;function Mc(h){var p=-1,x=h==null?0:h.length;for(this.clear();++p<x;){var M=h[p];this.set(M[0],M[1])}}function YK(){this.__data__=mf?mf(null):{},this.size=0}function XK(h){var p=this.has(h)&&delete this.__data__[h];return this.size-=p?1:0,p}function KK(h){var p=this.__data__;if(mf){var x=p[h];return x===o?r:x}return Xr.call(p,h)?p[h]:r}function ZK(h){var p=this.__data__;return mf?p[h]!==r:Xr.call(p,h)}function QK(h,p){var x=this.__data__;return this.size+=this.has(h)?0:1,x[h]=mf&&p===r?o:p,this}Mc.prototype.clear=YK,Mc.prototype.delete=XK,Mc.prototype.get=KK,Mc.prototype.has=ZK,Mc.prototype.set=QK;function vs(h){var p=-1,x=h==null?0:h.length;for(this.clear();++p<x;){var M=h[p];this.set(M[0],M[1])}}function JK(){this.__data__=[],this.size=0}function e7(h){var p=this.__data__,x=jg(p,h);if(x<0)return!1;var M=p.length-1;return x==M?p.pop():Vg.call(p,x,1),--this.size,!0}function t7(h){var p=this.__data__,x=jg(p,h);return x<0?r:p[x][1]}function r7(h){return jg(this.__data__,h)>-1}function i7(h,p){var x=this.__data__,M=jg(x,h);return M<0?(++this.size,x.push([h,p])):x[M][1]=p,this}vs.prototype.clear=JK,vs.prototype.delete=e7,vs.prototype.get=t7,vs.prototype.has=r7,vs.prototype.set=i7;function ys(h){var p=-1,x=h==null?0:h.length;for(this.clear();++p<x;){var M=h[p];this.set(M[0],M[1])}}function n7(){this.size=0,this.__data__={hash:new Mc,map:new(hf||vs),string:new Mc}}function a7(h){var p=nv(this,h).delete(h);return this.size-=p?1:0,p}function o7(h){return nv(this,h).get(h)}function s7(h){return nv(this,h).has(h)}function l7(h,p){var x=nv(this,h),M=x.size;return x.set(h,p),this.size+=x.size==M?0:1,this}ys.prototype.clear=n7,ys.prototype.delete=a7,ys.prototype.get=o7,ys.prototype.has=s7,ys.prototype.set=l7;function Dc(h){var p=-1,x=h==null?0:h.length;for(this.__data__=new ys;++p<x;)this.add(h[p])}function c7(h){return this.__data__.set(h,o),this}function d7(h){return this.__data__.has(h)}Dc.prototype.add=Dc.prototype.push=c7,Dc.prototype.has=d7;function yo(h){var p=this.__data__=new vs(h);this.size=p.size}function u7(){this.__data__=new vs,this.size=0}function h7(h){var p=this.__data__,x=p.delete(h);return this.size=p.size,x}function f7(h){return this.__data__.get(h)}function m7(h){return this.__data__.has(h)}function p7(h,p){var x=this.__data__;if(x instanceof vs){var M=x.__data__;if(!hf||M.length<e-1)return M.push([h,p]),this.size=++x.size,this;x=this.__data__=new ys(M)}return x.set(h,p),this.size=x.size,this}yo.prototype.clear=u7,yo.prototype.delete=h7,yo.prototype.get=f7,yo.prototype.has=m7,yo.prototype.set=p7;function sI(h,p){var x=Qt(h),M=!x&&Oc(h),N=!x&&!M&&gl(h),H=!x&&!M&&!N&&iu(h),J=x||M||N||H,ie=J?Px(h.length,SK):[],fe=ie.length;for(var Ae in h)(p||Xr.call(h,Ae))&&!(J&&(Ae=="length"||N&&(Ae=="offset"||Ae=="parent")||H&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||ws(Ae,fe)))&&ie.push(Ae);return ie}function lI(h){var p=h.length;return p?h[Zx(0,p-1)]:r}function g7(h,p){return av(na(h),Tc(p,0,h.length))}function v7(h){return av(na(h))}function qx(h,p,x){(x!==r&&!bo(h[p],x)||x===r&&!(p in h))&&bs(h,p,x)}function gf(h,p,x){var M=h[p];(!(Xr.call(h,p)&&bo(M,x))||x===r&&!(p in h))&&bs(h,p,x)}function jg(h,p){for(var x=h.length;x--;)if(bo(h[x][0],p))return x;return-1}function y7(h,p,x,M){return hl(h,function(N,H,J){p(M,N,x(N),J)}),M}function cI(h,p){return h&&jo(p,fn(p),h)}function b7(h,p){return h&&jo(p,oa(p),h)}function bs(h,p,x){p=="__proto__"&&zg?zg(h,p,{configurable:!0,enumerable:!0,value:x,writable:!0}):h[p]=x}function Ux(h,p){for(var x=-1,M=p.length,N=_e(M),H=h==null;++x<M;)N[x]=H?r:ww(h,p[x]);return N}function Tc(h,p,x){return h===h&&(x!==r&&(h=h<=x?h:x),p!==r&&(h=h>=p?h:p)),h}function Ga(h,p,x,M,N,H){var J,ie=p&c,fe=p&d,Ae=p&u;if(x&&(J=N?x(h,M,N,H):x(h)),J!==r)return J;if(!Si(h))return h;var Ie=Qt(h);if(Ie){if(J=sZ(h),!ie)return na(h,J)}else{var Le=Pn(h),et=Le==Z||Le==ce;if(gl(h))return kI(h,ie);if(Le==at||Le==oe||et&&!N){if(J=fe||et?{}:QI(h),!ie)return fe?K7(h,b7(J,h)):X7(h,cI(J,h))}else{if(!ai[Le])return N?h:{};J=lZ(h,Le,ie)}}H||(H=new yo);var yt=H.get(h);if(yt)return yt;H.set(h,J),DO(h)?h.forEach(function(Lt){J.add(Ga(Lt,p,x,Lt,h,H))}):SO(h)&&h.forEach(function(Lt,wr){J.set(wr,Ga(Lt,p,x,wr,h,H))});var Pt=Ae?fe?lw:sw:fe?oa:fn,cr=Ie?r:Pt(h);return qa(cr||h,function(Lt,wr){cr&&(wr=Lt,Lt=h[wr]),gf(J,wr,Ga(Lt,p,x,wr,h,H))}),J}function _7(h){var p=fn(h);return function(x){return dI(x,h,p)}}function dI(h,p,x){var M=x.length;if(h==null)return!M;for(h=ti(h);M--;){var N=x[M],H=p[N],J=h[N];if(J===r&&!(N in h)||!H(J))return!1}return!0}function uI(h,p,x){if(typeof h!="function")throw new Ua(n);return Cf(function(){h.apply(r,x)},p)}function vf(h,p,x,M){var N=-1,H=Ag,J=!0,ie=h.length,fe=[],Ae=p.length;if(!ie)return fe;x&&(p=_i(p,ya(x))),M?(H=Tx,J=!1):p.length>=e&&(H=df,J=!1,p=new Dc(p));e:for(;++N<ie;){var Ie=h[N],Le=x==null?Ie:x(Ie);if(Ie=M||Ie!==0?Ie:0,J&&Le===Le){for(var et=Ae;et--;)if(p[et]===Le)continue e;fe.push(Ie)}else H(p,Le,M)||fe.push(Ie)}return fe}var hl=BI(Wo),hI=BI(Gx,!0);function x7(h,p){var x=!0;return hl(h,function(M,N,H){return x=!!p(M,N,H),x}),x}function $g(h,p,x){for(var M=-1,N=h.length;++M<N;){var H=h[M],J=p(H);if(J!=null&&(ie===r?J===J&&!_a(J):x(J,ie)))var ie=J,fe=H}return fe}function w7(h,p,x,M){var N=h.length;for(x=sr(x),x<0&&(x=-x>N?0:N+x),M=M===r||M>N?N:sr(M),M<0&&(M+=N),M=x>M?0:AO(M);x<M;)h[x++]=p;return h}function fI(h,p){var x=[];return hl(h,function(M,N,H){p(M,N,H)&&x.push(M)}),x}function Cn(h,p,x,M,N){var H=-1,J=h.length;for(x||(x=dZ),N||(N=[]);++H<J;){var ie=h[H];p>0&&x(ie)?p>1?Cn(ie,p-1,x,M,N):ll(N,ie):M||(N[N.length]=ie)}return N}var Hx=VI(),mI=VI(!0);function Wo(h,p){return h&&Hx(h,p,fn)}function Gx(h,p){return h&&mI(h,p,fn)}function Yg(h,p){return sl(p,function(x){return Cs(h[x])})}function Ac(h,p){p=ml(p,h);for(var x=0,M=p.length;h!=null&&x<M;)h=h[$o(p[x++])];return x&&x==M?h:r}function pI(h,p,x){var M=p(h);return Qt(h)?M:ll(M,x(h))}function jn(h){return h==null?h===r?Ge:be:Sc&&Sc in ti(h)?nZ(h):vZ(h)}function Wx(h,p){return h>p}function C7(h,p){return h!=null&&Xr.call(h,p)}function E7(h,p){return h!=null&&p in ti(h)}function S7(h,p,x){return h>=kn(p,x)&&h<en(p,x)}function jx(h,p,x){for(var M=x?Tx:Ag,N=h[0].length,H=h.length,J=H,ie=_e(H),fe=1/0,Ae=[];J--;){var Ie=h[J];J&&p&&(Ie=_i(Ie,ya(p))),fe=kn(Ie.length,fe),ie[J]=!x&&(p||N>=120&&Ie.length>=120)?new Dc(J&&Ie):r}Ie=h[0];var Le=-1,et=ie[0];e:for(;++Le<N&&Ae.length<fe;){var yt=Ie[Le],Pt=p?p(yt):yt;if(yt=x||yt!==0?yt:0,!(et?df(et,Pt):M(Ae,Pt,x))){for(J=H;--J;){var cr=ie[J];if(!(cr?df(cr,Pt):M(h[J],Pt,x)))continue e}et&&et.push(Pt),Ae.push(yt)}}return Ae}function M7(h,p,x,M){return Wo(h,function(N,H,J){p(M,x(N),H,J)}),M}function yf(h,p,x){p=ml(p,h),h=rO(h,p);var M=h==null?h:h[$o(ja(p))];return M==null?r:va(M,h,x)}function gI(h){return Ri(h)&&jn(h)==oe}function D7(h){return Ri(h)&&jn(h)==ct}function T7(h){return Ri(h)&&jn(h)==Q}function bf(h,p,x,M,N){return h===p?!0:h==null||p==null||!Ri(h)&&!Ri(p)?h!==h&&p!==p:A7(h,p,x,M,bf,N)}function A7(h,p,x,M,N,H){var J=Qt(h),ie=Qt(p),fe=J?te:Pn(h),Ae=ie?te:Pn(p);fe=fe==oe?at:fe,Ae=Ae==oe?at:Ae;var Ie=fe==at,Le=Ae==at,et=fe==Ae;if(et&&gl(h)){if(!gl(p))return!1;J=!0,Ie=!1}if(et&&!Ie)return H||(H=new yo),J||iu(h)?XI(h,p,x,M,N,H):rZ(h,p,fe,x,M,N,H);if(!(x&f)){var yt=Ie&&Xr.call(h,"__wrapped__"),Pt=Le&&Xr.call(p,"__wrapped__");if(yt||Pt){var cr=yt?h.value():h,Lt=Pt?p.value():p;return H||(H=new yo),N(cr,Lt,x,M,H)}}return et?(H||(H=new yo),iZ(h,p,x,M,N,H)):!1}function R7(h){return Ri(h)&&Pn(h)==ye}function $x(h,p,x,M){var N=x.length,H=N,J=!M;if(h==null)return!H;for(h=ti(h);N--;){var ie=x[N];if(J&&ie[2]?ie[1]!==h[ie[0]]:!(ie[0]in h))return!1}for(;++N<H;){ie=x[N];var fe=ie[0],Ae=h[fe],Ie=ie[1];if(J&&ie[2]){if(Ae===r&&!(fe in h))return!1}else{var Le=new yo;if(M)var et=M(Ae,Ie,fe,h,p,Le);if(!(et===r?bf(Ie,Ae,f|m,M,Le):et))return!1}}return!0}function vI(h){if(!Si(h)||hZ(h))return!1;var p=Cs(h)?RK:nl;return p.test(Ic(h))}function I7(h){return Ri(h)&&jn(h)==xe}function O7(h){return Ri(h)&&Pn(h)==Me}function k7(h){return Ri(h)&&uv(h.length)&&!!pi[jn(h)]}function yI(h){return typeof h=="function"?h:h==null?sa:typeof h=="object"?Qt(h)?xI(h[0],h[1]):_I(h):zO(h)}function Yx(h){if(!wf(h))return FK(h);var p=[];for(var x in ti(h))Xr.call(h,x)&&x!="constructor"&&p.push(x);return p}function P7(h){if(!Si(h))return gZ(h);var p=wf(h),x=[];for(var M in h)M=="constructor"&&(p||!Xr.call(h,M))||x.push(M);return x}function Xx(h,p){return h<p}function bI(h,p){var x=-1,M=aa(h)?_e(h.length):[];return hl(h,function(N,H,J){M[++x]=p(N,H,J)}),M}function _I(h){var p=dw(h);return p.length==1&&p[0][2]?eO(p[0][0],p[0][1]):function(x){return x===h||$x(x,h,p)}}function xI(h,p){return hw(h)&&JI(p)?eO($o(h),p):function(x){var M=ww(x,h);return M===r&&M===p?Cw(x,h):bf(p,M,f|m)}}function Xg(h,p,x,M,N){h!==p&&Hx(p,function(H,J){if(N||(N=new yo),Si(H))L7(h,p,J,x,Xg,M,N);else{var ie=M?M(mw(h,J),H,J+"",h,p,N):r;ie===r&&(ie=H),qx(h,J,ie)}},oa)}function L7(h,p,x,M,N,H,J){var ie=mw(h,x),fe=mw(p,x),Ae=J.get(fe);if(Ae){qx(h,x,Ae);return}var Ie=H?H(ie,fe,x+"",h,p,J):r,Le=Ie===r;if(Le){var et=Qt(fe),yt=!et&&gl(fe),Pt=!et&&!yt&&iu(fe);Ie=fe,et||yt||Pt?Qt(ie)?Ie=ie:Bi(ie)?Ie=na(ie):yt?(Le=!1,Ie=kI(fe,!0)):Pt?(Le=!1,Ie=PI(fe,!0)):Ie=[]:Ef(fe)||Oc(fe)?(Ie=ie,Oc(ie)?Ie=RO(ie):(!Si(ie)||Cs(ie))&&(Ie=QI(fe))):Le=!1}Le&&(J.set(fe,Ie),N(Ie,fe,M,H,J),J.delete(fe)),qx(h,x,Ie)}function wI(h,p){var x=h.length;if(x)return p+=p<0?x:0,ws(p,x)?h[p]:r}function CI(h,p,x){p.length?p=_i(p,function(H){return Qt(H)?function(J){return Ac(J,H.length===1?H[0]:H)}:H}):p=[sa];var M=-1;p=_i(p,ya(kt()));var N=bI(h,function(H,J,ie){var fe=_i(p,function(Ae){return Ae(H)});return{criteria:fe,index:++M,value:H}});return lK(N,function(H,J){return Y7(H,J,x)})}function F7(h,p){return EI(h,p,function(x,M){return Cw(h,M)})}function EI(h,p,x){for(var M=-1,N=p.length,H={};++M<N;){var J=p[M],ie=Ac(h,J);x(ie,J)&&_f(H,ml(J,h),ie)}return H}function N7(h){return function(p){return Ac(p,h)}}function Kx(h,p,x,M){var N=M?sK:$d,H=-1,J=p.length,ie=h;for(h===p&&(p=na(p)),x&&(ie=_i(h,ya(x)));++H<J;)for(var fe=0,Ae=p[H],Ie=x?x(Ae):Ae;(fe=N(ie,Ie,fe,M))>-1;)ie!==h&&Vg.call(ie,fe,1),Vg.call(h,fe,1);return h}function SI(h,p){for(var x=h?p.length:0,M=x-1;x--;){var N=p[x];if(x==M||N!==H){var H=N;ws(N)?Vg.call(h,N,1):ew(h,N)}}return h}function Zx(h,p){return h+Ug(aI()*(p-h+1))}function B7(h,p,x,M){for(var N=-1,H=en(qg((p-h)/(x||1)),0),J=_e(H);H--;)J[M?H:++N]=h,h+=x;return J}function Qx(h,p){var x="";if(!h||p<1||p>I)return x;do p%2&&(x+=h),p=Ug(p/2),p&&(h+=h);while(p);return x}function ur(h,p){return pw(tO(h,p,sa),h+"")}function V7(h){return lI(nu(h))}function z7(h,p){var x=nu(h);return av(x,Tc(p,0,x.length))}function _f(h,p,x,M){if(!Si(h))return h;p=ml(p,h);for(var N=-1,H=p.length,J=H-1,ie=h;ie!=null&&++N<H;){var fe=$o(p[N]),Ae=x;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return h;if(N!=J){var Ie=ie[fe];Ae=M?M(Ie,fe,ie):r,Ae===r&&(Ae=Si(Ie)?Ie:ws(p[N+1])?[]:{})}gf(ie,fe,Ae),ie=ie[fe]}return h}var MI=Hg?function(h,p){return Hg.set(h,p),h}:sa,q7=zg?function(h,p){return zg(h,"toString",{configurable:!0,enumerable:!1,value:Sw(p),writable:!0})}:sa;function U7(h){return av(nu(h))}function Wa(h,p,x){var M=-1,N=h.length;p<0&&(p=-p>N?0:N+p),x=x>N?N:x,x<0&&(x+=N),N=p>x?0:x-p>>>0,p>>>=0;for(var H=_e(N);++M<N;)H[M]=h[M+p];return H}function H7(h,p){var x;return hl(h,function(M,N,H){return x=p(M,N,H),!x}),!!x}function Kg(h,p,x){var M=0,N=h==null?M:h.length;if(typeof p=="number"&&p===p&&N<=G){for(;M<N;){var H=M+N>>>1,J=h[H];J!==null&&!_a(J)&&(x?J<=p:J<p)?M=H+1:N=H}return N}return Jx(h,p,sa,x)}function Jx(h,p,x,M){var N=0,H=h==null?0:h.length;if(H===0)return 0;p=x(p);for(var J=p!==p,ie=p===null,fe=_a(p),Ae=p===r;N<H;){var Ie=Ug((N+H)/2),Le=x(h[Ie]),et=Le!==r,yt=Le===null,Pt=Le===Le,cr=_a(Le);if(J)var Lt=M||Pt;else Ae?Lt=Pt&&(M||et):ie?Lt=Pt&&et&&(M||!yt):fe?Lt=Pt&&et&&!yt&&(M||!cr):yt||cr?Lt=!1:Lt=M?Le<=p:Le<p;Lt?N=Ie+1:H=Ie}return kn(H,$)}function DI(h,p){for(var x=-1,M=h.length,N=0,H=[];++x<M;){var J=h[x],ie=p?p(J):J;if(!x||!bo(ie,fe)){var fe=ie;H[N++]=J===0?0:J}}return H}function TI(h){return typeof h=="number"?h:_a(h)?z:+h}function ba(h){if(typeof h=="string")return h;if(Qt(h))return _i(h,ba)+"";if(_a(h))return oI?oI.call(h):"";var p=h+"";return p=="0"&&1/h==-k?"-0":p}function fl(h,p,x){var M=-1,N=Ag,H=h.length,J=!0,ie=[],fe=ie;if(x)J=!1,N=Tx;else if(H>=e){var Ae=p?null:eZ(h);if(Ae)return Ig(Ae);J=!1,N=df,fe=new Dc}else fe=p?[]:ie;e:for(;++M<H;){var Ie=h[M],Le=p?p(Ie):Ie;if(Ie=x||Ie!==0?Ie:0,J&&Le===Le){for(var et=fe.length;et--;)if(fe[et]===Le)continue e;p&&fe.push(Le),ie.push(Ie)}else N(fe,Le,x)||(fe!==ie&&fe.push(Le),ie.push(Ie))}return ie}function ew(h,p){return p=ml(p,h),h=rO(h,p),h==null||delete h[$o(ja(p))]}function AI(h,p,x,M){return _f(h,p,x(Ac(h,p)),M)}function Zg(h,p,x,M){for(var N=h.length,H=M?N:-1;(M?H--:++H<N)&&p(h[H],H,h););return x?Wa(h,M?0:H,M?H+1:N):Wa(h,M?H+1:0,M?N:H)}function RI(h,p){var x=h;return x instanceof Er&&(x=x.value()),Ax(p,function(M,N){return N.func.apply(N.thisArg,ll([M],N.args))},x)}function tw(h,p,x){var M=h.length;if(M<2)return M?fl(h[0]):[];for(var N=-1,H=_e(M);++N<M;)for(var J=h[N],ie=-1;++ie<M;)ie!=N&&(H[N]=vf(H[N]||J,h[ie],p,x));return fl(Cn(H,1),p,x)}function II(h,p,x){for(var M=-1,N=h.length,H=p.length,J={};++M<N;){var ie=M<H?p[M]:r;x(J,h[M],ie)}return J}function rw(h){return Bi(h)?h:[]}function iw(h){return typeof h=="function"?h:sa}function ml(h,p){return Qt(h)?h:hw(h,p)?[h]:oO(qr(h))}var G7=ur;function pl(h,p,x){var M=h.length;return x=x===r?M:x,!p&&x>=M?h:Wa(h,p,x)}var OI=IK||function(h){return hn.clearTimeout(h)};function kI(h,p){if(p)return h.slice();var x=h.length,M=eI?eI(x):new h.constructor(x);return h.copy(M),M}function nw(h){var p=new h.constructor(h.byteLength);return new Ng(p).set(new Ng(h)),p}function W7(h,p){var x=p?nw(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.byteLength)}function j7(h){var p=new h.constructor(h.source,Na.exec(h));return p.lastIndex=h.lastIndex,p}function $7(h){return pf?ti(pf.call(h)):{}}function PI(h,p){var x=p?nw(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.length)}function LI(h,p){if(h!==p){var x=h!==r,M=h===null,N=h===h,H=_a(h),J=p!==r,ie=p===null,fe=p===p,Ae=_a(p);if(!ie&&!Ae&&!H&&h>p||H&&J&&fe&&!ie&&!Ae||M&&J&&fe||!x&&fe||!N)return 1;if(!M&&!H&&!Ae&&h<p||Ae&&x&&N&&!M&&!H||ie&&x&&N||!J&&N||!fe)return-1}return 0}function Y7(h,p,x){for(var M=-1,N=h.criteria,H=p.criteria,J=N.length,ie=x.length;++M<J;){var fe=LI(N[M],H[M]);if(fe){if(M>=ie)return fe;var Ae=x[M];return fe*(Ae=="desc"?-1:1)}}return h.index-p.index}function FI(h,p,x,M){for(var N=-1,H=h.length,J=x.length,ie=-1,fe=p.length,Ae=en(H-J,0),Ie=_e(fe+Ae),Le=!M;++ie<fe;)Ie[ie]=p[ie];for(;++N<J;)(Le||N<H)&&(Ie[x[N]]=h[N]);for(;Ae--;)Ie[ie++]=h[N++];return Ie}function NI(h,p,x,M){for(var N=-1,H=h.length,J=-1,ie=x.length,fe=-1,Ae=p.length,Ie=en(H-ie,0),Le=_e(Ie+Ae),et=!M;++N<Ie;)Le[N]=h[N];for(var yt=N;++fe<Ae;)Le[yt+fe]=p[fe];for(;++J<ie;)(et||N<H)&&(Le[yt+x[J]]=h[N++]);return Le}function na(h,p){var x=-1,M=h.length;for(p||(p=_e(M));++x<M;)p[x]=h[x];return p}function jo(h,p,x,M){var N=!x;x||(x={});for(var H=-1,J=p.length;++H<J;){var ie=p[H],fe=M?M(x[ie],h[ie],ie,x,h):r;fe===r&&(fe=h[ie]),N?bs(x,ie,fe):gf(x,ie,fe)}return x}function X7(h,p){return jo(h,uw(h),p)}function K7(h,p){return jo(h,KI(h),p)}function Qg(h,p){return function(x,M){var N=Qt(x)?tK:y7,H=p?p():{};return N(x,h,kt(M,2),H)}}function eu(h){return ur(function(p,x){var M=-1,N=x.length,H=N>1?x[N-1]:r,J=N>2?x[2]:r;for(H=h.length>3&&typeof H=="function"?(N--,H):r,J&&$n(x[0],x[1],J)&&(H=N<3?r:H,N=1),p=ti(p);++M<N;){var ie=x[M];ie&&h(p,ie,M,H)}return p})}function BI(h,p){return function(x,M){if(x==null)return x;if(!aa(x))return h(x,M);for(var N=x.length,H=p?N:-1,J=ti(x);(p?H--:++H<N)&&M(J[H],H,J)!==!1;);return x}}function VI(h){return function(p,x,M){for(var N=-1,H=ti(p),J=M(p),ie=J.length;ie--;){var fe=J[h?ie:++N];if(x(H[fe],fe,H)===!1)break}return p}}function Z7(h,p,x){var M=p&g,N=xf(h);function H(){var J=this&&this!==hn&&this instanceof H?N:h;return J.apply(M?x:this,arguments)}return H}function zI(h){return function(p){p=qr(p);var x=Yd(p)?vo(p):r,M=x?x[0]:p.charAt(0),N=x?pl(x,1).join(""):p.slice(1);return M[h]()+N}}function tu(h){return function(p){return Ax(BO(NO(p).replace(q9,"")),h,"")}}function xf(h){return function(){var p=arguments;switch(p.length){case 0:return new h;case 1:return new h(p[0]);case 2:return new h(p[0],p[1]);case 3:return new h(p[0],p[1],p[2]);case 4:return new h(p[0],p[1],p[2],p[3]);case 5:return new h(p[0],p[1],p[2],p[3],p[4]);case 6:return new h(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new h(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var x=Jd(h.prototype),M=h.apply(x,p);return Si(M)?M:x}}function Q7(h,p,x){var M=xf(h);function N(){for(var H=arguments.length,J=_e(H),ie=H,fe=ru(N);ie--;)J[ie]=arguments[ie];var Ae=H<3&&J[0]!==fe&&J[H-1]!==fe?[]:cl(J,fe);if(H-=Ae.length,H<x)return WI(h,p,Jg,N.placeholder,r,J,Ae,r,r,x-H);var Ie=this&&this!==hn&&this instanceof N?M:h;return va(Ie,this,J)}return N}function qI(h){return function(p,x,M){var N=ti(p);if(!aa(p)){var H=kt(x,3);p=fn(p),x=function(ie){return H(N[ie],ie,N)}}var J=h(p,x,M);return J>-1?N[H?p[J]:J]:r}}function UI(h){return xs(function(p){var x=p.length,M=x,N=Ha.prototype.thru;for(h&&p.reverse();M--;){var H=p[M];if(typeof H!="function")throw new Ua(n);if(N&&!J&&iv(H)=="wrapper")var J=new Ha([],!0)}for(M=J?M:x;++M<x;){H=p[M];var ie=iv(H),fe=ie=="wrapper"?cw(H):r;fe&&fw(fe[0])&&fe[1]==(S|b|w|D)&&!fe[4].length&&fe[9]==1?J=J[iv(fe[0])].apply(J,fe[3]):J=H.length==1&&fw(H)?J[ie]():J.thru(H)}return function(){var Ae=arguments,Ie=Ae[0];if(J&&Ae.length==1&&Qt(Ie))return J.plant(Ie).value();for(var Le=0,et=x?p[Le].apply(this,Ae):Ie;++Le<x;)et=p[Le].call(this,et);return et}})}function Jg(h,p,x,M,N,H,J,ie,fe,Ae){var Ie=p&S,Le=p&g,et=p&v,yt=p&(b|_),Pt=p&T,cr=et?r:xf(h);function Lt(){for(var wr=arguments.length,Mr=_e(wr),xa=wr;xa--;)Mr[xa]=arguments[xa];if(yt)var Yn=ru(Lt),wa=dK(Mr,Yn);if(M&&(Mr=FI(Mr,M,N,yt)),H&&(Mr=NI(Mr,H,J,yt)),wr-=wa,yt&&wr<Ae){var Vi=cl(Mr,Yn);return WI(h,p,Jg,Lt.placeholder,x,Mr,Vi,ie,fe,Ae-wr)}var _o=Le?x:this,Ss=et?_o[h]:h;return wr=Mr.length,ie?Mr=yZ(Mr,ie):Pt&&wr>1&&Mr.reverse(),Ie&&fe<wr&&(Mr.length=fe),this&&this!==hn&&this instanceof Lt&&(Ss=cr||xf(Ss)),Ss.apply(_o,Mr)}return Lt}function HI(h,p){return function(x,M){return M7(x,h,p(M),{})}}function ev(h,p){return function(x,M){var N;if(x===r&&M===r)return p;if(x!==r&&(N=x),M!==r){if(N===r)return M;typeof x=="string"||typeof M=="string"?(x=ba(x),M=ba(M)):(x=TI(x),M=TI(M)),N=h(x,M)}return N}}function aw(h){return xs(function(p){return p=_i(p,ya(kt())),ur(function(x){var M=this;return h(p,function(N){return va(N,M,x)})})})}function tv(h,p){p=p===r?" ":ba(p);var x=p.length;if(x<2)return x?Qx(p,h):p;var M=Qx(p,qg(h/Xd(p)));return Yd(p)?pl(vo(M),0,h).join(""):M.slice(0,h)}function J7(h,p,x,M){var N=p&g,H=xf(h);function J(){for(var ie=-1,fe=arguments.length,Ae=-1,Ie=M.length,Le=_e(Ie+fe),et=this&&this!==hn&&this instanceof J?H:h;++Ae<Ie;)Le[Ae]=M[Ae];for(;fe--;)Le[Ae++]=arguments[++ie];return va(et,N?x:this,Le)}return J}function GI(h){return function(p,x,M){return M&&typeof M!="number"&&$n(p,x,M)&&(x=M=r),p=Es(p),x===r?(x=p,p=0):x=Es(x),M=M===r?p<x?1:-1:Es(M),B7(p,x,M,h)}}function rv(h){return function(p,x){return typeof p=="string"&&typeof x=="string"||(p=$a(p),x=$a(x)),h(p,x)}}function WI(h,p,x,M,N,H,J,ie,fe,Ae){var Ie=p&b,Le=Ie?J:r,et=Ie?r:J,yt=Ie?H:r,Pt=Ie?r:H;p|=Ie?w:E,p&=~(Ie?E:w),p&y||(p&=~(g|v));var cr=[h,p,N,yt,Le,Pt,et,ie,fe,Ae],Lt=x.apply(r,cr);return fw(h)&&iO(Lt,cr),Lt.placeholder=M,nO(Lt,h,p)}function ow(h){var p=Ji[h];return function(x,M){if(x=$a(x),M=M==null?0:kn(sr(M),292),M&&nI(x)){var N=(qr(x)+"e").split("e"),H=p(N[0]+"e"+(+N[1]+M));return N=(qr(H)+"e").split("e"),+(N[0]+"e"+(+N[1]-M))}return p(x)}}var eZ=Zd&&1/Ig(new Zd([,-0]))[1]==k?function(h){return new Zd(h)}:Tw;function jI(h){return function(p){var x=Pn(p);return x==ye?Fx(p):x==Me?vK(p):cK(p,h(p))}}function _s(h,p,x,M,N,H,J,ie){var fe=p&v;if(!fe&&typeof h!="function")throw new Ua(n);var Ae=M?M.length:0;if(Ae||(p&=~(w|E),M=N=r),J=J===r?J:en(sr(J),0),ie=ie===r?ie:sr(ie),Ae-=N?N.length:0,p&E){var Ie=M,Le=N;M=N=r}var et=fe?r:cw(h),yt=[h,p,x,M,N,Ie,Le,H,J,ie];if(et&&pZ(yt,et),h=yt[0],p=yt[1],x=yt[2],M=yt[3],N=yt[4],ie=yt[9]=yt[9]===r?fe?0:h.length:en(yt[9]-Ae,0),!ie&&p&(b|_)&&(p&=~(b|_)),!p||p==g)var Pt=Z7(h,p,x);else p==b||p==_?Pt=Q7(h,p,ie):(p==w||p==(g|w))&&!N.length?Pt=J7(h,p,x,M):Pt=Jg.apply(r,yt);var cr=et?MI:iO;return nO(cr(Pt,yt),h,p)}function $I(h,p,x,M){return h===r||bo(h,Kd[x])&&!Xr.call(M,x)?p:h}function YI(h,p,x,M,N,H){return Si(h)&&Si(p)&&(H.set(p,h),Xg(h,p,r,YI,H),H.delete(p)),h}function tZ(h){return Ef(h)?r:h}function XI(h,p,x,M,N,H){var J=x&f,ie=h.length,fe=p.length;if(ie!=fe&&!(J&&fe>ie))return!1;var Ae=H.get(h),Ie=H.get(p);if(Ae&&Ie)return Ae==p&&Ie==h;var Le=-1,et=!0,yt=x&m?new Dc:r;for(H.set(h,p),H.set(p,h);++Le<ie;){var Pt=h[Le],cr=p[Le];if(M)var Lt=J?M(cr,Pt,Le,p,h,H):M(Pt,cr,Le,h,p,H);if(Lt!==r){if(Lt)continue;et=!1;break}if(yt){if(!Rx(p,function(wr,Mr){if(!df(yt,Mr)&&(Pt===wr||N(Pt,wr,x,M,H)))return yt.push(Mr)})){et=!1;break}}else if(!(Pt===cr||N(Pt,cr,x,M,H))){et=!1;break}}return H.delete(h),H.delete(p),et}function rZ(h,p,x,M,N,H,J){switch(x){case Se:if(h.byteLength!=p.byteLength||h.byteOffset!=p.byteOffset)return!1;h=h.buffer,p=p.buffer;case ct:return!(h.byteLength!=p.byteLength||!H(new Ng(h),new Ng(p)));case re:case Q:case Te:return bo(+h,+p);case ee:return h.name==p.name&&h.message==p.message;case xe:case Ve:return h==p+"";case ye:var ie=Fx;case Me:var fe=M&f;if(ie||(ie=Ig),h.size!=p.size&&!fe)return!1;var Ae=J.get(h);if(Ae)return Ae==p;M|=m,J.set(h,p);var Ie=XI(ie(h),ie(p),M,N,H,J);return J.delete(h),Ie;case Ke:if(pf)return pf.call(h)==pf.call(p)}return!1}function iZ(h,p,x,M,N,H){var J=x&f,ie=sw(h),fe=ie.length,Ae=sw(p),Ie=Ae.length;if(fe!=Ie&&!J)return!1;for(var Le=fe;Le--;){var et=ie[Le];if(!(J?et in p:Xr.call(p,et)))return!1}var yt=H.get(h),Pt=H.get(p);if(yt&&Pt)return yt==p&&Pt==h;var cr=!0;H.set(h,p),H.set(p,h);for(var Lt=J;++Le<fe;){et=ie[Le];var wr=h[et],Mr=p[et];if(M)var xa=J?M(Mr,wr,et,p,h,H):M(wr,Mr,et,h,p,H);if(!(xa===r?wr===Mr||N(wr,Mr,x,M,H):xa)){cr=!1;break}Lt||(Lt=et=="constructor")}if(cr&&!Lt){var Yn=h.constructor,wa=p.constructor;Yn!=wa&&"constructor"in h&&"constructor"in p&&!(typeof Yn=="function"&&Yn instanceof Yn&&typeof wa=="function"&&wa instanceof wa)&&(cr=!1)}return H.delete(h),H.delete(p),cr}function xs(h){return pw(tO(h,r,dO),h+"")}function sw(h){return pI(h,fn,uw)}function lw(h){return pI(h,oa,KI)}var cw=Hg?function(h){return Hg.get(h)}:Tw;function iv(h){for(var p=h.name+"",x=Qd[p],M=Xr.call(Qd,p)?x.length:0;M--;){var N=x[M],H=N.func;if(H==null||H==h)return N.name}return p}function ru(h){var p=Xr.call(q,"placeholder")?q:h;return p.placeholder}function kt(){var h=q.iteratee||Mw;return h=h===Mw?yI:h,arguments.length?h(arguments[0],arguments[1]):h}function nv(h,p){var x=h.__data__;return uZ(p)?x[typeof p=="string"?"string":"hash"]:x.map}function dw(h){for(var p=fn(h),x=p.length;x--;){var M=p[x],N=h[M];p[x]=[M,N,JI(N)]}return p}function Rc(h,p){var x=mK(h,p);return vI(x)?x:r}function nZ(h){var p=Xr.call(h,Sc),x=h[Sc];try{h[Sc]=r;var M=!0}catch{}var N=Lg.call(h);return M&&(p?h[Sc]=x:delete h[Sc]),N}var uw=Bx?function(h){return h==null?[]:(h=ti(h),sl(Bx(h),function(p){return rI.call(h,p)}))}:Aw,KI=Bx?function(h){for(var p=[];h;)ll(p,uw(h)),h=Bg(h);return p}:Aw,Pn=jn;(Vx&&Pn(new Vx(new ArrayBuffer(1)))!=Se||hf&&Pn(new hf)!=ye||zx&&Pn(zx.resolve())!=wt||Zd&&Pn(new Zd)!=Me||ff&&Pn(new ff)!=We)&&(Pn=function(h){var p=jn(h),x=p==at?h.constructor:r,M=x?Ic(x):"";if(M)switch(M){case zK:return Se;case qK:return ye;case UK:return wt;case HK:return Me;case GK:return We}return p});function aZ(h,p,x){for(var M=-1,N=x.length;++M<N;){var H=x[M],J=H.size;switch(H.type){case"drop":h+=J;break;case"dropRight":p-=J;break;case"take":p=kn(p,h+J);break;case"takeRight":h=en(h,p-J);break}}return{start:h,end:p}}function oZ(h){var p=h.match(Ei);return p?p[1].split(rr):[]}function ZI(h,p,x){p=ml(p,h);for(var M=-1,N=p.length,H=!1;++M<N;){var J=$o(p[M]);if(!(H=h!=null&&x(h,J)))break;h=h[J]}return H||++M!=N?H:(N=h==null?0:h.length,!!N&&uv(N)&&ws(J,N)&&(Qt(h)||Oc(h)))}function sZ(h){var p=h.length,x=new h.constructor(p);return p&&typeof h[0]=="string"&&Xr.call(h,"index")&&(x.index=h.index,x.input=h.input),x}function QI(h){return typeof h.constructor=="function"&&!wf(h)?Jd(Bg(h)):{}}function lZ(h,p,x){var M=h.constructor;switch(p){case ct:return nw(h);case re:case Q:return new M(+h);case Se:return W7(h,x);case U:case de:case ve:case Y:case X:case me:case ne:case pe:case we:return PI(h,x);case ye:return new M;case Te:case Ve:return new M(h);case xe:return j7(h);case Me:return new M;case Ke:return $7(h)}}function cZ(h,p){var x=p.length;if(!x)return h;var M=x-1;return p[M]=(x>1?"& ":"")+p[M],p=p.join(x>2?", ":" "),h.replace(Ht,`{
/* [wrapped with `+p+`] */
`)}function dZ(h){return Qt(h)||Oc(h)||!!(iI&&h&&h[iI])}function ws(h,p){var x=typeof h;return p=p??I,!!p&&(x=="number"||x!="symbol"&&Uo.test(h))&&h>-1&&h%1==0&&h<p}function $n(h,p,x){if(!Si(x))return!1;var M=typeof p;return(M=="number"?aa(x)&&ws(p,x.length):M=="string"&&p in x)?bo(x[p],h):!1}function hw(h,p){if(Qt(h))return!1;var x=typeof h;return x=="number"||x=="symbol"||x=="boolean"||h==null||_a(h)?!0:tt.test(h)||!mt.test(h)||p!=null&&h in ti(p)}function uZ(h){var p=typeof h;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?h!=="__proto__":h===null}function fw(h){var p=iv(h),x=q[p];if(typeof x!="function"||!(p in Er.prototype))return!1;if(h===x)return!0;var M=cw(x);return!!M&&h===M[0]}function hZ(h){return!!JR&&JR in h}var fZ=kg?Cs:Rw;function wf(h){var p=h&&h.constructor,x=typeof p=="function"&&p.prototype||Kd;return h===x}function JI(h){return h===h&&!Si(h)}function eO(h,p){return function(x){return x==null?!1:x[h]===p&&(p!==r||h in ti(x))}}function mZ(h){var p=cv(h,function(M){return x.size===s&&x.clear(),M}),x=p.cache;return p}function pZ(h,p){var x=h[1],M=p[1],N=x|M,H=N<(g|v|S),J=M==S&&x==b||M==S&&x==D&&h[7].length<=p[8]||M==(S|D)&&p[7].length<=p[8]&&x==b;if(!(H||J))return h;M&g&&(h[2]=p[2],N|=x&g?0:y);var ie=p[3];if(ie){var fe=h[3];h[3]=fe?FI(fe,ie,p[4]):ie,h[4]=fe?cl(h[3],l):p[4]}return ie=p[5],ie&&(fe=h[5],h[5]=fe?NI(fe,ie,p[6]):ie,h[6]=fe?cl(h[5],l):p[6]),ie=p[7],ie&&(h[7]=ie),M&S&&(h[8]=h[8]==null?p[8]:kn(h[8],p[8])),h[9]==null&&(h[9]=p[9]),h[0]=p[0],h[1]=N,h}function gZ(h){var p=[];if(h!=null)for(var x in ti(h))p.push(x);return p}function vZ(h){return Lg.call(h)}function tO(h,p,x){return p=en(p===r?h.length-1:p,0),function(){for(var M=arguments,N=-1,H=en(M.length-p,0),J=_e(H);++N<H;)J[N]=M[p+N];N=-1;for(var ie=_e(p+1);++N<p;)ie[N]=M[N];return ie[p]=x(J),va(h,this,ie)}}function rO(h,p){return p.length<2?h:Ac(h,Wa(p,0,-1))}function yZ(h,p){for(var x=h.length,M=kn(p.length,x),N=na(h);M--;){var H=p[M];h[M]=ws(H,x)?N[H]:r}return h}function mw(h,p){if(!(p==="constructor"&&typeof h[p]=="function")&&p!="__proto__")return h[p]}var iO=aO(MI),Cf=kK||function(h,p){return hn.setTimeout(h,p)},pw=aO(q7);function nO(h,p,x){var M=p+"";return pw(h,cZ(M,bZ(oZ(M),x)))}function aO(h){var p=0,x=0;return function(){var M=NK(),N=L-(M-x);if(x=M,N>0){if(++p>=P)return arguments[0]}else p=0;return h.apply(r,arguments)}}function av(h,p){var x=-1,M=h.length,N=M-1;for(p=p===r?M:p;++x<p;){var H=Zx(x,N),J=h[H];h[H]=h[x],h[x]=J}return h.length=p,h}var oO=mZ(function(h){var p=[];return h.charCodeAt(0)===46&&p.push(""),h.replace(lt,function(x,M,N,H){p.push(N?H.replace(Vo,"$1"):M||x)}),p});function $o(h){if(typeof h=="string"||_a(h))return h;var p=h+"";return p=="0"&&1/h==-k?"-0":p}function Ic(h){if(h!=null){try{return Pg.call(h)}catch{}try{return h+""}catch{}}return""}function bZ(h,p){return qa(K,function(x){var M="_."+x[0];p&x[1]&&!Ag(h,M)&&h.push(M)}),h.sort()}function sO(h){if(h instanceof Er)return h.clone();var p=new Ha(h.__wrapped__,h.__chain__);return p.__actions__=na(h.__actions__),p.__index__=h.__index__,p.__values__=h.__values__,p}function _Z(h,p,x){(x?$n(h,p,x):p===r)?p=1:p=en(sr(p),0);var M=h==null?0:h.length;if(!M||p<1)return[];for(var N=0,H=0,J=_e(qg(M/p));N<M;)J[H++]=Wa(h,N,N+=p);return J}function xZ(h){for(var p=-1,x=h==null?0:h.length,M=0,N=[];++p<x;){var H=h[p];H&&(N[M++]=H)}return N}function wZ(){var h=arguments.length;if(!h)return[];for(var p=_e(h-1),x=arguments[0],M=h;M--;)p[M-1]=arguments[M];return ll(Qt(x)?na(x):[x],Cn(p,1))}var CZ=ur(function(h,p){return Bi(h)?vf(h,Cn(p,1,Bi,!0)):[]}),EZ=ur(function(h,p){var x=ja(p);return Bi(x)&&(x=r),Bi(h)?vf(h,Cn(p,1,Bi,!0),kt(x,2)):[]}),SZ=ur(function(h,p){var x=ja(p);return Bi(x)&&(x=r),Bi(h)?vf(h,Cn(p,1,Bi,!0),r,x):[]});function MZ(h,p,x){var M=h==null?0:h.length;return M?(p=x||p===r?1:sr(p),Wa(h,p<0?0:p,M)):[]}function DZ(h,p,x){var M=h==null?0:h.length;return M?(p=x||p===r?1:sr(p),p=M-p,Wa(h,0,p<0?0:p)):[]}function TZ(h,p){return h&&h.length?Zg(h,kt(p,3),!0,!0):[]}function AZ(h,p){return h&&h.length?Zg(h,kt(p,3),!0):[]}function RZ(h,p,x,M){var N=h==null?0:h.length;return N?(x&&typeof x!="number"&&$n(h,p,x)&&(x=0,M=N),w7(h,p,x,M)):[]}function lO(h,p,x){var M=h==null?0:h.length;if(!M)return-1;var N=x==null?0:sr(x);return N<0&&(N=en(M+N,0)),Rg(h,kt(p,3),N)}function cO(h,p,x){var M=h==null?0:h.length;if(!M)return-1;var N=M-1;return x!==r&&(N=sr(x),N=x<0?en(M+N,0):kn(N,M-1)),Rg(h,kt(p,3),N,!0)}function dO(h){var p=h==null?0:h.length;return p?Cn(h,1):[]}function IZ(h){var p=h==null?0:h.length;return p?Cn(h,k):[]}function OZ(h,p){var x=h==null?0:h.length;return x?(p=p===r?1:sr(p),Cn(h,p)):[]}function kZ(h){for(var p=-1,x=h==null?0:h.length,M={};++p<x;){var N=h[p];M[N[0]]=N[1]}return M}function uO(h){return h&&h.length?h[0]:r}function PZ(h,p,x){var M=h==null?0:h.length;if(!M)return-1;var N=x==null?0:sr(x);return N<0&&(N=en(M+N,0)),$d(h,p,N)}function LZ(h){var p=h==null?0:h.length;return p?Wa(h,0,-1):[]}var FZ=ur(function(h){var p=_i(h,rw);return p.length&&p[0]===h[0]?jx(p):[]}),NZ=ur(function(h){var p=ja(h),x=_i(h,rw);return p===ja(x)?p=r:x.pop(),x.length&&x[0]===h[0]?jx(x,kt(p,2)):[]}),BZ=ur(function(h){var p=ja(h),x=_i(h,rw);return p=typeof p=="function"?p:r,p&&x.pop(),x.length&&x[0]===h[0]?jx(x,r,p):[]});function VZ(h,p){return h==null?"":LK.call(h,p)}function ja(h){var p=h==null?0:h.length;return p?h[p-1]:r}function zZ(h,p,x){var M=h==null?0:h.length;if(!M)return-1;var N=M;return x!==r&&(N=sr(x),N=N<0?en(M+N,0):kn(N,M-1)),p===p?bK(h,p,N):Rg(h,WR,N,!0)}function qZ(h,p){return h&&h.length?wI(h,sr(p)):r}var UZ=ur(hO);function hO(h,p){return h&&h.length&&p&&p.length?Kx(h,p):h}function HZ(h,p,x){return h&&h.length&&p&&p.length?Kx(h,p,kt(x,2)):h}function GZ(h,p,x){return h&&h.length&&p&&p.length?Kx(h,p,r,x):h}var WZ=xs(function(h,p){var x=h==null?0:h.length,M=Ux(h,p);return SI(h,_i(p,function(N){return ws(N,x)?+N:N}).sort(LI)),M});function jZ(h,p){var x=[];if(!(h&&h.length))return x;var M=-1,N=[],H=h.length;for(p=kt(p,3);++M<H;){var J=h[M];p(J,M,h)&&(x.push(J),N.push(M))}return SI(h,N),x}function gw(h){return h==null?h:VK.call(h)}function $Z(h,p,x){var M=h==null?0:h.length;return M?(x&&typeof x!="number"&&$n(h,p,x)?(p=0,x=M):(p=p==null?0:sr(p),x=x===r?M:sr(x)),Wa(h,p,x)):[]}function YZ(h,p){return Kg(h,p)}function XZ(h,p,x){return Jx(h,p,kt(x,2))}function KZ(h,p){var x=h==null?0:h.length;if(x){var M=Kg(h,p);if(M<x&&bo(h[M],p))return M}return-1}function ZZ(h,p){return Kg(h,p,!0)}function QZ(h,p,x){return Jx(h,p,kt(x,2),!0)}function JZ(h,p){var x=h==null?0:h.length;if(x){var M=Kg(h,p,!0)-1;if(bo(h[M],p))return M}return-1}function eQ(h){return h&&h.length?DI(h):[]}function tQ(h,p){return h&&h.length?DI(h,kt(p,2)):[]}function rQ(h){var p=h==null?0:h.length;return p?Wa(h,1,p):[]}function iQ(h,p,x){return h&&h.length?(p=x||p===r?1:sr(p),Wa(h,0,p<0?0:p)):[]}function nQ(h,p,x){var M=h==null?0:h.length;return M?(p=x||p===r?1:sr(p),p=M-p,Wa(h,p<0?0:p,M)):[]}function aQ(h,p){return h&&h.length?Zg(h,kt(p,3),!1,!0):[]}function oQ(h,p){return h&&h.length?Zg(h,kt(p,3)):[]}var sQ=ur(function(h){return fl(Cn(h,1,Bi,!0))}),lQ=ur(function(h){var p=ja(h);return Bi(p)&&(p=r),fl(Cn(h,1,Bi,!0),kt(p,2))}),cQ=ur(function(h){var p=ja(h);return p=typeof p=="function"?p:r,fl(Cn(h,1,Bi,!0),r,p)});function dQ(h){return h&&h.length?fl(h):[]}function uQ(h,p){return h&&h.length?fl(h,kt(p,2)):[]}function hQ(h,p){return p=typeof p=="function"?p:r,h&&h.length?fl(h,r,p):[]}function vw(h){if(!(h&&h.length))return[];var p=0;return h=sl(h,function(x){if(Bi(x))return p=en(x.length,p),!0}),Px(p,function(x){return _i(h,Ix(x))})}function fO(h,p){if(!(h&&h.length))return[];var x=vw(h);return p==null?x:_i(x,function(M){return va(p,r,M)})}var fQ=ur(function(h,p){return Bi(h)?vf(h,p):[]}),mQ=ur(function(h){return tw(sl(h,Bi))}),pQ=ur(function(h){var p=ja(h);return Bi(p)&&(p=r),tw(sl(h,Bi),kt(p,2))}),gQ=ur(function(h){var p=ja(h);return p=typeof p=="function"?p:r,tw(sl(h,Bi),r,p)}),vQ=ur(vw);function yQ(h,p){return II(h||[],p||[],gf)}function bQ(h,p){return II(h||[],p||[],_f)}var _Q=ur(function(h){var p=h.length,x=p>1?h[p-1]:r;return x=typeof x=="function"?(h.pop(),x):r,fO(h,x)});function mO(h){var p=q(h);return p.__chain__=!0,p}function xQ(h,p){return p(h),h}function ov(h,p){return p(h)}var wQ=xs(function(h){var p=h.length,x=p?h[0]:0,M=this.__wrapped__,N=function(H){return Ux(H,h)};return p>1||this.__actions__.length||!(M instanceof Er)||!ws(x)?this.thru(N):(M=M.slice(x,+x+(p?1:0)),M.__actions__.push({func:ov,args:[N],thisArg:r}),new Ha(M,this.__chain__).thru(function(H){return p&&!H.length&&H.push(r),H}))});function CQ(){return mO(this)}function EQ(){return new Ha(this.value(),this.__chain__)}function SQ(){this.__values__===r&&(this.__values__=TO(this.value()));var h=this.__index__>=this.__values__.length,p=h?r:this.__values__[this.__index__++];return{done:h,value:p}}function MQ(){return this}function DQ(h){for(var p,x=this;x instanceof Wg;){var M=sO(x);M.__index__=0,M.__values__=r,p?N.__wrapped__=M:p=M;var N=M;x=x.__wrapped__}return N.__wrapped__=h,p}function TQ(){var h=this.__wrapped__;if(h instanceof Er){var p=h;return this.__actions__.length&&(p=new Er(this)),p=p.reverse(),p.__actions__.push({func:ov,args:[gw],thisArg:r}),new Ha(p,this.__chain__)}return this.thru(gw)}function AQ(){return RI(this.__wrapped__,this.__actions__)}var RQ=Qg(function(h,p,x){Xr.call(h,x)?++h[x]:bs(h,x,1)});function IQ(h,p,x){var M=Qt(h)?HR:x7;return x&&$n(h,p,x)&&(p=r),M(h,kt(p,3))}function OQ(h,p){var x=Qt(h)?sl:fI;return x(h,kt(p,3))}var kQ=qI(lO),PQ=qI(cO);function LQ(h,p){return Cn(sv(h,p),1)}function FQ(h,p){return Cn(sv(h,p),k)}function NQ(h,p,x){return x=x===r?1:sr(x),Cn(sv(h,p),x)}function pO(h,p){var x=Qt(h)?qa:hl;return x(h,kt(p,3))}function gO(h,p){var x=Qt(h)?rK:hI;return x(h,kt(p,3))}var BQ=Qg(function(h,p,x){Xr.call(h,x)?h[x].push(p):bs(h,x,[p])});function VQ(h,p,x,M){h=aa(h)?h:nu(h),x=x&&!M?sr(x):0;var N=h.length;return x<0&&(x=en(N+x,0)),hv(h)?x<=N&&h.indexOf(p,x)>-1:!!N&&$d(h,p,x)>-1}var zQ=ur(function(h,p,x){var M=-1,N=typeof p=="function",H=aa(h)?_e(h.length):[];return hl(h,function(J){H[++M]=N?va(p,J,x):yf(J,p,x)}),H}),qQ=Qg(function(h,p,x){bs(h,x,p)});function sv(h,p){var x=Qt(h)?_i:bI;return x(h,kt(p,3))}function UQ(h,p,x,M){return h==null?[]:(Qt(p)||(p=p==null?[]:[p]),x=M?r:x,Qt(x)||(x=x==null?[]:[x]),CI(h,p,x))}var HQ=Qg(function(h,p,x){h[x?0:1].push(p)},function(){return[[],[]]});function GQ(h,p,x){var M=Qt(h)?Ax:$R,N=arguments.length<3;return M(h,kt(p,4),x,N,hl)}function WQ(h,p,x){var M=Qt(h)?iK:$R,N=arguments.length<3;return M(h,kt(p,4),x,N,hI)}function jQ(h,p){var x=Qt(h)?sl:fI;return x(h,dv(kt(p,3)))}function $Q(h){var p=Qt(h)?lI:V7;return p(h)}function YQ(h,p,x){(x?$n(h,p,x):p===r)?p=1:p=sr(p);var M=Qt(h)?g7:z7;return M(h,p)}function XQ(h){var p=Qt(h)?v7:U7;return p(h)}function KQ(h){if(h==null)return 0;if(aa(h))return hv(h)?Xd(h):h.length;var p=Pn(h);return p==ye||p==Me?h.size:Yx(h).length}function ZQ(h,p,x){var M=Qt(h)?Rx:H7;return x&&$n(h,p,x)&&(p=r),M(h,kt(p,3))}var QQ=ur(function(h,p){if(h==null)return[];var x=p.length;return x>1&&$n(h,p[0],p[1])?p=[]:x>2&&$n(p[0],p[1],p[2])&&(p=[p[0]]),CI(h,Cn(p,1),[])}),lv=OK||function(){return hn.Date.now()};function JQ(h,p){if(typeof p!="function")throw new Ua(n);return h=sr(h),function(){if(--h<1)return p.apply(this,arguments)}}function vO(h,p,x){return p=x?r:p,p=h&&p==null?h.length:p,_s(h,S,r,r,r,r,p)}function yO(h,p){var x;if(typeof p!="function")throw new Ua(n);return h=sr(h),function(){return--h>0&&(x=p.apply(this,arguments)),h<=1&&(p=r),x}}var yw=ur(function(h,p,x){var M=g;if(x.length){var N=cl(x,ru(yw));M|=w}return _s(h,M,p,x,N)}),bO=ur(function(h,p,x){var M=g|v;if(x.length){var N=cl(x,ru(bO));M|=w}return _s(p,M,h,x,N)});function _O(h,p,x){p=x?r:p;var M=_s(h,b,r,r,r,r,r,p);return M.placeholder=_O.placeholder,M}function xO(h,p,x){p=x?r:p;var M=_s(h,_,r,r,r,r,r,p);return M.placeholder=xO.placeholder,M}function wO(h,p,x){var M,N,H,J,ie,fe,Ae=0,Ie=!1,Le=!1,et=!0;if(typeof h!="function")throw new Ua(n);p=$a(p)||0,Si(x)&&(Ie=!!x.leading,Le="maxWait"in x,H=Le?en($a(x.maxWait)||0,p):H,et="trailing"in x?!!x.trailing:et);function yt(Vi){var _o=M,Ss=N;return M=N=r,Ae=Vi,J=h.apply(Ss,_o),J}function Pt(Vi){return Ae=Vi,ie=Cf(wr,p),Ie?yt(Vi):J}function cr(Vi){var _o=Vi-fe,Ss=Vi-Ae,qO=p-_o;return Le?kn(qO,H-Ss):qO}function Lt(Vi){var _o=Vi-fe,Ss=Vi-Ae;return fe===r||_o>=p||_o<0||Le&&Ss>=H}function wr(){var Vi=lv();if(Lt(Vi))return Mr(Vi);ie=Cf(wr,cr(Vi))}function Mr(Vi){return ie=r,et&&M?yt(Vi):(M=N=r,J)}function xa(){ie!==r&&OI(ie),Ae=0,M=fe=N=ie=r}function Yn(){return ie===r?J:Mr(lv())}function wa(){var Vi=lv(),_o=Lt(Vi);if(M=arguments,N=this,fe=Vi,_o){if(ie===r)return Pt(fe);if(Le)return OI(ie),ie=Cf(wr,p),yt(fe)}return ie===r&&(ie=Cf(wr,p)),J}return wa.cancel=xa,wa.flush=Yn,wa}var eJ=ur(function(h,p){return uI(h,1,p)}),tJ=ur(function(h,p,x){return uI(h,$a(p)||0,x)});function rJ(h){return _s(h,T)}function cv(h,p){if(typeof h!="function"||p!=null&&typeof p!="function")throw new Ua(n);var x=function(){var M=arguments,N=p?p.apply(this,M):M[0],H=x.cache;if(H.has(N))return H.get(N);var J=h.apply(this,M);return x.cache=H.set(N,J)||H,J};return x.cache=new(cv.Cache||ys),x}cv.Cache=ys;function dv(h){if(typeof h!="function")throw new Ua(n);return function(){var p=arguments;switch(p.length){case 0:return!h.call(this);case 1:return!h.call(this,p[0]);case 2:return!h.call(this,p[0],p[1]);case 3:return!h.call(this,p[0],p[1],p[2])}return!h.apply(this,p)}}function iJ(h){return yO(2,h)}var nJ=G7(function(h,p){p=p.length==1&&Qt(p[0])?_i(p[0],ya(kt())):_i(Cn(p,1),ya(kt()));var x=p.length;return ur(function(M){for(var N=-1,H=kn(M.length,x);++N<H;)M[N]=p[N].call(this,M[N]);return va(h,this,M)})}),bw=ur(function(h,p){var x=cl(p,ru(bw));return _s(h,w,r,p,x)}),CO=ur(function(h,p){var x=cl(p,ru(CO));return _s(h,E,r,p,x)}),aJ=xs(function(h,p){return _s(h,D,r,r,r,p)});function oJ(h,p){if(typeof h!="function")throw new Ua(n);return p=p===r?p:sr(p),ur(h,p)}function sJ(h,p){if(typeof h!="function")throw new Ua(n);return p=p==null?0:en(sr(p),0),ur(function(x){var M=x[p],N=pl(x,0,p);return M&&ll(N,M),va(h,this,N)})}function lJ(h,p,x){var M=!0,N=!0;if(typeof h!="function")throw new Ua(n);return Si(x)&&(M="leading"in x?!!x.leading:M,N="trailing"in x?!!x.trailing:N),wO(h,p,{leading:M,maxWait:p,trailing:N})}function cJ(h){return vO(h,1)}function dJ(h,p){return bw(iw(p),h)}function uJ(){if(!arguments.length)return[];var h=arguments[0];return Qt(h)?h:[h]}function hJ(h){return Ga(h,u)}function fJ(h,p){return p=typeof p=="function"?p:r,Ga(h,u,p)}function mJ(h){return Ga(h,c|u)}function pJ(h,p){return p=typeof p=="function"?p:r,Ga(h,c|u,p)}function gJ(h,p){return p==null||dI(h,p,fn(p))}function bo(h,p){return h===p||h!==h&&p!==p}var vJ=rv(Wx),yJ=rv(function(h,p){return h>=p}),Oc=gI(function(){return arguments}())?gI:function(h){return Ri(h)&&Xr.call(h,"callee")&&!rI.call(h,"callee")},Qt=_e.isArray,bJ=NR?ya(NR):D7;function aa(h){return h!=null&&uv(h.length)&&!Cs(h)}function Bi(h){return Ri(h)&&aa(h)}function _J(h){return h===!0||h===!1||Ri(h)&&jn(h)==re}var gl=PK||Rw,xJ=BR?ya(BR):T7;function wJ(h){return Ri(h)&&h.nodeType===1&&!Ef(h)}function CJ(h){if(h==null)return!0;if(aa(h)&&(Qt(h)||typeof h=="string"||typeof h.splice=="function"||gl(h)||iu(h)||Oc(h)))return!h.length;var p=Pn(h);if(p==ye||p==Me)return!h.size;if(wf(h))return!Yx(h).length;for(var x in h)if(Xr.call(h,x))return!1;return!0}function EJ(h,p){return bf(h,p)}function SJ(h,p,x){x=typeof x=="function"?x:r;var M=x?x(h,p):r;return M===r?bf(h,p,r,x):!!M}function _w(h){if(!Ri(h))return!1;var p=jn(h);return p==ee||p==se||typeof h.message=="string"&&typeof h.name=="string"&&!Ef(h)}function MJ(h){return typeof h=="number"&&nI(h)}function Cs(h){if(!Si(h))return!1;var p=jn(h);return p==Z||p==ce||p==le||p==$e}function EO(h){return typeof h=="number"&&h==sr(h)}function uv(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=I}function Si(h){var p=typeof h;return h!=null&&(p=="object"||p=="function")}function Ri(h){return h!=null&&typeof h=="object"}var SO=VR?ya(VR):R7;function DJ(h,p){return h===p||$x(h,p,dw(p))}function TJ(h,p,x){return x=typeof x=="function"?x:r,$x(h,p,dw(p),x)}function AJ(h){return MO(h)&&h!=+h}function RJ(h){if(fZ(h))throw new jt(i);return vI(h)}function IJ(h){return h===null}function OJ(h){return h==null}function MO(h){return typeof h=="number"||Ri(h)&&jn(h)==Te}function Ef(h){if(!Ri(h)||jn(h)!=at)return!1;var p=Bg(h);if(p===null)return!0;var x=Xr.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&Pg.call(x)==TK}var xw=zR?ya(zR):I7;function kJ(h){return EO(h)&&h>=-I&&h<=I}var DO=qR?ya(qR):O7;function hv(h){return typeof h=="string"||!Qt(h)&&Ri(h)&&jn(h)==Ve}function _a(h){return typeof h=="symbol"||Ri(h)&&jn(h)==Ke}var iu=UR?ya(UR):k7;function PJ(h){return h===r}function LJ(h){return Ri(h)&&Pn(h)==We}function FJ(h){return Ri(h)&&jn(h)==it}var NJ=rv(Xx),BJ=rv(function(h,p){return h<=p});function TO(h){if(!h)return[];if(aa(h))return hv(h)?vo(h):na(h);if(uf&&h[uf])return gK(h[uf]());var p=Pn(h),x=p==ye?Fx:p==Me?Ig:nu;return x(h)}function Es(h){if(!h)return h===0?h:0;if(h=$a(h),h===k||h===-k){var p=h<0?-1:1;return p*B}return h===h?h:0}function sr(h){var p=Es(h),x=p%1;return p===p?x?p-x:p:0}function AO(h){return h?Tc(sr(h),0,W):0}function $a(h){if(typeof h=="number")return h;if(_a(h))return z;if(Si(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=Si(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=YR(h);var x=go.test(h);return x||qo.test(h)?J9(h.slice(2),x?2:8):zo.test(h)?z:+h}function RO(h){return jo(h,oa(h))}function VJ(h){return h?Tc(sr(h),-I,I):h===0?h:0}function qr(h){return h==null?"":ba(h)}var zJ=eu(function(h,p){if(wf(p)||aa(p)){jo(p,fn(p),h);return}for(var x in p)Xr.call(p,x)&&gf(h,x,p[x])}),IO=eu(function(h,p){jo(p,oa(p),h)}),fv=eu(function(h,p,x,M){jo(p,oa(p),h,M)}),qJ=eu(function(h,p,x,M){jo(p,fn(p),h,M)}),UJ=xs(Ux);function HJ(h,p){var x=Jd(h);return p==null?x:cI(x,p)}var GJ=ur(function(h,p){h=ti(h);var x=-1,M=p.length,N=M>2?p[2]:r;for(N&&$n(p[0],p[1],N)&&(M=1);++x<M;)for(var H=p[x],J=oa(H),ie=-1,fe=J.length;++ie<fe;){var Ae=J[ie],Ie=h[Ae];(Ie===r||bo(Ie,Kd[Ae])&&!Xr.call(h,Ae))&&(h[Ae]=H[Ae])}return h}),WJ=ur(function(h){return h.push(r,YI),va(OO,r,h)});function jJ(h,p){return GR(h,kt(p,3),Wo)}function $J(h,p){return GR(h,kt(p,3),Gx)}function YJ(h,p){return h==null?h:Hx(h,kt(p,3),oa)}function XJ(h,p){return h==null?h:mI(h,kt(p,3),oa)}function KJ(h,p){return h&&Wo(h,kt(p,3))}function ZJ(h,p){return h&&Gx(h,kt(p,3))}function QJ(h){return h==null?[]:Yg(h,fn(h))}function JJ(h){return h==null?[]:Yg(h,oa(h))}function ww(h,p,x){var M=h==null?r:Ac(h,p);return M===r?x:M}function eee(h,p){return h!=null&&ZI(h,p,C7)}function Cw(h,p){return h!=null&&ZI(h,p,E7)}var tee=HI(function(h,p,x){p!=null&&typeof p.toString!="function"&&(p=Lg.call(p)),h[p]=x},Sw(sa)),ree=HI(function(h,p,x){p!=null&&typeof p.toString!="function"&&(p=Lg.call(p)),Xr.call(h,p)?h[p].push(x):h[p]=[x]},kt),iee=ur(yf);function fn(h){return aa(h)?sI(h):Yx(h)}function oa(h){return aa(h)?sI(h,!0):P7(h)}function nee(h,p){var x={};return p=kt(p,3),Wo(h,function(M,N,H){bs(x,p(M,N,H),M)}),x}function aee(h,p){var x={};return p=kt(p,3),Wo(h,function(M,N,H){bs(x,N,p(M,N,H))}),x}var oee=eu(function(h,p,x){Xg(h,p,x)}),OO=eu(function(h,p,x,M){Xg(h,p,x,M)}),see=xs(function(h,p){var x={};if(h==null)return x;var M=!1;p=_i(p,function(H){return H=ml(H,h),M||(M=H.length>1),H}),jo(h,lw(h),x),M&&(x=Ga(x,c|d|u,tZ));for(var N=p.length;N--;)ew(x,p[N]);return x});function lee(h,p){return kO(h,dv(kt(p)))}var cee=xs(function(h,p){return h==null?{}:F7(h,p)});function kO(h,p){if(h==null)return{};var x=_i(lw(h),function(M){return[M]});return p=kt(p),EI(h,x,function(M,N){return p(M,N[0])})}function dee(h,p,x){p=ml(p,h);var M=-1,N=p.length;for(N||(N=1,h=r);++M<N;){var H=h==null?r:h[$o(p[M])];H===r&&(M=N,H=x),h=Cs(H)?H.call(h):H}return h}function uee(h,p,x){return h==null?h:_f(h,p,x)}function hee(h,p,x,M){return M=typeof M=="function"?M:r,h==null?h:_f(h,p,x,M)}var PO=jI(fn),LO=jI(oa);function fee(h,p,x){var M=Qt(h),N=M||gl(h)||iu(h);if(p=kt(p,4),x==null){var H=h&&h.constructor;N?x=M?new H:[]:Si(h)?x=Cs(H)?Jd(Bg(h)):{}:x={}}return(N?qa:Wo)(h,function(J,ie,fe){return p(x,J,ie,fe)}),x}function mee(h,p){return h==null?!0:ew(h,p)}function pee(h,p,x){return h==null?h:AI(h,p,iw(x))}function gee(h,p,x,M){return M=typeof M=="function"?M:r,h==null?h:AI(h,p,iw(x),M)}function nu(h){return h==null?[]:Lx(h,fn(h))}function vee(h){return h==null?[]:Lx(h,oa(h))}function yee(h,p,x){return x===r&&(x=p,p=r),x!==r&&(x=$a(x),x=x===x?x:0),p!==r&&(p=$a(p),p=p===p?p:0),Tc($a(h),p,x)}function bee(h,p,x){return p=Es(p),x===r?(x=p,p=0):x=Es(x),h=$a(h),S7(h,p,x)}function _ee(h,p,x){if(x&&typeof x!="boolean"&&$n(h,p,x)&&(p=x=r),x===r&&(typeof p=="boolean"?(x=p,p=r):typeof h=="boolean"&&(x=h,h=r)),h===r&&p===r?(h=0,p=1):(h=Es(h),p===r?(p=h,h=0):p=Es(p)),h>p){var M=h;h=p,p=M}if(x||h%1||p%1){var N=aI();return kn(h+N*(p-h+Q9("1e-"+((N+"").length-1))),p)}return Zx(h,p)}var xee=tu(function(h,p,x){return p=p.toLowerCase(),h+(x?FO(p):p)});function FO(h){return Ew(qr(h).toLowerCase())}function NO(h){return h=qr(h),h&&h.replace(Wd,uK).replace(U9,"")}function wee(h,p,x){h=qr(h),p=ba(p);var M=h.length;x=x===r?M:Tc(sr(x),0,M);var N=x;return x-=p.length,x>=0&&h.slice(x,N)==p}function Cee(h){return h=qr(h),h&&ot.test(h)?h.replace(Be,hK):h}function Eee(h){return h=qr(h),h&&vr.test(h)?h.replace(ar,"\\$&"):h}var See=tu(function(h,p,x){return h+(x?"-":"")+p.toLowerCase()}),Mee=tu(function(h,p,x){return h+(x?" ":"")+p.toLowerCase()}),Dee=zI("toLowerCase");function Tee(h,p,x){h=qr(h),p=sr(p);var M=p?Xd(h):0;if(!p||M>=p)return h;var N=(p-M)/2;return tv(Ug(N),x)+h+tv(qg(N),x)}function Aee(h,p,x){h=qr(h),p=sr(p);var M=p?Xd(h):0;return p&&M<p?h+tv(p-M,x):h}function Ree(h,p,x){h=qr(h),p=sr(p);var M=p?Xd(h):0;return p&&M<p?tv(p-M,x)+h:h}function Iee(h,p,x){return x||p==null?p=0:p&&(p=+p),BK(qr(h).replace(zr,""),p||0)}function Oee(h,p,x){return(x?$n(h,p,x):p===r)?p=1:p=sr(p),Qx(qr(h),p)}function kee(){var h=arguments,p=qr(h[0]);return h.length<3?p:p.replace(h[1],h[2])}var Pee=tu(function(h,p,x){return h+(x?"_":"")+p.toLowerCase()});function Lee(h,p,x){return x&&typeof x!="number"&&$n(h,p,x)&&(p=x=r),x=x===r?W:x>>>0,x?(h=qr(h),h&&(typeof p=="string"||p!=null&&!xw(p))&&(p=ba(p),!p&&Yd(h))?pl(vo(h),0,x):h.split(p,x)):[]}var Fee=tu(function(h,p,x){return h+(x?" ":"")+Ew(p)});function Nee(h,p,x){return h=qr(h),x=x==null?0:Tc(sr(x),0,h.length),p=ba(p),h.slice(x,x+p.length)==p}function Bee(h,p,x){var M=q.templateSettings;x&&$n(h,p,x)&&(p=r),h=qr(h),p=fv({},p,M,$I);var N=fv({},p.imports,M.imports,$I),H=fn(N),J=Lx(N,H),ie,fe,Ae=0,Ie=p.interpolate||Ho,Le="__p += '",et=Nx((p.escape||Ho).source+"|"+Ie.source+"|"+(Ie===Ye?Gi:Ho).source+"|"+(p.evaluate||Ho).source+"|$","g"),yt="//# sourceURL="+(Xr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$9+"]")+`
`;h.replace(et,function(Lt,wr,Mr,xa,Yn,wa){return Mr||(Mr=xa),Le+=h.slice(Ae,wa).replace(Go,fK),wr&&(ie=!0,Le+=`' +
__e(`+wr+`) +
'`),Yn&&(fe=!0,Le+=`';
`+Yn+`;
__p += '`),Mr&&(Le+=`' +
((__t = (`+Mr+`)) == null ? '' : __t) +
'`),Ae=wa+Lt.length,Lt}),Le+=`';
`;var Pt=Xr.call(p,"variable")&&p.variable;if(!Pt)Le=`with (obj) {
`+Le+`
}
`;else if(Yr.test(Pt))throw new jt(a);Le=(fe?Le.replace(ze,""):Le).replace(ke,"$1").replace(Ce,"$1;"),Le="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Le+`return __p
}`;var cr=VO(function(){return Fr(H,yt+"return "+Le).apply(r,J)});if(cr.source=Le,_w(cr))throw cr;return cr}function Vee(h){return qr(h).toLowerCase()}function zee(h){return qr(h).toUpperCase()}function qee(h,p,x){if(h=qr(h),h&&(x||p===r))return YR(h);if(!h||!(p=ba(p)))return h;var M=vo(h),N=vo(p),H=XR(M,N),J=KR(M,N)+1;return pl(M,H,J).join("")}function Uee(h,p,x){if(h=qr(h),h&&(x||p===r))return h.slice(0,QR(h)+1);if(!h||!(p=ba(p)))return h;var M=vo(h),N=KR(M,vo(p))+1;return pl(M,0,N).join("")}function Hee(h,p,x){if(h=qr(h),h&&(x||p===r))return h.replace(zr,"");if(!h||!(p=ba(p)))return h;var M=vo(h),N=XR(M,vo(p));return pl(M,N).join("")}function Gee(h,p){var x=O,M=F;if(Si(p)){var N="separator"in p?p.separator:N;x="length"in p?sr(p.length):x,M="omission"in p?ba(p.omission):M}h=qr(h);var H=h.length;if(Yd(h)){var J=vo(h);H=J.length}if(x>=H)return h;var ie=x-Xd(M);if(ie<1)return M;var fe=J?pl(J,0,ie).join(""):h.slice(0,ie);if(N===r)return fe+M;if(J&&(ie+=fe.length-ie),xw(N)){if(h.slice(ie).search(N)){var Ae,Ie=fe;for(N.global||(N=Nx(N.source,qr(Na.exec(N))+"g")),N.lastIndex=0;Ae=N.exec(Ie);)var Le=Ae.index;fe=fe.slice(0,Le===r?ie:Le)}}else if(h.indexOf(ba(N),ie)!=ie){var et=fe.lastIndexOf(N);et>-1&&(fe=fe.slice(0,et))}return fe+M}function Wee(h){return h=qr(h),h&&qe.test(h)?h.replace(Fe,_K):h}var jee=tu(function(h,p,x){return h+(x?" ":"")+p.toUpperCase()}),Ew=zI("toUpperCase");function BO(h,p,x){return h=qr(h),p=x?r:p,p===r?pK(h)?CK(h):oK(h):h.match(p)||[]}var VO=ur(function(h,p){try{return va(h,r,p)}catch(x){return _w(x)?x:new jt(x)}}),$ee=xs(function(h,p){return qa(p,function(x){x=$o(x),bs(h,x,yw(h[x],h))}),h});function Yee(h){var p=h==null?0:h.length,x=kt();return h=p?_i(h,function(M){if(typeof M[1]!="function")throw new Ua(n);return[x(M[0]),M[1]]}):[],ur(function(M){for(var N=-1;++N<p;){var H=h[N];if(va(H[0],this,M))return va(H[1],this,M)}})}function Xee(h){return _7(Ga(h,c))}function Sw(h){return function(){return h}}function Kee(h,p){return h==null||h!==h?p:h}var Zee=UI(),Qee=UI(!0);function sa(h){return h}function Mw(h){return yI(typeof h=="function"?h:Ga(h,c))}function Jee(h){return _I(Ga(h,c))}function ete(h,p){return xI(h,Ga(p,c))}var tte=ur(function(h,p){return function(x){return yf(x,h,p)}}),rte=ur(function(h,p){return function(x){return yf(h,x,p)}});function Dw(h,p,x){var M=fn(p),N=Yg(p,M);x==null&&!(Si(p)&&(N.length||!M.length))&&(x=p,p=h,h=this,N=Yg(p,fn(p)));var H=!(Si(x)&&"chain"in x)||!!x.chain,J=Cs(h);return qa(N,function(ie){var fe=p[ie];h[ie]=fe,J&&(h.prototype[ie]=function(){var Ae=this.__chain__;if(H||Ae){var Ie=h(this.__wrapped__),Le=Ie.__actions__=na(this.__actions__);return Le.push({func:fe,args:arguments,thisArg:h}),Ie.__chain__=Ae,Ie}return fe.apply(h,ll([this.value()],arguments))})}),h}function ite(){return hn._===this&&(hn._=AK),this}function Tw(){}function nte(h){return h=sr(h),ur(function(p){return wI(p,h)})}var ate=aw(_i),ote=aw(HR),ste=aw(Rx);function zO(h){return hw(h)?Ix($o(h)):N7(h)}function lte(h){return function(p){return h==null?r:Ac(h,p)}}var cte=GI(),dte=GI(!0);function Aw(){return[]}function Rw(){return!1}function ute(){return{}}function hte(){return""}function fte(){return!0}function mte(h,p){if(h=sr(h),h<1||h>I)return[];var x=W,M=kn(h,W);p=kt(p),h-=W;for(var N=Px(M,p);++x<h;)p(x);return N}function pte(h){return Qt(h)?_i(h,$o):_a(h)?[h]:na(oO(qr(h)))}function gte(h){var p=++DK;return qr(h)+p}var vte=ev(function(h,p){return h+p},0),yte=ow("ceil"),bte=ev(function(h,p){return h/p},1),_te=ow("floor");function xte(h){return h&&h.length?$g(h,sa,Wx):r}function wte(h,p){return h&&h.length?$g(h,kt(p,2),Wx):r}function Cte(h){return jR(h,sa)}function Ete(h,p){return jR(h,kt(p,2))}function Ste(h){return h&&h.length?$g(h,sa,Xx):r}function Mte(h,p){return h&&h.length?$g(h,kt(p,2),Xx):r}var Dte=ev(function(h,p){return h*p},1),Tte=ow("round"),Ate=ev(function(h,p){return h-p},0);function Rte(h){return h&&h.length?kx(h,sa):0}function Ite(h,p){return h&&h.length?kx(h,kt(p,2)):0}return q.after=JQ,q.ary=vO,q.assign=zJ,q.assignIn=IO,q.assignInWith=fv,q.assignWith=qJ,q.at=UJ,q.before=yO,q.bind=yw,q.bindAll=$ee,q.bindKey=bO,q.castArray=uJ,q.chain=mO,q.chunk=_Z,q.compact=xZ,q.concat=wZ,q.cond=Yee,q.conforms=Xee,q.constant=Sw,q.countBy=RQ,q.create=HJ,q.curry=_O,q.curryRight=xO,q.debounce=wO,q.defaults=GJ,q.defaultsDeep=WJ,q.defer=eJ,q.delay=tJ,q.difference=CZ,q.differenceBy=EZ,q.differenceWith=SZ,q.drop=MZ,q.dropRight=DZ,q.dropRightWhile=TZ,q.dropWhile=AZ,q.fill=RZ,q.filter=OQ,q.flatMap=LQ,q.flatMapDeep=FQ,q.flatMapDepth=NQ,q.flatten=dO,q.flattenDeep=IZ,q.flattenDepth=OZ,q.flip=rJ,q.flow=Zee,q.flowRight=Qee,q.fromPairs=kZ,q.functions=QJ,q.functionsIn=JJ,q.groupBy=BQ,q.initial=LZ,q.intersection=FZ,q.intersectionBy=NZ,q.intersectionWith=BZ,q.invert=tee,q.invertBy=ree,q.invokeMap=zQ,q.iteratee=Mw,q.keyBy=qQ,q.keys=fn,q.keysIn=oa,q.map=sv,q.mapKeys=nee,q.mapValues=aee,q.matches=Jee,q.matchesProperty=ete,q.memoize=cv,q.merge=oee,q.mergeWith=OO,q.method=tte,q.methodOf=rte,q.mixin=Dw,q.negate=dv,q.nthArg=nte,q.omit=see,q.omitBy=lee,q.once=iJ,q.orderBy=UQ,q.over=ate,q.overArgs=nJ,q.overEvery=ote,q.overSome=ste,q.partial=bw,q.partialRight=CO,q.partition=HQ,q.pick=cee,q.pickBy=kO,q.property=zO,q.propertyOf=lte,q.pull=UZ,q.pullAll=hO,q.pullAllBy=HZ,q.pullAllWith=GZ,q.pullAt=WZ,q.range=cte,q.rangeRight=dte,q.rearg=aJ,q.reject=jQ,q.remove=jZ,q.rest=oJ,q.reverse=gw,q.sampleSize=YQ,q.set=uee,q.setWith=hee,q.shuffle=XQ,q.slice=$Z,q.sortBy=QQ,q.sortedUniq=eQ,q.sortedUniqBy=tQ,q.split=Lee,q.spread=sJ,q.tail=rQ,q.take=iQ,q.takeRight=nQ,q.takeRightWhile=aQ,q.takeWhile=oQ,q.tap=xQ,q.throttle=lJ,q.thru=ov,q.toArray=TO,q.toPairs=PO,q.toPairsIn=LO,q.toPath=pte,q.toPlainObject=RO,q.transform=fee,q.unary=cJ,q.union=sQ,q.unionBy=lQ,q.unionWith=cQ,q.uniq=dQ,q.uniqBy=uQ,q.uniqWith=hQ,q.unset=mee,q.unzip=vw,q.unzipWith=fO,q.update=pee,q.updateWith=gee,q.values=nu,q.valuesIn=vee,q.without=fQ,q.words=BO,q.wrap=dJ,q.xor=mQ,q.xorBy=pQ,q.xorWith=gQ,q.zip=vQ,q.zipObject=yQ,q.zipObjectDeep=bQ,q.zipWith=_Q,q.entries=PO,q.entriesIn=LO,q.extend=IO,q.extendWith=fv,Dw(q,q),q.add=vte,q.attempt=VO,q.camelCase=xee,q.capitalize=FO,q.ceil=yte,q.clamp=yee,q.clone=hJ,q.cloneDeep=mJ,q.cloneDeepWith=pJ,q.cloneWith=fJ,q.conformsTo=gJ,q.deburr=NO,q.defaultTo=Kee,q.divide=bte,q.endsWith=wee,q.eq=bo,q.escape=Cee,q.escapeRegExp=Eee,q.every=IQ,q.find=kQ,q.findIndex=lO,q.findKey=jJ,q.findLast=PQ,q.findLastIndex=cO,q.findLastKey=$J,q.floor=_te,q.forEach=pO,q.forEachRight=gO,q.forIn=YJ,q.forInRight=XJ,q.forOwn=KJ,q.forOwnRight=ZJ,q.get=ww,q.gt=vJ,q.gte=yJ,q.has=eee,q.hasIn=Cw,q.head=uO,q.identity=sa,q.includes=VQ,q.indexOf=PZ,q.inRange=bee,q.invoke=iee,q.isArguments=Oc,q.isArray=Qt,q.isArrayBuffer=bJ,q.isArrayLike=aa,q.isArrayLikeObject=Bi,q.isBoolean=_J,q.isBuffer=gl,q.isDate=xJ,q.isElement=wJ,q.isEmpty=CJ,q.isEqual=EJ,q.isEqualWith=SJ,q.isError=_w,q.isFinite=MJ,q.isFunction=Cs,q.isInteger=EO,q.isLength=uv,q.isMap=SO,q.isMatch=DJ,q.isMatchWith=TJ,q.isNaN=AJ,q.isNative=RJ,q.isNil=OJ,q.isNull=IJ,q.isNumber=MO,q.isObject=Si,q.isObjectLike=Ri,q.isPlainObject=Ef,q.isRegExp=xw,q.isSafeInteger=kJ,q.isSet=DO,q.isString=hv,q.isSymbol=_a,q.isTypedArray=iu,q.isUndefined=PJ,q.isWeakMap=LJ,q.isWeakSet=FJ,q.join=VZ,q.kebabCase=See,q.last=ja,q.lastIndexOf=zZ,q.lowerCase=Mee,q.lowerFirst=Dee,q.lt=NJ,q.lte=BJ,q.max=xte,q.maxBy=wte,q.mean=Cte,q.meanBy=Ete,q.min=Ste,q.minBy=Mte,q.stubArray=Aw,q.stubFalse=Rw,q.stubObject=ute,q.stubString=hte,q.stubTrue=fte,q.multiply=Dte,q.nth=qZ,q.noConflict=ite,q.noop=Tw,q.now=lv,q.pad=Tee,q.padEnd=Aee,q.padStart=Ree,q.parseInt=Iee,q.random=_ee,q.reduce=GQ,q.reduceRight=WQ,q.repeat=Oee,q.replace=kee,q.result=dee,q.round=Tte,q.runInContext=he,q.sample=$Q,q.size=KQ,q.snakeCase=Pee,q.some=ZQ,q.sortedIndex=YZ,q.sortedIndexBy=XZ,q.sortedIndexOf=KZ,q.sortedLastIndex=ZZ,q.sortedLastIndexBy=QZ,q.sortedLastIndexOf=JZ,q.startCase=Fee,q.startsWith=Nee,q.subtract=Ate,q.sum=Rte,q.sumBy=Ite,q.template=Bee,q.times=mte,q.toFinite=Es,q.toInteger=sr,q.toLength=AO,q.toLower=Vee,q.toNumber=$a,q.toSafeInteger=VJ,q.toString=qr,q.toUpper=zee,q.trim=qee,q.trimEnd=Uee,q.trimStart=Hee,q.truncate=Gee,q.unescape=Wee,q.uniqueId=gte,q.upperCase=jee,q.upperFirst=Ew,q.each=pO,q.eachRight=gO,q.first=uO,Dw(q,function(){var h={};return Wo(q,function(p,x){Xr.call(q.prototype,x)||(h[x]=p)}),h}(),{chain:!1}),q.VERSION=t,qa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){q[h].placeholder=q}),qa(["drop","take"],function(h,p){Er.prototype[h]=function(x){x=x===r?1:en(sr(x),0);var M=this.__filtered__&&!p?new Er(this):this.clone();return M.__filtered__?M.__takeCount__=kn(x,M.__takeCount__):M.__views__.push({size:kn(x,W),type:h+(M.__dir__<0?"Right":"")}),M},Er.prototype[h+"Right"]=function(x){return this.reverse()[h](x).reverse()}}),qa(["filter","map","takeWhile"],function(h,p){var x=p+1,M=x==C||x==R;Er.prototype[h]=function(N){var H=this.clone();return H.__iteratees__.push({iteratee:kt(N,3),type:x}),H.__filtered__=H.__filtered__||M,H}}),qa(["head","last"],function(h,p){var x="take"+(p?"Right":"");Er.prototype[h]=function(){return this[x](1).value()[0]}}),qa(["initial","tail"],function(h,p){var x="drop"+(p?"":"Right");Er.prototype[h]=function(){return this.__filtered__?new Er(this):this[x](1)}}),Er.prototype.compact=function(){return this.filter(sa)},Er.prototype.find=function(h){return this.filter(h).head()},Er.prototype.findLast=function(h){return this.reverse().find(h)},Er.prototype.invokeMap=ur(function(h,p){return typeof h=="function"?new Er(this):this.map(function(x){return yf(x,h,p)})}),Er.prototype.reject=function(h){return this.filter(dv(kt(h)))},Er.prototype.slice=function(h,p){h=sr(h);var x=this;return x.__filtered__&&(h>0||p<0)?new Er(x):(h<0?x=x.takeRight(-h):h&&(x=x.drop(h)),p!==r&&(p=sr(p),x=p<0?x.dropRight(-p):x.take(p-h)),x)},Er.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Er.prototype.toArray=function(){return this.take(W)},Wo(Er.prototype,function(h,p){var x=/^(?:filter|find|map|reject)|While$/.test(p),M=/^(?:head|last)$/.test(p),N=q[M?"take"+(p=="last"?"Right":""):p],H=M||/^find/.test(p);N&&(q.prototype[p]=function(){var J=this.__wrapped__,ie=M?[1]:arguments,fe=J instanceof Er,Ae=ie[0],Ie=fe||Qt(J),Le=function(wr){var Mr=N.apply(q,ll([wr],ie));return M&&et?Mr[0]:Mr};Ie&&x&&typeof Ae=="function"&&Ae.length!=1&&(fe=Ie=!1);var et=this.__chain__,yt=!!this.__actions__.length,Pt=H&&!et,cr=fe&&!yt;if(!H&&Ie){J=cr?J:new Er(this);var Lt=h.apply(J,ie);return Lt.__actions__.push({func:ov,args:[Le],thisArg:r}),new Ha(Lt,et)}return Pt&&cr?h.apply(this,ie):(Lt=this.thru(Le),Pt?M?Lt.value()[0]:Lt.value():Lt)})}),qa(["pop","push","shift","sort","splice","unshift"],function(h){var p=Og[h],x=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",M=/^(?:pop|shift)$/.test(h);q.prototype[h]=function(){var N=arguments;if(M&&!this.__chain__){var H=this.value();return p.apply(Qt(H)?H:[],N)}return this[x](function(J){return p.apply(Qt(J)?J:[],N)})}}),Wo(Er.prototype,function(h,p){var x=q[p];if(x){var M=x.name+"";Xr.call(Qd,M)||(Qd[M]=[]),Qd[M].push({name:p,func:x})}}),Qd[Jg(r,v).name]=[{name:"wrapper",func:r}],Er.prototype.clone=WK,Er.prototype.reverse=jK,Er.prototype.value=$K,q.prototype.at=wQ,q.prototype.chain=CQ,q.prototype.commit=EQ,q.prototype.next=SQ,q.prototype.plant=DQ,q.prototype.reverse=TQ,q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=AQ,q.prototype.first=q.prototype.head,uf&&(q.prototype[uf]=MQ),q},dl=EK();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(hn._=dl,define(function(){return dl})):Ec?((Ec.exports=dl)._=dl,Mx._=dl):hn._=dl}).call(oh)});var vb=j(u2=>{"use strict";var U1=class r{constructor(t,e,i){if(typeof t!="function")throw new Error("Heap constructor expects a compare function");this._compare=t,this._nodes=Array.isArray(e)?e:[],this._leaf=i||null}toArray(){return Array.from(this._nodes)}_hasLeftChild(t){return t*2+1<this.size()}_hasRightChild(t){return t*2+2<this.size()}_compareAt(t,e){return this._compare(this._nodes[t],this._nodes[e])}_swap(t,e){let i=this._nodes[t];this._nodes[t]=this._nodes[e],this._nodes[e]=i}_shouldSwap(t,e){return t<0||t>=this.size()||e<0||e>=this.size()?!1:this._compareAt(t,e)>0}_compareChildrenOf(t){if(!this._hasLeftChild(t)&&!this._hasRightChild(t))return-1;let e=t*2+1,i=t*2+2;return this._hasLeftChild(t)?this._hasRightChild(t)&&this._compareAt(e,i)>0?i:e:i}_compareChildrenBefore(t,e,i){return this._compareAt(i,e)<=0&&i<t?i:e}_heapifyUp(t){let e=t,i=Math.floor((e-1)/2);for(;this._shouldSwap(i,e);)this._swap(i,e),e=i,i=Math.floor((e-1)/2)}_heapifyDown(t){let e=t,i=this._compareChildrenOf(e);for(;this._shouldSwap(e,i);)this._swap(e,i),e=i,i=this._compareChildrenOf(e)}_heapifyDownUntil(t){let e=0,i=1,n=2,a;for(;i<t;)a=this._compareChildrenBefore(t,i,n),this._shouldSwap(e,a)&&this._swap(e,a),e=a,i=e*2+1,n=e*2+2}insert(t){return this._nodes.push(t),this._heapifyUp(this.size()-1),(this._leaf===null||this._compare(t,this._leaf)>0)&&(this._leaf=t),this}push(t){return this.insert(t)}extractRoot(){if(this.isEmpty())return null;let t=this.root();return this._nodes[0]=this._nodes[this.size()-1],this._nodes.pop(),this._heapifyDown(0),t===this._leaf&&(this._leaf=this.root()),t}pop(){return this.extractRoot()}sort(){for(let t=this.size()-1;t>0;t-=1)this._swap(0,t),this._heapifyDownUntil(t);return this._nodes}fix(){for(let t=Math.floor(this.size()/2)-1;t>=0;t-=1)this._heapifyDown(t);for(let t=Math.floor(this.size()/2);t<this.size();t+=1){let e=this._nodes[t];(this._leaf===null||this._compare(e,this._leaf)>0)&&(this._leaf=e)}return this}isValid(){let t=e=>{let i=!0,n=!0;if(this._hasLeftChild(e)){let a=e*2+1;if(this._compareAt(e,a)>0)return!1;i=t(a)}if(this._hasRightChild(e)){let a=e*2+2;if(this._compareAt(e,a)>0)return!1;n=t(a)}return i&&n};return t(0)}clone(){return new r(this._compare,this._nodes.slice(),this._leaf)}root(){return this.isEmpty()?null:this._nodes[0]}top(){return this.root()}leaf(){return this._leaf}size(){return this._nodes.length}isEmpty(){return this.size()===0}clear(){this._nodes=[],this._leaf=null}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static heapify(t,e){if(!Array.isArray(t))throw new Error("Heap.heapify expects an array of values");if(typeof e!="function")throw new Error("Heap.heapify expects a compare function");return new r(e,t).fix()}static isHeapified(t,e){return new r(e,t).isValid()}};u2.Heap=U1});var f2=j(h2=>{"use strict";var{Heap:H1}=vb(),G1=r=>(t,e)=>{let i=typeof r=="function"?r(t):t,n=typeof r=="function"?r(e):e;return i<=n?-1:1},W1=class r{constructor(t,e){this._getCompareValue=t,this._heap=e||new H1(G1(t))}toArray(){return Array.from(this._heap._nodes)}insert(t){return this._heap.insert(t)}push(t){return this.insert(t)}extractRoot(){return this._heap.extractRoot()}pop(){return this.extractRoot()}sort(){return this._heap.sort()}fix(){return this._heap.fix()}isValid(){return this._heap.isValid()}root(){return this._heap.root()}top(){return this.root()}leaf(){return this._heap.leaf()}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}clear(){this._heap.clear()}clone(){return new r(this._getCompareValue,this._heap.clone())}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static heapify(t,e){if(!Array.isArray(t))throw new Error("MinHeap.heapify expects an array");let i=new H1(G1(e),t);return new r(e,i).fix()}static isHeapified(t,e){let i=new H1(G1(e),t);return new r(e,i).isValid()}};h2.MinHeap=W1});var p2=j(m2=>{"use strict";var{Heap:j1}=vb(),$1=r=>(t,e)=>{let i=typeof r=="function"?r(t):t,n=typeof r=="function"?r(e):e;return i<n?1:-1},Y1=class r{constructor(t,e){this._getCompareValue=t,this._heap=e||new j1($1(t))}insert(t){return this._heap.insert(t)}push(t){return this.insert(t)}extractRoot(){return this._heap.extractRoot()}pop(){return this.extractRoot()}sort(){return this._heap.sort()}toArray(){return Array.from(this._heap._nodes)}fix(){return this._heap.fix()}isValid(){return this._heap.isValid()}root(){return this._heap.root()}top(){return this.root()}leaf(){return this._heap.leaf()}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}clear(){this._heap.clear()}clone(){return new r(this._getCompareValue,this._heap.clone())}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static heapify(t,e){if(!Array.isArray(t))throw new Error("MaxHeap.heapify expects an array");let i=new j1($1(e),t);return new r(e,i).fix()}static isHeapified(t,e){let i=new j1($1(e),t);return new r(e,i).isValid()}};m2.MaxHeap=Y1});var bb=j(yb=>{"use strict";var{Heap:kce}=vb(),{MinHeap:Pce}=f2(),{MaxHeap:Lce}=p2();yb.Heap=kce;yb.MinHeap=Pce;yb.MaxHeap=Lce});var y2=j(v2=>{"use strict";var{Heap:Fce,MinHeap:g2}=bb(),Nce=r=>(t,e)=>{let i=typeof r=="function"?r(t):t,n=typeof r=="function"?r(e):e;return i<=n?-1:1},X1=class r{constructor(t,e){if(t&&typeof t!="function")throw new Error("MinPriorityQueue constructor requires a callback for object values");this._heap=e||new g2(t)}front(){return this._heap.root()}back(){return this._heap.leaf()}enqueue(t){return this._heap.insert(t)}push(t){return this.enqueue(t)}dequeue(){return this._heap.extractRoot()}pop(){return this.dequeue()}remove(t){if(typeof t!="function")throw new Error("MinPriorityQueue remove expects a callback");let e=[],i=[];for(;!this.isEmpty();){let n=this.pop();t(n)?e.push(n):i.push(n)}return i.forEach(n=>this.push(n)),e}contains(t){if(typeof t!="function")throw new Error("MinPriorityQueue contains expects a callback");let e=!1,i=[];for(;!this.isEmpty();){let n=this.pop();if(i.push(n),t(n)){e=!0;break}}return i.forEach(n=>this.push(n)),e}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}clear(){this._heap.clear()}toArray(){return this._heap.clone().sort().reverse()}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static fromArray(t,e){let i=new Fce(Nce(e),t);return new r(e,new g2(e,i).fix())}};v2.MinPriorityQueue=X1});var x2=j(_2=>{"use strict";var{Heap:Bce,MaxHeap:b2}=bb(),Vce=r=>(t,e)=>{let i=typeof r=="function"?r(t):t,n=typeof r=="function"?r(e):e;return i<n?1:-1},K1=class r{constructor(t,e){if(t&&typeof t!="function")throw new Error("MaxPriorityQueue constructor requires a callback for object values");this._heap=e||new b2(t)}front(){return this._heap.root()}back(){return this._heap.leaf()}enqueue(t){return this._heap.insert(t)}push(t){return this.enqueue(t)}dequeue(){return this._heap.extractRoot()}pop(){return this.dequeue()}remove(t){if(typeof t!="function")throw new Error("MaxPriorityQueue remove expects a callback");let e=[],i=[];for(;!this.isEmpty();){let n=this.pop();t(n)?e.push(n):i.push(n)}return i.forEach(n=>this.push(n)),e}contains(t){if(typeof t!="function")throw new Error("MaxPriorityQueue contains expects a callback");let e=!1,i=[];for(;!this.isEmpty();){let n=this.pop();if(i.push(n),t(n)){e=!0;break}}return i.forEach(n=>this.push(n)),e}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}clear(){this._heap.clear()}toArray(){return this._heap.clone().sort().reverse()}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static fromArray(t,e){let i=new Bce(Vce(e),t);return new r(e,new b2(e,i).fix())}};_2.MaxPriorityQueue=K1});var C2=j(w2=>{"use strict";var{Heap:zce}=bb(),Z1=class r{constructor(t,e){if(typeof t!="function")throw new Error("PriorityQueue constructor expects a compare function");this._heap=new zce(t,e),e&&this._heap.fix()}front(){return this._heap.root()}back(){return this._heap.leaf()}enqueue(t){return this._heap.insert(t)}push(t){return this.enqueue(t)}dequeue(){return this._heap.extractRoot()}pop(){return this.dequeue()}remove(t){if(typeof t!="function")throw new Error("PriorityQueue remove expects a callback");let e=[],i=[];for(;!this.isEmpty();){let n=this.pop();t(n)?e.push(n):i.push(n)}return i.forEach(n=>this.push(n)),e}contains(t){if(typeof t!="function")throw new Error("PriorityQueue contains expects a callback");let e=!1,i=[];for(;!this.isEmpty();){let n=this.pop();if(i.push(n),t(n)){e=!0;break}}return i.forEach(n=>this.push(n)),e}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}clear(){this._heap.clear()}toArray(){return this._heap.clone().sort().reverse()}[Symbol.iterator](){let t=this.size();return{next:()=>(t-=1,{value:this.pop(),done:t===-1})}}static fromArray(t,e){return new r(e,t)}};w2.PriorityQueue=Z1});var Q1=j((y$e,E2)=>{"use strict";var{MinPriorityQueue:qce}=y2(),{MaxPriorityQueue:Uce}=x2(),{PriorityQueue:Hce}=C2();E2.exports={MinPriorityQueue:qce,MaxPriorityQueue:Uce,PriorityQueue:Hce}});var Wq=j((M$e,Gq)=>{"use strict";function cge(){this.__data__=[],this.size=0}Gq.exports=cge});var Dd=j((D$e,jq)=>{"use strict";function dge(r,t){return r===t||r!==r&&t!==t}jq.exports=dge});var Tp=j((T$e,$q)=>{"use strict";var uge=Dd();function hge(r,t){for(var e=r.length;e--;)if(uge(r[e][0],t))return e;return-1}$q.exports=hge});var Xq=j((A$e,Yq)=>{"use strict";var fge=Tp(),mge=Array.prototype,pge=mge.splice;function gge(r){var t=this.__data__,e=fge(t,r);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():pge.call(t,e,1),--this.size,!0}Yq.exports=gge});var Zq=j((R$e,Kq)=>{"use strict";var vge=Tp();function yge(r){var t=this.__data__,e=vge(t,r);return e<0?void 0:t[e][1]}Kq.exports=yge});var Jq=j((I$e,Qq)=>{"use strict";var bge=Tp();function _ge(r){return bge(this.__data__,r)>-1}Qq.exports=_ge});var tU=j((O$e,eU)=>{"use strict";var xge=Tp();function wge(r,t){var e=this.__data__,i=xge(e,r);return i<0?(++this.size,e.push([r,t])):e[i][1]=t,this}eU.exports=wge});var Ap=j((k$e,rU)=>{"use strict";var Cge=Wq(),Ege=Xq(),Sge=Zq(),Mge=Jq(),Dge=tU();function Oh(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Oh.prototype.clear=Cge;Oh.prototype.delete=Ege;Oh.prototype.get=Sge;Oh.prototype.has=Mge;Oh.prototype.set=Dge;rU.exports=Oh});var nU=j((P$e,iU)=>{"use strict";var Tge=Ap();function Age(){this.__data__=new Tge,this.size=0}iU.exports=Age});var oU=j((L$e,aU)=>{"use strict";function Rge(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}aU.exports=Rge});var lU=j((F$e,sU)=>{"use strict";function Ige(r){return this.__data__.get(r)}sU.exports=Ige});var dU=j((N$e,cU)=>{"use strict";function Oge(r){return this.__data__.has(r)}cU.exports=Oge});var mD=j((B$e,uU)=>{"use strict";var kge=typeof global=="object"&&global&&global.Object===Object&&global;uU.exports=kge});var uo=j((V$e,hU)=>{"use strict";var Pge=mD(),Lge=typeof self=="object"&&self&&self.Object===Object&&self,Fge=Pge||Lge||Function("return this")();hU.exports=Fge});var Td=j((z$e,fU)=>{"use strict";var Nge=uo(),Bge=Nge.Symbol;fU.exports=Bge});var vU=j((q$e,gU)=>{"use strict";var mU=Td(),pU=Object.prototype,Vge=pU.hasOwnProperty,zge=pU.toString,Rp=mU?mU.toStringTag:void 0;function qge(r){var t=Vge.call(r,Rp),e=r[Rp];try{r[Rp]=void 0;var i=!0}catch{}var n=zge.call(r);return i&&(t?r[Rp]=e:delete r[Rp]),n}gU.exports=qge});var bU=j((U$e,yU)=>{"use strict";var Uge=Object.prototype,Hge=Uge.toString;function Gge(r){return Hge.call(r)}yU.exports=Gge});var nc=j((H$e,wU)=>{"use strict";var _U=Td(),Wge=vU(),jge=bU(),$ge="[object Null]",Yge="[object Undefined]",xU=_U?_U.toStringTag:void 0;function Xge(r){return r==null?r===void 0?Yge:$ge:xU&&xU in Object(r)?Wge(r):jge(r)}wU.exports=Xge});var Pa=j((G$e,CU)=>{"use strict";function Kge(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}CU.exports=Kge});var kh=j((W$e,EU)=>{"use strict";var Zge=nc(),Qge=Pa(),Jge="[object AsyncFunction]",eve="[object Function]",tve="[object GeneratorFunction]",rve="[object Proxy]";function ive(r){if(!Qge(r))return!1;var t=Zge(r);return t==eve||t==tve||t==Jge||t==rve}EU.exports=ive});var MU=j((j$e,SU)=>{"use strict";var nve=uo(),ave=nve["__core-js_shared__"];SU.exports=ave});var AU=j(($$e,TU)=>{"use strict";var pD=MU(),DU=function(){var r=/[^.]+$/.exec(pD&&pD.keys&&pD.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function ove(r){return!!DU&&DU in r}TU.exports=ove});var gD=j((Y$e,RU)=>{"use strict";var sve=Function.prototype,lve=sve.toString;function cve(r){if(r!=null){try{return lve.call(r)}catch{}try{return r+""}catch{}}return""}RU.exports=cve});var OU=j((X$e,IU)=>{"use strict";var dve=kh(),uve=AU(),hve=Pa(),fve=gD(),mve=/[\\^$.*+?()[\]{}|]/g,pve=/^\[object .+?Constructor\]$/,gve=Function.prototype,vve=Object.prototype,yve=gve.toString,bve=vve.hasOwnProperty,_ve=RegExp("^"+yve.call(bve).replace(mve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xve(r){if(!hve(r)||uve(r))return!1;var t=dve(r)?_ve:pve;return t.test(fve(r))}IU.exports=xve});var PU=j((K$e,kU)=>{"use strict";function wve(r,t){return r?.[t]}kU.exports=wve});var ac=j((Z$e,LU)=>{"use strict";var Cve=OU(),Eve=PU();function Sve(r,t){var e=Eve(r,t);return Cve(e)?e:void 0}LU.exports=Sve});var C0=j((Q$e,FU)=>{"use strict";var Mve=ac(),Dve=uo(),Tve=Mve(Dve,"Map");FU.exports=Tve});var Ip=j((J$e,NU)=>{"use strict";var Ave=ac(),Rve=Ave(Object,"create");NU.exports=Rve});var zU=j((eYe,VU)=>{"use strict";var BU=Ip();function Ive(){this.__data__=BU?BU(null):{},this.size=0}VU.exports=Ive});var UU=j((tYe,qU)=>{"use strict";function Ove(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}qU.exports=Ove});var GU=j((rYe,HU)=>{"use strict";var kve=Ip(),Pve="__lodash_hash_undefined__",Lve=Object.prototype,Fve=Lve.hasOwnProperty;function Nve(r){var t=this.__data__;if(kve){var e=t[r];return e===Pve?void 0:e}return Fve.call(t,r)?t[r]:void 0}HU.exports=Nve});var jU=j((iYe,WU)=>{"use strict";var Bve=Ip(),Vve=Object.prototype,zve=Vve.hasOwnProperty;function qve(r){var t=this.__data__;return Bve?t[r]!==void 0:zve.call(t,r)}WU.exports=qve});var YU=j((nYe,$U)=>{"use strict";var Uve=Ip(),Hve="__lodash_hash_undefined__";function Gve(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=Uve&&t===void 0?Hve:t,this}$U.exports=Gve});var KU=j((aYe,XU)=>{"use strict";var Wve=zU(),jve=UU(),$ve=GU(),Yve=jU(),Xve=YU();function Ph(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Ph.prototype.clear=Wve;Ph.prototype.delete=jve;Ph.prototype.get=$ve;Ph.prototype.has=Yve;Ph.prototype.set=Xve;XU.exports=Ph});var JU=j((oYe,QU)=>{"use strict";var ZU=KU(),Kve=Ap(),Zve=C0();function Qve(){this.size=0,this.__data__={hash:new ZU,map:new(Zve||Kve),string:new ZU}}QU.exports=Qve});var t5=j((sYe,e5)=>{"use strict";function Jve(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}e5.exports=Jve});var Op=j((lYe,r5)=>{"use strict";var eye=t5();function tye(r,t){var e=r.__data__;return eye(t)?e[typeof t=="string"?"string":"hash"]:e.map}r5.exports=tye});var n5=j((cYe,i5)=>{"use strict";var rye=Op();function iye(r){var t=rye(this,r).delete(r);return this.size-=t?1:0,t}i5.exports=iye});var o5=j((dYe,a5)=>{"use strict";var nye=Op();function aye(r){return nye(this,r).get(r)}a5.exports=aye});var l5=j((uYe,s5)=>{"use strict";var oye=Op();function sye(r){return oye(this,r).has(r)}s5.exports=sye});var d5=j((hYe,c5)=>{"use strict";var lye=Op();function cye(r,t){var e=lye(this,r),i=e.size;return e.set(r,t),this.size+=e.size==i?0:1,this}c5.exports=cye});var E0=j((fYe,u5)=>{"use strict";var dye=JU(),uye=n5(),hye=o5(),fye=l5(),mye=d5();function Lh(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var i=r[t];this.set(i[0],i[1])}}Lh.prototype.clear=dye;Lh.prototype.delete=uye;Lh.prototype.get=hye;Lh.prototype.has=fye;Lh.prototype.set=mye;u5.exports=Lh});var f5=j((mYe,h5)=>{"use strict";var pye=Ap(),gye=C0(),vye=E0(),yye=200;function bye(r,t){var e=this.__data__;if(e instanceof pye){var i=e.__data__;if(!gye||i.length<yye-1)return i.push([r,t]),this.size=++e.size,this;e=this.__data__=new vye(i)}return e.set(r,t),this.size=e.size,this}h5.exports=bye});var kp=j((pYe,m5)=>{"use strict";var _ye=Ap(),xye=nU(),wye=oU(),Cye=lU(),Eye=dU(),Sye=f5();function Fh(r){var t=this.__data__=new _ye(r);this.size=t.size}Fh.prototype.clear=xye;Fh.prototype.delete=wye;Fh.prototype.get=Cye;Fh.prototype.has=Eye;Fh.prototype.set=Sye;m5.exports=Fh});var S0=j((gYe,p5)=>{"use strict";function Mye(r,t){for(var e=-1,i=r==null?0:r.length;++e<i&&t(r[e],e,r)!==!1;);return r}p5.exports=Mye});var vD=j((vYe,g5)=>{"use strict";var Dye=ac(),Tye=function(){try{var r=Dye(Object,"defineProperty");return r({},"",{}),r}catch{}}();g5.exports=Tye});var Pp=j((yYe,y5)=>{"use strict";var v5=vD();function Aye(r,t,e){t=="__proto__"&&v5?v5(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}y5.exports=Aye});var Lp=j((bYe,b5)=>{"use strict";var Rye=Pp(),Iye=Dd(),Oye=Object.prototype,kye=Oye.hasOwnProperty;function Pye(r,t,e){var i=r[t];(!(kye.call(r,t)&&Iye(i,e))||e===void 0&&!(t in r))&&Rye(r,t,e)}b5.exports=Pye});var Nh=j((_Ye,_5)=>{"use strict";var Lye=Lp(),Fye=Pp();function Nye(r,t,e,i){var n=!e;e||(e={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(e[s],r[s],s,e,r):void 0;l===void 0&&(l=r[s]),n?Fye(e,s,l):Lye(e,s,l)}return e}_5.exports=Nye});var w5=j((xYe,x5)=>{"use strict";function Bye(r,t){for(var e=-1,i=Array(r);++e<r;)i[e]=t(e);return i}x5.exports=Bye});var Lo=j((wYe,C5)=>{"use strict";function Vye(r){return r!=null&&typeof r=="object"}C5.exports=Vye});var S5=j((CYe,E5)=>{"use strict";var zye=nc(),qye=Lo(),Uye="[object Arguments]";function Hye(r){return qye(r)&&zye(r)==Uye}E5.exports=Hye});var Bh=j((EYe,T5)=>{"use strict";var M5=S5(),Gye=Lo(),D5=Object.prototype,Wye=D5.hasOwnProperty,jye=D5.propertyIsEnumerable,$ye=M5(function(){return arguments}())?M5:function(r){return Gye(r)&&Wye.call(r,"callee")&&!jye.call(r,"callee")};T5.exports=$ye});var Hi=j((SYe,A5)=>{"use strict";var Yye=Array.isArray;A5.exports=Yye});var I5=j((MYe,R5)=>{"use strict";function Xye(){return!1}R5.exports=Xye});var Ad=j((Fp,Vh)=>{"use strict";var Kye=uo(),Zye=I5(),P5=typeof Fp=="object"&&Fp&&!Fp.nodeType&&Fp,O5=P5&&typeof Vh=="object"&&Vh&&!Vh.nodeType&&Vh,Qye=O5&&O5.exports===P5,k5=Qye?Kye.Buffer:void 0,Jye=k5?k5.isBuffer:void 0,ebe=Jye||Zye;Vh.exports=ebe});var Np=j((DYe,L5)=>{"use strict";var tbe=9007199254740991,rbe=/^(?:0|[1-9]\d*)$/;function ibe(r,t){var e=typeof r;return t=t??tbe,!!t&&(e=="number"||e!="symbol"&&rbe.test(r))&&r>-1&&r%1==0&&r<t}L5.exports=ibe});var M0=j((TYe,F5)=>{"use strict";var nbe=9007199254740991;function abe(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=nbe}F5.exports=abe});var B5=j((AYe,N5)=>{"use strict";var obe=nc(),sbe=M0(),lbe=Lo(),cbe="[object Arguments]",dbe="[object Array]",ube="[object Boolean]",hbe="[object Date]",fbe="[object Error]",mbe="[object Function]",pbe="[object Map]",gbe="[object Number]",vbe="[object Object]",ybe="[object RegExp]",bbe="[object Set]",_be="[object String]",xbe="[object WeakMap]",wbe="[object ArrayBuffer]",Cbe="[object DataView]",Ebe="[object Float32Array]",Sbe="[object Float64Array]",Mbe="[object Int8Array]",Dbe="[object Int16Array]",Tbe="[object Int32Array]",Abe="[object Uint8Array]",Rbe="[object Uint8ClampedArray]",Ibe="[object Uint16Array]",Obe="[object Uint32Array]",vi={};vi[Ebe]=vi[Sbe]=vi[Mbe]=vi[Dbe]=vi[Tbe]=vi[Abe]=vi[Rbe]=vi[Ibe]=vi[Obe]=!0;vi[cbe]=vi[dbe]=vi[wbe]=vi[ube]=vi[Cbe]=vi[hbe]=vi[fbe]=vi[mbe]=vi[pbe]=vi[gbe]=vi[vbe]=vi[ybe]=vi[bbe]=vi[_be]=vi[xbe]=!1;function kbe(r){return lbe(r)&&sbe(r.length)&&!!vi[obe(r)]}N5.exports=kbe});var Bp=j((RYe,V5)=>{"use strict";function Pbe(r){return function(t){return r(t)}}V5.exports=Pbe});var D0=j((Vp,zh)=>{"use strict";var Lbe=mD(),z5=typeof Vp=="object"&&Vp&&!Vp.nodeType&&Vp,zp=z5&&typeof zh=="object"&&zh&&!zh.nodeType&&zh,Fbe=zp&&zp.exports===z5,yD=Fbe&&Lbe.process,Nbe=function(){try{var r=zp&&zp.require&&zp.require("util").types;return r||yD&&yD.binding&&yD.binding("util")}catch{}}();zh.exports=Nbe});var qh=j((IYe,H5)=>{"use strict";var Bbe=B5(),Vbe=Bp(),q5=D0(),U5=q5&&q5.isTypedArray,zbe=U5?Vbe(U5):Bbe;H5.exports=zbe});var bD=j((OYe,G5)=>{"use strict";var qbe=w5(),Ube=Bh(),Hbe=Hi(),Gbe=Ad(),Wbe=Np(),jbe=qh(),$be=Object.prototype,Ybe=$be.hasOwnProperty;function Xbe(r,t){var e=Hbe(r),i=!e&&Ube(r),n=!e&&!i&&Gbe(r),a=!e&&!i&&!n&&jbe(r),o=e||i||n||a,s=o?qbe(r.length,String):[],l=s.length;for(var c in r)(t||Ybe.call(r,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Wbe(c,l)))&&s.push(c);return s}G5.exports=Xbe});var qp=j((kYe,W5)=>{"use strict";var Kbe=Object.prototype;function Zbe(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||Kbe;return r===e}W5.exports=Zbe});var _D=j((PYe,j5)=>{"use strict";function Qbe(r,t){return function(e){return r(t(e))}}j5.exports=Qbe});var Y5=j((LYe,$5)=>{"use strict";var Jbe=_D(),e0e=Jbe(Object.keys,Object);$5.exports=e0e});var T0=j((FYe,X5)=>{"use strict";var t0e=qp(),r0e=Y5(),i0e=Object.prototype,n0e=i0e.hasOwnProperty;function a0e(r){if(!t0e(r))return r0e(r);var t=[];for(var e in Object(r))n0e.call(r,e)&&e!="constructor"&&t.push(e);return t}X5.exports=a0e});var as=j((NYe,K5)=>{"use strict";var o0e=kh(),s0e=M0();function l0e(r){return r!=null&&s0e(r.length)&&!o0e(r)}K5.exports=l0e});var Ws=j((BYe,Z5)=>{"use strict";var c0e=bD(),d0e=T0(),u0e=as();function h0e(r){return u0e(r)?c0e(r):d0e(r)}Z5.exports=h0e});var J5=j((VYe,Q5)=>{"use strict";var f0e=Nh(),m0e=Ws();function p0e(r,t){return r&&f0e(t,m0e(t),r)}Q5.exports=p0e});var tH=j((zYe,eH)=>{"use strict";function g0e(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}eH.exports=g0e});var iH=j((qYe,rH)=>{"use strict";var v0e=Pa(),y0e=qp(),b0e=tH(),_0e=Object.prototype,x0e=_0e.hasOwnProperty;function w0e(r){if(!v0e(r))return b0e(r);var t=y0e(r),e=[];for(var i in r)i=="constructor"&&(t||!x0e.call(r,i))||e.push(i);return e}rH.exports=w0e});var oc=j((UYe,nH)=>{"use strict";var C0e=bD(),E0e=iH(),S0e=as();function M0e(r){return S0e(r)?C0e(r,!0):E0e(r)}nH.exports=M0e});var oH=j((HYe,aH)=>{"use strict";var D0e=Nh(),T0e=oc();function A0e(r,t){return r&&D0e(t,T0e(t),r)}aH.exports=A0e});var xD=j((Up,Uh)=>{"use strict";var R0e=uo(),dH=typeof Up=="object"&&Up&&!Up.nodeType&&Up,sH=dH&&typeof Uh=="object"&&Uh&&!Uh.nodeType&&Uh,I0e=sH&&sH.exports===dH,lH=I0e?R0e.Buffer:void 0,cH=lH?lH.allocUnsafe:void 0;function O0e(r,t){if(t)return r.slice();var e=r.length,i=cH?cH(e):new r.constructor(e);return r.copy(i),i}Uh.exports=O0e});var wD=j((GYe,uH)=>{"use strict";function k0e(r,t){var e=-1,i=r.length;for(t||(t=Array(i));++e<i;)t[e]=r[e];return t}uH.exports=k0e});var CD=j((WYe,hH)=>{"use strict";function P0e(r,t){for(var e=-1,i=r==null?0:r.length,n=0,a=[];++e<i;){var o=r[e];t(o,e,r)&&(a[n++]=o)}return a}hH.exports=P0e});var ED=j((jYe,fH)=>{"use strict";function L0e(){return[]}fH.exports=L0e});var A0=j(($Ye,pH)=>{"use strict";var F0e=CD(),N0e=ED(),B0e=Object.prototype,V0e=B0e.propertyIsEnumerable,mH=Object.getOwnPropertySymbols,z0e=mH?function(r){return r==null?[]:(r=Object(r),F0e(mH(r),function(t){return V0e.call(r,t)}))}:N0e;pH.exports=z0e});var vH=j((YYe,gH)=>{"use strict";var q0e=Nh(),U0e=A0();function H0e(r,t){return q0e(r,U0e(r),t)}gH.exports=H0e});var R0=j((XYe,yH)=>{"use strict";function G0e(r,t){for(var e=-1,i=t.length,n=r.length;++e<i;)r[n+e]=t[e];return r}yH.exports=G0e});var Hp=j((KYe,bH)=>{"use strict";var W0e=_D(),j0e=W0e(Object.getPrototypeOf,Object);bH.exports=j0e});var SD=j((ZYe,_H)=>{"use strict";var $0e=R0(),Y0e=Hp(),X0e=A0(),K0e=ED(),Z0e=Object.getOwnPropertySymbols,Q0e=Z0e?function(r){for(var t=[];r;)$0e(t,X0e(r)),r=Y0e(r);return t}:K0e;_H.exports=Q0e});var wH=j((QYe,xH)=>{"use strict";var J0e=Nh(),e_e=SD();function t_e(r,t){return J0e(r,e_e(r),t)}xH.exports=t_e});var MD=j((JYe,CH)=>{"use strict";var r_e=R0(),i_e=Hi();function n_e(r,t,e){var i=t(r);return i_e(r)?i:r_e(i,e(r))}CH.exports=n_e});var DD=j((e8e,EH)=>{"use strict";var a_e=MD(),o_e=A0(),s_e=Ws();function l_e(r){return a_e(r,s_e,o_e)}EH.exports=l_e});var MH=j((t8e,SH)=>{"use strict";var c_e=MD(),d_e=SD(),u_e=oc();function h_e(r){return c_e(r,u_e,d_e)}SH.exports=h_e});var TH=j((r8e,DH)=>{"use strict";var f_e=ac(),m_e=uo(),p_e=f_e(m_e,"DataView");DH.exports=p_e});var RH=j((i8e,AH)=>{"use strict";var g_e=ac(),v_e=uo(),y_e=g_e(v_e,"Promise");AH.exports=y_e});var TD=j((n8e,IH)=>{"use strict";var b_e=ac(),__e=uo(),x_e=b_e(__e,"Set");IH.exports=x_e});var kH=j((a8e,OH)=>{"use strict";var w_e=ac(),C_e=uo(),E_e=w_e(C_e,"WeakMap");OH.exports=E_e});var Id=j((o8e,zH)=>{"use strict";var AD=TH(),RD=C0(),ID=RH(),OD=TD(),kD=kH(),VH=nc(),Hh=gD(),PH="[object Map]",S_e="[object Object]",LH="[object Promise]",FH="[object Set]",NH="[object WeakMap]",BH="[object DataView]",M_e=Hh(AD),D_e=Hh(RD),T_e=Hh(ID),A_e=Hh(OD),R_e=Hh(kD),Rd=VH;(AD&&Rd(new AD(new ArrayBuffer(1)))!=BH||RD&&Rd(new RD)!=PH||ID&&Rd(ID.resolve())!=LH||OD&&Rd(new OD)!=FH||kD&&Rd(new kD)!=NH)&&(Rd=function(r){var t=VH(r),e=t==S_e?r.constructor:void 0,i=e?Hh(e):"";if(i)switch(i){case M_e:return BH;case D_e:return PH;case T_e:return LH;case A_e:return FH;case R_e:return NH}return t});zH.exports=Rd});var UH=j((s8e,qH)=>{"use strict";var I_e=Object.prototype,O_e=I_e.hasOwnProperty;function k_e(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&O_e.call(r,"index")&&(e.index=r.index,e.input=r.input),e}qH.exports=k_e});var PD=j((l8e,HH)=>{"use strict";var P_e=uo(),L_e=P_e.Uint8Array;HH.exports=L_e});var I0=j((c8e,WH)=>{"use strict";var GH=PD();function F_e(r){var t=new r.constructor(r.byteLength);return new GH(t).set(new GH(r)),t}WH.exports=F_e});var $H=j((d8e,jH)=>{"use strict";var N_e=I0();function B_e(r,t){var e=t?N_e(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}jH.exports=B_e});var XH=j((u8e,YH)=>{"use strict";var V_e=/\w*$/;function z_e(r){var t=new r.constructor(r.source,V_e.exec(r));return t.lastIndex=r.lastIndex,t}YH.exports=z_e});var eG=j((h8e,JH)=>{"use strict";var KH=Td(),ZH=KH?KH.prototype:void 0,QH=ZH?ZH.valueOf:void 0;function q_e(r){return QH?Object(QH.call(r)):{}}JH.exports=q_e});var LD=j((f8e,tG)=>{"use strict";var U_e=I0();function H_e(r,t){var e=t?U_e(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}tG.exports=H_e});var iG=j((m8e,rG)=>{"use strict";var G_e=I0(),W_e=$H(),j_e=XH(),$_e=eG(),Y_e=LD(),X_e="[object Boolean]",K_e="[object Date]",Z_e="[object Map]",Q_e="[object Number]",J_e="[object RegExp]",exe="[object Set]",txe="[object String]",rxe="[object Symbol]",ixe="[object ArrayBuffer]",nxe="[object DataView]",axe="[object Float32Array]",oxe="[object Float64Array]",sxe="[object Int8Array]",lxe="[object Int16Array]",cxe="[object Int32Array]",dxe="[object Uint8Array]",uxe="[object Uint8ClampedArray]",hxe="[object Uint16Array]",fxe="[object Uint32Array]";function mxe(r,t,e){var i=r.constructor;switch(t){case ixe:return G_e(r);case X_e:case K_e:return new i(+r);case nxe:return W_e(r,e);case axe:case oxe:case sxe:case lxe:case cxe:case dxe:case uxe:case hxe:case fxe:return Y_e(r,e);case Z_e:return new i;case Q_e:case txe:return new i(r);case J_e:return j_e(r);case exe:return new i;case rxe:return $_e(r)}}rG.exports=mxe});var FD=j((p8e,aG)=>{"use strict";var pxe=Pa(),nG=Object.create,gxe=function(){function r(){}return function(t){if(!pxe(t))return{};if(nG)return nG(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();aG.exports=gxe});var ND=j((g8e,oG)=>{"use strict";var vxe=FD(),yxe=Hp(),bxe=qp();function _xe(r){return typeof r.constructor=="function"&&!bxe(r)?vxe(yxe(r)):{}}oG.exports=_xe});var lG=j((v8e,sG)=>{"use strict";var xxe=Id(),wxe=Lo(),Cxe="[object Map]";function Exe(r){return wxe(r)&&xxe(r)==Cxe}sG.exports=Exe});var hG=j((y8e,uG)=>{"use strict";var Sxe=lG(),Mxe=Bp(),cG=D0(),dG=cG&&cG.isMap,Dxe=dG?Mxe(dG):Sxe;uG.exports=Dxe});var mG=j((b8e,fG)=>{"use strict";var Txe=Id(),Axe=Lo(),Rxe="[object Set]";function Ixe(r){return Axe(r)&&Txe(r)==Rxe}fG.exports=Ixe});var yG=j((_8e,vG)=>{"use strict";var Oxe=mG(),kxe=Bp(),pG=D0(),gG=pG&&pG.isSet,Pxe=gG?kxe(gG):Oxe;vG.exports=Pxe});var BD=j((x8e,wG)=>{"use strict";var Lxe=kp(),Fxe=S0(),Nxe=Lp(),Bxe=J5(),Vxe=oH(),zxe=xD(),qxe=wD(),Uxe=vH(),Hxe=wH(),Gxe=DD(),Wxe=MH(),jxe=Id(),$xe=UH(),Yxe=iG(),Xxe=ND(),Kxe=Hi(),Zxe=Ad(),Qxe=hG(),Jxe=Pa(),ewe=yG(),twe=Ws(),rwe=oc(),iwe=1,nwe=2,awe=4,bG="[object Arguments]",owe="[object Array]",swe="[object Boolean]",lwe="[object Date]",cwe="[object Error]",_G="[object Function]",dwe="[object GeneratorFunction]",uwe="[object Map]",hwe="[object Number]",xG="[object Object]",fwe="[object RegExp]",mwe="[object Set]",pwe="[object String]",gwe="[object Symbol]",vwe="[object WeakMap]",ywe="[object ArrayBuffer]",bwe="[object DataView]",_we="[object Float32Array]",xwe="[object Float64Array]",wwe="[object Int8Array]",Cwe="[object Int16Array]",Ewe="[object Int32Array]",Swe="[object Uint8Array]",Mwe="[object Uint8ClampedArray]",Dwe="[object Uint16Array]",Twe="[object Uint32Array]",ui={};ui[bG]=ui[owe]=ui[ywe]=ui[bwe]=ui[swe]=ui[lwe]=ui[_we]=ui[xwe]=ui[wwe]=ui[Cwe]=ui[Ewe]=ui[uwe]=ui[hwe]=ui[xG]=ui[fwe]=ui[mwe]=ui[pwe]=ui[gwe]=ui[Swe]=ui[Mwe]=ui[Dwe]=ui[Twe]=!0;ui[cwe]=ui[_G]=ui[vwe]=!1;function O0(r,t,e,i,n,a){var o,s=t&iwe,l=t&nwe,c=t&awe;if(e&&(o=n?e(r,i,n,a):e(r)),o!==void 0)return o;if(!Jxe(r))return r;var d=Kxe(r);if(d){if(o=$xe(r),!s)return qxe(r,o)}else{var u=jxe(r),f=u==_G||u==dwe;if(Zxe(r))return zxe(r,s);if(u==xG||u==bG||f&&!n){if(o=l||f?{}:Xxe(r),!s)return l?Hxe(r,Vxe(o,r)):Uxe(r,Bxe(o,r))}else{if(!ui[u])return n?r:{};o=Yxe(r,u,s)}}a||(a=new Lxe);var m=a.get(r);if(m)return m;a.set(r,o),ewe(r)?r.forEach(function(y){o.add(O0(y,t,e,y,r,a))}):Qxe(r)&&r.forEach(function(y,b){o.set(b,O0(y,t,e,b,r,a))});var g=c?l?Wxe:Gxe:l?rwe:twe,v=d?void 0:g(r);return Fxe(v||r,function(y,b){v&&(b=y,y=r[b]),Nxe(o,b,O0(y,t,e,b,r,a))}),o}wG.exports=O0});var EG=j((w8e,CG)=>{"use strict";var Awe=BD(),Rwe=4;function Iwe(r){return Awe(r,Rwe)}CG.exports=Iwe});var k0=j((C8e,SG)=>{"use strict";function Owe(r){return function(){return r}}SG.exports=Owe});var DG=j((E8e,MG)=>{"use strict";function kwe(r){return function(t,e,i){for(var n=-1,a=Object(t),o=i(t),s=o.length;s--;){var l=o[r?s:++n];if(e(a[l],l,a)===!1)break}return t}}MG.exports=kwe});var P0=j((S8e,TG)=>{"use strict";var Pwe=DG(),Lwe=Pwe();TG.exports=Lwe});var L0=j((M8e,AG)=>{"use strict";var Fwe=P0(),Nwe=Ws();function Bwe(r,t){return r&&Fwe(r,t,Nwe)}AG.exports=Bwe});var IG=j((D8e,RG)=>{"use strict";var Vwe=as();function zwe(r,t){return function(e,i){if(e==null)return e;if(!Vwe(e))return r(e,i);for(var n=e.length,a=t?n:-1,o=Object(e);(t?a--:++a<n)&&i(o[a],a,o)!==!1;);return e}}RG.exports=zwe});var Gp=j((T8e,OG)=>{"use strict";var qwe=L0(),Uwe=IG(),Hwe=Uwe(qwe);OG.exports=Hwe});var sc=j((A8e,kG)=>{"use strict";function Gwe(r){return r}kG.exports=Gwe});var VD=j((R8e,PG)=>{"use strict";var Wwe=sc();function jwe(r){return typeof r=="function"?r:Wwe}PG.exports=jwe});var zD=j((I8e,LG)=>{"use strict";var $we=S0(),Ywe=Gp(),Xwe=VD(),Kwe=Hi();function Zwe(r,t){var e=Kwe(r)?$we:Ywe;return e(r,Xwe(t))}LG.exports=Zwe});var qD=j((O8e,FG)=>{"use strict";FG.exports=zD()});var BG=j((k8e,NG)=>{"use strict";var Qwe=Gp();function Jwe(r,t){var e=[];return Qwe(r,function(i,n,a){t(i,n,a)&&e.push(i)}),e}NG.exports=Jwe});var zG=j((P8e,VG)=>{"use strict";var eCe="__lodash_hash_undefined__";function tCe(r){return this.__data__.set(r,eCe),this}VG.exports=tCe});var UG=j((L8e,qG)=>{"use strict";function rCe(r){return this.__data__.has(r)}qG.exports=rCe});var UD=j((F8e,HG)=>{"use strict";var iCe=E0(),nCe=zG(),aCe=UG();function F0(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new iCe;++t<e;)this.add(r[t])}F0.prototype.add=F0.prototype.push=nCe;F0.prototype.has=aCe;HG.exports=F0});var WG=j((N8e,GG)=>{"use strict";function oCe(r,t){for(var e=-1,i=r==null?0:r.length;++e<i;)if(t(r[e],e,r))return!0;return!1}GG.exports=oCe});var HD=j((B8e,jG)=>{"use strict";function sCe(r,t){return r.has(t)}jG.exports=sCe});var GD=j((V8e,$G)=>{"use strict";var lCe=UD(),cCe=WG(),dCe=HD(),uCe=1,hCe=2;function fCe(r,t,e,i,n,a){var o=e&uCe,s=r.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(r),d=a.get(t);if(c&&d)return c==t&&d==r;var u=-1,f=!0,m=e&hCe?new lCe:void 0;for(a.set(r,t),a.set(t,r);++u<s;){var g=r[u],v=t[u];if(i)var y=o?i(v,g,u,t,r,a):i(g,v,u,r,t,a);if(y!==void 0){if(y)continue;f=!1;break}if(m){if(!cCe(t,function(b,_){if(!dCe(m,_)&&(g===b||n(g,b,e,i,a)))return m.push(_)})){f=!1;break}}else if(!(g===v||n(g,v,e,i,a))){f=!1;break}}return a.delete(r),a.delete(t),f}$G.exports=fCe});var XG=j((z8e,YG)=>{"use strict";function mCe(r){var t=-1,e=Array(r.size);return r.forEach(function(i,n){e[++t]=[n,i]}),e}YG.exports=mCe});var N0=j((q8e,KG)=>{"use strict";function pCe(r){var t=-1,e=Array(r.size);return r.forEach(function(i){e[++t]=i}),e}KG.exports=pCe});var tW=j((U8e,eW)=>{"use strict";var ZG=Td(),QG=PD(),gCe=Dd(),vCe=GD(),yCe=XG(),bCe=N0(),_Ce=1,xCe=2,wCe="[object Boolean]",CCe="[object Date]",ECe="[object Error]",SCe="[object Map]",MCe="[object Number]",DCe="[object RegExp]",TCe="[object Set]",ACe="[object String]",RCe="[object Symbol]",ICe="[object ArrayBuffer]",OCe="[object DataView]",JG=ZG?ZG.prototype:void 0,WD=JG?JG.valueOf:void 0;function kCe(r,t,e,i,n,a,o){switch(e){case OCe:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case ICe:return!(r.byteLength!=t.byteLength||!a(new QG(r),new QG(t)));case wCe:case CCe:case MCe:return gCe(+r,+t);case ECe:return r.name==t.name&&r.message==t.message;case DCe:case ACe:return r==t+"";case SCe:var s=yCe;case TCe:var l=i&_Ce;if(s||(s=bCe),r.size!=t.size&&!l)return!1;var c=o.get(r);if(c)return c==t;i|=xCe,o.set(r,t);var d=vCe(s(r),s(t),i,n,a,o);return o.delete(r),d;case RCe:if(WD)return WD.call(r)==WD.call(t)}return!1}eW.exports=kCe});var nW=j((H8e,iW)=>{"use strict";var rW=DD(),PCe=1,LCe=Object.prototype,FCe=LCe.hasOwnProperty;function NCe(r,t,e,i,n,a){var o=e&PCe,s=rW(r),l=s.length,c=rW(t),d=c.length;if(l!=d&&!o)return!1;for(var u=l;u--;){var f=s[u];if(!(o?f in t:FCe.call(t,f)))return!1}var m=a.get(r),g=a.get(t);if(m&&g)return m==t&&g==r;var v=!0;a.set(r,t),a.set(t,r);for(var y=o;++u<l;){f=s[u];var b=r[f],_=t[f];if(i)var w=o?i(_,b,f,t,r,a):i(b,_,f,r,t,a);if(!(w===void 0?b===_||n(b,_,e,i,a):w)){v=!1;break}y||(y=f=="constructor")}if(v&&!y){var E=r.constructor,S=t.constructor;E!=S&&"constructor"in r&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(v=!1)}return a.delete(r),a.delete(t),v}iW.exports=NCe});var hW=j((G8e,uW)=>{"use strict";var jD=kp(),BCe=GD(),VCe=tW(),zCe=nW(),aW=Id(),oW=Hi(),sW=Ad(),qCe=qh(),UCe=1,lW="[object Arguments]",cW="[object Array]",B0="[object Object]",HCe=Object.prototype,dW=HCe.hasOwnProperty;function GCe(r,t,e,i,n,a){var o=oW(r),s=oW(t),l=o?cW:aW(r),c=s?cW:aW(t);l=l==lW?B0:l,c=c==lW?B0:c;var d=l==B0,u=c==B0,f=l==c;if(f&&sW(r)){if(!sW(t))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new jD),o||qCe(r)?BCe(r,t,e,i,n,a):VCe(r,t,l,e,i,n,a);if(!(e&UCe)){var m=d&&dW.call(r,"__wrapped__"),g=u&&dW.call(t,"__wrapped__");if(m||g){var v=m?r.value():r,y=g?t.value():t;return a||(a=new jD),n(v,y,e,i,a)}}return f?(a||(a=new jD),zCe(r,t,e,i,n,a)):!1}uW.exports=GCe});var $D=j((W8e,pW)=>{"use strict";var WCe=hW(),fW=Lo();function mW(r,t,e,i,n){return r===t?!0:r==null||t==null||!fW(r)&&!fW(t)?r!==r&&t!==t:WCe(r,t,e,i,mW,n)}pW.exports=mW});var vW=j((j8e,gW)=>{"use strict";var jCe=kp(),$Ce=$D(),YCe=1,XCe=2;function KCe(r,t,e,i){var n=e.length,a=n,o=!i;if(r==null)return!a;for(r=Object(r);n--;){var s=e[n];if(o&&s[2]?s[1]!==r[s[0]]:!(s[0]in r))return!1}for(;++n<a;){s=e[n];var l=s[0],c=r[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in r))return!1}else{var u=new jCe;if(i)var f=i(c,d,l,r,t,u);if(!(f===void 0?$Ce(d,c,YCe|XCe,i,u):f))return!1}}return!0}gW.exports=KCe});var YD=j(($8e,yW)=>{"use strict";var ZCe=Pa();function QCe(r){return r===r&&!ZCe(r)}yW.exports=QCe});var _W=j((Y8e,bW)=>{"use strict";var JCe=YD(),eEe=Ws();function tEe(r){for(var t=eEe(r),e=t.length;e--;){var i=t[e],n=r[i];t[e]=[i,n,JCe(n)]}return t}bW.exports=tEe});var XD=j((X8e,xW)=>{"use strict";function rEe(r,t){return function(e){return e==null?!1:e[r]===t&&(t!==void 0||r in Object(e))}}xW.exports=rEe});var CW=j((K8e,wW)=>{"use strict";var iEe=vW(),nEe=_W(),aEe=XD();function oEe(r){var t=nEe(r);return t.length==1&&t[0][2]?aEe(t[0][0],t[0][1]):function(e){return e===r||iEe(e,r,t)}}wW.exports=oEe});var Od=j((Z8e,EW)=>{"use strict";var sEe=nc(),lEe=Lo(),cEe="[object Symbol]";function dEe(r){return typeof r=="symbol"||lEe(r)&&sEe(r)==cEe}EW.exports=dEe});var V0=j((Q8e,SW)=>{"use strict";var uEe=Hi(),hEe=Od(),fEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mEe=/^\w*$/;function pEe(r,t){if(uEe(r))return!1;var e=typeof r;return e=="number"||e=="symbol"||e=="boolean"||r==null||hEe(r)?!0:mEe.test(r)||!fEe.test(r)||t!=null&&r in Object(t)}SW.exports=pEe});var TW=j((J8e,DW)=>{"use strict";var MW=E0(),gEe="Expected a function";function KD(r,t){if(typeof r!="function"||t!=null&&typeof t!="function")throw new TypeError(gEe);var e=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=e.cache;if(a.has(n))return a.get(n);var o=r.apply(this,i);return e.cache=a.set(n,o)||a,o};return e.cache=new(KD.Cache||MW),e}KD.Cache=MW;DW.exports=KD});var RW=j((eXe,AW)=>{"use strict";var vEe=TW(),yEe=500;function bEe(r){var t=vEe(r,function(i){return e.size===yEe&&e.clear(),i}),e=t.cache;return t}AW.exports=bEe});var OW=j((tXe,IW)=>{"use strict";var _Ee=RW(),xEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wEe=/\\(\\)?/g,CEe=_Ee(function(r){var t=[];return r.charCodeAt(0)===46&&t.push(""),r.replace(xEe,function(e,i,n,a){t.push(n?a.replace(wEe,"$1"):i||e)}),t});IW.exports=CEe});var Wp=j((rXe,kW)=>{"use strict";function EEe(r,t){for(var e=-1,i=r==null?0:r.length,n=Array(i);++e<i;)n[e]=t(r[e],e,r);return n}kW.exports=EEe});var VW=j((iXe,BW)=>{"use strict";var PW=Td(),SEe=Wp(),MEe=Hi(),DEe=Od(),TEe=1/0,LW=PW?PW.prototype:void 0,FW=LW?LW.toString:void 0;function NW(r){if(typeof r=="string")return r;if(MEe(r))return SEe(r,NW)+"";if(DEe(r))return FW?FW.call(r):"";var t=r+"";return t=="0"&&1/r==-TEe?"-0":t}BW.exports=NW});var ZD=j((nXe,zW)=>{"use strict";var AEe=VW();function REe(r){return r==null?"":AEe(r)}zW.exports=REe});var jp=j((aXe,qW)=>{"use strict";var IEe=Hi(),OEe=V0(),kEe=OW(),PEe=ZD();function LEe(r,t){return IEe(r)?r:OEe(r,t)?[r]:kEe(PEe(r))}qW.exports=LEe});var Gh=j((oXe,UW)=>{"use strict";var FEe=Od(),NEe=1/0;function BEe(r){if(typeof r=="string"||FEe(r))return r;var t=r+"";return t=="0"&&1/r==-NEe?"-0":t}UW.exports=BEe});var $p=j((sXe,HW)=>{"use strict";var VEe=jp(),zEe=Gh();function qEe(r,t){t=VEe(t,r);for(var e=0,i=t.length;r!=null&&e<i;)r=r[zEe(t[e++])];return e&&e==i?r:void 0}HW.exports=qEe});var WW=j((lXe,GW)=>{"use strict";var UEe=$p();function HEe(r,t,e){var i=r==null?void 0:UEe(r,t);return i===void 0?e:i}GW.exports=HEe});var $W=j((cXe,jW)=>{"use strict";function GEe(r,t){return r!=null&&t in Object(r)}jW.exports=GEe});var QD=j((dXe,YW)=>{"use strict";var WEe=jp(),jEe=Bh(),$Ee=Hi(),YEe=Np(),XEe=M0(),KEe=Gh();function ZEe(r,t,e){t=WEe(t,r);for(var i=-1,n=t.length,a=!1;++i<n;){var o=KEe(t[i]);if(!(a=r!=null&&e(r,o)))break;r=r[o]}return a||++i!=n?a:(n=r==null?0:r.length,!!n&&XEe(n)&&YEe(o,n)&&($Ee(r)||jEe(r)))}YW.exports=ZEe});var JD=j((uXe,XW)=>{"use strict";var QEe=$W(),JEe=QD();function e1e(r,t){return r!=null&&JEe(r,t,QEe)}XW.exports=e1e});var ZW=j((hXe,KW)=>{"use strict";var t1e=$D(),r1e=WW(),i1e=JD(),n1e=V0(),a1e=YD(),o1e=XD(),s1e=Gh(),l1e=1,c1e=2;function d1e(r,t){return n1e(r)&&a1e(t)?o1e(s1e(r),t):function(e){var i=r1e(e,r);return i===void 0&&i===t?i1e(e,r):t1e(t,i,l1e|c1e)}}KW.exports=d1e});var eT=j((fXe,QW)=>{"use strict";function u1e(r){return function(t){return t?.[r]}}QW.exports=u1e});var e3=j((mXe,JW)=>{"use strict";var h1e=$p();function f1e(r){return function(t){return h1e(t,r)}}JW.exports=f1e});var r3=j((pXe,t3)=>{"use strict";var m1e=eT(),p1e=e3(),g1e=V0(),v1e=Gh();function y1e(r){return g1e(r)?m1e(v1e(r)):p1e(r)}t3.exports=y1e});var os=j((gXe,i3)=>{"use strict";var b1e=CW(),_1e=ZW(),x1e=sc(),w1e=Hi(),C1e=r3();function E1e(r){return typeof r=="function"?r:r==null?x1e:typeof r=="object"?w1e(r)?_1e(r[0],r[1]):b1e(r):C1e(r)}i3.exports=E1e});var tT=j((vXe,n3)=>{"use strict";var S1e=CD(),M1e=BG(),D1e=os(),T1e=Hi();function A1e(r,t){var e=T1e(r)?S1e:M1e;return e(r,D1e(t,3))}n3.exports=A1e});var o3=j((yXe,a3)=>{"use strict";var R1e=Object.prototype,I1e=R1e.hasOwnProperty;function O1e(r,t){return r!=null&&I1e.call(r,t)}a3.exports=O1e});var rT=j((bXe,s3)=>{"use strict";var k1e=o3(),P1e=QD();function L1e(r,t){return r!=null&&P1e(r,t,k1e)}s3.exports=L1e});var c3=j((_Xe,l3)=>{"use strict";var F1e=T0(),N1e=Id(),B1e=Bh(),V1e=Hi(),z1e=as(),q1e=Ad(),U1e=qp(),H1e=qh(),G1e="[object Map]",W1e="[object Set]",j1e=Object.prototype,$1e=j1e.hasOwnProperty;function Y1e(r){if(r==null)return!0;if(z1e(r)&&(V1e(r)||typeof r=="string"||typeof r.splice=="function"||q1e(r)||H1e(r)||B1e(r)))return!r.length;var t=N1e(r);if(t==G1e||t==W1e)return!r.size;if(U1e(r))return!F1e(r).length;for(var e in r)if($1e.call(r,e))return!1;return!0}l3.exports=Y1e});var iT=j((xXe,d3)=>{"use strict";function X1e(r){return r===void 0}d3.exports=X1e});var nT=j((wXe,u3)=>{"use strict";var K1e=Gp(),Z1e=as();function Q1e(r,t){var e=-1,i=Z1e(r)?Array(r.length):[];return K1e(r,function(n,a,o){i[++e]=t(n,a,o)}),i}u3.exports=Q1e});var aT=j((CXe,h3)=>{"use strict";var J1e=Wp(),eSe=os(),tSe=nT(),rSe=Hi();function iSe(r,t){var e=rSe(r)?J1e:tSe;return e(r,eSe(t,3))}h3.exports=iSe});var m3=j((EXe,f3)=>{"use strict";function nSe(r,t,e,i){var n=-1,a=r==null?0:r.length;for(i&&a&&(e=r[++n]);++n<a;)e=t(e,r[n],n,r);return e}f3.exports=nSe});var g3=j((SXe,p3)=>{"use strict";function aSe(r,t,e,i,n){return n(r,function(a,o,s){e=i?(i=!1,a):t(e,a,o,s)}),e}p3.exports=aSe});var oT=j((MXe,v3)=>{"use strict";var oSe=m3(),sSe=Gp(),lSe=os(),cSe=g3(),dSe=Hi();function uSe(r,t,e){var i=dSe(r)?oSe:cSe,n=arguments.length<3;return i(r,lSe(t,4),e,n,sSe)}v3.exports=uSe});var b3=j((DXe,y3)=>{"use strict";var hSe=nc(),fSe=Hi(),mSe=Lo(),pSe="[object String]";function gSe(r){return typeof r=="string"||!fSe(r)&&mSe(r)&&hSe(r)==pSe}y3.exports=gSe});var x3=j((TXe,_3)=>{"use strict";var vSe=eT(),ySe=vSe("length");_3.exports=ySe});var C3=j((AXe,w3)=>{"use strict";var bSe="\\ud800-\\udfff",_Se="\\u0300-\\u036f",xSe="\\ufe20-\\ufe2f",wSe="\\u20d0-\\u20ff",CSe=_Se+xSe+wSe,ESe="\\ufe0e\\ufe0f",SSe="\\u200d",MSe=RegExp("["+SSe+bSe+CSe+ESe+"]");function DSe(r){return MSe.test(r)}w3.exports=DSe});var O3=j((RXe,I3)=>{"use strict";var S3="\\ud800-\\udfff",TSe="\\u0300-\\u036f",ASe="\\ufe20-\\ufe2f",RSe="\\u20d0-\\u20ff",ISe=TSe+ASe+RSe,OSe="\\ufe0e\\ufe0f",kSe="["+S3+"]",sT="["+ISe+"]",lT="\\ud83c[\\udffb-\\udfff]",PSe="(?:"+sT+"|"+lT+")",M3="[^"+S3+"]",D3="(?:\\ud83c[\\udde6-\\uddff]){2}",T3="[\\ud800-\\udbff][\\udc00-\\udfff]",LSe="\\u200d",A3=PSe+"?",R3="["+OSe+"]?",FSe="(?:"+LSe+"(?:"+[M3,D3,T3].join("|")+")"+R3+A3+")*",NSe=R3+A3+FSe,BSe="(?:"+[M3+sT+"?",sT,D3,T3,kSe].join("|")+")",E3=RegExp(lT+"(?="+lT+")|"+BSe+NSe,"g");function VSe(r){for(var t=E3.lastIndex=0;E3.test(r);)++t;return t}I3.exports=VSe});var P3=j((IXe,k3)=>{"use strict";var zSe=x3(),qSe=C3(),USe=O3();function HSe(r){return qSe(r)?USe(r):zSe(r)}k3.exports=HSe});var F3=j((OXe,L3)=>{"use strict";var GSe=T0(),WSe=Id(),jSe=as(),$Se=b3(),YSe=P3(),XSe="[object Map]",KSe="[object Set]";function ZSe(r){if(r==null)return 0;if(jSe(r))return $Se(r)?YSe(r):r.length;var t=WSe(r);return t==XSe||t==KSe?r.size:GSe(r).length}L3.exports=ZSe});var B3=j((kXe,N3)=>{"use strict";var QSe=S0(),JSe=FD(),eMe=L0(),tMe=os(),rMe=Hp(),iMe=Hi(),nMe=Ad(),aMe=kh(),oMe=Pa(),sMe=qh();function lMe(r,t,e){var i=iMe(r),n=i||nMe(r)||sMe(r);if(t=tMe(t,4),e==null){var a=r&&r.constructor;n?e=i?new a:[]:oMe(r)?e=aMe(a)?JSe(rMe(r)):{}:e={}}return(n?QSe:eMe)(r,function(o,s,l){return t(e,o,s,l)}),e}N3.exports=lMe});var U3=j((PXe,q3)=>{"use strict";var V3=Td(),cMe=Bh(),dMe=Hi(),z3=V3?V3.isConcatSpreadable:void 0;function uMe(r){return dMe(r)||cMe(r)||!!(z3&&r&&r[z3])}q3.exports=uMe});var z0=j((LXe,G3)=>{"use strict";var hMe=R0(),fMe=U3();function H3(r,t,e,i,n){var a=-1,o=r.length;for(e||(e=fMe),n||(n=[]);++a<o;){var s=r[a];t>0&&e(s)?t>1?H3(s,t-1,e,i,n):hMe(n,s):i||(n[n.length]=s)}return n}G3.exports=H3});var j3=j((FXe,W3)=>{"use strict";function mMe(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}W3.exports=mMe});var cT=j((NXe,Y3)=>{"use strict";var pMe=j3(),$3=Math.max;function gMe(r,t,e){return t=$3(t===void 0?r.length-1:t,0),function(){for(var i=arguments,n=-1,a=$3(i.length-t,0),o=Array(a);++n<a;)o[n]=i[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=i[n];return s[t]=e(o),pMe(r,this,s)}}Y3.exports=gMe});var Z3=j((BXe,K3)=>{"use strict";var vMe=k0(),X3=vD(),yMe=sc(),bMe=X3?function(r,t){return X3(r,"toString",{configurable:!0,enumerable:!1,value:vMe(t),writable:!0})}:yMe;K3.exports=bMe});var J3=j((VXe,Q3)=>{"use strict";var _Me=800,xMe=16,wMe=Date.now;function CMe(r){var t=0,e=0;return function(){var i=wMe(),n=xMe-(i-e);if(e=i,n>0){if(++t>=_Me)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}Q3.exports=CMe});var dT=j((zXe,e4)=>{"use strict";var EMe=Z3(),SMe=J3(),MMe=SMe(EMe);e4.exports=MMe});var Yp=j((qXe,t4)=>{"use strict";var DMe=sc(),TMe=cT(),AMe=dT();function RMe(r,t){return AMe(TMe(r,t,DMe),r+"")}t4.exports=RMe});var uT=j((UXe,r4)=>{"use strict";function IMe(r,t,e,i){for(var n=r.length,a=e+(i?1:-1);i?a--:++a<n;)if(t(r[a],a,r))return a;return-1}r4.exports=IMe});var n4=j((HXe,i4)=>{"use strict";function OMe(r){return r!==r}i4.exports=OMe});var o4=j((GXe,a4)=>{"use strict";function kMe(r,t,e){for(var i=e-1,n=r.length;++i<n;)if(r[i]===t)return i;return-1}a4.exports=kMe});var l4=j((WXe,s4)=>{"use strict";var PMe=uT(),LMe=n4(),FMe=o4();function NMe(r,t,e){return t===t?FMe(r,t,e):PMe(r,LMe,e)}s4.exports=NMe});var d4=j((jXe,c4)=>{"use strict";var BMe=l4();function VMe(r,t){var e=r==null?0:r.length;return!!e&&BMe(r,t,0)>-1}c4.exports=VMe});var h4=j(($Xe,u4)=>{"use strict";function zMe(r,t,e){for(var i=-1,n=r==null?0:r.length;++i<n;)if(e(t,r[i]))return!0;return!1}u4.exports=zMe});var m4=j((YXe,f4)=>{"use strict";function qMe(){}f4.exports=qMe});var g4=j((XXe,p4)=>{"use strict";var hT=TD(),UMe=m4(),HMe=N0(),GMe=1/0,WMe=hT&&1/HMe(new hT([,-0]))[1]==GMe?function(r){return new hT(r)}:UMe;p4.exports=WMe});var y4=j((KXe,v4)=>{"use strict";var jMe=UD(),$Me=d4(),YMe=h4(),XMe=HD(),KMe=g4(),ZMe=N0(),QMe=200;function JMe(r,t,e){var i=-1,n=$Me,a=r.length,o=!0,s=[],l=s;if(e)o=!1,n=YMe;else if(a>=QMe){var c=t?null:KMe(r);if(c)return ZMe(c);o=!1,n=XMe,l=new jMe}else l=t?[]:s;e:for(;++i<a;){var d=r[i],u=t?t(d):d;if(d=e||d!==0?d:0,o&&u===u){for(var f=l.length;f--;)if(l[f]===u)continue e;t&&l.push(u),s.push(d)}else n(l,u,e)||(l!==s&&l.push(u),s.push(d))}return s}v4.exports=JMe});var fT=j((ZXe,b4)=>{"use strict";var eDe=as(),tDe=Lo();function rDe(r){return tDe(r)&&eDe(r)}b4.exports=rDe});var x4=j((QXe,_4)=>{"use strict";var iDe=z0(),nDe=Yp(),aDe=y4(),oDe=fT(),sDe=nDe(function(r){return aDe(iDe(r,1,oDe,!0))});_4.exports=sDe});var C4=j((JXe,w4)=>{"use strict";var lDe=Wp();function cDe(r,t){return lDe(t,function(e){return r[e]})}w4.exports=cDe});var mT=j((e6e,E4)=>{"use strict";var dDe=C4(),uDe=Ws();function hDe(r){return r==null?[]:dDe(r,uDe(r))}E4.exports=hDe});var La=j((t6e,S4)=>{"use strict";var q0;if(typeof au=="function")try{q0={clone:EG(),constant:k0(),each:qD(),filter:tT(),has:rT(),isArray:Hi(),isEmpty:c3(),isFunction:kh(),isUndefined:iT(),keys:Ws(),map:aT(),reduce:oT(),size:F3(),transform:B3(),union:x4(),values:mT()}}catch{}q0||(q0=window._);S4.exports=q0});var U0=j((i6e,A4)=>{"use strict";var Xt=La();A4.exports=br;var fDe="\0",kd="\0",M4="";function br(r){this._isDirected=Xt.has(r,"directed")?r.directed:!0,this._isMultigraph=Xt.has(r,"multigraph")?r.multigraph:!1,this._isCompound=Xt.has(r,"compound")?r.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Xt.constant(void 0),this._defaultEdgeLabelFn=Xt.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[kd]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}br.prototype._nodeCount=0;br.prototype._edgeCount=0;br.prototype.isDirected=function(){return this._isDirected};br.prototype.isMultigraph=function(){return this._isMultigraph};br.prototype.isCompound=function(){return this._isCompound};br.prototype.setGraph=function(r){return this._label=r,this};br.prototype.graph=function(){return this._label};br.prototype.setDefaultNodeLabel=function(r){return Xt.isFunction(r)||(r=Xt.constant(r)),this._defaultNodeLabelFn=r,this};br.prototype.nodeCount=function(){return this._nodeCount};br.prototype.nodes=function(){return Xt.keys(this._nodes)};br.prototype.sources=function(){var r=this;return Xt.filter(this.nodes(),function(t){return Xt.isEmpty(r._in[t])})};br.prototype.sinks=function(){var r=this;return Xt.filter(this.nodes(),function(t){return Xt.isEmpty(r._out[t])})};br.prototype.setNodes=function(r,t){var e=arguments,i=this;return Xt.each(r,function(n){e.length>1?i.setNode(n,t):i.setNode(n)}),this};br.prototype.setNode=function(r,t){return Xt.has(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=t),this):(this._nodes[r]=arguments.length>1?t:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=kd,this._children[r]={},this._children[kd][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)};br.prototype.node=function(r){return this._nodes[r]};br.prototype.hasNode=function(r){return Xt.has(this._nodes,r)};br.prototype.removeNode=function(r){var t=this;if(Xt.has(this._nodes,r)){var e=function(i){t.removeEdge(t._edgeObjs[i])};delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],Xt.each(this.children(r),function(i){t.setParent(i)}),delete this._children[r]),Xt.each(Xt.keys(this._in[r]),e),delete this._in[r],delete this._preds[r],Xt.each(Xt.keys(this._out[r]),e),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this};br.prototype.setParent=function(r,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Xt.isUndefined(t))t=kd;else{t+="";for(var e=t;!Xt.isUndefined(e);e=this.parent(e))if(e===r)throw new Error("Setting "+t+" as parent of "+r+" would create a cycle");this.setNode(t)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=t,this._children[t][r]=!0,this};br.prototype._removeFromParentsChildList=function(r){delete this._children[this._parent[r]][r]};br.prototype.parent=function(r){if(this._isCompound){var t=this._parent[r];if(t!==kd)return t}};br.prototype.children=function(r){if(Xt.isUndefined(r)&&(r=kd),this._isCompound){var t=this._children[r];if(t)return Xt.keys(t)}else{if(r===kd)return this.nodes();if(this.hasNode(r))return[]}};br.prototype.predecessors=function(r){var t=this._preds[r];if(t)return Xt.keys(t)};br.prototype.successors=function(r){var t=this._sucs[r];if(t)return Xt.keys(t)};br.prototype.neighbors=function(r){var t=this.predecessors(r);if(t)return Xt.union(t,this.successors(r))};br.prototype.isLeaf=function(r){var t;return this.isDirected()?t=this.successors(r):t=this.neighbors(r),t.length===0};br.prototype.filterNodes=function(r){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var e=this;Xt.each(this._nodes,function(a,o){r(o)&&t.setNode(o,a)}),Xt.each(this._edgeObjs,function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,e.edge(a))});var i={};function n(a){var o=e.parent(a);return o===void 0||t.hasNode(o)?(i[a]=o,o):o in i?i[o]:n(o)}return this._isCompound&&Xt.each(t.nodes(),function(a){t.setParent(a,n(a))}),t};br.prototype.setDefaultEdgeLabel=function(r){return Xt.isFunction(r)||(r=Xt.constant(r)),this._defaultEdgeLabelFn=r,this};br.prototype.edgeCount=function(){return this._edgeCount};br.prototype.edges=function(){return Xt.values(this._edgeObjs)};br.prototype.setPath=function(r,t){var e=this,i=arguments;return Xt.reduce(r,function(n,a){return i.length>1?e.setEdge(n,a,t):e.setEdge(n,a),a}),this};br.prototype.setEdge=function(){var r,t,e,i,n=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(r=a.v,t=a.w,e=a.name,arguments.length===2&&(i=arguments[1],n=!0)):(r=a,t=arguments[1],e=arguments[3],arguments.length>2&&(i=arguments[2],n=!0)),r=""+r,t=""+t,Xt.isUndefined(e)||(e=""+e);var o=Xp(this._isDirected,r,t,e);if(Xt.has(this._edgeLabels,o))return n&&(this._edgeLabels[o]=i),this;if(!Xt.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(t),this._edgeLabels[o]=n?i:this._defaultEdgeLabelFn(r,t,e);var s=mDe(this._isDirected,r,t,e);return r=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,D4(this._preds[t],r),D4(this._sucs[r],t),this._in[t][o]=s,this._out[r][o]=s,this._edgeCount++,this};br.prototype.edge=function(r,t,e){var i=arguments.length===1?pT(this._isDirected,arguments[0]):Xp(this._isDirected,r,t,e);return this._edgeLabels[i]};br.prototype.hasEdge=function(r,t,e){var i=arguments.length===1?pT(this._isDirected,arguments[0]):Xp(this._isDirected,r,t,e);return Xt.has(this._edgeLabels,i)};br.prototype.removeEdge=function(r,t,e){var i=arguments.length===1?pT(this._isDirected,arguments[0]):Xp(this._isDirected,r,t,e),n=this._edgeObjs[i];return n&&(r=n.v,t=n.w,delete this._edgeLabels[i],delete this._edgeObjs[i],T4(this._preds[t],r),T4(this._sucs[r],t),delete this._in[t][i],delete this._out[r][i],this._edgeCount--),this};br.prototype.inEdges=function(r,t){var e=this._in[r];if(e){var i=Xt.values(e);return t?Xt.filter(i,function(n){return n.v===t}):i}};br.prototype.outEdges=function(r,t){var e=this._out[r];if(e){var i=Xt.values(e);return t?Xt.filter(i,function(n){return n.w===t}):i}};br.prototype.nodeEdges=function(r,t){var e=this.inEdges(r,t);if(e)return e.concat(this.outEdges(r,t))};function D4(r,t){r[t]?r[t]++:r[t]=1}function T4(r,t){--r[t]||delete r[t]}function Xp(r,t,e,i){var n=""+t,a=""+e;if(!r&&n>a){var o=n;n=a,a=o}return n+M4+a+M4+(Xt.isUndefined(i)?fDe:i)}function mDe(r,t,e,i){var n=""+t,a=""+e;if(!r&&n>a){var o=n;n=a,a=o}var s={v:n,w:a};return i&&(s.name=i),s}function pT(r,t){return Xp(r,t.v,t.w,t.name)}});var I4=j((n6e,R4)=>{"use strict";R4.exports="2.1.8"});var k4=j((a6e,O4)=>{"use strict";O4.exports={Graph:U0(),version:I4()}});var L4=j((o6e,P4)=>{"use strict";var ss=La(),pDe=U0();P4.exports={write:gDe,read:bDe};function gDe(r){var t={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:vDe(r),edges:yDe(r)};return ss.isUndefined(r.graph())||(t.value=ss.clone(r.graph())),t}function vDe(r){return ss.map(r.nodes(),function(t){var e=r.node(t),i=r.parent(t),n={v:t};return ss.isUndefined(e)||(n.value=e),ss.isUndefined(i)||(n.parent=i),n})}function yDe(r){return ss.map(r.edges(),function(t){var e=r.edge(t),i={v:t.v,w:t.w};return ss.isUndefined(t.name)||(i.name=t.name),ss.isUndefined(e)||(i.value=e),i})}function bDe(r){var t=new pDe(r.options).setGraph(r.value);return ss.each(r.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),ss.each(r.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}});var N4=j((s6e,F4)=>{"use strict";var H0=La();F4.exports=_De;function _De(r){var t={},e=[],i;function n(a){H0.has(t,a)||(t[a]=!0,i.push(a),H0.each(r.successors(a),n),H0.each(r.predecessors(a),n))}return H0.each(r.nodes(),function(a){i=[],n(a),i.length&&e.push(i)}),e}});var gT=j((l6e,V4)=>{"use strict";var B4=La();V4.exports=ho;function ho(){this._arr=[],this._keyIndices={}}ho.prototype.size=function(){return this._arr.length};ho.prototype.keys=function(){return this._arr.map(function(r){return r.key})};ho.prototype.has=function(r){return B4.has(this._keyIndices,r)};ho.prototype.priority=function(r){var t=this._keyIndices[r];if(t!==void 0)return this._arr[t].priority};ho.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};ho.prototype.add=function(r,t){var e=this._keyIndices;if(r=String(r),!B4.has(e,r)){var i=this._arr,n=i.length;return e[r]=n,i.push({key:r,priority:t}),this._decrease(n),!0}return!1};ho.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key};ho.prototype.decrease=function(r,t){var e=this._keyIndices[r];if(t>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[e].priority+" New: "+t);this._arr[e].priority=t,this._decrease(e)};ho.prototype._heapify=function(r){var t=this._arr,e=2*r,i=e+1,n=r;e<t.length&&(n=t[e].priority<t[n].priority?e:n,i<t.length&&(n=t[i].priority<t[n].priority?i:n),n!==r&&(this._swap(r,n),this._heapify(n)))};ho.prototype._decrease=function(r){for(var t=this._arr,e=t[r].priority,i;r!==0&&(i=r>>1,!(t[i].priority<e));)this._swap(r,i),r=i};ho.prototype._swap=function(r,t){var e=this._arr,i=this._keyIndices,n=e[r],a=e[t];e[r]=a,e[t]=n,i[a.key]=r,i[n.key]=t}});var vT=j((c6e,z4)=>{"use strict";var xDe=La(),wDe=gT();z4.exports=EDe;var CDe=xDe.constant(1);function EDe(r,t,e,i){return SDe(r,String(t),e||CDe,i||function(n){return r.outEdges(n)})}function SDe(r,t,e,i){var n={},a=new wDe,o,s,l=function(c){var d=c.v!==o?c.v:c.w,u=n[d],f=e(c),m=s.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+f);m<u.distance&&(u.distance=m,u.predecessor=o,a.decrease(d,m))};for(r.nodes().forEach(function(c){var d=c===t?0:Number.POSITIVE_INFINITY;n[c]={distance:d},a.add(c,d)});a.size()>0&&(o=a.removeMin(),s=n[o],s.distance!==Number.POSITIVE_INFINITY);)i(o).forEach(l);return n}});var U4=j((d6e,q4)=>{"use strict";var MDe=vT(),DDe=La();q4.exports=TDe;function TDe(r,t,e){return DDe.transform(r.nodes(),function(i,n){i[n]=MDe(r,n,t,e)},{})}});var yT=j((u6e,G4)=>{"use strict";var H4=La();G4.exports=ADe;function ADe(r){var t=0,e=[],i={},n=[];function a(o){var s=i[o]={onStack:!0,lowlink:t,index:t++};if(e.push(o),r.successors(o).forEach(function(d){H4.has(i,d)?i[d].onStack&&(s.lowlink=Math.min(s.lowlink,i[d].index)):(a(d),s.lowlink=Math.min(s.lowlink,i[d].lowlink))}),s.lowlink===s.index){var l=[],c;do c=e.pop(),i[c].onStack=!1,l.push(c);while(o!==c);n.push(l)}}return r.nodes().forEach(function(o){H4.has(i,o)||a(o)}),n}});var j4=j((h6e,W4)=>{"use strict";var RDe=La(),IDe=yT();W4.exports=ODe;function ODe(r){return RDe.filter(IDe(r),function(t){return t.length>1||t.length===1&&r.hasEdge(t[0],t[0])})}});var Y4=j((f6e,$4)=>{"use strict";var kDe=La();$4.exports=LDe;var PDe=kDe.constant(1);function LDe(r,t,e){return FDe(r,t||PDe,e||function(i){return r.outEdges(i)})}function FDe(r,t,e){var i={},n=r.nodes();return n.forEach(function(a){i[a]={},i[a][a]={distance:0},n.forEach(function(o){a!==o&&(i[a][o]={distance:Number.POSITIVE_INFINITY})}),e(a).forEach(function(o){var s=o.v===a?o.w:o.v,l=t(o);i[a][s]={distance:l,predecessor:a}})}),n.forEach(function(a){var o=i[a];n.forEach(function(s){var l=i[s];n.forEach(function(c){var d=l[a],u=o[c],f=l[c],m=d.distance+u.distance;m<f.distance&&(f.distance=m,f.predecessor=u.predecessor)})})}),i}});var bT=j((m6e,K4)=>{"use strict";var Kp=La();K4.exports=X4;X4.CycleException=G0;function X4(r){var t={},e={},i=[];function n(a){if(Kp.has(e,a))throw new G0;Kp.has(t,a)||(e[a]=!0,t[a]=!0,Kp.each(r.predecessors(a),n),delete e[a],i.push(a))}if(Kp.each(r.sinks(),n),Kp.size(t)!==r.nodeCount())throw new G0;return i}function G0(){}G0.prototype=new Error});var J4=j((p6e,Q4)=>{"use strict";var Z4=bT();Q4.exports=NDe;function NDe(r){try{Z4(r)}catch(t){if(t instanceof Z4.CycleException)return!1;throw t}return!0}});var _T=j((g6e,tj)=>{"use strict";var W0=La();tj.exports=BDe;function BDe(r,t,e){W0.isArray(t)||(t=[t]);var i=(r.isDirected()?r.successors:r.neighbors).bind(r),n=[],a={};return W0.each(t,function(o){if(!r.hasNode(o))throw new Error("Graph does not have node: "+o);ej(r,o,e==="post",a,i,n)}),n}function ej(r,t,e,i,n,a){W0.has(i,t)||(i[t]=!0,e||a.push(t),W0.each(n(t),function(o){ej(r,o,e,i,n,a)}),e&&a.push(t))}});var ij=j((v6e,rj)=>{"use strict";var VDe=_T();rj.exports=zDe;function zDe(r,t){return VDe(r,t,"post")}});var aj=j((y6e,nj)=>{"use strict";var qDe=_T();nj.exports=UDe;function UDe(r,t){return qDe(r,t,"pre")}});var lj=j((b6e,sj)=>{"use strict";var oj=La(),HDe=U0(),GDe=gT();sj.exports=WDe;function WDe(r,t){var e=new HDe,i={},n=new GDe,a;function o(l){var c=l.v===a?l.w:l.v,d=n.priority(c);if(d!==void 0){var u=t(l);u<d&&(i[c]=a,n.decrease(c,u))}}if(r.nodeCount()===0)return e;oj.each(r.nodes(),function(l){n.add(l,Number.POSITIVE_INFINITY),e.setNode(l)}),n.decrease(r.nodes()[0],0);for(var s=!1;n.size()>0;){if(a=n.removeMin(),oj.has(i,a))e.setEdge(a,i[a]);else{if(s)throw new Error("Input graph is not connected: "+r);s=!0}r.nodeEdges(a).forEach(o)}return e}});var dj=j((_6e,cj)=>{"use strict";cj.exports={components:N4(),dijkstra:vT(),dijkstraAll:U4(),findCycles:j4(),floydWarshall:Y4(),isAcyclic:J4(),postorder:ij(),preorder:aj(),prim:lj(),tarjan:yT(),topsort:bT()}});var fj=j((x6e,hj)=>{"use strict";var uj=k4();hj.exports={Graph:uj.Graph,json:L4(),alg:dj(),version:uj.version}});var fo=j((w6e,mj)=>{"use strict";var j0;if(typeof au=="function")try{j0=fj()}catch{}j0||(j0=window.graphlib);mj.exports=j0});var gj=j((E6e,pj)=>{"use strict";var jDe=BD(),$De=1,YDe=4;function XDe(r){return jDe(r,$De|YDe)}pj.exports=XDe});var Wh=j((S6e,vj)=>{"use strict";var KDe=Dd(),ZDe=as(),QDe=Np(),JDe=Pa();function eTe(r,t,e){if(!JDe(e))return!1;var i=typeof t;return(i=="number"?ZDe(e)&&QDe(t,e.length):i=="string"&&t in e)?KDe(e[t],r):!1}vj.exports=eTe});var _j=j((M6e,bj)=>{"use strict";var tTe=Yp(),rTe=Dd(),iTe=Wh(),nTe=oc(),yj=Object.prototype,aTe=yj.hasOwnProperty,oTe=tTe(function(r,t){r=Object(r);var e=-1,i=t.length,n=i>2?t[2]:void 0;for(n&&iTe(t[0],t[1],n)&&(i=1);++e<i;)for(var a=t[e],o=nTe(a),s=-1,l=o.length;++s<l;){var c=o[s],d=r[c];(d===void 0||rTe(d,yj[c])&&!aTe.call(r,c))&&(r[c]=a[c])}return r});bj.exports=oTe});var wj=j((D6e,xj)=>{"use strict";var sTe=os(),lTe=as(),cTe=Ws();function dTe(r){return function(t,e,i){var n=Object(t);if(!lTe(t)){var a=sTe(e,3);t=cTe(t),e=function(s){return a(n[s],s,n)}}var o=r(t,e,i);return o>-1?n[a?t[o]:o]:void 0}}xj.exports=dTe});var Ej=j((T6e,Cj)=>{"use strict";var uTe=/\s/;function hTe(r){for(var t=r.length;t--&&uTe.test(r.charAt(t)););return t}Cj.exports=hTe});var Mj=j((A6e,Sj)=>{"use strict";var fTe=Ej(),mTe=/^\s+/;function pTe(r){return r&&r.slice(0,fTe(r)+1).replace(mTe,"")}Sj.exports=pTe});var Rj=j((R6e,Aj)=>{"use strict";var gTe=Mj(),Dj=Pa(),vTe=Od(),Tj=NaN,yTe=/^[-+]0x[0-9a-f]+$/i,bTe=/^0b[01]+$/i,_Te=/^0o[0-7]+$/i,xTe=parseInt;function wTe(r){if(typeof r=="number")return r;if(vTe(r))return Tj;if(Dj(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=Dj(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=gTe(r);var e=bTe.test(r);return e||_Te.test(r)?xTe(r.slice(2),e?2:8):yTe.test(r)?Tj:+r}Aj.exports=wTe});var $0=j((I6e,Oj)=>{"use strict";var CTe=Rj(),Ij=1/0,ETe=17976931348623157e292;function STe(r){if(!r)return r===0?r:0;if(r=CTe(r),r===Ij||r===-Ij){var t=r<0?-1:1;return t*ETe}return r===r?r:0}Oj.exports=STe});var Pj=j((O6e,kj)=>{"use strict";var MTe=$0();function DTe(r){var t=MTe(r),e=t%1;return t===t?e?t-e:t:0}kj.exports=DTe});var Fj=j((k6e,Lj)=>{"use strict";var TTe=uT(),ATe=os(),RTe=Pj(),ITe=Math.max;function OTe(r,t,e){var i=r==null?0:r.length;if(!i)return-1;var n=e==null?0:RTe(e);return n<0&&(n=ITe(i+n,0)),TTe(r,ATe(t,3),n)}Lj.exports=OTe});var Bj=j((P6e,Nj)=>{"use strict";var kTe=wj(),PTe=Fj(),LTe=kTe(PTe);Nj.exports=LTe});var xT=j((L6e,Vj)=>{"use strict";var FTe=z0();function NTe(r){var t=r==null?0:r.length;return t?FTe(r,1):[]}Vj.exports=NTe});var qj=j((F6e,zj)=>{"use strict";var BTe=P0(),VTe=VD(),zTe=oc();function qTe(r,t){return r==null?r:BTe(r,VTe(t),zTe)}zj.exports=qTe});var Hj=j((N6e,Uj)=>{"use strict";function UTe(r){var t=r==null?0:r.length;return t?r[t-1]:void 0}Uj.exports=UTe});var Wj=j((B6e,Gj)=>{"use strict";var HTe=Pp(),GTe=L0(),WTe=os();function jTe(r,t){var e={};return t=WTe(t,3),GTe(r,function(i,n,a){HTe(e,n,t(i,n,a))}),e}Gj.exports=jTe});var Y0=j((V6e,jj)=>{"use strict";var $Te=Od();function YTe(r,t,e){for(var i=-1,n=r.length;++i<n;){var a=r[i],o=t(a);if(o!=null&&(s===void 0?o===o&&!$Te(o):e(o,s)))var s=o,l=a}return l}jj.exports=YTe});var Yj=j((z6e,$j)=>{"use strict";function XTe(r,t){return r>t}$j.exports=XTe});var Kj=j((q6e,Xj)=>{"use strict";var KTe=Y0(),ZTe=Yj(),QTe=sc();function JTe(r){return r&&r.length?KTe(r,QTe,ZTe):void 0}Xj.exports=JTe});var wT=j((U6e,Zj)=>{"use strict";var eAe=Pp(),tAe=Dd();function rAe(r,t,e){(e!==void 0&&!tAe(r[t],e)||e===void 0&&!(t in r))&&eAe(r,t,e)}Zj.exports=rAe});var e$=j((H6e,Jj)=>{"use strict";var iAe=nc(),nAe=Hp(),aAe=Lo(),oAe="[object Object]",sAe=Function.prototype,lAe=Object.prototype,Qj=sAe.toString,cAe=lAe.hasOwnProperty,dAe=Qj.call(Object);function uAe(r){if(!aAe(r)||iAe(r)!=oAe)return!1;var t=nAe(r);if(t===null)return!0;var e=cAe.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Qj.call(e)==dAe}Jj.exports=uAe});var CT=j((G6e,t$)=>{"use strict";function hAe(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}t$.exports=hAe});var i$=j((W6e,r$)=>{"use strict";var fAe=Nh(),mAe=oc();function pAe(r){return fAe(r,mAe(r))}r$.exports=pAe});var c$=j((j6e,l$)=>{"use strict";var n$=wT(),gAe=xD(),vAe=LD(),yAe=wD(),bAe=ND(),a$=Bh(),o$=Hi(),_Ae=fT(),xAe=Ad(),wAe=kh(),CAe=Pa(),EAe=e$(),SAe=qh(),s$=CT(),MAe=i$();function DAe(r,t,e,i,n,a,o){var s=s$(r,e),l=s$(t,e),c=o.get(l);if(c){n$(r,e,c);return}var d=a?a(s,l,e+"",r,t,o):void 0,u=d===void 0;if(u){var f=o$(l),m=!f&&xAe(l),g=!f&&!m&&SAe(l);d=l,f||m||g?o$(s)?d=s:_Ae(s)?d=yAe(s):m?(u=!1,d=gAe(l,!0)):g?(u=!1,d=vAe(l,!0)):d=[]:EAe(l)||a$(l)?(d=s,a$(s)?d=MAe(s):(!CAe(s)||wAe(s))&&(d=bAe(l))):u=!1}u&&(o.set(l,d),n(d,l,i,a,o),o.delete(l)),n$(r,e,d)}l$.exports=DAe});var h$=j(($6e,u$)=>{"use strict";var TAe=kp(),AAe=wT(),RAe=P0(),IAe=c$(),OAe=Pa(),kAe=oc(),PAe=CT();function d$(r,t,e,i,n){r!==t&&RAe(t,function(a,o){if(n||(n=new TAe),OAe(a))IAe(r,t,o,e,d$,i,n);else{var s=i?i(PAe(r,o),a,o+"",r,t,n):void 0;s===void 0&&(s=a),AAe(r,o,s)}},kAe)}u$.exports=d$});var m$=j((Y6e,f$)=>{"use strict";var LAe=Yp(),FAe=Wh();function NAe(r){return LAe(function(t,e){var i=-1,n=e.length,a=n>1?e[n-1]:void 0,o=n>2?e[2]:void 0;for(a=r.length>3&&typeof a=="function"?(n--,a):void 0,o&&FAe(e[0],e[1],o)&&(a=n<3?void 0:a,n=1),t=Object(t);++i<n;){var s=e[i];s&&r(t,s,i,a)}return t})}f$.exports=NAe});var g$=j((X6e,p$)=>{"use strict";var BAe=h$(),VAe=m$(),zAe=VAe(function(r,t,e){BAe(r,t,e)});p$.exports=zAe});var ET=j((K6e,v$)=>{"use strict";function qAe(r,t){return r<t}v$.exports=qAe});var b$=j((Z6e,y$)=>{"use strict";var UAe=Y0(),HAe=ET(),GAe=sc();function WAe(r){return r&&r.length?UAe(r,GAe,HAe):void 0}y$.exports=WAe});var x$=j((Q6e,_$)=>{"use strict";var jAe=Y0(),$Ae=os(),YAe=ET();function XAe(r,t){return r&&r.length?jAe(r,$Ae(t,2),YAe):void 0}_$.exports=XAe});var C$=j((J6e,w$)=>{"use strict";var KAe=uo(),ZAe=function(){return KAe.Date.now()};w$.exports=ZAe});var M$=j((e9e,S$)=>{"use strict";var QAe=Lp(),JAe=jp(),eRe=Np(),E$=Pa(),tRe=Gh();function rRe(r,t,e,i){if(!E$(r))return r;t=JAe(t,r);for(var n=-1,a=t.length,o=a-1,s=r;s!=null&&++n<a;){var l=tRe(t[n]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return r;if(n!=o){var d=s[l];c=i?i(d,l,s):void 0,c===void 0&&(c=E$(d)?d:eRe(t[n+1])?[]:{})}QAe(s,l,c),s=s[l]}return r}S$.exports=rRe});var T$=j((t9e,D$)=>{"use strict";var iRe=$p(),nRe=M$(),aRe=jp();function oRe(r,t,e){for(var i=-1,n=t.length,a={};++i<n;){var o=t[i],s=iRe(r,o);e(s,o)&&nRe(a,aRe(o,r),s)}return a}D$.exports=oRe});var R$=j((r9e,A$)=>{"use strict";var sRe=T$(),lRe=JD();function cRe(r,t){return sRe(r,t,function(e,i){return lRe(r,i)})}A$.exports=cRe});var O$=j((i9e,I$)=>{"use strict";var dRe=xT(),uRe=cT(),hRe=dT();function fRe(r){return hRe(uRe(r,void 0,dRe),r+"")}I$.exports=fRe});var P$=j((n9e,k$)=>{"use strict";var mRe=R$(),pRe=O$(),gRe=pRe(function(r,t){return r==null?{}:mRe(r,t)});k$.exports=gRe});var F$=j((a9e,L$)=>{"use strict";var vRe=Math.ceil,yRe=Math.max;function bRe(r,t,e,i){for(var n=-1,a=yRe(vRe((t-r)/(e||1)),0),o=Array(a);a--;)o[i?a:++n]=r,r+=e;return o}L$.exports=bRe});var B$=j((o9e,N$)=>{"use strict";var _Re=F$(),xRe=Wh(),ST=$0();function wRe(r){return function(t,e,i){return i&&typeof i!="number"&&xRe(t,e,i)&&(e=i=void 0),t=ST(t),e===void 0?(e=t,t=0):e=ST(e),i=i===void 0?t<e?1:-1:ST(i),_Re(t,e,i,r)}}N$.exports=wRe});var z$=j((s9e,V$)=>{"use strict";var CRe=B$(),ERe=CRe();V$.exports=ERe});var U$=j((l9e,q$)=>{"use strict";function SRe(r,t){var e=r.length;for(r.sort(t);e--;)r[e]=r[e].value;return r}q$.exports=SRe});var W$=j((c9e,G$)=>{"use strict";var H$=Od();function MRe(r,t){if(r!==t){var e=r!==void 0,i=r===null,n=r===r,a=H$(r),o=t!==void 0,s=t===null,l=t===t,c=H$(t);if(!s&&!c&&!a&&r>t||a&&o&&l&&!s&&!c||i&&o&&l||!e&&l||!n)return 1;if(!i&&!a&&!c&&r<t||c&&e&&n&&!i&&!a||s&&e&&n||!o&&n||!l)return-1}return 0}G$.exports=MRe});var $$=j((d9e,j$)=>{"use strict";var DRe=W$();function TRe(r,t,e){for(var i=-1,n=r.criteria,a=t.criteria,o=n.length,s=e.length;++i<o;){var l=DRe(n[i],a[i]);if(l){if(i>=s)return l;var c=e[i];return l*(c=="desc"?-1:1)}}return r.index-t.index}j$.exports=TRe});var X$=j((u9e,Y$)=>{"use strict";var MT=Wp(),ARe=$p(),RRe=os(),IRe=nT(),ORe=U$(),kRe=Bp(),PRe=$$(),LRe=sc(),FRe=Hi();function NRe(r,t,e){t.length?t=MT(t,function(a){return FRe(a)?function(o){return ARe(o,a.length===1?a[0]:a)}:a}):t=[LRe];var i=-1;t=MT(t,kRe(RRe));var n=IRe(r,function(a,o,s){var l=MT(t,function(c){return c(a)});return{criteria:l,index:++i,value:a}});return ORe(n,function(a,o){return PRe(a,o,e)})}Y$.exports=NRe});var Q$=j((h9e,Z$)=>{"use strict";var BRe=z0(),VRe=X$(),zRe=Yp(),K$=Wh(),qRe=zRe(function(r,t){if(r==null)return[];var e=t.length;return e>1&&K$(r,t[0],t[1])?t=[]:e>2&&K$(t[0],t[1],t[2])&&(t=[t[0]]),VRe(r,BRe(t,1),[])});Z$.exports=qRe});var eY=j((f9e,J$)=>{"use strict";var URe=ZD(),HRe=0;function GRe(r){var t=++HRe;return URe(r)+t}J$.exports=GRe});var rY=j((m9e,tY)=>{"use strict";function WRe(r,t,e){for(var i=-1,n=r.length,a=t.length,o={};++i<n;){var s=i<a?t[i]:void 0;e(o,r[i],s)}return o}tY.exports=WRe});var nY=j((p9e,iY)=>{"use strict";var jRe=Lp(),$Re=rY();function YRe(r,t){return $Re(r||[],t||[],jRe)}iY.exports=YRe});var yi=j((g9e,aY)=>{"use strict";var X0;if(typeof au=="function")try{X0={cloneDeep:gj(),constant:k0(),defaults:_j(),each:qD(),filter:tT(),find:Bj(),flatten:xT(),forEach:zD(),forIn:qj(),has:rT(),isUndefined:iT(),last:Hj(),map:aT(),mapValues:Wj(),max:Kj(),merge:g$(),min:b$(),minBy:x$(),now:C$(),pick:P$(),range:z$(),reduce:oT(),sortBy:Q$(),uniqueId:eY(),values:mT(),zipObject:nY()}}catch{}X0||(X0=window._);aY.exports=X0});var lY=j((y9e,sY)=>{"use strict";sY.exports=K0;function K0(){var r={};r._next=r._prev=r,this._sentinel=r}K0.prototype.dequeue=function(){var r=this._sentinel,t=r._prev;if(t!==r)return oY(t),t};K0.prototype.enqueue=function(r){var t=this._sentinel;r._prev&&r._next&&oY(r),r._next=t._next,t._next._prev=r,t._next=r,r._prev=t};K0.prototype.toString=function(){for(var r=[],t=this._sentinel,e=t._prev;e!==t;)r.push(JSON.stringify(e,XRe)),e=e._prev;return"["+r.join(", ")+"]"};function oY(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function XRe(r,t){if(r!=="_next"&&r!=="_prev")return t}});var dY=j((b9e,cY)=>{"use strict";var js=yi(),KRe=fo().Graph,ZRe=lY();cY.exports=JRe;var QRe=js.constant(1);function JRe(r,t){if(r.nodeCount()<=1)return[];var e=tIe(r,t||QRe),i=eIe(e.graph,e.buckets,e.zeroIdx);return js.flatten(js.map(i,function(n){return r.outEdges(n.v,n.w)}),!0)}function eIe(r,t,e){for(var i=[],n=t[t.length-1],a=t[0],o;r.nodeCount();){for(;o=a.dequeue();)DT(r,t,e,o);for(;o=n.dequeue();)DT(r,t,e,o);if(r.nodeCount()){for(var s=t.length-2;s>0;--s)if(o=t[s].dequeue(),o){i=i.concat(DT(r,t,e,o,!0));break}}}return i}function DT(r,t,e,i,n){var a=n?[]:void 0;return js.forEach(r.inEdges(i.v),function(o){var s=r.edge(o),l=r.node(o.v);n&&a.push({v:o.v,w:o.w}),l.out-=s,TT(t,e,l)}),js.forEach(r.outEdges(i.v),function(o){var s=r.edge(o),l=o.w,c=r.node(l);c.in-=s,TT(t,e,c)}),r.removeNode(i.v),a}function tIe(r,t){var e=new KRe,i=0,n=0;js.forEach(r.nodes(),function(s){e.setNode(s,{v:s,in:0,out:0})}),js.forEach(r.edges(),function(s){var l=e.edge(s.v,s.w)||0,c=t(s),d=l+c;e.setEdge(s.v,s.w,d),n=Math.max(n,e.node(s.v).out+=c),i=Math.max(i,e.node(s.w).in+=c)});var a=js.range(n+i+3).map(function(){return new ZRe}),o=i+1;return js.forEach(e.nodes(),function(s){TT(a,o,e.node(s))}),{graph:e,buckets:a,zeroIdx:o}}function TT(r,t,e){e.out?e.in?r[e.out-e.in+t].enqueue(e):r[r.length-1].enqueue(e):r[0].enqueue(e)}});var hY=j((_9e,uY)=>{"use strict";var Pd=yi(),rIe=dY();uY.exports={run:iIe,undo:aIe};function iIe(r){var t=r.graph().acyclicer==="greedy"?rIe(r,e(r)):nIe(r);Pd.forEach(t,function(i){var n=r.edge(i);r.removeEdge(i),n.forwardName=i.name,n.reversed=!0,r.setEdge(i.w,i.v,n,Pd.uniqueId("rev"))});function e(i){return function(n){return i.edge(n).weight}}}function nIe(r){var t=[],e={},i={};function n(a){Pd.has(i,a)||(i[a]=!0,e[a]=!0,Pd.forEach(r.outEdges(a),function(o){Pd.has(e,o.w)?t.push(o):n(o.w)}),delete e[a])}return Pd.forEach(r.nodes(),n),t}function aIe(r){Pd.forEach(r.edges(),function(t){var e=r.edge(t);if(e.reversed){r.removeEdge(t);var i=e.forwardName;delete e.reversed,delete e.forwardName,r.setEdge(t.w,t.v,e,i)}})}});var ia=j((x9e,gY)=>{"use strict";var Vr=yi(),fY=fo().Graph;gY.exports={addDummyNode:mY,simplify:oIe,asNonCompoundGraph:sIe,successorWeights:lIe,predecessorWeights:cIe,intersectRect:dIe,buildLayerMatrix:uIe,normalizeRanks:hIe,removeEmptyRanks:fIe,addBorderNode:mIe,maxRank:pY,partition:pIe,time:gIe,notime:vIe};function mY(r,t,e,i){var n;do n=Vr.uniqueId(i);while(r.hasNode(n));return e.dummy=t,r.setNode(n,e),n}function oIe(r){var t=new fY().setGraph(r.graph());return Vr.forEach(r.nodes(),function(e){t.setNode(e,r.node(e))}),Vr.forEach(r.edges(),function(e){var i=t.edge(e.v,e.w)||{weight:0,minlen:1},n=r.edge(e);t.setEdge(e.v,e.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}),t}function sIe(r){var t=new fY({multigraph:r.isMultigraph()}).setGraph(r.graph());return Vr.forEach(r.nodes(),function(e){r.children(e).length||t.setNode(e,r.node(e))}),Vr.forEach(r.edges(),function(e){t.setEdge(e,r.edge(e))}),t}function lIe(r){var t=Vr.map(r.nodes(),function(e){var i={};return Vr.forEach(r.outEdges(e),function(n){i[n.w]=(i[n.w]||0)+r.edge(n).weight}),i});return Vr.zipObject(r.nodes(),t)}function cIe(r){var t=Vr.map(r.nodes(),function(e){var i={};return Vr.forEach(r.inEdges(e),function(n){i[n.v]=(i[n.v]||0)+r.edge(n).weight}),i});return Vr.zipObject(r.nodes(),t)}function dIe(r,t){var e=r.x,i=r.y,n=t.x-e,a=t.y-i,o=r.width/2,s=r.height/2;if(!n&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(a)*o>Math.abs(n)*s?(a<0&&(s=-s),l=s*n/a,c=s):(n<0&&(o=-o),l=o,c=o*a/n),{x:e+l,y:i+c}}function uIe(r){var t=Vr.map(Vr.range(pY(r)+1),function(){return[]});return Vr.forEach(r.nodes(),function(e){var i=r.node(e),n=i.rank;Vr.isUndefined(n)||(t[n][i.order]=e)}),t}function hIe(r){var t=Vr.min(Vr.map(r.nodes(),function(e){return r.node(e).rank}));Vr.forEach(r.nodes(),function(e){var i=r.node(e);Vr.has(i,"rank")&&(i.rank-=t)})}function fIe(r){var t=Vr.min(Vr.map(r.nodes(),function(a){return r.node(a).rank})),e=[];Vr.forEach(r.nodes(),function(a){var o=r.node(a).rank-t;e[o]||(e[o]=[]),e[o].push(a)});var i=0,n=r.graph().nodeRankFactor;Vr.forEach(e,function(a,o){Vr.isUndefined(a)&&o%n!==0?--i:i&&Vr.forEach(a,function(s){r.node(s).rank+=i})})}function mIe(r,t,e,i){var n={width:0,height:0};return arguments.length>=4&&(n.rank=e,n.order=i),mY(r,"border",n,t)}function pY(r){return Vr.max(Vr.map(r.nodes(),function(t){var e=r.node(t).rank;if(!Vr.isUndefined(e))return e}))}function pIe(r,t){var e={lhs:[],rhs:[]};return Vr.forEach(r,function(i){t(i)?e.lhs.push(i):e.rhs.push(i)}),e}function gIe(r,t){var e=Vr.now();try{return t()}finally{console.log(r+" time: "+(Vr.now()-e)+"ms")}}function vIe(r,t){return t()}});var bY=j((w9e,yY)=>{"use strict";var vY=yi(),yIe=ia();yY.exports={run:bIe,undo:xIe};function bIe(r){r.graph().dummyChains=[],vY.forEach(r.edges(),function(t){_Ie(r,t)})}function _Ie(r,t){var e=t.v,i=r.node(e).rank,n=t.w,a=r.node(n).rank,o=t.name,s=r.edge(t),l=s.labelRank;if(a!==i+1){r.removeEdge(t);var c,d,u;for(u=0,++i;i<a;++u,++i)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:i},c=yIe.addDummyNode(r,"edge",d,"_d"),i===l&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),r.setEdge(e,c,{weight:s.weight},o),u===0&&r.graph().dummyChains.push(c),e=c;r.setEdge(e,n,{weight:s.weight},o)}}function xIe(r){vY.forEach(r.graph().dummyChains,function(t){var e=r.node(t),i=e.edgeLabel,n;for(r.setEdge(e.edgeObj,i);e.dummy;)n=r.successors(t)[0],r.removeNode(t),i.points.push({x:e.x,y:e.y}),e.dummy==="edge-label"&&(i.x=e.x,i.y=e.y,i.width=e.width,i.height=e.height),t=n,e=r.node(t)})}});var Zp=j((C9e,_Y)=>{"use strict";var Z0=yi();_Y.exports={longestPath:wIe,slack:CIe};function wIe(r){var t={};function e(i){var n=r.node(i);if(Z0.has(t,i))return n.rank;t[i]=!0;var a=Z0.min(Z0.map(r.outEdges(i),function(o){return e(o.w)-r.edge(o).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),n.rank=a}Z0.forEach(r.sources(),e)}function CIe(r,t){return r.node(t.w).rank-r.node(t.v).rank-r.edge(t).minlen}});var AT=j((E9e,xY)=>{"use strict";var Q0=yi(),EIe=fo().Graph,J0=Zp().slack;xY.exports=SIe;function SIe(r){var t=new EIe({directed:!1}),e=r.nodes()[0],i=r.nodeCount();t.setNode(e,{});for(var n,a;MIe(t,r)<i;)n=DIe(t,r),a=t.hasNode(n.v)?J0(r,n):-J0(r,n),TIe(t,r,a);return t}function MIe(r,t){function e(i){Q0.forEach(t.nodeEdges(i),function(n){var a=n.v,o=i===a?n.w:a;!r.hasNode(o)&&!J0(t,n)&&(r.setNode(o,{}),r.setEdge(i,o,{}),e(o))})}return Q0.forEach(r.nodes(),e),r.nodeCount()}function DIe(r,t){return Q0.minBy(t.edges(),function(e){if(r.hasNode(e.v)!==r.hasNode(e.w))return J0(t,e)})}function TIe(r,t,e){Q0.forEach(r.nodes(),function(i){t.node(i).rank+=e})}});var AY=j((S9e,TY)=>{"use strict";var $s=yi(),AIe=AT(),RIe=Zp().slack,IIe=Zp().longestPath,OIe=fo().alg.preorder,kIe=fo().alg.postorder,PIe=ia().simplify;TY.exports=Ld;Ld.initLowLimValues=IT;Ld.initCutValues=RT;Ld.calcCutValue=CY;Ld.leaveEdge=SY;Ld.enterEdge=MY;Ld.exchangeEdges=DY;function Ld(r){r=PIe(r),IIe(r);var t=AIe(r);IT(t),RT(t,r);for(var e,i;e=SY(t);)i=MY(t,r,e),DY(t,r,e,i)}function RT(r,t){var e=kIe(r,r.nodes());e=e.slice(0,e.length-1),$s.forEach(e,function(i){LIe(r,t,i)})}function LIe(r,t,e){var i=r.node(e),n=i.parent;r.edge(e,n).cutvalue=CY(r,t,e)}function CY(r,t,e){var i=r.node(e),n=i.parent,a=!0,o=t.edge(e,n),s=0;return o||(a=!1,o=t.edge(n,e)),s=o.weight,$s.forEach(t.nodeEdges(e),function(l){var c=l.v===e,d=c?l.w:l.v;if(d!==n){var u=c===a,f=t.edge(l).weight;if(s+=u?f:-f,NIe(r,e,d)){var m=r.edge(e,d).cutvalue;s+=u?-m:m}}}),s}function IT(r,t){arguments.length<2&&(t=r.nodes()[0]),EY(r,{},1,t)}function EY(r,t,e,i,n){var a=e,o=r.node(i);return t[i]=!0,$s.forEach(r.neighbors(i),function(s){$s.has(t,s)||(e=EY(r,t,e,s,i))}),o.low=a,o.lim=e++,n?o.parent=n:delete o.parent,e}function SY(r){return $s.find(r.edges(),function(t){return r.edge(t).cutvalue<0})}function MY(r,t,e){var i=e.v,n=e.w;t.hasEdge(i,n)||(i=e.w,n=e.v);var a=r.node(i),o=r.node(n),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var c=$s.filter(t.edges(),function(d){return l===wY(r,r.node(d.v),s)&&l!==wY(r,r.node(d.w),s)});return $s.minBy(c,function(d){return RIe(t,d)})}function DY(r,t,e,i){var n=e.v,a=e.w;r.removeEdge(n,a),r.setEdge(i.v,i.w,{}),IT(r),RT(r,t),FIe(r,t)}function FIe(r,t){var e=$s.find(r.nodes(),function(n){return!t.node(n).parent}),i=OIe(r,e);i=i.slice(1),$s.forEach(i,function(n){var a=r.node(n).parent,o=t.edge(n,a),s=!1;o||(o=t.edge(a,n),s=!0),t.node(n).rank=t.node(a).rank+(s?o.minlen:-o.minlen)})}function NIe(r,t,e){return r.hasEdge(t,e)}function wY(r,t,e){return e.low<=t.lim&&t.lim<=e.lim}});var kY=j((M9e,OY)=>{"use strict";var BIe=Zp(),IY=BIe.longestPath,VIe=AT(),zIe=AY();OY.exports=qIe;function qIe(r){switch(r.graph().ranker){case"network-simplex":RY(r);break;case"tight-tree":HIe(r);break;case"longest-path":UIe(r);break;default:RY(r)}}var UIe=IY;function HIe(r){IY(r),VIe(r)}function RY(r){zIe(r)}});var LY=j((D9e,PY)=>{"use strict";var OT=yi();PY.exports=GIe;function GIe(r){var t=jIe(r);OT.forEach(r.graph().dummyChains,function(e){for(var i=r.node(e),n=i.edgeObj,a=WIe(r,t,n.v,n.w),o=a.path,s=a.lca,l=0,c=o[l],d=!0;e!==n.w;){if(i=r.node(e),d){for(;(c=o[l])!==s&&r.node(c).maxRank<i.rank;)l++;c===s&&(d=!1)}if(!d){for(;l<o.length-1&&r.node(c=o[l+1]).minRank<=i.rank;)l++;c=o[l]}r.setParent(e,c),e=r.successors(e)[0]}})}function WIe(r,t,e,i){var n=[],a=[],o=Math.min(t[e].low,t[i].low),s=Math.max(t[e].lim,t[i].lim),l,c;l=e;do l=r.parent(l),n.push(l);while(l&&(t[l].low>o||s>t[l].lim));for(c=l,l=i;(l=r.parent(l))!==c;)a.push(l);return{path:n.concat(a.reverse()),lca:c}}function jIe(r){var t={},e=0;function i(n){var a=e;OT.forEach(r.children(n),i),t[n]={low:a,lim:e++}}return OT.forEach(r.children(),i),t}});var BY=j((T9e,NY)=>{"use strict";var Ys=yi(),kT=ia();NY.exports={run:$Ie,cleanup:KIe};function $Ie(r){var t=kT.addDummyNode(r,"root",{},"_root"),e=YIe(r),i=Ys.max(Ys.values(e))-1,n=2*i+1;r.graph().nestingRoot=t,Ys.forEach(r.edges(),function(o){r.edge(o).minlen*=n});var a=XIe(r)+1;Ys.forEach(r.children(),function(o){FY(r,t,n,a,i,e,o)}),r.graph().nodeRankFactor=n}function FY(r,t,e,i,n,a,o){var s=r.children(o);if(!s.length){o!==t&&r.setEdge(t,o,{weight:0,minlen:e});return}var l=kT.addBorderNode(r,"_bt"),c=kT.addBorderNode(r,"_bb"),d=r.node(o);r.setParent(l,o),d.borderTop=l,r.setParent(c,o),d.borderBottom=c,Ys.forEach(s,function(u){FY(r,t,e,i,n,a,u);var f=r.node(u),m=f.borderTop?f.borderTop:u,g=f.borderBottom?f.borderBottom:u,v=f.borderTop?i:2*i,y=m!==g?1:n-a[o]+1;r.setEdge(l,m,{weight:v,minlen:y,nestingEdge:!0}),r.setEdge(g,c,{weight:v,minlen:y,nestingEdge:!0})}),r.parent(o)||r.setEdge(t,l,{weight:0,minlen:n+a[o]})}function YIe(r){var t={};function e(i,n){var a=r.children(i);a&&a.length&&Ys.forEach(a,function(o){e(o,n+1)}),t[i]=n}return Ys.forEach(r.children(),function(i){e(i,1)}),t}function XIe(r){return Ys.reduce(r.edges(),function(t,e){return t+r.edge(e).weight},0)}function KIe(r){var t=r.graph();r.removeNode(t.nestingRoot),delete t.nestingRoot,Ys.forEach(r.edges(),function(e){var i=r.edge(e);i.nestingEdge&&r.removeEdge(e)})}});var qY=j((A9e,zY)=>{"use strict";var PT=yi(),ZIe=ia();zY.exports=QIe;function QIe(r){function t(e){var i=r.children(e),n=r.node(e);if(i.length&&PT.forEach(i,t),PT.has(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,o=n.maxRank+1;a<o;++a)VY(r,"borderLeft","_bl",e,n,a),VY(r,"borderRight","_br",e,n,a)}}PT.forEach(r.children(),t)}function VY(r,t,e,i,n,a){var o={width:0,height:0,rank:a,borderType:t},s=n[t][a-1],l=ZIe.addDummyNode(r,"border",o,e);n[t][a]=l,r.setParent(l,i),s&&r.setEdge(s,l,{weight:1})}});var WY=j((R9e,GY)=>{"use strict";var ls=yi();GY.exports={adjust:JIe,undo:eOe};function JIe(r){var t=r.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&HY(r)}function eOe(r){var t=r.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&tOe(r),(t==="lr"||t==="rl")&&(rOe(r),HY(r))}function HY(r){ls.forEach(r.nodes(),function(t){UY(r.node(t))}),ls.forEach(r.edges(),function(t){UY(r.edge(t))})}function UY(r){var t=r.width;r.width=r.height,r.height=t}function tOe(r){ls.forEach(r.nodes(),function(t){LT(r.node(t))}),ls.forEach(r.edges(),function(t){var e=r.edge(t);ls.forEach(e.points,LT),ls.has(e,"y")&&LT(e)})}function LT(r){r.y=-r.y}function rOe(r){ls.forEach(r.nodes(),function(t){FT(r.node(t))}),ls.forEach(r.edges(),function(t){var e=r.edge(t);ls.forEach(e.points,FT),ls.has(e,"x")&&FT(e)})}function FT(r){var t=r.x;r.x=r.y,r.y=t}});var $Y=j((I9e,jY)=>{"use strict";var Xs=yi();jY.exports=iOe;function iOe(r){var t={},e=Xs.filter(r.nodes(),function(s){return!r.children(s).length}),i=Xs.max(Xs.map(e,function(s){return r.node(s).rank})),n=Xs.map(Xs.range(i+1),function(){return[]});function a(s){if(!Xs.has(t,s)){t[s]=!0;var l=r.node(s);n[l.rank].push(s),Xs.forEach(r.successors(s),a)}}var o=Xs.sortBy(e,function(s){return r.node(s).rank});return Xs.forEach(o,a),n}});var XY=j((O9e,YY)=>{"use strict";var lc=yi();YY.exports=nOe;function nOe(r,t){for(var e=0,i=1;i<t.length;++i)e+=aOe(r,t[i-1],t[i]);return e}function aOe(r,t,e){for(var i=lc.zipObject(e,lc.map(e,function(c,d){return d})),n=lc.flatten(lc.map(t,function(c){return lc.sortBy(lc.map(r.outEdges(c),function(d){return{pos:i[d.w],weight:r.edge(d).weight}}),"pos")}),!0),a=1;a<e.length;)a<<=1;var o=2*a-1;a-=1;var s=lc.map(new Array(o),function(){return 0}),l=0;return lc.forEach(n.forEach(function(c){var d=c.pos+a;s[d]+=c.weight;for(var u=0;d>0;)d%2&&(u+=s[d+1]),d=d-1>>1,s[d]+=c.weight;l+=c.weight*u})),l}});var QY=j((k9e,ZY)=>{"use strict";var KY=yi();ZY.exports=oOe;function oOe(r,t){return KY.map(t,function(e){var i=r.inEdges(e);if(i.length){var n=KY.reduce(i,function(a,o){var s=r.edge(o),l=r.node(o.v);return{sum:a.sum+s.weight*l.order,weight:a.weight+s.weight}},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}else return{v:e}})}});var e8=j((P9e,JY)=>{"use strict";var Fa=yi();JY.exports=sOe;function sOe(r,t){var e={};Fa.forEach(r,function(n,a){var o=e[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};Fa.isUndefined(n.barycenter)||(o.barycenter=n.barycenter,o.weight=n.weight)}),Fa.forEach(t.edges(),function(n){var a=e[n.v],o=e[n.w];!Fa.isUndefined(a)&&!Fa.isUndefined(o)&&(o.indegree++,a.out.push(e[n.w]))});var i=Fa.filter(e,function(n){return!n.indegree});return lOe(i)}function lOe(r){var t=[];function e(a){return function(o){o.merged||(Fa.isUndefined(o.barycenter)||Fa.isUndefined(a.barycenter)||o.barycenter>=a.barycenter)&&cOe(a,o)}}function i(a){return function(o){o.in.push(a),--o.indegree===0&&r.push(o)}}for(;r.length;){var n=r.pop();t.push(n),Fa.forEach(n.in.reverse(),e(n)),Fa.forEach(n.out,i(n))}return Fa.map(Fa.filter(t,function(a){return!a.merged}),function(a){return Fa.pick(a,["vs","i","barycenter","weight"])})}function cOe(r,t){var e=0,i=0;r.weight&&(e+=r.barycenter*r.weight,i+=r.weight),t.weight&&(e+=t.barycenter*t.weight,i+=t.weight),r.vs=t.vs.concat(r.vs),r.barycenter=e/i,r.weight=i,r.i=Math.min(t.i,r.i),t.merged=!0}});var i8=j((L9e,r8)=>{"use strict";var Qp=yi(),dOe=ia();r8.exports=uOe;function uOe(r,t){var e=dOe.partition(r,function(d){return Qp.has(d,"barycenter")}),i=e.lhs,n=Qp.sortBy(e.rhs,function(d){return-d.i}),a=[],o=0,s=0,l=0;i.sort(hOe(!!t)),l=t8(a,n,l),Qp.forEach(i,function(d){l+=d.vs.length,a.push(d.vs),o+=d.barycenter*d.weight,s+=d.weight,l=t8(a,n,l)});var c={vs:Qp.flatten(a,!0)};return s&&(c.barycenter=o/s,c.weight=s),c}function t8(r,t,e){for(var i;t.length&&(i=Qp.last(t)).i<=e;)t.pop(),r.push(i.vs),e++;return e}function hOe(r){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:r?e.i-t.i:t.i-e.i}}});var o8=j((F9e,a8)=>{"use strict";var cc=yi(),fOe=QY(),mOe=e8(),pOe=i8();a8.exports=n8;function n8(r,t,e,i){var n=r.children(t),a=r.node(t),o=a?a.borderLeft:void 0,s=a?a.borderRight:void 0,l={};o&&(n=cc.filter(n,function(g){return g!==o&&g!==s}));var c=fOe(r,n);cc.forEach(c,function(g){if(r.children(g.v).length){var v=n8(r,g.v,e,i);l[g.v]=v,cc.has(v,"barycenter")&&vOe(g,v)}});var d=mOe(c,e);gOe(d,l);var u=pOe(d,i);if(o&&(u.vs=cc.flatten([o,u.vs,s],!0),r.predecessors(o).length)){var f=r.node(r.predecessors(o)[0]),m=r.node(r.predecessors(s)[0]);cc.has(u,"barycenter")||(u.barycenter=0,u.weight=0),u.barycenter=(u.barycenter*u.weight+f.order+m.order)/(u.weight+2),u.weight+=2}return u}function gOe(r,t){cc.forEach(r,function(e){e.vs=cc.flatten(e.vs.map(function(i){return t[i]?t[i].vs:i}),!0)})}function vOe(r,t){cc.isUndefined(r.barycenter)?(r.barycenter=t.barycenter,r.weight=t.weight):(r.barycenter=(r.barycenter*r.weight+t.barycenter*t.weight)/(r.weight+t.weight),r.weight+=t.weight)}});var l8=j((N9e,s8)=>{"use strict";var Jp=yi(),yOe=fo().Graph;s8.exports=bOe;function bOe(r,t,e){var i=_Oe(r),n=new yOe({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(a){return r.node(a)});return Jp.forEach(r.nodes(),function(a){var o=r.node(a),s=r.parent(a);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(n.setNode(a),n.setParent(a,s||i),Jp.forEach(r[e](a),function(l){var c=l.v===a?l.w:l.v,d=n.edge(c,a),u=Jp.isUndefined(d)?0:d.weight;n.setEdge(c,a,{weight:r.edge(l).weight+u})}),Jp.has(o,"minRank")&&n.setNode(a,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),n}function _Oe(r){for(var t;r.hasNode(t=Jp.uniqueId("_root")););return t}});var d8=j((B9e,c8)=>{"use strict";var xOe=yi();c8.exports=wOe;function wOe(r,t,e){var i={},n;xOe.forEach(e,function(a){for(var o=r.parent(a),s,l;o;){if(s=r.parent(o),s?(l=i[s],i[s]=o):(l=n,n=o),l&&l!==o){t.setEdge(l,o);return}o=s}})}});var p8=j((V9e,m8)=>{"use strict";var dc=yi(),COe=$Y(),EOe=XY(),SOe=o8(),MOe=l8(),DOe=d8(),TOe=fo().Graph,u8=ia();m8.exports=AOe;function AOe(r){var t=u8.maxRank(r),e=h8(r,dc.range(1,t+1),"inEdges"),i=h8(r,dc.range(t-1,-1,-1),"outEdges"),n=COe(r);f8(r,n);for(var a=Number.POSITIVE_INFINITY,o,s=0,l=0;l<4;++s,++l){ROe(s%2?e:i,s%4>=2),n=u8.buildLayerMatrix(r);var c=EOe(r,n);c<a&&(l=0,o=dc.cloneDeep(n),a=c)}f8(r,o)}function h8(r,t,e){return dc.map(t,function(i){return MOe(r,i,e)})}function ROe(r,t){var e=new TOe;dc.forEach(r,function(i){var n=i.graph().root,a=SOe(i,n,e,t);dc.forEach(a.vs,function(o,s){i.node(o).order=s}),DOe(i,e,a.vs)})}function f8(r,t){dc.forEach(t,function(e){dc.forEach(e,function(i,n){r.node(i).order=n})})}});var S8=j((z9e,E8)=>{"use strict";var Kt=yi(),IOe=fo().Graph,OOe=ia();E8.exports={positionX:LOe,findType1Conflicts:g8,findType2Conflicts:v8,addConflict:NT,hasConflict:y8,verticalAlignment:b8,horizontalCompaction:_8,alignCoordinates:w8,findSmallestWidthAlignment:x8,balance:C8};function g8(r,t){var e={};function i(n,a){var o=0,s=0,l=n.length,c=Kt.last(a);return Kt.forEach(a,function(d,u){var f=kOe(r,d),m=f?r.node(f).order:l;(f||d===c)&&(Kt.forEach(a.slice(s,u+1),function(g){Kt.forEach(r.predecessors(g),function(v){var y=r.node(v),b=y.order;(b<o||m<b)&&!(y.dummy&&r.node(g).dummy)&&NT(e,v,g)})}),s=u+1,o=m)}),a}return Kt.reduce(t,i),e}function v8(r,t){var e={};function i(a,o,s,l,c){var d;Kt.forEach(Kt.range(o,s),function(u){d=a[u],r.node(d).dummy&&Kt.forEach(r.predecessors(d),function(f){var m=r.node(f);m.dummy&&(m.order<l||m.order>c)&&NT(e,f,d)})})}function n(a,o){var s=-1,l,c=0;return Kt.forEach(o,function(d,u){if(r.node(d).dummy==="border"){var f=r.predecessors(d);f.length&&(l=r.node(f[0]).order,i(o,c,u,s,l),c=u,s=l)}i(o,c,o.length,l,a.length)}),o}return Kt.reduce(t,n),e}function kOe(r,t){if(r.node(t).dummy)return Kt.find(r.predecessors(t),function(e){return r.node(e).dummy})}function NT(r,t,e){if(t>e){var i=t;t=e,e=i}var n=r[t];n||(r[t]=n={}),n[e]=!0}function y8(r,t,e){if(t>e){var i=t;t=e,e=i}return Kt.has(r[t],e)}function b8(r,t,e,i){var n={},a={},o={};return Kt.forEach(t,function(s){Kt.forEach(s,function(l,c){n[l]=l,a[l]=l,o[l]=c})}),Kt.forEach(t,function(s){var l=-1;Kt.forEach(s,function(c){var d=i(c);if(d.length){d=Kt.sortBy(d,function(v){return o[v]});for(var u=(d.length-1)/2,f=Math.floor(u),m=Math.ceil(u);f<=m;++f){var g=d[f];a[c]===c&&l<o[g]&&!y8(e,c,g)&&(a[g]=c,a[c]=n[c]=n[g],l=o[g])}}})}),{root:n,align:a}}function _8(r,t,e,i,n){var a={},o=POe(r,t,e,n),s=n?"borderLeft":"borderRight";function l(u,f){for(var m=o.nodes(),g=m.pop(),v={};g;)v[g]?u(g):(v[g]=!0,m.push(g),m=m.concat(f(g))),g=m.pop()}function c(u){a[u]=o.inEdges(u).reduce(function(f,m){return Math.max(f,a[m.v]+o.edge(m))},0)}function d(u){var f=o.outEdges(u).reduce(function(g,v){return Math.min(g,a[v.w]-o.edge(v))},Number.POSITIVE_INFINITY),m=r.node(u);f!==Number.POSITIVE_INFINITY&&m.borderType!==s&&(a[u]=Math.max(a[u],f))}return l(c,o.predecessors.bind(o)),l(d,o.successors.bind(o)),Kt.forEach(i,function(u){a[u]=a[e[u]]}),a}function POe(r,t,e,i){var n=new IOe,a=r.graph(),o=FOe(a.nodesep,a.edgesep,i);return Kt.forEach(t,function(s){var l;Kt.forEach(s,function(c){var d=e[c];if(n.setNode(d),l){var u=e[l],f=n.edge(u,d);n.setEdge(u,d,Math.max(o(r,c,l),f||0))}l=c})}),n}function x8(r,t){return Kt.minBy(Kt.values(t),function(e){var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return Kt.forIn(e,function(a,o){var s=NOe(r,o)/2;i=Math.max(a+s,i),n=Math.min(a-s,n)}),i-n})}function w8(r,t){var e=Kt.values(t),i=Kt.min(e),n=Kt.max(e);Kt.forEach(["u","d"],function(a){Kt.forEach(["l","r"],function(o){var s=a+o,l=r[s],c;if(l!==t){var d=Kt.values(l);c=o==="l"?i-Kt.min(d):n-Kt.max(d),c&&(r[s]=Kt.mapValues(l,function(u){return u+c}))}})})}function C8(r,t){return Kt.mapValues(r.ul,function(e,i){if(t)return r[t.toLowerCase()][i];var n=Kt.sortBy(Kt.map(r,i));return(n[1]+n[2])/2})}function LOe(r){var t=OOe.buildLayerMatrix(r),e=Kt.merge(g8(r,t),v8(r,t)),i={},n;Kt.forEach(["u","d"],function(o){n=o==="u"?t:Kt.values(t).reverse(),Kt.forEach(["l","r"],function(s){s==="r"&&(n=Kt.map(n,function(u){return Kt.values(u).reverse()}));var l=(o==="u"?r.predecessors:r.successors).bind(r),c=b8(r,n,e,l),d=_8(r,n,c.root,c.align,s==="r");s==="r"&&(d=Kt.mapValues(d,function(u){return-u})),i[o+s]=d})});var a=x8(r,i);return w8(i,a),C8(i,r.graph().align)}function FOe(r,t,e){return function(i,n,a){var o=i.node(n),s=i.node(a),l=0,c;if(l+=o.width/2,Kt.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":c=-o.width/2;break;case"r":c=o.width/2;break}if(c&&(l+=e?c:-c),c=0,l+=(o.dummy?t:r)/2,l+=(s.dummy?t:r)/2,l+=s.width/2,Kt.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=e?c:-c),c=0,l}}function NOe(r,t){return r.node(t).width}});var T8=j((q9e,D8)=>{"use strict";var eg=yi(),M8=ia(),BOe=S8().positionX;D8.exports=VOe;function VOe(r){r=M8.asNonCompoundGraph(r),zOe(r),eg.forEach(BOe(r),function(t,e){r.node(e).x=t})}function zOe(r){var t=M8.buildLayerMatrix(r),e=r.graph().ranksep,i=0;eg.forEach(t,function(n){var a=eg.max(eg.map(n,function(o){return r.node(o).height}));eg.forEach(n,function(o){r.node(o).y=i+a/2}),i+=a+e})}});var P8=j((U9e,k8)=>{"use strict";var gr=yi(),A8=hY(),R8=bY(),qOe=kY(),UOe=ia().normalizeRanks,HOe=LY(),GOe=ia().removeEmptyRanks,I8=BY(),WOe=qY(),O8=WY(),jOe=p8(),$Oe=T8(),uc=ia(),YOe=fo().Graph;k8.exports=XOe;function XOe(r,t){var e=t&&t.debugTiming?uc.time:uc.notime;e("layout",function(){var i=e("  buildLayoutGraph",function(){return oke(r)});e("  runLayout",function(){KOe(i,e)}),e("  updateInputGraph",function(){ZOe(r,i)})})}function KOe(r,t){t("    makeSpaceForEdgeLabels",function(){ske(r)}),t("    removeSelfEdges",function(){gke(r)}),t("    acyclic",function(){A8.run(r)}),t("    nestingGraph.run",function(){I8.run(r)}),t("    rank",function(){qOe(uc.asNonCompoundGraph(r))}),t("    injectEdgeLabelProxies",function(){lke(r)}),t("    removeEmptyRanks",function(){GOe(r)}),t("    nestingGraph.cleanup",function(){I8.cleanup(r)}),t("    normalizeRanks",function(){UOe(r)}),t("    assignRankMinMax",function(){cke(r)}),t("    removeEdgeLabelProxies",function(){dke(r)}),t("    normalize.run",function(){R8.run(r)}),t("    parentDummyChains",function(){HOe(r)}),t("    addBorderSegments",function(){WOe(r)}),t("    order",function(){jOe(r)}),t("    insertSelfEdges",function(){vke(r)}),t("    adjustCoordinateSystem",function(){O8.adjust(r)}),t("    position",function(){$Oe(r)}),t("    positionSelfEdges",function(){yke(r)}),t("    removeBorderNodes",function(){pke(r)}),t("    normalize.undo",function(){R8.undo(r)}),t("    fixupEdgeLabelCoords",function(){fke(r)}),t("    undoCoordinateSystem",function(){O8.undo(r)}),t("    translateGraph",function(){uke(r)}),t("    assignNodeIntersects",function(){hke(r)}),t("    reversePoints",function(){mke(r)}),t("    acyclic.undo",function(){A8.undo(r)})}function ZOe(r,t){gr.forEach(r.nodes(),function(e){var i=r.node(e),n=t.node(e);i&&(i.x=n.x,i.y=n.y,t.children(e).length&&(i.width=n.width,i.height=n.height))}),gr.forEach(r.edges(),function(e){var i=r.edge(e),n=t.edge(e);i.points=n.points,gr.has(n,"x")&&(i.x=n.x,i.y=n.y)}),r.graph().width=t.graph().width,r.graph().height=t.graph().height}var QOe=["nodesep","edgesep","ranksep","marginx","marginy"],JOe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},eke=["acyclicer","ranker","rankdir","align"],tke=["width","height"],rke={width:0,height:0},ike=["minlen","weight","width","height","labeloffset"],nke={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ake=["labelpos"];function oke(r){var t=new YOe({multigraph:!0,compound:!0}),e=VT(r.graph());return t.setGraph(gr.merge({},JOe,BT(e,QOe),gr.pick(e,eke))),gr.forEach(r.nodes(),function(i){var n=VT(r.node(i));t.setNode(i,gr.defaults(BT(n,tke),rke)),t.setParent(i,r.parent(i))}),gr.forEach(r.edges(),function(i){var n=VT(r.edge(i));t.setEdge(i,gr.merge({},nke,BT(n,ike),gr.pick(n,ake)))}),t}function ske(r){var t=r.graph();t.ranksep/=2,gr.forEach(r.edges(),function(e){var i=r.edge(e);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function lke(r){gr.forEach(r.edges(),function(t){var e=r.edge(t);if(e.width&&e.height){var i=r.node(t.v),n=r.node(t.w),a={rank:(n.rank-i.rank)/2+i.rank,e:t};uc.addDummyNode(r,"edge-proxy",a,"_ep")}})}function cke(r){var t=0;gr.forEach(r.nodes(),function(e){var i=r.node(e);i.borderTop&&(i.minRank=r.node(i.borderTop).rank,i.maxRank=r.node(i.borderBottom).rank,t=gr.max(t,i.maxRank))}),r.graph().maxRank=t}function dke(r){gr.forEach(r.nodes(),function(t){var e=r.node(t);e.dummy==="edge-proxy"&&(r.edge(e.e).labelRank=e.rank,r.removeNode(t))})}function uke(r){var t=Number.POSITIVE_INFINITY,e=0,i=Number.POSITIVE_INFINITY,n=0,a=r.graph(),o=a.marginx||0,s=a.marginy||0;function l(c){var d=c.x,u=c.y,f=c.width,m=c.height;t=Math.min(t,d-f/2),e=Math.max(e,d+f/2),i=Math.min(i,u-m/2),n=Math.max(n,u+m/2)}gr.forEach(r.nodes(),function(c){l(r.node(c))}),gr.forEach(r.edges(),function(c){var d=r.edge(c);gr.has(d,"x")&&l(d)}),t-=o,i-=s,gr.forEach(r.nodes(),function(c){var d=r.node(c);d.x-=t,d.y-=i}),gr.forEach(r.edges(),function(c){var d=r.edge(c);gr.forEach(d.points,function(u){u.x-=t,u.y-=i}),gr.has(d,"x")&&(d.x-=t),gr.has(d,"y")&&(d.y-=i)}),a.width=e-t+o,a.height=n-i+s}function hke(r){gr.forEach(r.edges(),function(t){var e=r.edge(t),i=r.node(t.v),n=r.node(t.w),a,o;e.points?(a=e.points[0],o=e.points[e.points.length-1]):(e.points=[],a=n,o=i),e.points.unshift(uc.intersectRect(i,a)),e.points.push(uc.intersectRect(n,o))})}function fke(r){gr.forEach(r.edges(),function(t){var e=r.edge(t);if(gr.has(e,"x"))switch((e.labelpos==="l"||e.labelpos==="r")&&(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset;break}})}function mke(r){gr.forEach(r.edges(),function(t){var e=r.edge(t);e.reversed&&e.points.reverse()})}function pke(r){gr.forEach(r.nodes(),function(t){if(r.children(t).length){var e=r.node(t),i=r.node(e.borderTop),n=r.node(e.borderBottom),a=r.node(gr.last(e.borderLeft)),o=r.node(gr.last(e.borderRight));e.width=Math.abs(o.x-a.x),e.height=Math.abs(n.y-i.y),e.x=a.x+e.width/2,e.y=i.y+e.height/2}}),gr.forEach(r.nodes(),function(t){r.node(t).dummy==="border"&&r.removeNode(t)})}function gke(r){gr.forEach(r.edges(),function(t){if(t.v===t.w){var e=r.node(t.v);e.selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:r.edge(t)}),r.removeEdge(t)}})}function vke(r){var t=uc.buildLayerMatrix(r);gr.forEach(t,function(e){var i=0;gr.forEach(e,function(n,a){var o=r.node(n);o.order=a+i,gr.forEach(o.selfEdges,function(s){uc.addDummyNode(r,"selfedge",{width:s.label.width,height:s.label.height,rank:o.rank,order:a+ ++i,e:s.e,label:s.label},"_se")}),delete o.selfEdges})})}function yke(r){gr.forEach(r.nodes(),function(t){var e=r.node(t);if(e.dummy==="selfedge"){var i=r.node(e.e.v),n=i.x+i.width/2,a=i.y,o=e.x-n,s=i.height/2;r.setEdge(e.e,e.label),r.removeNode(t),e.label.points=[{x:n+2*o/3,y:a-s},{x:n+5*o/6,y:a-s},{x:n+o,y:a},{x:n+5*o/6,y:a+s},{x:n+2*o/3,y:a+s}],e.label.x=e.x,e.label.y=e.y}})}function BT(r,t){return gr.mapValues(gr.pick(r,t),Number)}function VT(r){var t={};return gr.forEach(r,function(e,i){t[i.toLowerCase()]=e}),t}});var F8=j((H9e,L8)=>{"use strict";var e_=yi(),bke=ia(),_ke=fo().Graph;L8.exports={debugOrdering:xke};function xke(r){var t=bke.buildLayerMatrix(r),e=new _ke({compound:!0,multigraph:!0}).setGraph({});return e_.forEach(r.nodes(),function(i){e.setNode(i,{label:i}),e.setParent(i,"layer"+r.node(i).rank)}),e_.forEach(r.edges(),function(i){e.setEdge(i.v,i.w,{},i.name)}),e_.forEach(t,function(i,n){var a="layer"+n;e.setNode(a,{rank:"same"}),e_.reduce(i,function(o,s){return e.setEdge(o,s,{style:"invis"}),s})}),e}});var B8=j((G9e,N8)=>{"use strict";N8.exports="0.8.5"});var zT=j((W9e,V8)=>{"use strict";V8.exports={graphlib:fo(),layout:P8(),debug:F8(),util:{time:ia().time,notime:ia().notime},version:B8()}});var z8=j((tg,qT)=>{"use strict";(function(t,e){typeof tg=="object"&&typeof qT=="object"?qT.exports=e(zT()):typeof define=="function"&&define.amd?define(["dagre"],e):typeof tg=="object"?tg.cytoscapeDagre=e(zT()):t.cytoscapeDagre=e(t.dagre)})(tg,function(r){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(n,a,o){i.o(n,a)||Object.defineProperty(n,a,{enumerable:!0,get:o})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,a){if(a&1&&(n=i(n)),a&8||a&4&&typeof n=="object"&&n&&n.__esModule)return n;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),a&2&&typeof n!="string")for(var s in n)i.d(o,s,function(l){return n[l]}.bind(null,s));return o},i.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(a,"a",a),a},i.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},i.p="",i(i.s=0)}([function(t,e,i){var n=i(1),a=function(s){s&&s("layout","dagre",n)};typeof cytoscape<"u"&&a(cytoscape),t.exports=a},function(t,e,i){function n(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(f){return typeof f}:n=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},n(d)}var a=function(u){return typeof u=="function"},o=i(2),s=i(3),l=i(4);function c(d){this.options=s({},o,d)}c.prototype.run=function(){var d=this.options,u=this,f=d.cy,m=d.eles,g=function(W,$){return a($)?$.apply(W,[W]):$},v=d.boundingBox||{x1:0,y1:0,w:f.width(),h:f.height()};v.x2===void 0&&(v.x2=v.x1+v.w),v.w===void 0&&(v.w=v.x2-v.x1),v.y2===void 0&&(v.y2=v.y1+v.h),v.h===void 0&&(v.h=v.y2-v.y1);var y=new l.graphlib.Graph({multigraph:!0,compound:!0}),b={},_=function(W,$){$!=null&&(b[W]=$)};_("nodesep",d.nodeSep),_("edgesep",d.edgeSep),_("ranksep",d.rankSep),_("rankdir",d.rankDir),_("align",d.align),_("ranker",d.ranker),_("acyclicer",d.acyclicer),y.setGraph(b),y.setDefaultEdgeLabel(function(){return{}}),y.setDefaultNodeLabel(function(){return{}});var w=m.nodes();a(d.sort)&&(w=w.sort(d.sort));for(var E=0;E<w.length;E++){var S=w[E],D=S.layoutDimensions(d);y.setNode(S.id(),{width:D.w,height:D.h,name:S.id()})}for(var T=0;T<w.length;T++){var O=w[T];O.isChild()&&y.setParent(O.id(),O.parent().id())}var F=m.edges().stdFilter(function(z){return!z.source().isParent()&&!z.target().isParent()});a(d.sort)&&(F=F.sort(d.sort));for(var P=0;P<F.length;P++){var L=F[P];y.setEdge(L.source().id(),L.target().id(),{minlen:g(L,d.minLen),weight:g(L,d.edgeWeight),name:L.id()},L.id())}l.layout(y);for(var C=y.nodes(),A=0;A<C.length;A++){var R=C[A],k=y.node(R);f.getElementById(R).scratch().dagre=k}var I;d.boundingBox?(I={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},w.forEach(function(z){var W=z.scratch().dagre;I.x1=Math.min(I.x1,W.x),I.x2=Math.max(I.x2,W.x),I.y1=Math.min(I.y1,W.y),I.y2=Math.max(I.y2,W.y)}),I.w=I.x2-I.x1,I.h=I.y2-I.y1):I=v;var B=function(W){if(d.boundingBox){var $=I.w===0?0:(W.x-I.x1)/I.w,G=I.h===0?0:(W.y-I.y1)/I.h;return{x:v.x1+$*v.w,y:v.y1+G*v.h}}else return W};return w.layoutPositions(u,d,function(z){z=n(z)==="object"?z:this;var W=z.scratch().dagre;return B({x:W.x,y:W.y})}),this},t.exports=c},function(t,e){var i={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,align:void 0,acyclicer:void 0,ranker:void 0,minLen:function(a){return 1},edgeWeight:function(a){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(a,o){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(a,o){return o},ready:function(){},sort:void 0,stop:function(){}};t.exports=i},function(t,e){t.exports=Object.assign!=null?Object.assign.bind(Object):function(i){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.forEach(function(s){Object.keys(s).forEach(function(l){return i[l]=s[l]})}),i}},function(t,e){t.exports=r}])})});var HT=j((rg,UT)=>{"use strict";(function(t,e){typeof rg=="object"&&typeof UT=="object"?UT.exports=e():typeof define=="function"&&define.amd?define([],e):typeof rg=="object"?rg.layoutBase=e():t.layoutBase=e()})(rg,function(){return function(r){var t={};function e(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return r[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=r,e.c=t,e.i=function(i){return i},e.d=function(i,n,a){e.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(n,"a",n),n},e.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},e.p="",e(e.s=28)}([function(r,t,e){"use strict";function i(){}i.QUALITY=1,i.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,i.DEFAULT_INCREMENTAL=!1,i.DEFAULT_ANIMATION_ON_LAYOUT=!0,i.DEFAULT_ANIMATION_DURING_LAYOUT=!1,i.DEFAULT_ANIMATION_PERIOD=50,i.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,i.DEFAULT_GRAPH_MARGIN=15,i.NODE_DIMENSIONS_INCLUDE_LABELS=!1,i.SIMPLE_NODE_SIZE=40,i.SIMPLE_NODE_HALF_SIZE=i.SIMPLE_NODE_SIZE/2,i.EMPTY_COMPOUND_NODE_SIZE=40,i.MIN_EDGE_LENGTH=1,i.WORLD_BOUNDARY=1e6,i.INITIAL_WORLD_BOUNDARY=i.WORLD_BOUNDARY/1e3,i.WORLD_CENTER_X=1200,i.WORLD_CENTER_Y=900,r.exports=i},function(r,t,e){"use strict";var i=e(2),n=e(8),a=e(9);function o(l,c,d){i.call(this,d),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=d,this.bendpoints=[],this.source=l,this.target=c}o.prototype=Object.create(i.prototype);for(var s in i)o[s]=i[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(l,c){for(var d=this.getOtherEnd(l),u=c.getGraphManager().getRoot();;){if(d.getOwner()==c)return d;if(d.getOwner()==u)break;d=d.getOwner().getParent()}return null},o.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=n.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=o},function(r,t,e){"use strict";function i(n){this.vGraphObject=n}r.exports=i},function(r,t,e){"use strict";var i=e(2),n=e(10),a=e(13),o=e(0),s=e(16),l=e(5);function c(u,f,m,g){m==null&&g==null&&(g=f),i.call(this,g),u.graphManager!=null&&(u=u.graphManager),this.estimatedSize=n.MIN_VALUE,this.inclusionTreeDepth=n.MAX_VALUE,this.vGraphObject=g,this.edges=[],this.graphManager=u,m!=null&&f!=null?this.rect=new a(f.x,f.y,m.width,m.height):this.rect=new a}c.prototype=Object.create(i.prototype);for(var d in i)c[d]=i[d];c.prototype.getEdges=function(){return this.edges},c.prototype.getChild=function(){return this.child},c.prototype.getOwner=function(){return this.owner},c.prototype.getWidth=function(){return this.rect.width},c.prototype.setWidth=function(u){this.rect.width=u},c.prototype.getHeight=function(){return this.rect.height},c.prototype.setHeight=function(u){this.rect.height=u},c.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},c.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},c.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},c.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},c.prototype.getRect=function(){return this.rect},c.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},c.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},c.prototype.setRect=function(u,f){this.rect.x=u.x,this.rect.y=u.y,this.rect.width=f.width,this.rect.height=f.height},c.prototype.setCenter=function(u,f){this.rect.x=u-this.rect.width/2,this.rect.y=f-this.rect.height/2},c.prototype.setLocation=function(u,f){this.rect.x=u,this.rect.y=f},c.prototype.moveBy=function(u,f){this.rect.x+=u,this.rect.y+=f},c.prototype.getEdgeListToNode=function(u){var f=[],m,g=this;return g.edges.forEach(function(v){if(v.target==u){if(v.source!=g)throw"Incorrect edge source!";f.push(v)}}),f},c.prototype.getEdgesBetween=function(u){var f=[],m,g=this;return g.edges.forEach(function(v){if(!(v.source==g||v.target==g))throw"Incorrect edge source and/or target";(v.target==u||v.source==u)&&f.push(v)}),f},c.prototype.getNeighborsList=function(){var u=new Set,f=this;return f.edges.forEach(function(m){if(m.source==f)u.add(m.target);else{if(m.target!=f)throw"Incorrect incidency!";u.add(m.source)}}),u},c.prototype.withChildren=function(){var u=new Set,f,m;if(u.add(this),this.child!=null)for(var g=this.child.getNodes(),v=0;v<g.length;v++)f=g[v],m=f.withChildren(),m.forEach(function(y){u.add(y)});return u},c.prototype.getNoOfChildren=function(){var u=0,f;if(this.child==null)u=1;else for(var m=this.child.getNodes(),g=0;g<m.length;g++)f=m[g],u+=f.getNoOfChildren();return u==0&&(u=1),u},c.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},c.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},c.prototype.scatter=function(){var u,f,m=-o.INITIAL_WORLD_BOUNDARY,g=o.INITIAL_WORLD_BOUNDARY;u=o.WORLD_CENTER_X+s.nextDouble()*(g-m)+m;var v=-o.INITIAL_WORLD_BOUNDARY,y=o.INITIAL_WORLD_BOUNDARY;f=o.WORLD_CENTER_Y+s.nextDouble()*(y-v)+v,this.rect.x=u,this.rect.y=f},c.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var u=this.getChild();if(u.updateBounds(!0),this.rect.x=u.getLeft(),this.rect.y=u.getTop(),this.setWidth(u.getRight()-u.getLeft()),this.setHeight(u.getBottom()-u.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var f=u.getRight()-u.getLeft(),m=u.getBottom()-u.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(f+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>f?(this.rect.x-=(this.labelWidth-f)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(f+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(m+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>m?(this.rect.y-=(this.labelHeight-m)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(m+this.labelHeight))}}},c.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==n.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},c.prototype.transform=function(u){var f=this.rect.x;f>o.WORLD_BOUNDARY?f=o.WORLD_BOUNDARY:f<-o.WORLD_BOUNDARY&&(f=-o.WORLD_BOUNDARY);var m=this.rect.y;m>o.WORLD_BOUNDARY?m=o.WORLD_BOUNDARY:m<-o.WORLD_BOUNDARY&&(m=-o.WORLD_BOUNDARY);var g=new l(f,m),v=u.inverseTransformPoint(g);this.setLocation(v.x,v.y)},c.prototype.getLeft=function(){return this.rect.x},c.prototype.getRight=function(){return this.rect.x+this.rect.width},c.prototype.getTop=function(){return this.rect.y},c.prototype.getBottom=function(){return this.rect.y+this.rect.height},c.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=c},function(r,t,e){"use strict";var i=e(0);function n(){}for(var a in i)n[a]=i[a];n.MAX_ITERATIONS=2500,n.DEFAULT_EDGE_LENGTH=50,n.DEFAULT_SPRING_STRENGTH=.45,n.DEFAULT_REPULSION_STRENGTH=4500,n.DEFAULT_GRAVITY_STRENGTH=.4,n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,n.COOLING_ADAPTATION_FACTOR=.33,n.ADAPTATION_LOWER_NODE_LIMIT=1e3,n.ADAPTATION_UPPER_NODE_LIMIT=5e3,n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,n.MAX_NODE_DISPLACEMENT=n.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10,n.CONVERGENCE_CHECK_PERIOD=100,n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,n.MIN_EDGE_LENGTH=1,n.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=n},function(r,t,e){"use strict";function i(n,a){n==null&&a==null?(this.x=0,this.y=0):(this.x=n,this.y=a)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.setX=function(n){this.x=n},i.prototype.setY=function(n){this.y=n},i.prototype.getDifference=function(n){return new DimensionD(this.x-n.x,this.y-n.y)},i.prototype.getCopy=function(){return new i(this.x,this.y)},i.prototype.translate=function(n){return this.x+=n.width,this.y+=n.height,this},r.exports=i},function(r,t,e){"use strict";var i=e(2),n=e(10),a=e(0),o=e(7),s=e(3),l=e(1),c=e(13),d=e(12),u=e(11);function f(g,v,y){i.call(this,y),this.estimatedSize=n.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=g,v!=null&&v instanceof o?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}f.prototype=Object.create(i.prototype);for(var m in i)f[m]=i[m];f.prototype.getNodes=function(){return this.nodes},f.prototype.getEdges=function(){return this.edges},f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getParent=function(){return this.parent},f.prototype.getLeft=function(){return this.left},f.prototype.getRight=function(){return this.right},f.prototype.getTop=function(){return this.top},f.prototype.getBottom=function(){return this.bottom},f.prototype.isConnected=function(){return this.isConnected},f.prototype.add=function(g,v,y){if(v==null&&y==null){var b=g;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(b)>-1)throw"Node already in graph!";return b.owner=this,this.getNodes().push(b),b}else{var _=g;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(v.owner==y.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=y.owner?null:(_.source=v,_.target=y,_.isInterGraph=!1,this.getEdges().push(_),v.edges.push(_),y!=v&&y.edges.push(_),_)}},f.prototype.remove=function(g){var v=g;if(g instanceof s){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=v.edges.slice(),b,_=y.length,w=0;w<_;w++)b=y[w],b.isInterGraph?this.graphManager.remove(b):b.source.owner.remove(b);var E=this.nodes.indexOf(v);if(E==-1)throw"Node not in owner node list!";this.nodes.splice(E,1)}else if(g instanceof l){var b=g;if(b==null)throw"Edge is null!";if(!(b.source!=null&&b.target!=null))throw"Source and/or target is null!";if(!(b.source.owner!=null&&b.target.owner!=null&&b.source.owner==this&&b.target.owner==this))throw"Source and/or target owner is invalid!";var S=b.source.edges.indexOf(b),D=b.target.edges.indexOf(b);if(!(S>-1&&D>-1))throw"Source and/or target doesn't know this edge!";b.source.edges.splice(S,1),b.target!=b.source&&b.target.edges.splice(D,1);var E=b.source.owner.getEdges().indexOf(b);if(E==-1)throw"Not in owner's edge list!";b.source.owner.getEdges().splice(E,1)}},f.prototype.updateLeftTop=function(){for(var g=n.MAX_VALUE,v=n.MAX_VALUE,y,b,_,w=this.getNodes(),E=w.length,S=0;S<E;S++){var D=w[S];y=D.getTop(),b=D.getLeft(),g>y&&(g=y),v>b&&(v=b)}return g==n.MAX_VALUE?null:(w[0].getParent().paddingLeft!=null?_=w[0].getParent().paddingLeft:_=this.margin,this.left=v-_,this.top=g-_,new d(this.left,this.top))},f.prototype.updateBounds=function(g){for(var v=n.MAX_VALUE,y=-n.MAX_VALUE,b=n.MAX_VALUE,_=-n.MAX_VALUE,w,E,S,D,T,O=this.nodes,F=O.length,P=0;P<F;P++){var L=O[P];g&&L.child!=null&&L.updateBounds(),w=L.getLeft(),E=L.getRight(),S=L.getTop(),D=L.getBottom(),v>w&&(v=w),y<E&&(y=E),b>S&&(b=S),_<D&&(_=D)}var C=new c(v,b,y-v,_-b);v==n.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),O[0].getParent().paddingLeft!=null?T=O[0].getParent().paddingLeft:T=this.margin,this.left=C.x-T,this.right=C.x+C.width+T,this.top=C.y-T,this.bottom=C.y+C.height+T},f.calculateBounds=function(g){for(var v=n.MAX_VALUE,y=-n.MAX_VALUE,b=n.MAX_VALUE,_=-n.MAX_VALUE,w,E,S,D,T=g.length,O=0;O<T;O++){var F=g[O];w=F.getLeft(),E=F.getRight(),S=F.getTop(),D=F.getBottom(),v>w&&(v=w),y<E&&(y=E),b>S&&(b=S),_<D&&(_=D)}var P=new c(v,b,y-v,_-b);return P},f.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},f.prototype.getEstimatedSize=function(){if(this.estimatedSize==n.MIN_VALUE)throw"assert failed";return this.estimatedSize},f.prototype.calcEstimatedSize=function(){for(var g=0,v=this.nodes,y=v.length,b=0;b<y;b++){var _=v[b];g+=_.calcEstimatedSize()}return g==0?this.estimatedSize=a.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=g/Math.sqrt(this.nodes.length),this.estimatedSize},f.prototype.updateConnected=function(){var g=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new u,y=new Set,b=this.nodes[0],_,w,E=b.withChildren();for(E.forEach(function(P){v.push(P),y.add(P)});v.length!==0;){b=v.shift(),_=b.getEdges();for(var S=_.length,D=0;D<S;D++){var T=_[D];if(w=T.getOtherEndInGraph(b,this),w!=null&&!y.has(w)){var O=w.withChildren();O.forEach(function(P){v.push(P),y.add(P)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var F=0;y.forEach(function(P){P.owner==g&&F++}),F==this.nodes.length&&(this.isConnected=!0)}},r.exports=f},function(r,t,e){"use strict";var i,n=e(1);function a(o){i=e(6),this.layout=o,this.graphs=[],this.edges=[]}a.prototype.addRoot=function(){var o=this.layout.newGraph(),s=this.layout.newNode(null),l=this.add(o,s);return this.setRootGraph(l),this.rootGraph},a.prototype.add=function(o,s,l,c,d){if(l==null&&c==null&&d==null){if(o==null)throw"Graph is null!";if(s==null)throw"Parent node is null!";if(this.graphs.indexOf(o)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(o),o.parent!=null)throw"Already has a parent!";if(s.child!=null)throw"Already has a child!";return o.parent=s,s.child=o,o}else{d=l,c=s,l=o;var u=c.getOwner(),f=d.getOwner();if(!(u!=null&&u.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(f!=null&&f.getGraphManager()==this))throw"Target not in this graph mgr!";if(u==f)return l.isInterGraph=!1,u.add(l,c,d);if(l.isInterGraph=!0,l.source=c,l.target=d,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},a.prototype.remove=function(o){if(o instanceof i){var s=o;if(s.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(s==this.rootGraph||s.parent!=null&&s.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(s.getEdges());for(var c,d=l.length,u=0;u<d;u++)c=l[u],s.remove(c);var f=[];f=f.concat(s.getNodes());var m;d=f.length;for(var u=0;u<d;u++)m=f[u],s.remove(m);s==this.rootGraph&&this.setRootGraph(null);var g=this.graphs.indexOf(s);this.graphs.splice(g,1),s.parent=null}else if(o instanceof n){if(c=o,c==null)throw"Edge is null!";if(!c.isInterGraph)throw"Not an inter-graph edge!";if(!(c.source!=null&&c.target!=null))throw"Source and/or target is null!";if(!(c.source.edges.indexOf(c)!=-1&&c.target.edges.indexOf(c)!=-1))throw"Source and/or target doesn't know this edge!";var g=c.source.edges.indexOf(c);if(c.source.edges.splice(g,1),g=c.target.edges.indexOf(c),c.target.edges.splice(g,1),!(c.source.owner!=null&&c.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(c.source.owner.getGraphManager().edges.indexOf(c)==-1)throw"Not in owner graph manager's edge list!";var g=c.source.owner.getGraphManager().edges.indexOf(c);c.source.owner.getGraphManager().edges.splice(g,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(this.allNodes==null){for(var o=[],s=this.getGraphs(),l=s.length,c=0;c<l;c++)o=o.concat(s[c].getNodes());this.allNodes=o}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(this.allEdges==null){for(var o=[],s=this.getGraphs(),l=s.length,c=0;c<s.length;c++)o=o.concat(s[c].getEdges());o=o.concat(this.edges),this.allEdges=o}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(o){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=o},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(o){if(o.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=o,o.parent==null&&(o.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(o,s){if(!(o!=null&&s!=null))throw"assert failed";if(o==s)return!0;var l=o.getOwner(),c;do{if(c=l.getParent(),c==null)break;if(c==s)return!0;if(l=c.getOwner(),l==null)break}while(!0);l=s.getOwner();do{if(c=l.getParent(),c==null)break;if(c==o)return!0;if(l=c.getOwner(),l==null)break}while(!0);return!1},a.prototype.calcLowestCommonAncestors=function(){for(var o,s,l,c,d,u=this.getAllEdges(),f=u.length,m=0;m<f;m++){if(o=u[m],s=o.source,l=o.target,o.lca=null,o.sourceInLca=s,o.targetInLca=l,s==l){o.lca=s.getOwner();continue}for(c=s.getOwner();o.lca==null;){for(o.targetInLca=l,d=l.getOwner();o.lca==null;){if(d==c){o.lca=d;break}if(d==this.rootGraph)break;if(o.lca!=null)throw"assert failed";o.targetInLca=d.getParent(),d=o.targetInLca.getOwner()}if(c==this.rootGraph)break;o.lca==null&&(o.sourceInLca=c.getParent(),c=o.sourceInLca.getOwner())}if(o.lca==null)throw"assert failed"}},a.prototype.calcLowestCommonAncestor=function(o,s){if(o==s)return o.getOwner();var l=o.getOwner();do{if(l==null)break;var c=s.getOwner();do{if(c==null)break;if(c==l)return c;c=c.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},a.prototype.calcInclusionTreeDepths=function(o,s){o==null&&s==null&&(o=this.rootGraph,s=1);for(var l,c=o.getNodes(),d=c.length,u=0;u<d;u++)l=c[u],l.inclusionTreeDepth=s,l.child!=null&&this.calcInclusionTreeDepths(l.child,s+1)},a.prototype.includesInvalidEdge=function(){for(var o,s=[],l=this.edges.length,c=0;c<l;c++)o=this.edges[c],this.isOneAncestorOfOther(o.source,o.target)&&s.push(o);for(var c=0;c<s.length;c++)this.remove(s[c]);return!1},r.exports=a},function(r,t,e){"use strict";var i=e(12);function n(){}n.calcSeparationAmount=function(a,o,s,l){if(!a.intersects(o))throw"assert failed";var c=new Array(2);this.decideDirectionsForOverlappingNodes(a,o,c),s[0]=Math.min(a.getRight(),o.getRight())-Math.max(a.x,o.x),s[1]=Math.min(a.getBottom(),o.getBottom())-Math.max(a.y,o.y),a.getX()<=o.getX()&&a.getRight()>=o.getRight()?s[0]+=Math.min(o.getX()-a.getX(),a.getRight()-o.getRight()):o.getX()<=a.getX()&&o.getRight()>=a.getRight()&&(s[0]+=Math.min(a.getX()-o.getX(),o.getRight()-a.getRight())),a.getY()<=o.getY()&&a.getBottom()>=o.getBottom()?s[1]+=Math.min(o.getY()-a.getY(),a.getBottom()-o.getBottom()):o.getY()<=a.getY()&&o.getBottom()>=a.getBottom()&&(s[1]+=Math.min(a.getY()-o.getY(),o.getBottom()-a.getBottom()));var d=Math.abs((o.getCenterY()-a.getCenterY())/(o.getCenterX()-a.getCenterX()));o.getCenterY()===a.getCenterY()&&o.getCenterX()===a.getCenterX()&&(d=1);var u=d*s[0],f=s[1]/d;s[0]<f?f=s[0]:u=s[1],s[0]=-1*c[0]*(f/2+l),s[1]=-1*c[1]*(u/2+l)},n.decideDirectionsForOverlappingNodes=function(a,o,s){a.getCenterX()<o.getCenterX()?s[0]=-1:s[0]=1,a.getCenterY()<o.getCenterY()?s[1]=-1:s[1]=1},n.getIntersection2=function(a,o,s){var l=a.getCenterX(),c=a.getCenterY(),d=o.getCenterX(),u=o.getCenterY();if(a.intersects(o))return s[0]=l,s[1]=c,s[2]=d,s[3]=u,!0;var f=a.getX(),m=a.getY(),g=a.getRight(),v=a.getX(),y=a.getBottom(),b=a.getRight(),_=a.getWidthHalf(),w=a.getHeightHalf(),E=o.getX(),S=o.getY(),D=o.getRight(),T=o.getX(),O=o.getBottom(),F=o.getRight(),P=o.getWidthHalf(),L=o.getHeightHalf(),C=!1,A=!1;if(l===d){if(c>u)return s[0]=l,s[1]=m,s[2]=d,s[3]=O,!1;if(c<u)return s[0]=l,s[1]=y,s[2]=d,s[3]=S,!1}else if(c===u){if(l>d)return s[0]=f,s[1]=c,s[2]=D,s[3]=u,!1;if(l<d)return s[0]=g,s[1]=c,s[2]=E,s[3]=u,!1}else{var R=a.height/a.width,k=o.height/o.width,I=(u-c)/(d-l),B=void 0,z=void 0,W=void 0,$=void 0,G=void 0,K=void 0;if(-R===I?l>d?(s[0]=v,s[1]=y,C=!0):(s[0]=g,s[1]=m,C=!0):R===I&&(l>d?(s[0]=f,s[1]=m,C=!0):(s[0]=b,s[1]=y,C=!0)),-k===I?d>l?(s[2]=T,s[3]=O,A=!0):(s[2]=D,s[3]=S,A=!0):k===I&&(d>l?(s[2]=E,s[3]=S,A=!0):(s[2]=F,s[3]=O,A=!0)),C&&A)return!1;if(l>d?c>u?(B=this.getCardinalDirection(R,I,4),z=this.getCardinalDirection(k,I,2)):(B=this.getCardinalDirection(-R,I,3),z=this.getCardinalDirection(-k,I,1)):c>u?(B=this.getCardinalDirection(-R,I,1),z=this.getCardinalDirection(-k,I,3)):(B=this.getCardinalDirection(R,I,2),z=this.getCardinalDirection(k,I,4)),!C)switch(B){case 1:$=m,W=l+-w/I,s[0]=W,s[1]=$;break;case 2:W=b,$=c+_*I,s[0]=W,s[1]=$;break;case 3:$=y,W=l+w/I,s[0]=W,s[1]=$;break;case 4:W=v,$=c+-_*I,s[0]=W,s[1]=$;break}if(!A)switch(z){case 1:K=S,G=d+-L/I,s[2]=G,s[3]=K;break;case 2:G=F,K=u+P*I,s[2]=G,s[3]=K;break;case 3:K=O,G=d+L/I,s[2]=G,s[3]=K;break;case 4:G=T,K=u+-P*I,s[2]=G,s[3]=K;break}}return!1},n.getCardinalDirection=function(a,o,s){return a>o?s:1+s%4},n.getIntersection=function(a,o,s,l){if(l==null)return this.getIntersection2(a,o,s);var c=a.x,d=a.y,u=o.x,f=o.y,m=s.x,g=s.y,v=l.x,y=l.y,b=void 0,_=void 0,w=void 0,E=void 0,S=void 0,D=void 0,T=void 0,O=void 0,F=void 0;return w=f-d,S=c-u,T=u*d-c*f,E=y-g,D=m-v,O=v*g-m*y,F=w*D-E*S,F===0?null:(b=(S*O-D*T)/F,_=(E*T-w*O)/F,new i(b,_))},n.angleOfVector=function(a,o,s,l){var c=void 0;return a!==s?(c=Math.atan((l-o)/(s-a)),s<a?c+=Math.PI:l<o&&(c+=this.TWO_PI)):l<o?c=this.ONE_AND_HALF_PI:c=this.HALF_PI,c},n.doIntersect=function(a,o,s,l){var c=a.x,d=a.y,u=o.x,f=o.y,m=s.x,g=s.y,v=l.x,y=l.y,b=(u-c)*(y-g)-(v-m)*(f-d);if(b===0)return!1;var _=((y-g)*(v-c)+(m-v)*(y-d))/b,w=((d-f)*(v-c)+(u-c)*(y-d))/b;return 0<_&&_<1&&0<w&&w<1},n.findCircleLineIntersections=function(a,o,s,l,c,d,u){var f=(s-a)*(s-a)+(l-o)*(l-o),m=2*((a-c)*(s-a)+(o-d)*(l-o)),g=(a-c)*(a-c)+(o-d)*(o-d)-u*u,v=m*m-4*f*g;if(v>=0){var y=(-m+Math.sqrt(m*m-4*f*g))/(2*f),b=(-m-Math.sqrt(m*m-4*f*g))/(2*f),_=null;return y>=0&&y<=1?[y]:b>=0&&b<=1?[b]:_}else return null},n.HALF_PI=.5*Math.PI,n.ONE_AND_HALF_PI=1.5*Math.PI,n.TWO_PI=2*Math.PI,n.THREE_PI=3*Math.PI,r.exports=n},function(r,t,e){"use strict";function i(){}i.sign=function(n){return n>0?1:n<0?-1:0},i.floor=function(n){return n<0?Math.ceil(n):Math.floor(n)},i.ceil=function(n){return n<0?Math.floor(n):Math.ceil(n)},r.exports=i},function(r,t,e){"use strict";function i(){}i.MAX_VALUE=2147483647,i.MIN_VALUE=-2147483648,r.exports=i},function(r,t,e){"use strict";var i=function(){function c(d,u){for(var f=0;f<u.length;f++){var m=u[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}();function n(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var a=function(d){return{value:d,next:null,prev:null}},o=function(d,u,f,m){return d!==null?d.next=u:m.head=u,f!==null?f.prev=u:m.tail=u,u.prev=d,u.next=f,m.length++,u},s=function(d,u){var f=d.prev,m=d.next;return f!==null?f.next=m:u.head=m,m!==null?m.prev=f:u.tail=f,d.prev=d.next=null,u.length--,d},l=function(){function c(d){var u=this;n(this,c),this.length=0,this.head=null,this.tail=null,d?.forEach(function(f){return u.push(f)})}return i(c,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(u,f){return o(f.prev,a(u),f,this)}},{key:"insertAfter",value:function(u,f){return o(f,a(u),f.next,this)}},{key:"insertNodeBefore",value:function(u,f){return o(f.prev,u,f,this)}},{key:"insertNodeAfter",value:function(u,f){return o(f,u,f.next,this)}},{key:"push",value:function(u){return o(this.tail,a(u),null,this)}},{key:"unshift",value:function(u){return o(null,a(u),this.head,this)}},{key:"remove",value:function(u){return s(u,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(u){if(u<=this.length()){for(var f=1,m=this.head;f<u;)m=m.next,f++;return m.value}}},{key:"set_object_at",value:function(u,f){if(u<=this.length()){for(var m=1,g=this.head;m<u;)g=g.next,m++;g.value=f}}}]),c}();r.exports=l},function(r,t,e){"use strict";function i(n,a,o){this.x=null,this.y=null,n==null&&a==null&&o==null?(this.x=0,this.y=0):typeof n=="number"&&typeof a=="number"&&o==null?(this.x=n,this.y=a):n.constructor.name=="Point"&&a==null&&o==null&&(o=n,this.x=o.x,this.y=o.y)}i.prototype.getX=function(){return this.x},i.prototype.getY=function(){return this.y},i.prototype.getLocation=function(){return new i(this.x,this.y)},i.prototype.setLocation=function(n,a,o){n.constructor.name=="Point"&&a==null&&o==null?(o=n,this.setLocation(o.x,o.y)):typeof n=="number"&&typeof a=="number"&&o==null&&(parseInt(n)==n&&parseInt(a)==a?this.move(n,a):(this.x=Math.floor(n+.5),this.y=Math.floor(a+.5)))},i.prototype.move=function(n,a){this.x=n,this.y=a},i.prototype.translate=function(n,a){this.x+=n,this.y+=a},i.prototype.equals=function(n){if(n.constructor.name=="Point"){var a=n;return this.x==a.x&&this.y==a.y}return this==n},i.prototype.toString=function(){return new i().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=i},function(r,t,e){"use strict";function i(n,a,o,s){this.x=0,this.y=0,this.width=0,this.height=0,n!=null&&a!=null&&o!=null&&s!=null&&(this.x=n,this.y=a,this.width=o,this.height=s)}i.prototype.getX=function(){return this.x},i.prototype.setX=function(n){this.x=n},i.prototype.getY=function(){return this.y},i.prototype.setY=function(n){this.y=n},i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(n){this.width=n},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(n){this.height=n},i.prototype.getRight=function(){return this.x+this.width},i.prototype.getBottom=function(){return this.y+this.height},i.prototype.intersects=function(n){return!(this.getRight()<n.x||this.getBottom()<n.y||n.getRight()<this.x||n.getBottom()<this.y)},i.prototype.getCenterX=function(){return this.x+this.width/2},i.prototype.getMinX=function(){return this.getX()},i.prototype.getMaxX=function(){return this.getX()+this.width},i.prototype.getCenterY=function(){return this.y+this.height/2},i.prototype.getMinY=function(){return this.getY()},i.prototype.getMaxY=function(){return this.getY()+this.height},i.prototype.getWidthHalf=function(){return this.width/2},i.prototype.getHeightHalf=function(){return this.height/2},r.exports=i},function(r,t,e){"use strict";var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function n(){}n.lastID=0,n.createID=function(a){return n.isPrimitive(a)?a:(a.uniqueID!=null||(a.uniqueID=n.getString(),n.lastID++),a.uniqueID)},n.getString=function(a){return a==null&&(a=n.lastID),"Object#"+a},n.isPrimitive=function(a){var o=typeof a>"u"?"undefined":i(a);return a==null||o!="object"&&o!="function"},r.exports=n},function(r,t,e){"use strict";function i(m){if(Array.isArray(m)){for(var g=0,v=Array(m.length);g<m.length;g++)v[g]=m[g];return v}else return Array.from(m)}var n=e(0),a=e(7),o=e(3),s=e(1),l=e(6),c=e(5),d=e(17),u=e(29);function f(m){u.call(this),this.layoutQuality=n.QUALITY,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=n.DEFAULT_INCREMENTAL,this.animationOnLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,m!=null&&(this.isRemoteUse=m)}f.RANDOM_SEED=1,f.prototype=Object.create(u.prototype),f.prototype.getGraphManager=function(){return this.graphManager},f.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},f.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},f.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},f.prototype.newGraphManager=function(){var m=new a(this);return this.graphManager=m,m},f.prototype.newGraph=function(m){return new l(null,this.graphManager,m)},f.prototype.newNode=function(m){return new o(this.graphManager,m)},f.prototype.newEdge=function(m){return new s(null,null,m)},f.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},f.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var m;return this.checkLayoutSuccess()?m=!1:m=this.layout(),n.ANIMATE==="during"?!1:(m&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,m)},f.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},f.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var m,g=this.graphManager.getAllEdges(),v=0;v<g.length;v++)m=g[v];for(var y,b=this.graphManager.getRoot().getNodes(),v=0;v<b.length;v++)y=b[v];this.update(this.graphManager.getRoot())}},f.prototype.update=function(m){if(m==null)this.update2();else if(m instanceof o){var g=m;if(g.getChild()!=null)for(var v=g.getChild().getNodes(),y=0;y<v.length;y++)update(v[y]);if(g.vGraphObject!=null){var b=g.vGraphObject;b.update(g)}}else if(m instanceof s){var _=m;if(_.vGraphObject!=null){var w=_.vGraphObject;w.update(_)}}else if(m instanceof l){var E=m;if(E.vGraphObject!=null){var S=E.vGraphObject;S.update(E)}}},f.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=n.QUALITY,this.animationDuringLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=n.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},f.prototype.transform=function(m){if(m==null)this.transform(new c(0,0));else{var g=new d,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){g.setWorldOrgX(m.x),g.setWorldOrgY(m.y),g.setDeviceOrgX(v.x),g.setDeviceOrgY(v.y);for(var y=this.getAllNodes(),b,_=0;_<y.length;_++)b=y[_],b.transform(g)}}},f.prototype.positionNodesRandomly=function(m){if(m==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var g,v,y=m.getNodes(),b=0;b<y.length;b++)g=y[b],v=g.getChild(),v==null||v.getNodes().length==0?g.scatter():(this.positionNodesRandomly(v),g.updateBounds())},f.prototype.getFlatForest=function(){for(var m=[],g=!0,v=this.graphManager.getRoot().getNodes(),y=!0,b=0;b<v.length;b++)v[b].getChild()!=null&&(y=!1);if(!y)return m;var _=new Set,w=[],E=new Map,S=[];for(S=S.concat(v);S.length>0&&g;){for(w.push(S[0]);w.length>0&&g;){var D=w[0];w.splice(0,1),_.add(D);for(var T=D.getEdges(),b=0;b<T.length;b++){var O=T[b].getOtherEnd(D);if(E.get(D)!=O)if(!_.has(O))w.push(O),E.set(O,D);else{g=!1;break}}}if(!g)m=[];else{var F=[].concat(i(_));m.push(F);for(var b=0;b<F.length;b++){var P=F[b],L=S.indexOf(P);L>-1&&S.splice(L,1)}_=new Set,E=new Map}}return m},f.prototype.createDummyNodesForBendpoints=function(m){for(var g=[],v=m.source,y=this.graphManager.calcLowestCommonAncestor(m.source,m.target),b=0;b<m.bendpoints.length;b++){var _=this.newNode(null);_.setRect(new Point(0,0),new Dimension(1,1)),y.add(_);var w=this.newEdge(null);this.graphManager.add(w,v,_),g.add(_),v=_}var w=this.newEdge(null);return this.graphManager.add(w,v,m.target),this.edgeToDummyNodes.set(m,g),m.isInterGraph()?this.graphManager.remove(m):y.remove(m),g},f.prototype.createBendpointsFromDummyNodes=function(){var m=[];m=m.concat(this.graphManager.getAllEdges()),m=[].concat(i(this.edgeToDummyNodes.keys())).concat(m);for(var g=0;g<m.length;g++){var v=m[g];if(v.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(v),b=0;b<y.length;b++){var _=y[b],w=new c(_.getCenterX(),_.getCenterY()),E=v.bendpoints.get(b);E.x=w.x,E.y=w.y,_.getOwner().remove(_)}this.graphManager.add(v,v.source,v.target)}}},f.transform=function(m,g,v,y){if(v!=null&&y!=null){var b=g;if(m<=50){var _=g/v;b-=(g-_)/50*(50-m)}else{var w=g*y;b+=(w-g)/50*(m-50)}return b}else{var E,S;return m<=50?(E=9*g/500,S=g/10):(E=9*g/50,S=-8*g),E*m+S}},f.findCenterOfTree=function(m){var g=[];g=g.concat(m);var v=[],y=new Map,b=!1,_=null;(g.length==1||g.length==2)&&(b=!0,_=g[0]);for(var w=0;w<g.length;w++){var E=g[w],S=E.getNeighborsList().size;y.set(E,E.getNeighborsList().size),S==1&&v.push(E)}var D=[];for(D=D.concat(v);!b;){var T=[];T=T.concat(D),D=[];for(var w=0;w<g.length;w++){var E=g[w],O=g.indexOf(E);O>=0&&g.splice(O,1);var F=E.getNeighborsList();F.forEach(function(C){if(v.indexOf(C)<0){var A=y.get(C),R=A-1;R==1&&D.push(C),y.set(C,R)}})}v=v.concat(D),(g.length==1||g.length==2)&&(b=!0,_=g[0])}return _},f.prototype.setGraphManager=function(m){this.graphManager=m},r.exports=f},function(r,t,e){"use strict";function i(){}i.seed=1,i.x=0,i.nextDouble=function(){return i.x=Math.sin(i.seed++)*1e4,i.x-Math.floor(i.x)},r.exports=i},function(r,t,e){"use strict";var i=e(5);function n(a,o){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}n.prototype.getWorldOrgX=function(){return this.lworldOrgX},n.prototype.setWorldOrgX=function(a){this.lworldOrgX=a},n.prototype.getWorldOrgY=function(){return this.lworldOrgY},n.prototype.setWorldOrgY=function(a){this.lworldOrgY=a},n.prototype.getWorldExtX=function(){return this.lworldExtX},n.prototype.setWorldExtX=function(a){this.lworldExtX=a},n.prototype.getWorldExtY=function(){return this.lworldExtY},n.prototype.setWorldExtY=function(a){this.lworldExtY=a},n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},n.prototype.setDeviceOrgX=function(a){this.ldeviceOrgX=a},n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},n.prototype.setDeviceOrgY=function(a){this.ldeviceOrgY=a},n.prototype.getDeviceExtX=function(){return this.ldeviceExtX},n.prototype.setDeviceExtX=function(a){this.ldeviceExtX=a},n.prototype.getDeviceExtY=function(){return this.ldeviceExtY},n.prototype.setDeviceExtY=function(a){this.ldeviceExtY=a},n.prototype.transformX=function(a){var o=0,s=this.lworldExtX;return s!=0&&(o=this.ldeviceOrgX+(a-this.lworldOrgX)*this.ldeviceExtX/s),o},n.prototype.transformY=function(a){var o=0,s=this.lworldExtY;return s!=0&&(o=this.ldeviceOrgY+(a-this.lworldOrgY)*this.ldeviceExtY/s),o},n.prototype.inverseTransformX=function(a){var o=0,s=this.ldeviceExtX;return s!=0&&(o=this.lworldOrgX+(a-this.ldeviceOrgX)*this.lworldExtX/s),o},n.prototype.inverseTransformY=function(a){var o=0,s=this.ldeviceExtY;return s!=0&&(o=this.lworldOrgY+(a-this.ldeviceOrgY)*this.lworldExtY/s),o},n.prototype.inverseTransformPoint=function(a){var o=new i(this.inverseTransformX(a.x),this.inverseTransformY(a.y));return o},r.exports=n},function(r,t,e){"use strict";function i(u){if(Array.isArray(u)){for(var f=0,m=Array(u.length);f<u.length;f++)m[f]=u[f];return m}else return Array.from(u)}var n=e(15),a=e(4),o=e(0),s=e(8),l=e(9);function c(){n.call(this),this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=a.MAX_ITERATIONS}c.prototype=Object.create(n.prototype);for(var d in n)c[d]=n[d];c.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},c.prototype.calcIdealEdgeLengths=function(){for(var u,f,m,g,v,y,b,_=this.getGraphManager().getAllEdges(),w=0;w<_.length;w++)u=_[w],f=u.idealLength,u.isInterGraph&&(g=u.getSource(),v=u.getTarget(),y=u.getSourceInLca().getEstimatedSize(),b=u.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(u.idealLength+=y+b-2*o.SIMPLE_NODE_SIZE),m=u.getLca().getInclusionTreeDepth(),u.idealLength+=f*a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(g.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*m))},c.prototype.initSpringEmbedder=function(){var u=this.getAllNodes().length;this.incremental?(u>a.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*a.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(u-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-a.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT_INCREMENTAL):(u>a.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(a.COOLING_ADAPTATION_FACTOR,1-(u-a.ADAPTATION_LOWER_NODE_LIMIT)/(a.ADAPTATION_UPPER_NODE_LIMIT-a.ADAPTATION_LOWER_NODE_LIMIT)*(1-a.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},c.prototype.calcSpringForces=function(){for(var u=this.getAllEdges(),f,m=0;m<u.length;m++)f=u[m],this.calcSpringForce(f,f.idealLength)},c.prototype.calcRepulsionForces=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m,g,v,y,b=this.getAllNodes(),_;if(this.useFRGridVariant)for(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&u&&this.updateGrid(),_=new Set,m=0;m<b.length;m++)v=b[m],this.calculateRepulsionForceOfANode(v,_,u,f),_.add(v);else for(m=0;m<b.length;m++)for(v=b[m],g=m+1;g<b.length;g++)y=b[g],v.getOwner()==y.getOwner()&&this.calcRepulsionForce(v,y)},c.prototype.calcGravitationalForces=function(){for(var u,f=this.getAllNodesToApplyGravitation(),m=0;m<f.length;m++)u=f[m],this.calcGravitationalForce(u)},c.prototype.moveNodes=function(){for(var u=this.getAllNodes(),f,m=0;m<u.length;m++)f=u[m],f.move()},c.prototype.calcSpringForce=function(u,f){var m=u.getSource(),g=u.getTarget(),v,y,b,_;if(this.uniformLeafNodeSizes&&m.getChild()==null&&g.getChild()==null)u.updateLengthSimple();else if(u.updateLength(),u.isOverlapingSourceAndTarget)return;v=u.getLength(),v!=0&&(y=u.edgeElasticity*(v-f),b=y*(u.lengthX/v),_=y*(u.lengthY/v),m.springForceX+=b,m.springForceY+=_,g.springForceX-=b,g.springForceY-=_)},c.prototype.calcRepulsionForce=function(u,f){var m=u.getRect(),g=f.getRect(),v=new Array(2),y=new Array(4),b,_,w,E,S,D,T;if(m.intersects(g)){s.calcSeparationAmount(m,g,v,a.DEFAULT_EDGE_LENGTH/2),D=2*v[0],T=2*v[1];var O=u.noOfChildren*f.noOfChildren/(u.noOfChildren+f.noOfChildren);u.repulsionForceX-=O*D,u.repulsionForceY-=O*T,f.repulsionForceX+=O*D,f.repulsionForceY+=O*T}else this.uniformLeafNodeSizes&&u.getChild()==null&&f.getChild()==null?(b=g.getCenterX()-m.getCenterX(),_=g.getCenterY()-m.getCenterY()):(s.getIntersection(m,g,y),b=y[2]-y[0],_=y[3]-y[1]),Math.abs(b)<a.MIN_REPULSION_DIST&&(b=l.sign(b)*a.MIN_REPULSION_DIST),Math.abs(_)<a.MIN_REPULSION_DIST&&(_=l.sign(_)*a.MIN_REPULSION_DIST),w=b*b+_*_,E=Math.sqrt(w),S=(u.nodeRepulsion/2+f.nodeRepulsion/2)*u.noOfChildren*f.noOfChildren/w,D=S*b/E,T=S*_/E,u.repulsionForceX-=D,u.repulsionForceY-=T,f.repulsionForceX+=D,f.repulsionForceY+=T},c.prototype.calcGravitationalForce=function(u){var f,m,g,v,y,b,_,w;f=u.getOwner(),m=(f.getRight()+f.getLeft())/2,g=(f.getTop()+f.getBottom())/2,v=u.getCenterX()-m,y=u.getCenterY()-g,b=Math.abs(v)+u.getWidth()/2,_=Math.abs(y)+u.getHeight()/2,u.getOwner()==this.graphManager.getRoot()?(w=f.getEstimatedSize()*this.gravityRangeFactor,(b>w||_>w)&&(u.gravitationForceX=-this.gravityConstant*v,u.gravitationForceY=-this.gravityConstant*y)):(w=f.getEstimatedSize()*this.compoundGravityRangeFactor,(b>w||_>w)&&(u.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,u.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},c.prototype.isConverged=function(){var u,f=!1;return this.totalIterations>this.maxIterations/3&&(f=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),u=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,u||f},c.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},c.prototype.calcNoOfChildrenForAllNodes=function(){for(var u,f=this.graphManager.getAllNodes(),m=0;m<f.length;m++)u=f[m],u.noOfChildren=u.getNoOfChildren()},c.prototype.calcGrid=function(u){var f=0,m=0;f=parseInt(Math.ceil((u.getRight()-u.getLeft())/this.repulsionRange)),m=parseInt(Math.ceil((u.getBottom()-u.getTop())/this.repulsionRange));for(var g=new Array(f),v=0;v<f;v++)g[v]=new Array(m);for(var v=0;v<f;v++)for(var y=0;y<m;y++)g[v][y]=new Array;return g},c.prototype.addNodeToGrid=function(u,f,m){var g=0,v=0,y=0,b=0;g=parseInt(Math.floor((u.getRect().x-f)/this.repulsionRange)),v=parseInt(Math.floor((u.getRect().width+u.getRect().x-f)/this.repulsionRange)),y=parseInt(Math.floor((u.getRect().y-m)/this.repulsionRange)),b=parseInt(Math.floor((u.getRect().height+u.getRect().y-m)/this.repulsionRange));for(var _=g;_<=v;_++)for(var w=y;w<=b;w++)this.grid[_][w].push(u),u.setGridCoordinates(g,v,y,b)},c.prototype.updateGrid=function(){var u,f,m=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),u=0;u<m.length;u++)f=m[u],this.addNodeToGrid(f,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},c.prototype.calculateRepulsionForceOfANode=function(u,f,m,g){if(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&m||g){var v=new Set;u.surrounding=new Array;for(var y,b=this.grid,_=u.startX-1;_<u.finishX+2;_++)for(var w=u.startY-1;w<u.finishY+2;w++)if(!(_<0||w<0||_>=b.length||w>=b[0].length)){for(var E=0;E<b[_][w].length;E++)if(y=b[_][w][E],!(u.getOwner()!=y.getOwner()||u==y)&&!f.has(y)&&!v.has(y)){var S=Math.abs(u.getCenterX()-y.getCenterX())-(u.getWidth()/2+y.getWidth()/2),D=Math.abs(u.getCenterY()-y.getCenterY())-(u.getHeight()/2+y.getHeight()/2);S<=this.repulsionRange&&D<=this.repulsionRange&&v.add(y)}}u.surrounding=[].concat(i(v))}for(_=0;_<u.surrounding.length;_++)this.calcRepulsionForce(u,u.surrounding[_])},c.prototype.calcRepulsionRange=function(){return 0},r.exports=c},function(r,t,e){"use strict";var i=e(1),n=e(4);function a(s,l,c){i.call(this,s,l,c),this.idealLength=n.DEFAULT_EDGE_LENGTH,this.edgeElasticity=n.DEFAULT_SPRING_STRENGTH}a.prototype=Object.create(i.prototype);for(var o in i)a[o]=i[o];r.exports=a},function(r,t,e){"use strict";var i=e(3),n=e(4);function a(s,l,c,d){i.call(this,s,l,c,d),this.nodeRepulsion=n.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}a.prototype=Object.create(i.prototype);for(var o in i)a[o]=i[o];a.prototype.setGridCoordinates=function(s,l,c,d){this.startX=s,this.finishX=l,this.startY=c,this.finishY=d},r.exports=a},function(r,t,e){"use strict";function i(n,a){this.width=0,this.height=0,n!==null&&a!==null&&(this.height=a,this.width=n)}i.prototype.getWidth=function(){return this.width},i.prototype.setWidth=function(n){this.width=n},i.prototype.getHeight=function(){return this.height},i.prototype.setHeight=function(n){this.height=n},r.exports=i},function(r,t,e){"use strict";var i=e(14);function n(){this.map={},this.keys=[]}n.prototype.put=function(a,o){var s=i.createID(a);this.contains(s)||(this.map[s]=o,this.keys.push(a))},n.prototype.contains=function(a){var o=i.createID(a);return this.map[a]!=null},n.prototype.get=function(a){var o=i.createID(a);return this.map[o]},n.prototype.keySet=function(){return this.keys},r.exports=n},function(r,t,e){"use strict";var i=e(14);function n(){this.set={}}n.prototype.add=function(a){var o=i.createID(a);this.contains(o)||(this.set[o]=a)},n.prototype.remove=function(a){delete this.set[i.createID(a)]},n.prototype.clear=function(){this.set={}},n.prototype.contains=function(a){return this.set[i.createID(a)]==a},n.prototype.isEmpty=function(){return this.size()===0},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAllTo=function(a){for(var o=Object.keys(this.set),s=o.length,l=0;l<s;l++)a.push(this.set[o[l]])},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAll=function(a){for(var o=a.length,s=0;s<o;s++){var l=a[s];this.add(l)}},r.exports=n},function(r,t,e){"use strict";function i(){}i.multMat=function(n,a){for(var o=[],s=0;s<n.length;s++){o[s]=[];for(var l=0;l<a[0].length;l++){o[s][l]=0;for(var c=0;c<n[0].length;c++)o[s][l]+=n[s][c]*a[c][l]}}return o},i.transpose=function(n){for(var a=[],o=0;o<n[0].length;o++){a[o]=[];for(var s=0;s<n.length;s++)a[o][s]=n[s][o]}return a},i.multCons=function(n,a){for(var o=[],s=0;s<n.length;s++)o[s]=n[s]*a;return o},i.minusOp=function(n,a){for(var o=[],s=0;s<n.length;s++)o[s]=n[s]-a[s];return o},i.dotProduct=function(n,a){for(var o=0,s=0;s<n.length;s++)o+=n[s]*a[s];return o},i.mag=function(n){return Math.sqrt(this.dotProduct(n,n))},i.normalize=function(n){for(var a=[],o=this.mag(n),s=0;s<n.length;s++)a[s]=n[s]/o;return a},i.multGamma=function(n){for(var a=[],o=0,s=0;s<n.length;s++)o+=n[s];o*=-1/n.length;for(var l=0;l<n.length;l++)a[l]=o+n[l];return a},i.multL=function(n,a,o){for(var s=[],l=[],c=[],d=0;d<a[0].length;d++){for(var u=0,f=0;f<a.length;f++)u+=-.5*a[f][d]*n[f];l[d]=u}for(var m=0;m<o.length;m++){for(var g=0,v=0;v<o.length;v++)g+=o[m][v]*l[v];c[m]=g}for(var y=0;y<a.length;y++){for(var b=0,_=0;_<a[0].length;_++)b+=a[y][_]*c[_];s[y]=b}return s},r.exports=i},function(r,t,e){"use strict";var i=function(){function s(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}();function n(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var a=e(11),o=function(){function s(l,c){n(this,s),(c!==null||c!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var d=void 0;l instanceof a?d=l.size():d=l.length,this._quicksort(l,0,d-1)}return i(s,[{key:"_quicksort",value:function(c,d,u){if(d<u){var f=this._partition(c,d,u);this._quicksort(c,d,f),this._quicksort(c,f+1,u)}}},{key:"_partition",value:function(c,d,u){for(var f=this._get(c,d),m=d,g=u;;){for(;this.compareFunction(f,this._get(c,g));)g--;for(;this.compareFunction(this._get(c,m),f);)m++;if(m<g)this._swap(c,m,g),m++,g--;else return g}}},{key:"_get",value:function(c,d){return c instanceof a?c.get_object_at(d):c[d]}},{key:"_set",value:function(c,d,u){c instanceof a?c.set_object_at(d,u):c[d]=u}},{key:"_swap",value:function(c,d,u){var f=this._get(c,d);this._set(c,d,this._get(c,u)),this._set(c,u,f)}},{key:"_defaultCompareFunction",value:function(c,d){return d>c}}]),s}();r.exports=o},function(r,t,e){"use strict";function i(){}i.svd=function(n){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=n.length,this.n=n[0].length;var a=Math.min(this.m,this.n);this.s=function(or){for(var Ht=[];or-- >0;)Ht.push(0);return Ht}(Math.min(this.m+1,this.n)),this.U=function(or){var Ht=function Ei(rr){if(rr.length==0)return 0;for(var xr=[],Yr=0;Yr<rr[0];Yr++)xr.push(Ei(rr.slice(1)));return xr};return Ht(or)}([this.m,a]),this.V=function(or){var Ht=function Ei(rr){if(rr.length==0)return 0;for(var xr=[],Yr=0;Yr<rr[0];Yr++)xr.push(Ei(rr.slice(1)));return xr};return Ht(or)}([this.n,this.n]);for(var o=function(or){for(var Ht=[];or-- >0;)Ht.push(0);return Ht}(this.n),s=function(or){for(var Ht=[];or-- >0;)Ht.push(0);return Ht}(this.m),l=!0,c=!0,d=Math.min(this.m-1,this.n),u=Math.max(0,Math.min(this.n-2,this.m)),f=0;f<Math.max(d,u);f++){if(f<d){this.s[f]=0;for(var m=f;m<this.m;m++)this.s[f]=i.hypot(this.s[f],n[m][f]);if(this.s[f]!==0){n[f][f]<0&&(this.s[f]=-this.s[f]);for(var g=f;g<this.m;g++)n[g][f]/=this.s[f];n[f][f]+=1}this.s[f]=-this.s[f]}for(var v=f+1;v<this.n;v++){if(function(or,Ht){return or&&Ht}(f<d,this.s[f]!==0)){for(var y=0,b=f;b<this.m;b++)y+=n[b][f]*n[b][v];y=-y/n[f][f];for(var _=f;_<this.m;_++)n[_][v]+=y*n[_][f]}o[v]=n[f][v]}if(function(or,Ht){return or&&Ht}(l,f<d))for(var w=f;w<this.m;w++)this.U[w][f]=n[w][f];if(f<u){o[f]=0;for(var E=f+1;E<this.n;E++)o[f]=i.hypot(o[f],o[E]);if(o[f]!==0){o[f+1]<0&&(o[f]=-o[f]);for(var S=f+1;S<this.n;S++)o[S]/=o[f];o[f+1]+=1}if(o[f]=-o[f],function(or,Ht){return or&&Ht}(f+1<this.m,o[f]!==0)){for(var D=f+1;D<this.m;D++)s[D]=0;for(var T=f+1;T<this.n;T++)for(var O=f+1;O<this.m;O++)s[O]+=o[T]*n[O][T];for(var F=f+1;F<this.n;F++)for(var P=-o[F]/o[f+1],L=f+1;L<this.m;L++)n[L][F]+=P*s[L]}if(c)for(var C=f+1;C<this.n;C++)this.V[C][f]=o[C]}}var A=Math.min(this.n,this.m+1);if(d<this.n&&(this.s[d]=n[d][d]),this.m<A&&(this.s[A-1]=0),u+1<A&&(o[u]=n[u][A-1]),o[A-1]=0,l){for(var R=d;R<a;R++){for(var k=0;k<this.m;k++)this.U[k][R]=0;this.U[R][R]=1}for(var I=d-1;I>=0;I--)if(this.s[I]!==0){for(var B=I+1;B<a;B++){for(var z=0,W=I;W<this.m;W++)z+=this.U[W][I]*this.U[W][B];z=-z/this.U[I][I];for(var $=I;$<this.m;$++)this.U[$][B]+=z*this.U[$][I]}for(var G=I;G<this.m;G++)this.U[G][I]=-this.U[G][I];this.U[I][I]=1+this.U[I][I];for(var K=0;K<I-1;K++)this.U[K][I]=0}else{for(var oe=0;oe<this.m;oe++)this.U[oe][I]=0;this.U[I][I]=1}}if(c)for(var te=this.n-1;te>=0;te--){if(function(or,Ht){return or&&Ht}(te<u,o[te]!==0))for(var le=te+1;le<a;le++){for(var re=0,Q=te+1;Q<this.n;Q++)re+=this.V[Q][te]*this.V[Q][le];re=-re/this.V[te+1][te];for(var se=te+1;se<this.n;se++)this.V[se][le]+=re*this.V[se][te]}for(var ee=0;ee<this.n;ee++)this.V[ee][te]=0;this.V[te][te]=1}for(var Z=A-1,ce=0,ye=Math.pow(2,-52),Te=Math.pow(2,-966);A>0;){var be=void 0,at=void 0;for(be=A-2;be>=-1&&be!==-1;be--)if(Math.abs(o[be])<=Te+ye*(Math.abs(this.s[be])+Math.abs(this.s[be+1]))){o[be]=0;break}if(be===A-2)at=4;else{var wt=void 0;for(wt=A-1;wt>=be&&wt!==be;wt--){var $e=(wt!==A?Math.abs(o[wt]):0)+(wt!==be+1?Math.abs(o[wt-1]):0);if(Math.abs(this.s[wt])<=Te+ye*$e){this.s[wt]=0;break}}wt===be?at=3:wt===A-1?at=1:(at=2,be=wt)}switch(be++,at){case 1:{var xe=o[A-2];o[A-2]=0;for(var Me=A-2;Me>=be;Me--){var Ve=i.hypot(this.s[Me],xe),Ke=this.s[Me]/Ve,Ge=xe/Ve;if(this.s[Me]=Ve,Me!==be&&(xe=-Ge*o[Me-1],o[Me-1]=Ke*o[Me-1]),c)for(var We=0;We<this.n;We++)Ve=Ke*this.V[We][Me]+Ge*this.V[We][A-1],this.V[We][A-1]=-Ge*this.V[We][Me]+Ke*this.V[We][A-1],this.V[We][Me]=Ve}}break;case 2:{var it=o[be-1];o[be-1]=0;for(var ct=be;ct<A;ct++){var Se=i.hypot(this.s[ct],it),U=this.s[ct]/Se,de=it/Se;if(this.s[ct]=Se,it=-de*o[ct],o[ct]=U*o[ct],l)for(var ve=0;ve<this.m;ve++)Se=U*this.U[ve][ct]+de*this.U[ve][be-1],this.U[ve][be-1]=-de*this.U[ve][ct]+U*this.U[ve][be-1],this.U[ve][ct]=Se}}break;case 3:{var Y=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[A-1]),Math.abs(this.s[A-2])),Math.abs(o[A-2])),Math.abs(this.s[be])),Math.abs(o[be])),X=this.s[A-1]/Y,me=this.s[A-2]/Y,ne=o[A-2]/Y,pe=this.s[be]/Y,we=o[be]/Y,ze=((me+X)*(me-X)+ne*ne)/2,ke=X*ne*(X*ne),Ce=0;(function(or,Ht){return or||Ht})(ze!==0,ke!==0)&&(Ce=Math.sqrt(ze*ze+ke),ze<0&&(Ce=-Ce),Ce=ke/(ze+Ce));for(var Fe=(pe+X)*(pe-X)+Ce,Be=pe*we,qe=be;qe<A-1;qe++){var ot=i.hypot(Fe,Be),Ut=Fe/ot,st=Be/ot;if(qe!==be&&(o[qe-1]=ot),Fe=Ut*this.s[qe]+st*o[qe],o[qe]=Ut*o[qe]-st*this.s[qe],Be=st*this.s[qe+1],this.s[qe+1]=Ut*this.s[qe+1],c)for(var Ye=0;Ye<this.n;Ye++)ot=Ut*this.V[Ye][qe]+st*this.V[Ye][qe+1],this.V[Ye][qe+1]=-st*this.V[Ye][qe]+Ut*this.V[Ye][qe+1],this.V[Ye][qe]=ot;if(ot=i.hypot(Fe,Be),Ut=Fe/ot,st=Be/ot,this.s[qe]=ot,Fe=Ut*o[qe]+st*this.s[qe+1],this.s[qe+1]=-st*o[qe]+Ut*this.s[qe+1],Be=st*o[qe+1],o[qe+1]=Ut*o[qe+1],l&&qe<this.m-1)for(var mt=0;mt<this.m;mt++)ot=Ut*this.U[mt][qe]+st*this.U[mt][qe+1],this.U[mt][qe+1]=-st*this.U[mt][qe]+Ut*this.U[mt][qe+1],this.U[mt][qe]=ot}o[A-2]=Fe,ce=ce+1}break;case 4:{if(this.s[be]<=0&&(this.s[be]=this.s[be]<0?-this.s[be]:0,c))for(var tt=0;tt<=Z;tt++)this.V[tt][be]=-this.V[tt][be];for(;be<Z&&!(this.s[be]>=this.s[be+1]);){var lt=this.s[be];if(this.s[be]=this.s[be+1],this.s[be+1]=lt,c&&be<this.n-1)for(var ar=0;ar<this.n;ar++)lt=this.V[ar][be+1],this.V[ar][be+1]=this.V[ar][be],this.V[ar][be]=lt;if(l&&be<this.m-1)for(var vr=0;vr<this.m;vr++)lt=this.U[vr][be+1],this.U[vr][be+1]=this.U[vr][be],this.U[vr][be]=lt;be++}ce=0,A--}break}}var zr={U:this.U,V:this.V,S:this.s};return zr},i.hypot=function(n,a){var o=void 0;return Math.abs(n)>Math.abs(a)?(o=a/n,o=Math.abs(n)*Math.sqrt(1+o*o)):a!=0?(o=n/a,o=Math.abs(a)*Math.sqrt(1+o*o)):o=0,o},r.exports=i},function(r,t,e){"use strict";var i=function(){function o(s,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,l,c){return l&&o(s.prototype,l),c&&o(s,c),s}}();function n(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var a=function(){function o(s,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;n(this,o),this.sequence1=s,this.sequence2=l,this.match_score=c,this.mismatch_penalty=d,this.gap_penalty=u,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var f=0;f<this.iMax;f++){this.grid[f]=new Array(this.jMax);for(var m=0;m<this.jMax;m++)this.grid[f][m]=0}this.tracebackGrid=new Array(this.iMax);for(var g=0;g<this.iMax;g++){this.tracebackGrid[g]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[g][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return i(o,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var c=1;c<this.iMax;c++)this.grid[c][0]=this.grid[c-1][0]+this.gap_penalty,this.tracebackGrid[c][0]=[!1,!0,!1];for(var d=1;d<this.iMax;d++)for(var u=1;u<this.jMax;u++){var f=void 0;this.sequence1[d-1]===this.sequence2[u-1]?f=this.grid[d-1][u-1]+this.match_score:f=this.grid[d-1][u-1]+this.mismatch_penalty;var m=this.grid[d-1][u]+this.gap_penalty,g=this.grid[d][u-1]+this.gap_penalty,v=[f,m,g],y=this.arrayAllMaxIndexes(v);this.grid[d][u]=v[y[0]],this.tracebackGrid[d][u]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var c=l[0],d=this.tracebackGrid[c.pos[0]][c.pos[1]];d[0]&&l.push({pos:[c.pos[0]-1,c.pos[1]-1],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),d[1]&&l.push({pos:[c.pos[0]-1,c.pos[1]],seq1:this.sequence1[c.pos[0]-1]+c.seq1,seq2:"-"+c.seq2}),d[2]&&l.push({pos:[c.pos[0],c.pos[1]-1],seq1:"-"+c.seq1,seq2:this.sequence2[c.pos[1]-1]+c.seq2}),c.pos[0]===0&&c.pos[1]===0&&this.alignments.push({sequence1:c.seq1,sequence2:c.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,c){for(var d=[],u=-1;(u=l.indexOf(c,u+1))!==-1;)d.push(u);return d}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),o}();r.exports=a},function(r,t,e){"use strict";var i=function(){};i.FDLayout=e(18),i.FDLayoutConstants=e(4),i.FDLayoutEdge=e(19),i.FDLayoutNode=e(20),i.DimensionD=e(21),i.HashMap=e(22),i.HashSet=e(23),i.IGeometry=e(8),i.IMath=e(9),i.Integer=e(10),i.Point=e(12),i.PointD=e(5),i.RandomSeed=e(16),i.RectangleD=e(13),i.Transform=e(17),i.UniqueIDGeneretor=e(14),i.Quicksort=e(25),i.LinkedList=e(11),i.LGraphObject=e(2),i.LGraph=e(6),i.LEdge=e(1),i.LGraphManager=e(7),i.LNode=e(3),i.Layout=e(15),i.LayoutConstants=e(0),i.NeedlemanWunsch=e(27),i.Matrix=e(24),i.SVD=e(26),r.exports=i},function(r,t,e){"use strict";function i(){this.listeners=[]}var n=i.prototype;n.addListener=function(a,o){this.listeners.push({event:a,callback:o})},n.removeListener=function(a,o){for(var s=this.listeners.length;s>=0;s--){var l=this.listeners[s];l.event===a&&l.callback===o&&this.listeners.splice(s,1)}},n.emit=function(a,o){for(var s=0;s<this.listeners.length;s++){var l=this.listeners[s];a===l.event&&l.callback(o)}},r.exports=i}])})});var WT=j((ig,GT)=>{"use strict";(function(t,e){typeof ig=="object"&&typeof GT=="object"?GT.exports=e(HT()):typeof define=="function"&&define.amd?define(["layout-base"],e):typeof ig=="object"?ig.coseBase=e(HT()):t.coseBase=e(t.layoutBase)})(ig,function(r){return(()=>{"use strict";var t={45:(a,o,s)=>{var l={};l.layoutBase=s(551),l.CoSEConstants=s(806),l.CoSEEdge=s(767),l.CoSEGraph=s(880),l.CoSEGraphManager=s(578),l.CoSELayout=s(765),l.CoSENode=s(991),l.ConstraintHandler=s(902),a.exports=l},806:(a,o,s)=>{var l=s(551).FDLayoutConstants;function c(){}for(var d in l)c[d]=l[d];c.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,c.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,c.DEFAULT_COMPONENT_SEPERATION=60,c.TILE=!0,c.TILING_PADDING_VERTICAL=10,c.TILING_PADDING_HORIZONTAL=10,c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0,c.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,c.TREE_REDUCTION_ON_INCREMENTAL=!0,c.PURE_INCREMENTAL=c.DEFAULT_INCREMENTAL,a.exports=c},767:(a,o,s)=>{var l=s(551).FDLayoutEdge;function c(u,f,m){l.call(this,u,f,m)}c.prototype=Object.create(l.prototype);for(var d in l)c[d]=l[d];a.exports=c},880:(a,o,s)=>{var l=s(551).LGraph;function c(u,f,m){l.call(this,u,f,m)}c.prototype=Object.create(l.prototype);for(var d in l)c[d]=l[d];a.exports=c},578:(a,o,s)=>{var l=s(551).LGraphManager;function c(u){l.call(this,u)}c.prototype=Object.create(l.prototype);for(var d in l)c[d]=l[d];a.exports=c},765:(a,o,s)=>{var l=s(551).FDLayout,c=s(578),d=s(880),u=s(991),f=s(767),m=s(806),g=s(902),v=s(551).FDLayoutConstants,y=s(551).LayoutConstants,b=s(551).Point,_=s(551).PointD,w=s(551).DimensionD,E=s(551).Layout,S=s(551).Integer,D=s(551).IGeometry,T=s(551).LGraph,O=s(551).Transform,F=s(551).LinkedList;function P(){l.call(this),this.toBeTiled={},this.constraints={}}P.prototype=Object.create(l.prototype);for(var L in l)P[L]=l[L];P.prototype.newGraphManager=function(){var C=new c(this);return this.graphManager=C,C},P.prototype.newGraph=function(C){return new d(null,this.graphManager,C)},P.prototype.newNode=function(C){return new u(this.graphManager,C)},P.prototype.newEdge=function(C){return new f(null,null,C)},P.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(m.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=m.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=m.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},P.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},P.prototype.layout=function(){var C=y.DEFAULT_CREATE_BENDS_AS_NEEDED;return C&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},P.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(m.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(B){return A.has(B)});this.graphManager.setAllNodesToApplyGravitation(R)}}else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),R=this.nodesWithGravity.filter(function(k){return A.has(k)});this.graphManager.setAllNodesToApplyGravitation(R),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(g.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),m.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},P.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var C=new Set(this.getAllNodes()),A=this.nodesWithGravity.filter(function(I){return C.has(I)});this.graphManager.setAllNodesToApplyGravitation(A),this.graphManager.updateBounds(),this.updateGrid(),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),m.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var R=!this.isTreeGrowing&&!this.isGrowthFinished,k=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(R,k),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},P.prototype.getPositionsData=function(){for(var C=this.graphManager.getAllNodes(),A={},R=0;R<C.length;R++){var k=C[R].rect,I=C[R].id;A[I]={id:I,x:k.getCenterX(),y:k.getCenterY(),w:k.width,h:k.height}}return A},P.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var C=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!C;)C=this.tick();this.graphManager.updateBounds()}},P.prototype.moveNodes=function(){for(var C=this.getAllNodes(),A,R=0;R<C.length;R++)A=C[R],A.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var R=0;R<C.length;R++)A=C[R],A.move()},P.prototype.initConstraintVariables=function(){var C=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var A=this.graphManager.getAllNodes(),R=0;R<A.length;R++){var k=A[R];this.idToNodeMap.set(k.id,k)}var I=function Q(se){for(var ee=se.getChild().getNodes(),Z,ce=0,ye=0;ye<ee.length;ye++)Z=ee[ye],Z.getChild()==null?C.fixedNodeSet.has(Z.id)&&(ce+=100):ce+=Q(Z);return ce};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(ee){C.fixedNodeSet.add(ee.nodeId)});for(var A=this.graphManager.getAllNodes(),k,R=0;R<A.length;R++)if(k=A[R],k.getChild()!=null){var B=I(k);B>0&&(k.fixedNodeWeight=B)}}if(this.constraints.relativePlacementConstraint){var z=new Map,W=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(Q){C.fixedNodesOnHorizontal.add(Q),C.fixedNodesOnVertical.add(Q)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var $=this.constraints.alignmentConstraint.vertical,R=0;R<$.length;R++)this.dummyToNodeForVerticalAlignment.set("dummy"+R,[]),$[R].forEach(function(se){z.set(se,"dummy"+R),C.dummyToNodeForVerticalAlignment.get("dummy"+R).push(se),C.fixedNodeSet.has(se)&&C.fixedNodesOnHorizontal.add("dummy"+R)});if(this.constraints.alignmentConstraint.horizontal)for(var G=this.constraints.alignmentConstraint.horizontal,R=0;R<G.length;R++)this.dummyToNodeForHorizontalAlignment.set("dummy"+R,[]),G[R].forEach(function(se){W.set(se,"dummy"+R),C.dummyToNodeForHorizontalAlignment.get("dummy"+R).push(se),C.fixedNodeSet.has(se)&&C.fixedNodesOnVertical.add("dummy"+R)})}if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(Q){var se,ee,Z;for(Z=Q.length-1;Z>=2*Q.length/3;Z--)se=Math.floor(Math.random()*(Z+1)),ee=Q[Z],Q[Z]=Q[se],Q[se]=ee;return Q},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(Q){if(Q.left){var se=z.has(Q.left)?z.get(Q.left):Q.left,ee=z.has(Q.right)?z.get(Q.right):Q.right;C.nodesInRelativeHorizontal.includes(se)||(C.nodesInRelativeHorizontal.push(se),C.nodeToRelativeConstraintMapHorizontal.set(se,[]),C.dummyToNodeForVerticalAlignment.has(se)?C.nodeToTempPositionMapHorizontal.set(se,C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(se)[0]).getCenterX()):C.nodeToTempPositionMapHorizontal.set(se,C.idToNodeMap.get(se).getCenterX())),C.nodesInRelativeHorizontal.includes(ee)||(C.nodesInRelativeHorizontal.push(ee),C.nodeToRelativeConstraintMapHorizontal.set(ee,[]),C.dummyToNodeForVerticalAlignment.has(ee)?C.nodeToTempPositionMapHorizontal.set(ee,C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(ee)[0]).getCenterX()):C.nodeToTempPositionMapHorizontal.set(ee,C.idToNodeMap.get(ee).getCenterX())),C.nodeToRelativeConstraintMapHorizontal.get(se).push({right:ee,gap:Q.gap}),C.nodeToRelativeConstraintMapHorizontal.get(ee).push({left:se,gap:Q.gap})}else{var Z=W.has(Q.top)?W.get(Q.top):Q.top,ce=W.has(Q.bottom)?W.get(Q.bottom):Q.bottom;C.nodesInRelativeVertical.includes(Z)||(C.nodesInRelativeVertical.push(Z),C.nodeToRelativeConstraintMapVertical.set(Z,[]),C.dummyToNodeForHorizontalAlignment.has(Z)?C.nodeToTempPositionMapVertical.set(Z,C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(Z)[0]).getCenterY()):C.nodeToTempPositionMapVertical.set(Z,C.idToNodeMap.get(Z).getCenterY())),C.nodesInRelativeVertical.includes(ce)||(C.nodesInRelativeVertical.push(ce),C.nodeToRelativeConstraintMapVertical.set(ce,[]),C.dummyToNodeForHorizontalAlignment.has(ce)?C.nodeToTempPositionMapVertical.set(ce,C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(ce)[0]).getCenterY()):C.nodeToTempPositionMapVertical.set(ce,C.idToNodeMap.get(ce).getCenterY())),C.nodeToRelativeConstraintMapVertical.get(Z).push({bottom:ce,gap:Q.gap}),C.nodeToRelativeConstraintMapVertical.get(ce).push({top:Z,gap:Q.gap})}});else{var K=new Map,oe=new Map;this.constraints.relativePlacementConstraint.forEach(function(Q){if(Q.left){var se=z.has(Q.left)?z.get(Q.left):Q.left,ee=z.has(Q.right)?z.get(Q.right):Q.right;K.has(se)?K.get(se).push(ee):K.set(se,[ee]),K.has(ee)?K.get(ee).push(se):K.set(ee,[se])}else{var Z=W.has(Q.top)?W.get(Q.top):Q.top,ce=W.has(Q.bottom)?W.get(Q.bottom):Q.bottom;oe.has(Z)?oe.get(Z).push(ce):oe.set(Z,[ce]),oe.has(ce)?oe.get(ce).push(Z):oe.set(ce,[Z])}});var te=function(se,ee){var Z=[],ce=[],ye=new F,Te=new Set,be=0;return se.forEach(function(at,wt){if(!Te.has(wt)){Z[be]=[],ce[be]=!1;var $e=wt;for(ye.push($e),Te.add($e),Z[be].push($e);ye.length!=0;){$e=ye.shift(),ee.has($e)&&(ce[be]=!0);var xe=se.get($e);xe.forEach(function(Me){Te.has(Me)||(ye.push(Me),Te.add(Me),Z[be].push(Me))})}be++}}),{components:Z,isFixed:ce}},le=te(K,C.fixedNodesOnHorizontal);this.componentsOnHorizontal=le.components,this.fixedComponentsOnHorizontal=le.isFixed;var re=te(oe,C.fixedNodesOnVertical);this.componentsOnVertical=re.components,this.fixedComponentsOnVertical=re.isFixed}}},P.prototype.updateDisplacements=function(){var C=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(re){var Q=C.idToNodeMap.get(re.nodeId);Q.displacementX=0,Q.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var A=this.constraints.alignmentConstraint.vertical,R=0;R<A.length;R++){for(var k=0,I=0;I<A[R].length;I++){if(this.fixedNodeSet.has(A[R][I])){k=0;break}k+=this.idToNodeMap.get(A[R][I]).displacementX}for(var B=k/A[R].length,I=0;I<A[R].length;I++)this.idToNodeMap.get(A[R][I]).displacementX=B}if(this.constraints.alignmentConstraint.horizontal)for(var z=this.constraints.alignmentConstraint.horizontal,R=0;R<z.length;R++){for(var W=0,I=0;I<z[R].length;I++){if(this.fixedNodeSet.has(z[R][I])){W=0;break}W+=this.idToNodeMap.get(z[R][I]).displacementY}for(var $=W/z[R].length,I=0;I<z[R].length;I++)this.idToNodeMap.get(z[R][I]).displacementY=$}}if(this.constraints.relativePlacementConstraint)if(m.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(re){if(!C.fixedNodesOnHorizontal.has(re)){var Q=0;C.dummyToNodeForVerticalAlignment.has(re)?Q=C.idToNodeMap.get(C.dummyToNodeForVerticalAlignment.get(re)[0]).displacementX:Q=C.idToNodeMap.get(re).displacementX,C.nodeToRelativeConstraintMapHorizontal.get(re).forEach(function(se){if(se.right){var ee=C.nodeToTempPositionMapHorizontal.get(se.right)-C.nodeToTempPositionMapHorizontal.get(re)-Q;ee<se.gap&&(Q-=se.gap-ee)}else{var ee=C.nodeToTempPositionMapHorizontal.get(re)-C.nodeToTempPositionMapHorizontal.get(se.left)+Q;ee<se.gap&&(Q+=se.gap-ee)}}),C.nodeToTempPositionMapHorizontal.set(re,C.nodeToTempPositionMapHorizontal.get(re)+Q),C.dummyToNodeForVerticalAlignment.has(re)?C.dummyToNodeForVerticalAlignment.get(re).forEach(function(se){C.idToNodeMap.get(se).displacementX=Q}):C.idToNodeMap.get(re).displacementX=Q}}),this.nodesInRelativeVertical.forEach(function(re){if(!C.fixedNodesOnHorizontal.has(re)){var Q=0;C.dummyToNodeForHorizontalAlignment.has(re)?Q=C.idToNodeMap.get(C.dummyToNodeForHorizontalAlignment.get(re)[0]).displacementY:Q=C.idToNodeMap.get(re).displacementY,C.nodeToRelativeConstraintMapVertical.get(re).forEach(function(se){if(se.bottom){var ee=C.nodeToTempPositionMapVertical.get(se.bottom)-C.nodeToTempPositionMapVertical.get(re)-Q;ee<se.gap&&(Q-=se.gap-ee)}else{var ee=C.nodeToTempPositionMapVertical.get(re)-C.nodeToTempPositionMapVertical.get(se.top)+Q;ee<se.gap&&(Q+=se.gap-ee)}}),C.nodeToTempPositionMapVertical.set(re,C.nodeToTempPositionMapVertical.get(re)+Q),C.dummyToNodeForHorizontalAlignment.has(re)?C.dummyToNodeForHorizontalAlignment.get(re).forEach(function(se){C.idToNodeMap.get(se).displacementY=Q}):C.idToNodeMap.get(re).displacementY=Q}});else{for(var R=0;R<this.componentsOnHorizontal.length;R++){var G=this.componentsOnHorizontal[R];if(this.fixedComponentsOnHorizontal[R])for(var I=0;I<G.length;I++)this.dummyToNodeForVerticalAlignment.has(G[I])?this.dummyToNodeForVerticalAlignment.get(G[I]).forEach(function(se){C.idToNodeMap.get(se).displacementX=0}):this.idToNodeMap.get(G[I]).displacementX=0;else{for(var K=0,oe=0,I=0;I<G.length;I++)if(this.dummyToNodeForVerticalAlignment.has(G[I])){var te=this.dummyToNodeForVerticalAlignment.get(G[I]);K+=te.length*this.idToNodeMap.get(te[0]).displacementX,oe+=te.length}else K+=this.idToNodeMap.get(G[I]).displacementX,oe++;for(var le=K/oe,I=0;I<G.length;I++)this.dummyToNodeForVerticalAlignment.has(G[I])?this.dummyToNodeForVerticalAlignment.get(G[I]).forEach(function(se){C.idToNodeMap.get(se).displacementX=le}):this.idToNodeMap.get(G[I]).displacementX=le}}for(var R=0;R<this.componentsOnVertical.length;R++){var G=this.componentsOnVertical[R];if(this.fixedComponentsOnVertical[R])for(var I=0;I<G.length;I++)this.dummyToNodeForHorizontalAlignment.has(G[I])?this.dummyToNodeForHorizontalAlignment.get(G[I]).forEach(function(ee){C.idToNodeMap.get(ee).displacementY=0}):this.idToNodeMap.get(G[I]).displacementY=0;else{for(var K=0,oe=0,I=0;I<G.length;I++)if(this.dummyToNodeForHorizontalAlignment.has(G[I])){var te=this.dummyToNodeForHorizontalAlignment.get(G[I]);K+=te.length*this.idToNodeMap.get(te[0]).displacementY,oe+=te.length}else K+=this.idToNodeMap.get(G[I]).displacementY,oe++;for(var le=K/oe,I=0;I<G.length;I++)this.dummyToNodeForHorizontalAlignment.has(G[I])?this.dummyToNodeForHorizontalAlignment.get(G[I]).forEach(function(ye){C.idToNodeMap.get(ye).displacementY=le}):this.idToNodeMap.get(G[I]).displacementY=le}}}},P.prototype.calculateNodesToApplyGravitationTo=function(){var C=[],A,R=this.graphManager.getGraphs(),k=R.length,I;for(I=0;I<k;I++)A=R[I],A.updateConnected(),A.isConnected||(C=C.concat(A.getNodes()));return C},P.prototype.createBendpoints=function(){var C=[];C=C.concat(this.graphManager.getAllEdges());var A=new Set,R;for(R=0;R<C.length;R++){var k=C[R];if(!A.has(k)){var I=k.getSource(),B=k.getTarget();if(I==B)k.getBendpoints().push(new _),k.getBendpoints().push(new _),this.createDummyNodesForBendpoints(k),A.add(k);else{var z=[];if(z=z.concat(I.getEdgeListToNode(B)),z=z.concat(B.getEdgeListToNode(I)),!A.has(z[0])){if(z.length>1){var W;for(W=0;W<z.length;W++){var $=z[W];$.getBendpoints().push(new _),this.createDummyNodesForBendpoints($)}}z.forEach(function(G){A.add(G)})}}}if(A.size==C.length)break}},P.prototype.positionNodesRadially=function(C){for(var A=new b(0,0),R=Math.ceil(Math.sqrt(C.length)),k=0,I=0,B=0,z=new _(0,0),W=0;W<C.length;W++){W%R==0&&(B=0,I=k,W!=0&&(I+=m.DEFAULT_COMPONENT_SEPERATION),k=0);var $=C[W],G=E.findCenterOfTree($);A.x=B,A.y=I,z=P.radialLayout($,G,A),z.y>k&&(k=Math.floor(z.y)),B=Math.floor(z.x+m.DEFAULT_COMPONENT_SEPERATION)}this.transform(new _(y.WORLD_CENTER_X-z.x/2,y.WORLD_CENTER_Y-z.y/2))},P.radialLayout=function(C,A,R){var k=Math.max(this.maxDiagonalInTree(C),m.DEFAULT_RADIAL_SEPARATION);P.branchRadialLayout(A,null,0,359,0,k);var I=T.calculateBounds(C),B=new O;B.setDeviceOrgX(I.getMinX()),B.setDeviceOrgY(I.getMinY()),B.setWorldOrgX(R.x),B.setWorldOrgY(R.y);for(var z=0;z<C.length;z++){var W=C[z];W.transform(B)}var $=new _(I.getMaxX(),I.getMaxY());return B.inverseTransformPoint($)},P.branchRadialLayout=function(C,A,R,k,I,B){var z=(k-R+1)/2;z<0&&(z+=180);var W=(z+R)%360,$=W*D.TWO_PI/360,G=Math.cos($),K=I*Math.cos($),oe=I*Math.sin($);C.setCenter(K,oe);var te=[];te=te.concat(C.getEdges());var le=te.length;A!=null&&le--;for(var re=0,Q=te.length,se,ee=C.getEdgesBetween(A);ee.length>1;){var Z=ee[0];ee.splice(0,1);var ce=te.indexOf(Z);ce>=0&&te.splice(ce,1),Q--,le--}A!=null?se=(te.indexOf(ee[0])+1)%Q:se=0;for(var ye=Math.abs(k-R)/le,Te=se;re!=le;Te=++Te%Q){var be=te[Te].getOtherEnd(C);if(be!=A){var at=(R+re*ye)%360,wt=(at+ye)%360;P.branchRadialLayout(be,C,at,wt,I+B,B),re++}}},P.maxDiagonalInTree=function(C){for(var A=S.MIN_VALUE,R=0;R<C.length;R++){var k=C[R],I=k.getDiagonal();I>A&&(A=I)}return A},P.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},P.prototype.groupZeroDegreeMembers=function(){var C=this,A={};this.memberGroups={},this.idToDummyNode={};for(var R=[],k=this.graphManager.getAllNodes(),I=0;I<k.length;I++){var B=k[I],z=B.getParent();this.getNodeDegreeWithChildren(B)===0&&(z.id==null||!this.getToBeTiled(z))&&R.push(B)}for(var I=0;I<R.length;I++){var B=R[I],W=B.getParent().id;typeof A[W]>"u"&&(A[W]=[]),A[W]=A[W].concat(B)}Object.keys(A).forEach(function($){if(A[$].length>1){var G="DummyCompound_"+$;C.memberGroups[G]=A[$];var K=A[$][0].getParent(),oe=new u(C.graphManager);oe.id=G,oe.paddingLeft=K.paddingLeft||0,oe.paddingRight=K.paddingRight||0,oe.paddingBottom=K.paddingBottom||0,oe.paddingTop=K.paddingTop||0,C.idToDummyNode[G]=oe;var te=C.getGraphManager().add(C.newGraph(),oe),le=K.getChild();le.add(oe);for(var re=0;re<A[$].length;re++){var Q=A[$][re];le.remove(Q),te.add(Q)}}})},P.prototype.clearCompounds=function(){var C={},A={};this.performDFSOnCompounds();for(var R=0;R<this.compoundOrder.length;R++)A[this.compoundOrder[R].id]=this.compoundOrder[R],C[this.compoundOrder[R].id]=[].concat(this.compoundOrder[R].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[R].getChild()),this.compoundOrder[R].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(C,A)},P.prototype.clearZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(R){var k=C.idToDummyNode[R];if(A[R]=C.tileNodes(C.memberGroups[R],k.paddingLeft+k.paddingRight),k.rect.width=A[R].width,k.rect.height=A[R].height,k.setCenter(A[R].centerX,A[R].centerY),k.labelMarginLeft=0,k.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var I=k.rect.width,B=k.rect.height;k.labelWidth&&(k.labelPosHorizontal=="left"?(k.rect.x-=k.labelWidth,k.setWidth(I+k.labelWidth),k.labelMarginLeft=k.labelWidth):k.labelPosHorizontal=="center"&&k.labelWidth>I?(k.rect.x-=(k.labelWidth-I)/2,k.setWidth(k.labelWidth),k.labelMarginLeft=(k.labelWidth-I)/2):k.labelPosHorizontal=="right"&&k.setWidth(I+k.labelWidth)),k.labelHeight&&(k.labelPosVertical=="top"?(k.rect.y-=k.labelHeight,k.setHeight(B+k.labelHeight),k.labelMarginTop=k.labelHeight):k.labelPosVertical=="center"&&k.labelHeight>B?(k.rect.y-=(k.labelHeight-B)/2,k.setHeight(k.labelHeight),k.labelMarginTop=(k.labelHeight-B)/2):k.labelPosVertical=="bottom"&&k.setHeight(B+k.labelHeight))}})},P.prototype.repopulateCompounds=function(){for(var C=this.compoundOrder.length-1;C>=0;C--){var A=this.compoundOrder[C],R=A.id,k=A.paddingLeft,I=A.paddingTop,B=A.labelMarginLeft,z=A.labelMarginTop;this.adjustLocations(this.tiledMemberPack[R],A.rect.x,A.rect.y,k,I,B,z)}},P.prototype.repopulateZeroDegreeMembers=function(){var C=this,A=this.tiledZeroDegreePack;Object.keys(A).forEach(function(R){var k=C.idToDummyNode[R],I=k.paddingLeft,B=k.paddingTop,z=k.labelMarginLeft,W=k.labelMarginTop;C.adjustLocations(A[R],k.rect.x,k.rect.y,I,B,z,W)})},P.prototype.getToBeTiled=function(C){var A=C.id;if(this.toBeTiled[A]!=null)return this.toBeTiled[A];var R=C.getChild();if(R==null)return this.toBeTiled[A]=!1,!1;for(var k=R.getNodes(),I=0;I<k.length;I++){var B=k[I];if(this.getNodeDegree(B)>0)return this.toBeTiled[A]=!1,!1;if(B.getChild()==null){this.toBeTiled[B.id]=!1;continue}if(!this.getToBeTiled(B))return this.toBeTiled[A]=!1,!1}return this.toBeTiled[A]=!0,!0},P.prototype.getNodeDegree=function(C){for(var A=C.id,R=C.getEdges(),k=0,I=0;I<R.length;I++){var B=R[I];B.getSource().id!==B.getTarget().id&&(k=k+1)}return k},P.prototype.getNodeDegreeWithChildren=function(C){var A=this.getNodeDegree(C);if(C.getChild()==null)return A;for(var R=C.getChild().getNodes(),k=0;k<R.length;k++){var I=R[k];A+=this.getNodeDegreeWithChildren(I)}return A},P.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},P.prototype.fillCompexOrderByDFS=function(C){for(var A=0;A<C.length;A++){var R=C[A];R.getChild()!=null&&this.fillCompexOrderByDFS(R.getChild().getNodes()),this.getToBeTiled(R)&&this.compoundOrder.push(R)}},P.prototype.adjustLocations=function(C,A,R,k,I,B,z){A+=k+B,R+=I+z;for(var W=A,$=0;$<C.rows.length;$++){var G=C.rows[$];A=W;for(var K=0,oe=0;oe<G.length;oe++){var te=G[oe];te.rect.x=A,te.rect.y=R,A+=te.rect.width+C.horizontalPadding,te.rect.height>K&&(K=te.rect.height)}R+=K+C.verticalPadding}},P.prototype.tileCompoundMembers=function(C,A){var R=this;this.tiledMemberPack=[],Object.keys(C).forEach(function(k){var I=A[k];if(R.tiledMemberPack[k]=R.tileNodes(C[k],I.paddingLeft+I.paddingRight),I.rect.width=R.tiledMemberPack[k].width,I.rect.height=R.tiledMemberPack[k].height,I.setCenter(R.tiledMemberPack[k].centerX,R.tiledMemberPack[k].centerY),I.labelMarginLeft=0,I.labelMarginTop=0,m.NODE_DIMENSIONS_INCLUDE_LABELS){var B=I.rect.width,z=I.rect.height;I.labelWidth&&(I.labelPosHorizontal=="left"?(I.rect.x-=I.labelWidth,I.setWidth(B+I.labelWidth),I.labelMarginLeft=I.labelWidth):I.labelPosHorizontal=="center"&&I.labelWidth>B?(I.rect.x-=(I.labelWidth-B)/2,I.setWidth(I.labelWidth),I.labelMarginLeft=(I.labelWidth-B)/2):I.labelPosHorizontal=="right"&&I.setWidth(B+I.labelWidth)),I.labelHeight&&(I.labelPosVertical=="top"?(I.rect.y-=I.labelHeight,I.setHeight(z+I.labelHeight),I.labelMarginTop=I.labelHeight):I.labelPosVertical=="center"&&I.labelHeight>z?(I.rect.y-=(I.labelHeight-z)/2,I.setHeight(I.labelHeight),I.labelMarginTop=(I.labelHeight-z)/2):I.labelPosVertical=="bottom"&&I.setHeight(z+I.labelHeight))}})},P.prototype.tileNodes=function(C,A){var R=this.tileNodesByFavoringDim(C,A,!0),k=this.tileNodesByFavoringDim(C,A,!1),I=this.getOrgRatio(R),B=this.getOrgRatio(k),z;return B<I?z=k:z=R,z},P.prototype.getOrgRatio=function(C){var A=C.width,R=C.height,k=A/R;return k<1&&(k=1/k),k},P.prototype.calcIdealRowWidth=function(C,A){var R=m.TILING_PADDING_VERTICAL,k=m.TILING_PADDING_HORIZONTAL,I=C.length,B=0,z=0,W=0;C.forEach(function(re){B+=re.getWidth(),z+=re.getHeight(),re.getWidth()>W&&(W=re.getWidth())});var $=B/I,G=z/I,K=Math.pow(R-k,2)+4*($+k)*(G+R)*I,oe=(k-R+Math.sqrt(K))/(2*($+k)),te;A?(te=Math.ceil(oe),te==oe&&te++):te=Math.floor(oe);var le=te*($+k)-k;return W>le&&(le=W),le+=k*2,le},P.prototype.tileNodesByFavoringDim=function(C,A,R){var k=m.TILING_PADDING_VERTICAL,I=m.TILING_PADDING_HORIZONTAL,B=m.TILING_COMPARE_BY,z={rows:[],rowWidth:[],rowHeight:[],width:0,height:A,verticalPadding:k,horizontalPadding:I,centerX:0,centerY:0};B&&(z.idealRowWidth=this.calcIdealRowWidth(C,R));var W=function(Q){return Q.rect.width*Q.rect.height},$=function(Q,se){return W(se)-W(Q)};C.sort(function(re,Q){var se=$;return z.idealRowWidth?(se=B,se(re.id,Q.id)):se(re,Q)});for(var G=0,K=0,oe=0;oe<C.length;oe++){var te=C[oe];G+=te.getCenterX(),K+=te.getCenterY()}z.centerX=G/C.length,z.centerY=K/C.length;for(var oe=0;oe<C.length;oe++){var te=C[oe];if(z.rows.length==0)this.insertNodeToRow(z,te,0,A);else if(this.canAddHorizontal(z,te.rect.width,te.rect.height)){var le=z.rows.length-1;z.idealRowWidth||(le=this.getShortestRowIndex(z)),this.insertNodeToRow(z,te,le,A)}else this.insertNodeToRow(z,te,z.rows.length,A);this.shiftToLastRow(z)}return z},P.prototype.insertNodeToRow=function(C,A,R,k){var I=k;if(R==C.rows.length){var B=[];C.rows.push(B),C.rowWidth.push(I),C.rowHeight.push(0)}var z=C.rowWidth[R]+A.rect.width;C.rows[R].length>0&&(z+=C.horizontalPadding),C.rowWidth[R]=z,C.width<z&&(C.width=z);var W=A.rect.height;R>0&&(W+=C.verticalPadding);var $=0;W>C.rowHeight[R]&&($=C.rowHeight[R],C.rowHeight[R]=W,$=C.rowHeight[R]-$),C.height+=$,C.rows[R].push(A)},P.prototype.getShortestRowIndex=function(C){for(var A=-1,R=Number.MAX_VALUE,k=0;k<C.rows.length;k++)C.rowWidth[k]<R&&(A=k,R=C.rowWidth[k]);return A},P.prototype.getLongestRowIndex=function(C){for(var A=-1,R=Number.MIN_VALUE,k=0;k<C.rows.length;k++)C.rowWidth[k]>R&&(A=k,R=C.rowWidth[k]);return A},P.prototype.canAddHorizontal=function(C,A,R){if(C.idealRowWidth){var k=C.rows.length-1,I=C.rowWidth[k];return I+A+C.horizontalPadding<=C.idealRowWidth}var B=this.getShortestRowIndex(C);if(B<0)return!0;var z=C.rowWidth[B];if(z+C.horizontalPadding+A<=C.width)return!0;var W=0;C.rowHeight[B]<R&&B>0&&(W=R+C.verticalPadding-C.rowHeight[B]);var $;C.width-z>=A+C.horizontalPadding?$=(C.height+W)/(z+A+C.horizontalPadding):$=(C.height+W)/C.width,W=R+C.verticalPadding;var G;return C.width<A?G=(C.height+W)/A:G=(C.height+W)/C.width,G<1&&(G=1/G),$<1&&($=1/$),$<G},P.prototype.shiftToLastRow=function(C){var A=this.getLongestRowIndex(C),R=C.rowWidth.length-1,k=C.rows[A],I=k[k.length-1],B=I.width+C.horizontalPadding;if(C.width-C.rowWidth[R]>B&&A!=R){k.splice(-1,1),C.rows[R].push(I),C.rowWidth[A]=C.rowWidth[A]-B,C.rowWidth[R]=C.rowWidth[R]+B,C.width=C.rowWidth[instance.getLongestRowIndex(C)];for(var z=Number.MIN_VALUE,W=0;W<k.length;W++)k[W].height>z&&(z=k[W].height);A>0&&(z+=C.verticalPadding);var $=C.rowHeight[A]+C.rowHeight[R];C.rowHeight[A]=z,C.rowHeight[R]<I.height+C.verticalPadding&&(C.rowHeight[R]=I.height+C.verticalPadding);var G=C.rowHeight[A]+C.rowHeight[R];C.height+=G-$,this.shiftToLastRow(C)}},P.prototype.tilingPreLayout=function(){m.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},P.prototype.tilingPostLayout=function(){m.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},P.prototype.reduceTrees=function(){for(var C=[],A=!0,R;A;){var k=this.graphManager.getAllNodes(),I=[];A=!1;for(var B=0;B<k.length;B++)if(R=k[B],R.getEdges().length==1&&!R.getEdges()[0].isInterGraph&&R.getChild()==null){if(m.PURE_INCREMENTAL){var z=R.getEdges()[0].getOtherEnd(R),W=new w(R.getCenterX()-z.getCenterX(),R.getCenterY()-z.getCenterY());I.push([R,R.getEdges()[0],R.getOwner(),W])}else I.push([R,R.getEdges()[0],R.getOwner()]);A=!0}if(A==!0){for(var $=[],G=0;G<I.length;G++)I[G][0].getEdges().length==1&&($.push(I[G]),I[G][0].getOwner().remove(I[G][0]));C.push($),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=C},P.prototype.growTree=function(C){for(var A=C.length,R=C[A-1],k,I=0;I<R.length;I++)k=R[I],this.findPlaceforPrunedNode(k),k[2].add(k[0]),k[2].add(k[1],k[1].source,k[1].target);C.splice(C.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},P.prototype.findPlaceforPrunedNode=function(C){var A,R,k=C[0];if(k==C[1].source?R=C[1].target:R=C[1].source,m.PURE_INCREMENTAL)k.setCenter(R.getCenterX()+C[3].getWidth(),R.getCenterY()+C[3].getHeight());else{var I=R.startX,B=R.finishX,z=R.startY,W=R.finishY,$=0,G=0,K=0,oe=0,te=[$,K,G,oe];if(z>0)for(var le=I;le<=B;le++)te[0]+=this.grid[le][z-1].length+this.grid[le][z].length-1;if(B<this.grid.length-1)for(var le=z;le<=W;le++)te[1]+=this.grid[B+1][le].length+this.grid[B][le].length-1;if(W<this.grid[0].length-1)for(var le=I;le<=B;le++)te[2]+=this.grid[le][W+1].length+this.grid[le][W].length-1;if(I>0)for(var le=z;le<=W;le++)te[3]+=this.grid[I-1][le].length+this.grid[I][le].length-1;for(var re=S.MAX_VALUE,Q,se,ee=0;ee<te.length;ee++)te[ee]<re?(re=te[ee],Q=1,se=ee):te[ee]==re&&Q++;if(Q==3&&re==0)te[0]==0&&te[1]==0&&te[2]==0?A=1:te[0]==0&&te[1]==0&&te[3]==0?A=0:te[0]==0&&te[2]==0&&te[3]==0?A=3:te[1]==0&&te[2]==0&&te[3]==0&&(A=2);else if(Q==2&&re==0){var Z=Math.floor(Math.random()*2);te[0]==0&&te[1]==0?Z==0?A=0:A=1:te[0]==0&&te[2]==0?Z==0?A=0:A=2:te[0]==0&&te[3]==0?Z==0?A=0:A=3:te[1]==0&&te[2]==0?Z==0?A=1:A=2:te[1]==0&&te[3]==0?Z==0?A=1:A=3:Z==0?A=2:A=3}else if(Q==4&&re==0){var Z=Math.floor(Math.random()*4);A=Z}else A=se;A==0?k.setCenter(R.getCenterX(),R.getCenterY()-R.getHeight()/2-v.DEFAULT_EDGE_LENGTH-k.getHeight()/2):A==1?k.setCenter(R.getCenterX()+R.getWidth()/2+v.DEFAULT_EDGE_LENGTH+k.getWidth()/2,R.getCenterY()):A==2?k.setCenter(R.getCenterX(),R.getCenterY()+R.getHeight()/2+v.DEFAULT_EDGE_LENGTH+k.getHeight()/2):k.setCenter(R.getCenterX()-R.getWidth()/2-v.DEFAULT_EDGE_LENGTH-k.getWidth()/2,R.getCenterY())}},a.exports=P},991:(a,o,s)=>{var l=s(551).FDLayoutNode,c=s(551).IMath;function d(f,m,g,v){l.call(this,f,m,g,v)}d.prototype=Object.create(l.prototype);for(var u in l)d[u]=l[u];d.prototype.calculateDisplacement=function(){var f=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=f.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=f.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementX=f.coolingFactor*f.maxNodeDisplacement*c.sign(this.displacementX)),Math.abs(this.displacementY)>f.coolingFactor*f.maxNodeDisplacement&&(this.displacementY=f.coolingFactor*f.maxNodeDisplacement*c.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},d.prototype.propogateDisplacementToChildren=function(f,m){for(var g=this.getChild().getNodes(),v,y=0;y<g.length;y++)v=g[y],v.getChild()==null?(v.displacementX+=f,v.displacementY+=m):v.propogateDisplacementToChildren(f,m)},d.prototype.move=function(){var f=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),f.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},d.prototype.setPred1=function(f){this.pred1=f},d.prototype.getPred1=function(){return pred1},d.prototype.getPred2=function(){return pred2},d.prototype.setNext=function(f){this.next=f},d.prototype.getNext=function(){return next},d.prototype.setProcessed=function(f){this.processed=f},d.prototype.isProcessed=function(){return processed},a.exports=d},902:(a,o,s)=>{function l(g){if(Array.isArray(g)){for(var v=0,y=Array(g.length);v<g.length;v++)y[v]=g[v];return y}else return Array.from(g)}var c=s(806),d=s(551).LinkedList,u=s(551).Matrix,f=s(551).SVD;function m(){}m.handleConstraints=function(g){var v={};v.fixedNodeConstraint=g.constraints.fixedNodeConstraint,v.alignmentConstraint=g.constraints.alignmentConstraint,v.relativePlacementConstraint=g.constraints.relativePlacementConstraint;for(var y=new Map,b=new Map,_=[],w=[],E=g.getAllNodes(),S=0,D=0;D<E.length;D++){var T=E[D];T.getChild()==null&&(b.set(T.id,S++),_.push(T.getCenterX()),w.push(T.getCenterY()),y.set(T.id,T))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(Y){!Y.gap&&Y.gap!=0&&(Y.left?Y.gap=c.DEFAULT_EDGE_LENGTH+y.get(Y.left).getWidth()/2+y.get(Y.right).getWidth()/2:Y.gap=c.DEFAULT_EDGE_LENGTH+y.get(Y.top).getHeight()/2+y.get(Y.bottom).getHeight()/2)});var O=function(X,me){return{x:X.x-me.x,y:X.y-me.y}},F=function(X){var me=0,ne=0;return X.forEach(function(pe){me+=_[b.get(pe)],ne+=w[b.get(pe)]}),{x:me/X.size,y:ne/X.size}},P=function(X,me,ne,pe,we){function ze(st,Ye){var mt=new Set(st),tt=!0,lt=!1,ar=void 0;try{for(var vr=Ye[Symbol.iterator](),zr;!(tt=(zr=vr.next()).done);tt=!0){var or=zr.value;mt.add(or)}}catch(Ht){lt=!0,ar=Ht}finally{try{!tt&&vr.return&&vr.return()}finally{if(lt)throw ar}}return mt}var ke=new Map;X.forEach(function(st,Ye){ke.set(Ye,0)}),X.forEach(function(st,Ye){st.forEach(function(mt){ke.set(mt.id,ke.get(mt.id)+1)})});var Ce=new Map,Fe=new Map,Be=new d;ke.forEach(function(st,Ye){st==0?(Be.push(Ye),ne||(me=="horizontal"?Ce.set(Ye,b.has(Ye)?_[b.get(Ye)]:pe.get(Ye)):Ce.set(Ye,b.has(Ye)?w[b.get(Ye)]:pe.get(Ye)))):Ce.set(Ye,Number.NEGATIVE_INFINITY),ne&&Fe.set(Ye,new Set([Ye]))}),ne&&we.forEach(function(st){var Ye=[];if(st.forEach(function(lt){ne.has(lt)&&Ye.push(lt)}),Ye.length>0){var mt=0;Ye.forEach(function(lt){me=="horizontal"?(Ce.set(lt,b.has(lt)?_[b.get(lt)]:pe.get(lt)),mt+=Ce.get(lt)):(Ce.set(lt,b.has(lt)?w[b.get(lt)]:pe.get(lt)),mt+=Ce.get(lt))}),mt=mt/Ye.length,st.forEach(function(lt){ne.has(lt)||Ce.set(lt,mt)})}else{var tt=0;st.forEach(function(lt){me=="horizontal"?tt+=b.has(lt)?_[b.get(lt)]:pe.get(lt):tt+=b.has(lt)?w[b.get(lt)]:pe.get(lt)}),tt=tt/st.length,st.forEach(function(lt){Ce.set(lt,tt)})}});for(var qe=function(){var Ye=Be.shift(),mt=X.get(Ye);mt.forEach(function(tt){if(Ce.get(tt.id)<Ce.get(Ye)+tt.gap)if(ne&&ne.has(tt.id)){var lt=void 0;if(me=="horizontal"?lt=b.has(tt.id)?_[b.get(tt.id)]:pe.get(tt.id):lt=b.has(tt.id)?w[b.get(tt.id)]:pe.get(tt.id),Ce.set(tt.id,lt),lt<Ce.get(Ye)+tt.gap){var ar=Ce.get(Ye)+tt.gap-lt;Fe.get(Ye).forEach(function(vr){Ce.set(vr,Ce.get(vr)-ar)})}}else Ce.set(tt.id,Ce.get(Ye)+tt.gap);ke.set(tt.id,ke.get(tt.id)-1),ke.get(tt.id)==0&&Be.push(tt.id),ne&&Fe.set(tt.id,ze(Fe.get(Ye),Fe.get(tt.id)))})};Be.length!=0;)qe();if(ne){var ot=new Set;X.forEach(function(st,Ye){st.length==0&&ot.add(Ye)});var Ut=[];Fe.forEach(function(st,Ye){if(ot.has(Ye)){var mt=!1,tt=!0,lt=!1,ar=void 0;try{for(var vr=st[Symbol.iterator](),zr;!(tt=(zr=vr.next()).done);tt=!0){var or=zr.value;ne.has(or)&&(mt=!0)}}catch(rr){lt=!0,ar=rr}finally{try{!tt&&vr.return&&vr.return()}finally{if(lt)throw ar}}if(!mt){var Ht=!1,Ei=void 0;Ut.forEach(function(rr,xr){rr.has([].concat(l(st))[0])&&(Ht=!0,Ei=xr)}),Ht?st.forEach(function(rr){Ut[Ei].add(rr)}):Ut.push(new Set(st))}}}),Ut.forEach(function(st,Ye){var mt=Number.POSITIVE_INFINITY,tt=Number.POSITIVE_INFINITY,lt=Number.NEGATIVE_INFINITY,ar=Number.NEGATIVE_INFINITY,vr=!0,zr=!1,or=void 0;try{for(var Ht=st[Symbol.iterator](),Ei;!(vr=(Ei=Ht.next()).done);vr=!0){var rr=Ei.value,xr=void 0;me=="horizontal"?xr=b.has(rr)?_[b.get(rr)]:pe.get(rr):xr=b.has(rr)?w[b.get(rr)]:pe.get(rr);var Yr=Ce.get(rr);xr<mt&&(mt=xr),xr>lt&&(lt=xr),Yr<tt&&(tt=Yr),Yr>ar&&(ar=Yr)}}catch(Uo){zr=!0,or=Uo}finally{try{!vr&&Ht.return&&Ht.return()}finally{if(zr)throw or}}var Vo=(mt+lt)/2-(tt+ar)/2,Gi=!0,Na=!1,zo=void 0;try{for(var go=st[Symbol.iterator](),nl;!(Gi=(nl=go.next()).done);Gi=!0){var qo=nl.value;Ce.set(qo,Ce.get(qo)+Vo)}}catch(Uo){Na=!0,zo=Uo}finally{try{!Gi&&go.return&&go.return()}finally{if(Na)throw zo}}})}return Ce},L=function(X){var me=0,ne=0,pe=0,we=0;if(X.forEach(function(Fe){Fe.left?_[b.get(Fe.left)]-_[b.get(Fe.right)]>=0?me++:ne++:w[b.get(Fe.top)]-w[b.get(Fe.bottom)]>=0?pe++:we++}),me>ne&&pe>we)for(var ze=0;ze<b.size;ze++)_[ze]=-1*_[ze],w[ze]=-1*w[ze];else if(me>ne)for(var ke=0;ke<b.size;ke++)_[ke]=-1*_[ke];else if(pe>we)for(var Ce=0;Ce<b.size;Ce++)w[Ce]=-1*w[Ce]},C=function(X){var me=[],ne=new d,pe=new Set,we=0;return X.forEach(function(ze,ke){if(!pe.has(ke)){me[we]=[];var Ce=ke;for(ne.push(Ce),pe.add(Ce),me[we].push(Ce);ne.length!=0;){Ce=ne.shift();var Fe=X.get(Ce);Fe.forEach(function(Be){pe.has(Be.id)||(ne.push(Be.id),pe.add(Be.id),me[we].push(Be.id))})}we++}}),me},A=function(X){var me=new Map;return X.forEach(function(ne,pe){me.set(pe,[])}),X.forEach(function(ne,pe){ne.forEach(function(we){me.get(pe).push(we),me.get(we.id).push({id:pe,gap:we.gap,direction:we.direction})})}),me},R=function(X){var me=new Map;return X.forEach(function(ne,pe){me.set(pe,[])}),X.forEach(function(ne,pe){ne.forEach(function(we){me.get(we.id).push({id:pe,gap:we.gap,direction:we.direction})})}),me},k=[],I=[],B=!1,z=!1,W=new Set,$=new Map,G=new Map,K=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(Y){W.add(Y.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(Y){Y.left?($.has(Y.left)?$.get(Y.left).push({id:Y.right,gap:Y.gap,direction:"horizontal"}):$.set(Y.left,[{id:Y.right,gap:Y.gap,direction:"horizontal"}]),$.has(Y.right)||$.set(Y.right,[])):($.has(Y.top)?$.get(Y.top).push({id:Y.bottom,gap:Y.gap,direction:"vertical"}):$.set(Y.top,[{id:Y.bottom,gap:Y.gap,direction:"vertical"}]),$.has(Y.bottom)||$.set(Y.bottom,[]))}),G=A($),K=C(G)),c.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(Y,X){k[X]=[Y.position.x,Y.position.y],I[X]=[_[b.get(Y.nodeId)],w[b.get(Y.nodeId)]]}),B=!0;else if(v.alignmentConstraint)(function(){var Y=0;if(v.alignmentConstraint.vertical){for(var X=v.alignmentConstraint.vertical,me=function(Ce){var Fe=new Set;X[Ce].forEach(function(ot){Fe.add(ot)});var Be=new Set([].concat(l(Fe)).filter(function(ot){return W.has(ot)})),qe=void 0;Be.size>0?qe=_[b.get(Be.values().next().value)]:qe=F(Fe).x,X[Ce].forEach(function(ot){k[Y]=[qe,w[b.get(ot)]],I[Y]=[_[b.get(ot)],w[b.get(ot)]],Y++})},ne=0;ne<X.length;ne++)me(ne);B=!0}if(v.alignmentConstraint.horizontal){for(var pe=v.alignmentConstraint.horizontal,we=function(Ce){var Fe=new Set;pe[Ce].forEach(function(ot){Fe.add(ot)});var Be=new Set([].concat(l(Fe)).filter(function(ot){return W.has(ot)})),qe=void 0;Be.size>0?qe=_[b.get(Be.values().next().value)]:qe=F(Fe).y,pe[Ce].forEach(function(ot){k[Y]=[_[b.get(ot)],qe],I[Y]=[_[b.get(ot)],w[b.get(ot)]],Y++})},ze=0;ze<pe.length;ze++)we(ze);B=!0}v.relativePlacementConstraint&&(z=!0)})();else if(v.relativePlacementConstraint){for(var oe=0,te=0,le=0;le<K.length;le++)K[le].length>oe&&(oe=K[le].length,te=le);if(oe<G.size/2)L(v.relativePlacementConstraint),B=!1,z=!1;else{var re=new Map,Q=new Map,se=[];K[te].forEach(function(Y){$.get(Y).forEach(function(X){X.direction=="horizontal"?(re.has(Y)?re.get(Y).push(X):re.set(Y,[X]),re.has(X.id)||re.set(X.id,[]),se.push({left:Y,right:X.id})):(Q.has(Y)?Q.get(Y).push(X):Q.set(Y,[X]),Q.has(X.id)||Q.set(X.id,[]),se.push({top:Y,bottom:X.id}))})}),L(se),z=!1;var ee=P(re,"horizontal"),Z=P(Q,"vertical");K[te].forEach(function(Y,X){I[X]=[_[b.get(Y)],w[b.get(Y)]],k[X]=[],ee.has(Y)?k[X][0]=ee.get(Y):k[X][0]=_[b.get(Y)],Z.has(Y)?k[X][1]=Z.get(Y):k[X][1]=w[b.get(Y)]}),B=!0}}if(B){for(var ce=void 0,ye=u.transpose(k),Te=u.transpose(I),be=0;be<ye.length;be++)ye[be]=u.multGamma(ye[be]),Te[be]=u.multGamma(Te[be]);var at=u.multMat(ye,u.transpose(Te)),wt=f.svd(at);ce=u.multMat(wt.V,u.transpose(wt.U));for(var $e=0;$e<b.size;$e++){var xe=[_[$e],w[$e]],Me=[ce[0][0],ce[1][0]],Ve=[ce[0][1],ce[1][1]];_[$e]=u.dotProduct(xe,Me),w[$e]=u.dotProduct(xe,Ve)}z&&L(v.relativePlacementConstraint)}}if(c.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var Ke={x:0,y:0};v.fixedNodeConstraint.forEach(function(Y,X){var me={x:_[b.get(Y.nodeId)],y:w[b.get(Y.nodeId)]},ne=Y.position,pe=O(ne,me);Ke.x+=pe.x,Ke.y+=pe.y}),Ke.x/=v.fixedNodeConstraint.length,Ke.y/=v.fixedNodeConstraint.length,_.forEach(function(Y,X){_[X]+=Ke.x}),w.forEach(function(Y,X){w[X]+=Ke.y}),v.fixedNodeConstraint.forEach(function(Y){_[b.get(Y.nodeId)]=Y.position.x,w[b.get(Y.nodeId)]=Y.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ge=v.alignmentConstraint.vertical,We=function(X){var me=new Set;Ge[X].forEach(function(we){me.add(we)});var ne=new Set([].concat(l(me)).filter(function(we){return W.has(we)})),pe=void 0;ne.size>0?pe=_[b.get(ne.values().next().value)]:pe=F(me).x,me.forEach(function(we){W.has(we)||(_[b.get(we)]=pe)})},it=0;it<Ge.length;it++)We(it);if(v.alignmentConstraint.horizontal)for(var ct=v.alignmentConstraint.horizontal,Se=function(X){var me=new Set;ct[X].forEach(function(we){me.add(we)});var ne=new Set([].concat(l(me)).filter(function(we){return W.has(we)})),pe=void 0;ne.size>0?pe=w[b.get(ne.values().next().value)]:pe=F(me).y,me.forEach(function(we){W.has(we)||(w[b.get(we)]=pe)})},U=0;U<ct.length;U++)Se(U)}v.relativePlacementConstraint&&function(){var Y=new Map,X=new Map,me=new Map,ne=new Map,pe=new Map,we=new Map,ze=new Set,ke=new Set;if(W.forEach(function(Ai){ze.add(Ai),ke.add(Ai)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var Ce=v.alignmentConstraint.vertical,Fe=function(Ft){me.set("dummy"+Ft,[]),Ce[Ft].forEach(function(Zt){Y.set(Zt,"dummy"+Ft),me.get("dummy"+Ft).push(Zt),W.has(Zt)&&ze.add("dummy"+Ft)}),pe.set("dummy"+Ft,_[b.get(Ce[Ft][0])])},Be=0;Be<Ce.length;Be++)Fe(Be);if(v.alignmentConstraint.horizontal)for(var qe=v.alignmentConstraint.horizontal,ot=function(Ft){ne.set("dummy"+Ft,[]),qe[Ft].forEach(function(Zt){X.set(Zt,"dummy"+Ft),ne.get("dummy"+Ft).push(Zt),W.has(Zt)&&ke.add("dummy"+Ft)}),we.set("dummy"+Ft,w[b.get(qe[Ft][0])])},Ut=0;Ut<qe.length;Ut++)ot(Ut)}var st=new Map,Ye=new Map,mt=function(Ft){$.get(Ft).forEach(function(Zt){var Va=void 0,Wn=void 0;Zt.direction=="horizontal"?(Va=Y.get(Ft)?Y.get(Ft):Ft,Y.get(Zt.id)?Wn={id:Y.get(Zt.id),gap:Zt.gap,direction:Zt.direction}:Wn=Zt,st.has(Va)?st.get(Va).push(Wn):st.set(Va,[Wn]),st.has(Wn.id)||st.set(Wn.id,[])):(Va=X.get(Ft)?X.get(Ft):Ft,X.get(Zt.id)?Wn={id:X.get(Zt.id),gap:Zt.gap,direction:Zt.direction}:Wn=Zt,Ye.has(Va)?Ye.get(Va).push(Wn):Ye.set(Va,[Wn]),Ye.has(Wn.id)||Ye.set(Wn.id,[]))})},tt=!0,lt=!1,ar=void 0;try{for(var vr=$.keys()[Symbol.iterator](),zr;!(tt=(zr=vr.next()).done);tt=!0){var or=zr.value;mt(or)}}catch(Ai){lt=!0,ar=Ai}finally{try{!tt&&vr.return&&vr.return()}finally{if(lt)throw ar}}var Ht=A(st),Ei=A(Ye),rr=C(Ht),xr=C(Ei),Yr=R(st),Vo=R(Ye),Gi=[],Na=[];rr.forEach(function(Ai,Ft){Gi[Ft]=[],Ai.forEach(function(Zt){Yr.get(Zt).length==0&&Gi[Ft].push(Zt)})}),xr.forEach(function(Ai,Ft){Na[Ft]=[],Ai.forEach(function(Zt){Vo.get(Zt).length==0&&Na[Ft].push(Zt)})});var zo=P(st,"horizontal",ze,pe,Gi),go=P(Ye,"vertical",ke,we,Na),nl=function(Ft){me.get(Ft)?me.get(Ft).forEach(function(Zt){_[b.get(Zt)]=zo.get(Ft)}):_[b.get(Ft)]=zo.get(Ft)},qo=!0,Uo=!1,Wd=void 0;try{for(var Ho=zo.keys()[Symbol.iterator](),Go;!(qo=(Go=Ho.next()).done);qo=!0){var Ba=Go.value;nl(Ba)}}catch(Ai){Uo=!0,Wd=Ai}finally{try{!qo&&Ho.return&&Ho.return()}finally{if(Uo)throw Wd}}var al=function(Ft){ne.get(Ft)?ne.get(Ft).forEach(function(Zt){w[b.get(Zt)]=go.get(Ft)}):w[b.get(Ft)]=go.get(Ft)},ol=!0,wc=!1,Cc=void 0;try{for(var un=go.keys()[Symbol.iterator](),gs;!(ol=(gs=un.next()).done);ol=!0){var Ba=gs.value;al(Ba)}}catch(Ai){wc=!0,Cc=Ai}finally{try{!ol&&un.return&&un.return()}finally{if(wc)throw Cc}}}()}for(var de=0;de<E.length;de++){var ve=E[de];ve.getChild()==null&&ve.setCenter(_[b.get(ve.id)],w[b.get(ve.id)])}},a.exports=m},551:a=>{a.exports=r}},e={};function i(a){var o=e[a];if(o!==void 0)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,i),s.exports}var n=i(45);return n})()})});var q8=j((ng,jT)=>{"use strict";(function(t,e){typeof ng=="object"&&typeof jT=="object"?jT.exports=e(WT()):typeof define=="function"&&define.amd?define(["cose-base"],e):typeof ng=="object"?ng.cytoscapeFcose=e(WT()):t.cytoscapeFcose=e(t.coseBase)})(ng,function(r){return(()=>{"use strict";var t={658:a=>{a.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var s=arguments.length,l=Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return l.forEach(function(d){Object.keys(d).forEach(function(u){return o[u]=d[u]})}),o}},548:(a,o,s)=>{var l=function(){function u(f,m){var g=[],v=!0,y=!1,b=void 0;try{for(var _=f[Symbol.iterator](),w;!(v=(w=_.next()).done)&&(g.push(w.value),!(m&&g.length===m));v=!0);}catch(E){y=!0,b=E}finally{try{!v&&_.return&&_.return()}finally{if(y)throw b}}return g}return function(f,m){if(Array.isArray(f))return f;if(Symbol.iterator in Object(f))return u(f,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=s(140).layoutBase.LinkedList,d={};d.getTopMostNodes=function(u){for(var f={},m=0;m<u.length;m++)f[u[m].id()]=!0;var g=u.filter(function(v,y){typeof v=="number"&&(v=y);for(var b=v.parent()[0];b!=null;){if(f[b.id()])return!1;b=b.parent()[0]}return!0});return g},d.connectComponents=function(u,f,m,g){var v=new c,y=new Set,b=[],_=void 0,w=void 0,E=void 0,S=!1,D=1,T=[],O=[],F=function(){var L=u.collection();O.push(L);var C=m[0],A=u.collection();A.merge(C).merge(C.descendants().intersection(f)),b.push(C),A.forEach(function(I){v.push(I),y.add(I),L.merge(I)});for(var R=function(){C=v.shift();var B=u.collection();C.neighborhood().nodes().forEach(function(G){f.intersection(C.edgesWith(G)).length>0&&B.merge(G)});for(var z=0;z<B.length;z++){var W=B[z];if(_=m.intersection(W.union(W.ancestors())),_!=null&&!y.has(_[0])){var $=_.union(_.descendants());$.forEach(function(G){v.push(G),y.add(G),L.merge(G),m.has(G)&&b.push(G)})}}};v.length!=0;)R();if(L.forEach(function(I){f.intersection(I.connectedEdges()).forEach(function(B){L.has(B.source())&&L.has(B.target())&&L.merge(B)})}),b.length==m.length&&(S=!0),!S||S&&D>1){w=b[0],E=w.connectedEdges().length,b.forEach(function(I){I.connectedEdges().length<E&&(E=I.connectedEdges().length,w=I)}),T.push(w.id());var k=u.collection();k.merge(b[0]),b.forEach(function(I){k.merge(I)}),b=[],m=m.difference(k),D++}};do F();while(!S);return g&&T.length>0&&g.set("dummy"+(g.size+1),T),O},d.relocateComponent=function(u,f,m){if(!m.fixedNodeConstraint){var g=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;if(m.quality=="draft"){var _=!0,w=!1,E=void 0;try{for(var S=f.nodeIndexes[Symbol.iterator](),D;!(_=(D=S.next()).done);_=!0){var T=D.value,O=l(T,2),F=O[0],P=O[1],L=m.cy.getElementById(F);if(L){var C=L.boundingBox(),A=f.xCoords[P]-C.w/2,R=f.xCoords[P]+C.w/2,k=f.yCoords[P]-C.h/2,I=f.yCoords[P]+C.h/2;A<g&&(g=A),R>v&&(v=R),k<y&&(y=k),I>b&&(b=I)}}}catch(G){w=!0,E=G}finally{try{!_&&S.return&&S.return()}finally{if(w)throw E}}var B=u.x-(v+g)/2,z=u.y-(b+y)/2;f.xCoords=f.xCoords.map(function(G){return G+B}),f.yCoords=f.yCoords.map(function(G){return G+z})}else{Object.keys(f).forEach(function(G){var K=f[G],oe=K.getRect().x,te=K.getRect().x+K.getRect().width,le=K.getRect().y,re=K.getRect().y+K.getRect().height;oe<g&&(g=oe),te>v&&(v=te),le<y&&(y=le),re>b&&(b=re)});var W=u.x-(v+g)/2,$=u.y-(b+y)/2;Object.keys(f).forEach(function(G){var K=f[G];K.setCenter(K.getCenterX()+W,K.getCenterY()+$)})}}},d.calcBoundingBox=function(u,f,m,g){for(var v=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER,b=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,w=void 0,E=void 0,S=void 0,D=void 0,T=u.descendants().not(":parent"),O=T.length,F=0;F<O;F++){var P=T[F];w=f[g.get(P.id())]-P.width()/2,E=f[g.get(P.id())]+P.width()/2,S=m[g.get(P.id())]-P.height()/2,D=m[g.get(P.id())]+P.height()/2,v>w&&(v=w),y<E&&(y=E),b>S&&(b=S),_<D&&(_=D)}var L={};return L.topLeftX=v,L.topLeftY=b,L.width=y-v,L.height=_-b,L},d.calcParentsWithoutChildren=function(u,f){var m=u.collection();return f.nodes(":parent").forEach(function(g){var v=!1;g.children().forEach(function(y){y.css("display")!="none"&&(v=!0)}),v||m.merge(g)}),m},a.exports=d},816:(a,o,s)=>{var l=s(548),c=s(140).CoSELayout,d=s(140).CoSENode,u=s(140).layoutBase.PointD,f=s(140).layoutBase.DimensionD,m=s(140).layoutBase.LayoutConstants,g=s(140).layoutBase.FDLayoutConstants,v=s(140).CoSEConstants,y=function(_,w){var E=_.cy,S=_.eles,D=S.nodes(),T=S.edges(),O=void 0,F=void 0,P=void 0,L={};_.randomize&&(O=w.nodeIndexes,F=w.xCoords,P=w.yCoords);var C=function(G){return typeof G=="function"},A=function(G,K){return C(G)?G(K):G},R=l.calcParentsWithoutChildren(E,S),k=function $(G,K,oe,te){for(var le=K.length,re=0;re<le;re++){var Q=K[re],se=null;Q.intersection(R).length==0&&(se=Q.children());var ee=void 0,Z=Q.layoutDimensions({nodeDimensionsIncludeLabels:te.nodeDimensionsIncludeLabels});if(Q.outerWidth()!=null&&Q.outerHeight()!=null)if(te.randomize)if(!Q.isParent())ee=G.add(new d(oe.graphManager,new u(F[O.get(Q.id())]-Z.w/2,P[O.get(Q.id())]-Z.h/2),new f(parseFloat(Z.w),parseFloat(Z.h))));else{var ce=l.calcBoundingBox(Q,F,P,O);Q.intersection(R).length==0?ee=G.add(new d(oe.graphManager,new u(ce.topLeftX,ce.topLeftY),new f(ce.width,ce.height))):ee=G.add(new d(oe.graphManager,new u(ce.topLeftX,ce.topLeftY),new f(parseFloat(Z.w),parseFloat(Z.h))))}else ee=G.add(new d(oe.graphManager,new u(Q.position("x")-Z.w/2,Q.position("y")-Z.h/2),new f(parseFloat(Z.w),parseFloat(Z.h))));else ee=G.add(new d(this.graphManager));if(ee.id=Q.data("id"),ee.nodeRepulsion=A(te.nodeRepulsion,Q),ee.paddingLeft=parseInt(Q.css("padding")),ee.paddingTop=parseInt(Q.css("padding")),ee.paddingRight=parseInt(Q.css("padding")),ee.paddingBottom=parseInt(Q.css("padding")),te.nodeDimensionsIncludeLabels&&(ee.labelWidth=Q.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,ee.labelHeight=Q.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,ee.labelPosVertical=Q.css("text-valign"),ee.labelPosHorizontal=Q.css("text-halign")),L[Q.data("id")]=ee,isNaN(ee.rect.x)&&(ee.rect.x=0),isNaN(ee.rect.y)&&(ee.rect.y=0),se!=null&&se.length>0){var ye=void 0;ye=oe.getGraphManager().add(oe.newGraph(),ee),$(ye,se,oe,te)}}},I=function(G,K,oe){for(var te=0,le=0,re=0;re<oe.length;re++){var Q=oe[re],se=L[Q.data("source")],ee=L[Q.data("target")];if(se&&ee&&se!==ee&&se.getEdgesBetween(ee).length==0){var Z=K.add(G.newEdge(),se,ee);Z.id=Q.id(),Z.idealLength=A(_.idealEdgeLength,Q),Z.edgeElasticity=A(_.edgeElasticity,Q),te+=Z.idealLength,le++}}_.idealEdgeLength!=null&&(le>0?v.DEFAULT_EDGE_LENGTH=g.DEFAULT_EDGE_LENGTH=te/le:C(_.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=g.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=g.DEFAULT_EDGE_LENGTH=_.idealEdgeLength,v.MIN_REPULSION_DIST=g.MIN_REPULSION_DIST=g.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=g.DEFAULT_EDGE_LENGTH)},B=function(G,K){K.fixedNodeConstraint&&(G.constraints.fixedNodeConstraint=K.fixedNodeConstraint),K.alignmentConstraint&&(G.constraints.alignmentConstraint=K.alignmentConstraint),K.relativePlacementConstraint&&(G.constraints.relativePlacementConstraint=K.relativePlacementConstraint)};_.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=_.nestingFactor),_.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=g.DEFAULT_GRAVITY_STRENGTH=_.gravity),_.numIter!=null&&(v.MAX_ITERATIONS=g.MAX_ITERATIONS=_.numIter),_.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=g.DEFAULT_GRAVITY_RANGE_FACTOR=_.gravityRange),_.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH=_.gravityCompound),_.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=_.gravityRangeCompound),_.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=g.DEFAULT_COOLING_FACTOR_INCREMENTAL=_.initialEnergyOnIncremental),_.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=_.tilingCompareBy),_.quality=="proof"?m.QUALITY=2:m.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=g.NODE_DIMENSIONS_INCLUDE_LABELS=m.NODE_DIMENSIONS_INCLUDE_LABELS=_.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!_.randomize,v.ANIMATE=g.ANIMATE=m.ANIMATE=_.animate,v.TILE=_.tile,v.TILING_PADDING_VERTICAL=typeof _.tilingPaddingVertical=="function"?_.tilingPaddingVertical.call():_.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof _.tilingPaddingHorizontal=="function"?_.tilingPaddingHorizontal.call():_.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=g.DEFAULT_INCREMENTAL=m.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!_.randomize,m.DEFAULT_UNIFORM_LEAF_NODE_SIZES=_.uniformNodeDimensions,_.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),_.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),_.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),_.step=="all"&&(_.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),_.fixedNodeConstraint||_.alignmentConstraint||_.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var z=new c,W=z.newGraphManager();return k(W.addRoot(),l.getTopMostNodes(D),z,_),I(z,W,T),B(z,_),z.runLayout(),L};a.exports={coseLayout:y}},212:(a,o,s)=>{var l=function(){function _(w,E){for(var S=0;S<E.length;S++){var D=E[S];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,E,S){return E&&_(w.prototype,E),S&&_(w,S),w}}();function c(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}var d=s(658),u=s(548),f=s(657),m=f.spectralLayout,g=s(816),v=g.coseLayout,y=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(w){return 4500},idealEdgeLength:function(w){return 50},edgeElasticity:function(w){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),b=function(){function _(w){c(this,_),this.options=d({},y,w)}return l(_,[{key:"run",value:function(){var E=this,S=this.options,D=S.cy,T=S.eles,O=[],F=void 0,P=void 0,L=[],C=void 0,A=[];S.fixedNodeConstraint&&(!Array.isArray(S.fixedNodeConstraint)||S.fixedNodeConstraint.length==0)&&(S.fixedNodeConstraint=void 0),S.alignmentConstraint&&(S.alignmentConstraint.vertical&&(!Array.isArray(S.alignmentConstraint.vertical)||S.alignmentConstraint.vertical.length==0)&&(S.alignmentConstraint.vertical=void 0),S.alignmentConstraint.horizontal&&(!Array.isArray(S.alignmentConstraint.horizontal)||S.alignmentConstraint.horizontal.length==0)&&(S.alignmentConstraint.horizontal=void 0)),S.relativePlacementConstraint&&(!Array.isArray(S.relativePlacementConstraint)||S.relativePlacementConstraint.length==0)&&(S.relativePlacementConstraint=void 0);var R=S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint;R&&(S.tile=!1,S.packComponents=!1);var k=void 0,I=!1;if(D.layoutUtilities&&S.packComponents&&(k=D.layoutUtilities("get"),k||(k=D.layoutUtilities()),I=!0),T.nodes().length>0)if(I){var W=u.getTopMostNodes(S.eles.nodes());if(C=u.connectComponents(D,S.eles,W),C.forEach(function($e){var xe=$e.boundingBox();A.push({x:xe.x1+xe.w/2,y:xe.y1+xe.h/2})}),S.randomize&&C.forEach(function($e){S.eles=$e,O.push(m(S))}),S.quality=="default"||S.quality=="proof"){var $=D.collection();if(S.tile){var G=new Map,K=[],oe=[],te=0,le={nodeIndexes:G,xCoords:K,yCoords:oe},re=[];if(C.forEach(function($e,xe){$e.edges().length==0&&($e.nodes().forEach(function(Me,Ve){$.merge($e.nodes()[Ve]),Me.isParent()||(le.nodeIndexes.set($e.nodes()[Ve].id(),te++),le.xCoords.push($e.nodes()[0].position().x),le.yCoords.push($e.nodes()[0].position().y))}),re.push(xe))}),$.length>1){var Q=$.boundingBox();A.push({x:Q.x1+Q.w/2,y:Q.y1+Q.h/2}),C.push($),O.push(le);for(var se=re.length-1;se>=0;se--)C.splice(re[se],1),O.splice(re[se],1),A.splice(re[se],1)}}C.forEach(function($e,xe){S.eles=$e,L.push(v(S,O[xe])),u.relocateComponent(A[xe],L[xe],S)})}else C.forEach(function($e,xe){u.relocateComponent(A[xe],O[xe],S)});var ee=new Set;if(C.length>1){var Z=[],ce=T.filter(function($e){return $e.css("display")=="none"});C.forEach(function($e,xe){var Me=void 0;if(S.quality=="draft"&&(Me=O[xe].nodeIndexes),$e.nodes().not(ce).length>0){var Ve={};Ve.edges=[],Ve.nodes=[];var Ke=void 0;$e.nodes().not(ce).forEach(function(Ge){if(S.quality=="draft")if(!Ge.isParent())Ke=Me.get(Ge.id()),Ve.nodes.push({x:O[xe].xCoords[Ke]-Ge.boundingbox().w/2,y:O[xe].yCoords[Ke]-Ge.boundingbox().h/2,width:Ge.boundingbox().w,height:Ge.boundingbox().h});else{var We=u.calcBoundingBox(Ge,O[xe].xCoords,O[xe].yCoords,Me);Ve.nodes.push({x:We.topLeftX,y:We.topLeftY,width:We.width,height:We.height})}else L[xe][Ge.id()]&&Ve.nodes.push({x:L[xe][Ge.id()].getLeft(),y:L[xe][Ge.id()].getTop(),width:L[xe][Ge.id()].getWidth(),height:L[xe][Ge.id()].getHeight()})}),$e.edges().forEach(function(Ge){var We=Ge.source(),it=Ge.target();if(We.css("display")!="none"&&it.css("display")!="none")if(S.quality=="draft"){var ct=Me.get(We.id()),Se=Me.get(it.id()),U=[],de=[];if(We.isParent()){var ve=u.calcBoundingBox(We,O[xe].xCoords,O[xe].yCoords,Me);U.push(ve.topLeftX+ve.width/2),U.push(ve.topLeftY+ve.height/2)}else U.push(O[xe].xCoords[ct]),U.push(O[xe].yCoords[ct]);if(it.isParent()){var Y=u.calcBoundingBox(it,O[xe].xCoords,O[xe].yCoords,Me);de.push(Y.topLeftX+Y.width/2),de.push(Y.topLeftY+Y.height/2)}else de.push(O[xe].xCoords[Se]),de.push(O[xe].yCoords[Se]);Ve.edges.push({startX:U[0],startY:U[1],endX:de[0],endY:de[1]})}else L[xe][We.id()]&&L[xe][it.id()]&&Ve.edges.push({startX:L[xe][We.id()].getCenterX(),startY:L[xe][We.id()].getCenterY(),endX:L[xe][it.id()].getCenterX(),endY:L[xe][it.id()].getCenterY()})}),Ve.nodes.length>0&&(Z.push(Ve),ee.add(xe))}});var ye=k.packComponents(Z,S.randomize).shifts;if(S.quality=="draft")O.forEach(function($e,xe){var Me=$e.xCoords.map(function(Ke){return Ke+ye[xe].dx}),Ve=$e.yCoords.map(function(Ke){return Ke+ye[xe].dy});$e.xCoords=Me,$e.yCoords=Ve});else{var Te=0;ee.forEach(function($e){Object.keys(L[$e]).forEach(function(xe){var Me=L[$e][xe];Me.setCenter(Me.getCenterX()+ye[Te].dx,Me.getCenterY()+ye[Te].dy)}),Te++})}}}else{var B=S.eles.boundingBox();if(A.push({x:B.x1+B.w/2,y:B.y1+B.h/2}),S.randomize){var z=m(S);O.push(z)}S.quality=="default"||S.quality=="proof"?(L.push(v(S,O[0])),u.relocateComponent(A[0],L[0],S)):u.relocateComponent(A[0],O[0],S)}var be=function(xe,Me){if(S.quality=="default"||S.quality=="proof"){typeof xe=="number"&&(xe=Me);var Ve=void 0,Ke=void 0,Ge=xe.data("id");return L.forEach(function(it){Ge in it&&(Ve={x:it[Ge].getRect().getCenterX(),y:it[Ge].getRect().getCenterY()},Ke=it[Ge])}),S.nodeDimensionsIncludeLabels&&(Ke.labelWidth&&(Ke.labelPosHorizontal=="left"?Ve.x+=Ke.labelWidth/2:Ke.labelPosHorizontal=="right"&&(Ve.x-=Ke.labelWidth/2)),Ke.labelHeight&&(Ke.labelPosVertical=="top"?Ve.y+=Ke.labelHeight/2:Ke.labelPosVertical=="bottom"&&(Ve.y-=Ke.labelHeight/2))),Ve==null&&(Ve={x:xe.position("x"),y:xe.position("y")}),{x:Ve.x,y:Ve.y}}else{var We=void 0;return O.forEach(function(it){var ct=it.nodeIndexes.get(xe.id());ct!=null&&(We={x:it.xCoords[ct],y:it.yCoords[ct]})}),We==null&&(We={x:xe.position("x"),y:xe.position("y")}),{x:We.x,y:We.y}}};if(S.quality=="default"||S.quality=="proof"||S.randomize){var at=u.calcParentsWithoutChildren(D,T),wt=T.filter(function($e){return $e.css("display")=="none"});S.eles=T.not(wt),T.nodes().not(":parent").not(wt).layoutPositions(E,S,be),at.length>0&&at.forEach(function($e){$e.position(be($e))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),_}();a.exports=b},657:(a,o,s)=>{var l=s(548),c=s(140).layoutBase.Matrix,d=s(140).layoutBase.SVD,u=function(m){var g=m.cy,v=m.eles,y=v.nodes(),b=v.nodes(":parent"),_=new Map,w=new Map,E=new Map,S=[],D=[],T=[],O=[],F=[],P=[],L=[],C=[],A=void 0,R=void 0,k=1e8,I=1e-9,B=m.piTol,z=m.samplingType,W=m.nodeSeparation,$=void 0,G=function(){for(var me=0,ne=0,pe=!1;ne<$;){me=Math.floor(Math.random()*R),pe=!1;for(var we=0;we<ne;we++)if(O[we]==me){pe=!0;break}if(!pe)O[ne]=me,ne++;else continue}},K=function(me,ne,pe){for(var we=[],ze=0,ke=0,Ce=0,Fe=void 0,Be=[],qe=0,ot=1,Ut=0;Ut<R;Ut++)Be[Ut]=k;for(we[ke]=me,Be[me]=0;ke>=ze;){Ce=we[ze++];for(var st=S[Ce],Ye=0;Ye<st.length;Ye++)Fe=w.get(st[Ye]),Be[Fe]==k&&(Be[Fe]=Be[Ce]+1,we[++ke]=Fe);P[Ce][ne]=Be[Ce]*W}if(pe){for(var mt=0;mt<R;mt++)P[mt][ne]<F[mt]&&(F[mt]=P[mt][ne]);for(var tt=0;tt<R;tt++)F[tt]>qe&&(qe=F[tt],ot=tt)}return ot},oe=function(me){var ne=void 0;if(me){ne=Math.floor(Math.random()*R),A=ne;for(var we=0;we<R;we++)F[we]=k;for(var ze=0;ze<$;ze++)O[ze]=ne,ne=K(ne,ze,me)}else{G();for(var pe=0;pe<$;pe++)K(O[pe],pe,me,!1)}for(var ke=0;ke<R;ke++)for(var Ce=0;Ce<$;Ce++)P[ke][Ce]*=P[ke][Ce];for(var Fe=0;Fe<$;Fe++)L[Fe]=[];for(var Be=0;Be<$;Be++)for(var qe=0;qe<$;qe++)L[Be][qe]=P[O[qe]][Be]},te=function(){for(var me=d.svd(L),ne=me.S,pe=me.U,we=me.V,ze=ne[0]*ne[0]*ne[0],ke=[],Ce=0;Ce<$;Ce++){ke[Ce]=[];for(var Fe=0;Fe<$;Fe++)ke[Ce][Fe]=0,Ce==Fe&&(ke[Ce][Fe]=ne[Ce]/(ne[Ce]*ne[Ce]+ze/(ne[Ce]*ne[Ce])))}C=c.multMat(c.multMat(we,ke),c.transpose(pe))},le=function(){for(var me=void 0,ne=void 0,pe=[],we=[],ze=[],ke=[],Ce=0;Ce<R;Ce++)pe[Ce]=Math.random(),we[Ce]=Math.random();pe=c.normalize(pe),we=c.normalize(we);for(var Fe=0,Be=I,qe=I,ot=void 0;;){Fe++;for(var Ut=0;Ut<R;Ut++)ze[Ut]=pe[Ut];if(pe=c.multGamma(c.multL(c.multGamma(ze),P,C)),me=c.dotProduct(ze,pe),pe=c.normalize(pe),Be=c.dotProduct(ze,pe),ot=Math.abs(Be/qe),ot<=1+B&&ot>=1)break;qe=Be}for(var st=0;st<R;st++)ze[st]=pe[st];for(Fe=0,qe=I;;){Fe++;for(var Ye=0;Ye<R;Ye++)ke[Ye]=we[Ye];if(ke=c.minusOp(ke,c.multCons(ze,c.dotProduct(ze,ke))),we=c.multGamma(c.multL(c.multGamma(ke),P,C)),ne=c.dotProduct(ke,we),we=c.normalize(we),Be=c.dotProduct(ke,we),ot=Math.abs(Be/qe),ot<=1+B&&ot>=1)break;qe=Be}for(var mt=0;mt<R;mt++)ke[mt]=we[mt];D=c.multCons(ze,Math.sqrt(Math.abs(me))),T=c.multCons(ke,Math.sqrt(Math.abs(ne)))};l.connectComponents(g,v,l.getTopMostNodes(y),_),b.forEach(function(X){l.connectComponents(g,v,l.getTopMostNodes(X.descendants().intersection(v)),_)});for(var re=0,Q=0;Q<y.length;Q++)y[Q].isParent()||w.set(y[Q].id(),re++);var se=!0,ee=!1,Z=void 0;try{for(var ce=_.keys()[Symbol.iterator](),ye;!(se=(ye=ce.next()).done);se=!0){var Te=ye.value;w.set(Te,re++)}}catch(X){ee=!0,Z=X}finally{try{!se&&ce.return&&ce.return()}finally{if(ee)throw Z}}for(var be=0;be<w.size;be++)S[be]=[];b.forEach(function(X){for(var me=X.children().intersection(v);me.nodes(":childless").length==0;)me=me.nodes()[0].children().intersection(v);var ne=0,pe=me.nodes(":childless")[0].connectedEdges().length;me.nodes(":childless").forEach(function(we,ze){we.connectedEdges().length<pe&&(pe=we.connectedEdges().length,ne=ze)}),E.set(X.id(),me.nodes(":childless")[ne].id())}),y.forEach(function(X){var me=void 0;X.isParent()?me=w.get(E.get(X.id())):me=w.get(X.id()),X.neighborhood().nodes().forEach(function(ne){v.intersection(X.edgesWith(ne)).length>0&&(ne.isParent()?S[me].push(E.get(ne.id())):S[me].push(ne.id()))})});var at=function(me){var ne=w.get(me),pe=void 0;_.get(me).forEach(function(we){g.getElementById(we).isParent()?pe=E.get(we):pe=we,S[ne].push(pe),S[w.get(pe)].push(me)})},wt=!0,$e=!1,xe=void 0;try{for(var Me=_.keys()[Symbol.iterator](),Ve;!(wt=(Ve=Me.next()).done);wt=!0){var Ke=Ve.value;at(Ke)}}catch(X){$e=!0,xe=X}finally{try{!wt&&Me.return&&Me.return()}finally{if($e)throw xe}}R=w.size;var Ge=void 0;if(R>2){$=R<m.sampleSize?R:m.sampleSize;for(var We=0;We<R;We++)P[We]=[];for(var it=0;it<$;it++)C[it]=[];return m.quality=="draft"||m.step=="all"?(oe(z),te(),le(),Ge={nodeIndexes:w,xCoords:D,yCoords:T}):(w.forEach(function(X,me){D.push(g.getElementById(me).position("x")),T.push(g.getElementById(me).position("y"))}),Ge={nodeIndexes:w,xCoords:D,yCoords:T}),Ge}else{var ct=w.keys(),Se=g.getElementById(ct.next().value),U=Se.position(),de=Se.outerWidth();if(D.push(U.x),T.push(U.y),R==2){var ve=g.getElementById(ct.next().value),Y=ve.outerWidth();D.push(U.x+de/2+Y/2+m.idealEdgeLength),T.push(U.y)}return Ge={nodeIndexes:w,xCoords:D,yCoords:T},Ge}};a.exports={spectralLayout:u}},579:(a,o,s)=>{var l=s(212),c=function(u){u&&u("layout","fcose",l)};typeof cytoscape<"u"&&c(cytoscape),a.exports=c},140:a=>{a.exports=r}},e={};function i(a){var o=e[a];if(o!==void 0)return o.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,i),s.exports}var n=i(579);return n})()})});var j8=j((uKe,W8)=>{"use strict";var Mke=Math.floor,Dke=Math.random;function Tke(r,t){return r+Mke(Dke()*(t-r+1))}W8.exports=Tke});var X8=j((hKe,Y8)=>{"use strict";var Ake=j8(),Rke=Wh(),$8=$0(),Ike=parseFloat,Oke=Math.min,kke=Math.random;function Pke(r,t,e){if(e&&typeof e!="boolean"&&Rke(r,t,e)&&(t=e=void 0),e===void 0&&(typeof t=="boolean"?(e=t,t=void 0):typeof r=="boolean"&&(e=r,r=void 0)),r===void 0&&t===void 0?(r=0,t=1):(r=$8(r),t===void 0?(t=r,r=0):t=$8(t)),r>t){var i=r;r=t,t=i}if(e||r%1||t%1){var n=kke();return Oke(r+n*(t-r+Ike("1e-"+((n+"").length-1))),t)}return Ake(r,t)}Y8.exports=Pke});var Yw=class{};var bu=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let n=e.slice(0,i),a=e.slice(i+1).trim();this.addHeaderEntry(n,a)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":let a=t.value;if(!a)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(s=>a.indexOf(s)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(a=>a.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Xw=class{encodeKey(t){return Lk(t)}encodeValue(t){return Lk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function kte(r,t){let e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{let a=n.indexOf("="),[o,s]=a==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,a)),t.decodeValue(n.slice(a+1))],l=e.get(o)||[];l.push(s),e.set(o,l)}),e}var Pte=/%(\d[a-f0-9])/gi,Lte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lk(r){return encodeURIComponent(r).replace(Pte,(t,e)=>Lte[e]??t)}function Dv(r){return`${r}`}var _l=class r{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Xw,t.fromString){if(t.fromObject)throw new Ar(2805,!1);this.map=kte(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],n=Array.isArray(i)?i.map(Dv):[Dv(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new r({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Dv(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(Dv(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Kw=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Fte(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fk(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Nk(r){return typeof Blob<"u"&&r instanceof Blob}function Bk(r){return typeof FormData<"u"&&r instanceof FormData}function Nte(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var Bte="X-Request-URL",Vk="text/plain",zk="application/json",dVe=`${zk}, ${Vk}, */*`,Lf=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,n){this.url=e,this.method=t.toUpperCase();let a;if(Fte(this.method)||n?(this.body=i!==void 0?i:null,a=n):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params),this.transferCache=a.transferCache),this.headers??=new bu,this.context??=new Kw,!this.params)this.params=new _l,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fk(this.body)||Nk(this.body)||Bk(this.body)||Nte(this.body)?this.body:this.body instanceof _l?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bk(this.body)?null:Nk(this.body)?this.body.type||null:Fk(this.body)?null:typeof this.body=="string"?Vk:this.body instanceof _l?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zk:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,a=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,s=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),d)),new r(e,i,o,{params:d,headers:c,context:u,reportProgress:l,responseType:n,withCredentials:s,transferCache:a})}},qk=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(qk||{}),Zw=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new bu,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Qw=class r extends Zw{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=qk.Response;clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function $w(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var Uk=(()=>{class r{handler;constructor(e){this.handler=e}request(e,i,n={}){let a;if(e instanceof Lf)a=e;else{let l;n.headers instanceof bu?l=n.headers:l=new bu(n.headers);let c;n.params&&(n.params instanceof _l?c=n.params:c=new _l({fromObject:n.params})),a=new Lf(e,i,n.body!==void 0?n.body:null,{headers:l,context:n.context,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let o=Ze(a).pipe(zi(l=>this.handler.handle(l)));if(e instanceof Lf||n.observe==="events")return o;let s=o.pipe(At(l=>l instanceof Qw));switch(n.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return s.pipe(pt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Ar(2806,!1);return l.body}));case"blob":return s.pipe(pt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Ar(2807,!1);return l.body}));case"text":return s.pipe(pt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Ar(2808,!1);return l.body}));case"json":default:return s.pipe(pt(l=>l.body))}case"response":return s;default:throw new Ar(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new _l().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,$w(n,i))}post(e,i,n={}){return this.request("POST",e,$w(n,i))}put(e,i,n={}){return this.request("PUT",e,$w(n,i))}static \u0275fac=function(i){return new(i||r)(Sr(Yw))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})();var uVe=RegExp(`^${Bte}:`,"m");var eC=class extends _k{supportsDOMEvents=!0},tC=class r extends eC{static makeCurrent(){bk(new r)}onAndCancel(t,e,i,n){return t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=qte();return e==null?null:Ute(e)}resetBaseElement(){Ff=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ek(document.cookie,t)}},Ff=null;function qte(){return Ff=Ff||document.querySelector("base"),Ff?Ff.getAttribute("href"):null}function Ute(r){return new URL(r,document.baseURI).pathname}var Hte=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),rC=new je(""),Yk=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n,a){return this._findPluginFor(i).addEventListener(e,i,n,a)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(a=>a.supports(e)),!i)throw new Ar(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||r)(Sr(rC),Sr(_t))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),Av=class{_doc;constructor(t){this._doc=t}manager},Tv="ng-app-id";function Hk(r){for(let t of r)t.remove()}function Gk(r,t){let e=t.createElement("style");return e.textContent=r,e}function Gte(r,t,e,i){let n=r.head?.querySelectorAll(`style[${Tv}="${t}"],link[${Tv}="${t}"]`);if(n)for(let a of n)a.removeAttribute(Tv),a instanceof HTMLLinkElement?i.set(a.href.slice(a.href.lastIndexOf("/")+1),{usage:0,elements:[a]}):a.textContent&&e.set(a.textContent,{usage:0,elements:[a]})}function iC(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var Xk=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,n,a={}){this.doc=e,this.appId=i,this.nonce=n,this.isServer=jw(a),Gte(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let n of e)this.addUsage(n,this.inline,Gk);i?.forEach(n=>this.addUsage(n,this.external,iC))}removeStyles(e,i){for(let n of e)this.removeUsage(n,this.inline);i?.forEach(n=>this.removeUsage(n,this.external))}addUsage(e,i,n){let a=i.get(e);a?a.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,n(e,this.doc)))})}removeUsage(e,i){let n=i.get(e);n&&(n.usage--,n.usage<=0&&(Hk(n.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Hk(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:n}]of this.inline)n.push(this.addElement(e,Gk(i,this.doc)));for(let[i,{elements:n}]of this.external)n.push(this.addElement(e,iC(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Tv,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||r)(Sr(zt),Sr(Rf),Sr(If,8),Sr(Vc))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},oC=/%COMP%/g;var Kk="%COMP%",Wte=`_nghost-${Kk}`,jte=`_ngcontent-${Kk}`,$te=!0,Yte=new je("",{providedIn:"root",factory:()=>$te});function Xte(r){return jte.replace(oC,r)}function Kte(r){return Wte.replace(oC,r)}function Zk(r,t){return t.map(e=>e.replace(oC,r))}var Rv=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,n,a,o,s,l,c=null,d=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=a,this.doc=o,this.platformId=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=jw(s),this.defaultRenderer=new Nf(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Of.ShadowDom&&(i=Bt(Oe({},i),{encapsulation:Of.Emulated}));let n=this.getOrCreateRenderer(e,i);return n instanceof Iv?n.applyToHost(e):n instanceof Bf&&n.applyStyles(),n}getOrCreateRenderer(e,i){let n=this.rendererByCompId,a=n.get(i.id);if(!a){let o=this.doc,s=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case Of.Emulated:a=new Iv(l,c,i,this.appId,d,o,s,u,f);break;case Of.ShadowDom:return new nC(l,c,e,i,o,s,this.nonce,u,f);default:a=new Bf(l,c,i,d,o,s,u,f);break}n.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||r)(Sr(Yk),Sr(Xk),Sr(Rf),Sr(Yte),Sr(zt),Sr(Vc),Sr(_t),Sr(If),Sr(tk,8))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),Nf=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,n,a){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.tracingService=a}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Jw[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Wk(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Wk(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Ar(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;let a=Jw[n];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let n=Jw[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(kf.DashCase|kf.Important)?t.style.setProperty(e,i,n&kf.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&kf.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,n){if(typeof t=="string"&&(t=vu().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let a=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(a=this.tracingService.wrapEventListener(t,e,a)),this.eventManager.addEventListener(t,e,a,n)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Wk(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var nC=class extends Nf{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,n,a,o,s,l,c){super(t,a,o,l,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=n.styles;d=Zk(n.id,d);for(let f of d){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=f,this.shadowRoot.appendChild(m)}let u=n.getExternalStyles?.();if(u)for(let f of u){let m=iC(f,a);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bf=class extends Nf{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,n,a,o,s,l,c){super(t,a,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n;let d=i.styles;this.styles=c?Zk(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Iv=class extends Bf{contentAttr;hostAttr;constructor(t,e,i,n,a,o,s,l,c){let d=n+"-"+i.id;super(t,e,i,a,o,s,l,c,d),this.contentAttr=Xte(d),this.hostAttr=Kte(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},Zte=(()=>{class r extends Av{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n,a){return e.addEventListener(i,n,a),()=>this.removeEventListener(e,i,n,a)}removeEventListener(e,i,n,a){return e.removeEventListener(i,n,a)}static \u0275fac=function(i){return new(i||r)(Sr(zt))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),jk=["alt","control","meta","shift"],Qte={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jte={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},ere=(()=>{class r extends Av{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,i,n,a){let o=r.parseEventName(i),s=r.eventCallback(o.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vu().onAndCancel(e,o.domEventName,s,a))}static parseEventName(e){let i=e.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let a=r._normalizeKey(i.pop()),o="",s=i.indexOf("code");if(s>-1&&(i.splice(s,1),o="code."),jk.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),o+=c+".")}),o+=a,i.length!=0||a.length===0)return null;let l={};return l.domEventName=n,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let n=Qte[e.key]||e.key,a="";return i.indexOf("code.")>-1&&(n=e.code,a="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),jk.forEach(o=>{if(o!==n){let s=Jte[o];s(e)&&(a+=o+".")}}),a+=n,a===i)}static eventCallback(e,i,n){return a=>{r.matchEventFullKeyCode(a,e)&&n.runGuarded(()=>i(a))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||r)(Sr(zt))};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})();function Qk(r,t){return vk(Oe({rootComponent:r},tre(t)))}function tre(r){return{appProviders:[...ore,...r?.providers??[]],platformProviders:are}}function rre(){tC.makeCurrent()}function ire(){return new Fc}function nre(){return JO(document),document}var are=[{provide:Vc,useValue:Tk},{provide:ek,useValue:rre,multi:!0},{provide:zt,useFactory:nre,deps:[]}];var ore=[{provide:YO,useValue:"root"},{provide:Fc,useFactory:ire,deps:[]},{provide:rC,useClass:Zte,multi:!0,deps:[zt]},{provide:rC,useClass:ere,multi:!0,deps:[zt]},Rv,Xk,Yk,{provide:Za,useExisting:Rv},{provide:Ik,useClass:Hte,deps:[]},[]];var Jk=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||r)(Sr(zt))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var sC=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:function(i){let n=null;return i?n=new(i||r):n=Sr(sre),n},providedIn:"root"})}return r})(),sre=(()=>{class r extends sC{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Ea.NONE:return i;case Ea.HTML:return hu(i,"HTML")?uu(i):lk(this._doc,String(i)).toString();case Ea.STYLE:return hu(i,"Style")?uu(i):i;case Ea.SCRIPT:if(hu(i,"Script"))return uu(i);throw new Ar(5200,!1);case Ea.URL:return hu(i,"URL")?uu(i):sk(String(i));case Ea.RESOURCE_URL:if(hu(i,"ResourceURL"))return uu(i);throw new Ar(5201,!1);default:throw new Ar(5202,!1)}}bypassSecurityTrustHtml(e){return rk(e)}bypassSecurityTrustStyle(e){return ik(e)}bypassSecurityTrustScript(e){return nk(e)}bypassSecurityTrustUrl(e){return ak(e)}bypassSecurityTrustResourceUrl(e){return ok(e)}static \u0275fac=function(i){return new(i||r)(Sr(zt))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var lr="primary",Qf=Symbol("RouteTitle"),hC=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Su(r){return new hC(r)}function lre(r,t,e){let i=e.path.split("/");if(i.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<r.length))return null;let n={};for(let a=0;a<i.length;a++){let o=i[a],s=r[a];if(o[0]===":")n[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function cre(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Ko(r[e],t[e]))return!1;return!0}function Ko(r,t){let e=r?fC(r):void 0,i=t?fC(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let a=0;a<e.length;a++)if(n=e[a],!uP(r[n],t[n]))return!1;return!0}function fC(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function uP(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),i=[...t].sort();return e.every((n,a)=>i[a]===n)}else return r===t}function hP(r){return r.length>0?r[r.length-1]:null}function Cl(r){return Sf(r)?r:xv(r)?ri(Promise.resolve(r)):Ze(r)}var dre={exact:mP,subset:pP},fP={exact:ure,subset:hre,ignored:()=>!0};function tP(r,t,e){return dre[e.paths](r.root,t.root,e.matrixParams)&&fP[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function ure(r,t){return Ko(r,t)}function mP(r,t,e){if(!jc(r.segments,t.segments)||!Pv(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!r.children[i]||!mP(r.children[i],t.children[i],e))return!1;return!0}function hre(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>uP(r[e],t[e]))}function pP(r,t,e){return gP(r,t,t.segments,e)}function gP(r,t,e,i){if(r.segments.length>e.length){let n=r.segments.slice(0,e.length);return!(!jc(n,e)||t.hasChildren()||!Pv(n,e,i))}else if(r.segments.length===e.length){if(!jc(r.segments,e)||!Pv(r.segments,e,i))return!1;for(let n in t.children)if(!r.children[n]||!pP(r.children[n],t.children[n],i))return!1;return!0}else{let n=e.slice(0,r.segments.length),a=e.slice(r.segments.length);return!jc(r.segments,n)||!Pv(r.segments,n,i)||!r.children[lr]?!1:gP(r.children[lr],t,a,i)}}function Pv(r,t,e){return t.every((i,n)=>fP[e](r[n].parameters,i.parameters))}var Rs=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ur([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Su(this.queryParams),this._queryParamMap}toString(){return pre.serialize(this)}},Ur=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lv(this)}},Wc=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Su(this.parameters),this._parameterMap}toString(){return yP(this)}};function fre(r,t){return jc(r,t)&&r.every((e,i)=>Ko(e.parameters,t[i].parameters))}function jc(r,t){return r.length!==t.length?!1:r.every((e,i)=>e.path===t[i].path)}function mre(r,t){let e=[];return Object.entries(r.children).forEach(([i,n])=>{i===lr&&(e=e.concat(t(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==lr&&(e=e.concat(t(n,i)))}),e}var Jf=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:()=>new Mu,providedIn:"root"})}return r})(),Mu=class{parse(t){let e=new pC(t);return new Rs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Vf(t.root,!0)}`,i=yre(t.queryParams),n=typeof t.fragment=="string"?`#${gre(t.fragment)}`:"";return`${e}${i}${n}`}},pre=new Mu;function Lv(r){return r.segments.map(t=>yP(t)).join("/")}function Vf(r,t){if(!r.hasChildren())return Lv(r);if(t){let e=r.children[lr]?Vf(r.children[lr],!1):"",i=[];return Object.entries(r.children).forEach(([n,a])=>{n!==lr&&i.push(`${n}:${Vf(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=mre(r,(i,n)=>n===lr?[Vf(r.children[lr],!1)]:[`${n}:${Vf(i,!1)}`]);return Object.keys(r.children).length===1&&r.children[lr]!=null?`${Lv(r)}/${e[0]}`:`${Lv(r)}/(${e.join("//")})`}}function vP(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ov(r){return vP(r).replace(/%3B/gi,";")}function gre(r){return encodeURI(r)}function mC(r){return vP(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fv(r){return decodeURIComponent(r)}function rP(r){return Fv(r.replace(/\+/g,"%20"))}function yP(r){return`${mC(r.path)}${vre(r.parameters)}`}function vre(r){return Object.entries(r).map(([t,e])=>`;${mC(t)}=${mC(e)}`).join("")}function yre(r){let t=Object.entries(r).map(([e,i])=>Array.isArray(i)?i.map(n=>`${Ov(e)}=${Ov(n)}`).join("&"):`${Ov(e)}=${Ov(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var bre=/^[^\/()?;#]+/;function lC(r){let t=r.match(bre);return t?t[0]:""}var _re=/^[^\/()?;=#]+/;function xre(r){let t=r.match(_re);return t?t[0]:""}var wre=/^[^=?&#]+/;function Cre(r){let t=r.match(wre);return t?t[0]:""}var Ere=/^[^&#]+/;function Sre(r){let t=r.match(Ere);return t?t[0]:""}var pC=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ur([],{}):new Ur([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[lr]=new Ur(t,e)),i}parseSegment(){let t=lC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Ar(4009,!1);return this.capture(t),new Wc(Fv(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=xre(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let n=lC(this.remaining);n&&(i=n,this.capture(i))}t[Fv(e)]=Fv(i)}parseQueryParam(t){let e=Cre(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=Sre(this.remaining);o&&(i=o,this.capture(i))}let n=rP(e),a=rP(i);if(t.hasOwnProperty(n)){let o=t[n];Array.isArray(o)||(o=[o],t[n]=o),o.push(a)}else t[n]=a}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=lC(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new Ar(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=lr);let o=this.parseChildren();e[a]=Object.keys(o).length===1?o[lr]:new Ur([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Ar(4011,!1)}};function bP(r){return r.segments.length>0?new Ur([],{[lr]:r}):r}function _P(r){let t={};for(let[i,n]of Object.entries(r.children)){let a=_P(n);if(i===lr&&a.segments.length===0&&a.hasChildren())for(let[o,s]of Object.entries(a.children))t[o]=s;else(a.segments.length>0||a.hasChildren())&&(t[i]=a)}let e=new Ur(r.segments,t);return Mre(e)}function Mre(r){if(r.numberOfChildren===1&&r.children[lr]){let t=r.children[lr];return new Ur(r.segments.concat(t.segments),t.children)}return r}function $c(r){return r instanceof Rs}function Dre(r,t,e=null,i=null){let n=xP(r);return wP(n,t,e,i)}function xP(r){let t;function e(a){let o={};for(let l of a.children){let c=e(l);o[l.outlet]=c}let s=new Ur(a.url,o);return a===r&&(t=s),s}let i=e(r.root),n=bP(i);return t??n}function wP(r,t,e,i){let n=r;for(;n.parent;)n=n.parent;if(t.length===0)return cC(n,n,n,e,i);let a=Tre(t);if(a.toRoot())return cC(n,n,new Ur([],{}),e,i);let o=Are(a,n,r),s=o.processChildren?qf(o.segmentGroup,o.index,a.commands):EP(o.segmentGroup,o.index,a.commands);return cC(n,o.segmentGroup,s,e,i)}function Nv(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function Gf(r){return typeof r=="object"&&r!=null&&r.outlets}function cC(r,t,e,i,n){let a={};i&&Object.entries(i).forEach(([l,c])=>{a[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;r===t?o=e:o=CP(r,t,e);let s=bP(_P(o));return new Rs(s,a,n)}function CP(r,t,e){let i={};return Object.entries(r.children).forEach(([n,a])=>{a===t?i[n]=e:i[n]=CP(a,t,e)}),new Ur(r.segments,i)}var Bv=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Nv(i[0]))throw new Ar(4003,!1);let n=i.find(Gf);if(n&&n!==hP(i))throw new Ar(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Tre(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Bv(!0,0,r);let t=0,e=!1,i=r.reduce((n,a,o)=>{if(typeof a=="object"&&a!=null){if(a.outlets){let s={};return Object.entries(a.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:s}]}if(a.segmentPath)return[...n,a.segmentPath]}return typeof a!="string"?[...n,a]:o===0?(a.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&n.push(s))}),n):[...n,a]},[]);return new Bv(e,t,i)}var wu=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function Are(r,t,e){if(r.isAbsolute)return new wu(t,!0,0);if(!e)return new wu(t,!1,NaN);if(e.parent===null)return new wu(e,!0,0);let i=Nv(r.commands[0])?0:1,n=e.segments.length-1+i;return Rre(e,n,r.numberOfDoubleDots)}function Rre(r,t,e){let i=r,n=t,a=e;for(;a>n;){if(a-=n,i=i.parent,!i)throw new Ar(4005,!1);n=i.segments.length}return new wu(i,!1,n-a)}function Ire(r){return Gf(r[0])?r[0].outlets:{[lr]:r}}function EP(r,t,e){if(r??=new Ur([],{}),r.segments.length===0&&r.hasChildren())return qf(r,t,e);let i=Ore(r,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){let a=new Ur(r.segments.slice(0,i.pathIndex),{});return a.children[lr]=new Ur(r.segments.slice(i.pathIndex),r.children),qf(a,0,n)}else return i.match&&n.length===0?new Ur(r.segments,{}):i.match&&!r.hasChildren()?gC(r,t,e):i.match?qf(r,0,n):gC(r,t,e)}function qf(r,t,e){if(e.length===0)return new Ur(r.segments,{});{let i=Ire(e),n={};if(Object.keys(i).some(a=>a!==lr)&&r.children[lr]&&r.numberOfChildren===1&&r.children[lr].segments.length===0){let a=qf(r.children[lr],t,e);return new Ur(r.segments,a.children)}return Object.entries(i).forEach(([a,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[a]=EP(r.children[a],t,o))}),Object.entries(r.children).forEach(([a,o])=>{i[a]===void 0&&(n[a]=o)}),new Ur(r.segments,n)}}function Ore(r,t,e){let i=0,n=t,a={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=e.length)return a;let o=r.segments[n],s=e[i];if(Gf(s))break;let l=`${s}`,c=i<e.length-1?e[i+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!nP(l,c,o))return a;i+=2}else{if(!nP(l,{},o))return a;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function gC(r,t,e){let i=r.segments.slice(0,t),n=0;for(;n<e.length;){let a=e[n];if(Gf(a)){let l=kre(a.outlets);return new Ur(i,l)}if(n===0&&Nv(e[0])){let l=r.segments[t];i.push(new Wc(l.path,iP(e[0]))),n++;continue}let o=Gf(a)?a.outlets[lr]:`${a}`,s=n<e.length-1?e[n+1]:null;o&&s&&Nv(s)?(i.push(new Wc(o,iP(s))),n+=2):(i.push(new Wc(o,{})),n++)}return new Ur(i,{})}function kre(r){let t={};return Object.entries(r).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=gC(new Ur([],{}),0,i))}),t}function iP(r){let t={};return Object.entries(r).forEach(([e,i])=>t[e]=`${i}`),t}function nP(r,t,e){return r==e.path&&Ko(t,e.parameters)}var Uf="imperative",gn=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(gn||{}),ro=class{id;url;constructor(t,e){this.id=t,this.url=e}},Du=class extends ro{type=gn.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mo=class extends ro{urlAfterRedirects;type=gn.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ra=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Ra||{}),Vv=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Vv||{}),As=class extends ro{reason;code;type=gn.NavigationCancel;constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xl=class extends ro{reason;code;type=gn.NavigationSkipped;constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n}},Wf=class extends ro{error;target;type=gn.NavigationError;constructor(t,e,i,n){super(t,e),this.error=i,this.target=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zv=class extends ro{urlAfterRedirects;state;type=gn.RoutesRecognized;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vC=class extends ro{urlAfterRedirects;state;type=gn.GuardsCheckStart;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yC=class extends ro{urlAfterRedirects;state;shouldActivate;type=gn.GuardsCheckEnd;constructor(t,e,i,n,a){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bC=class extends ro{urlAfterRedirects;state;type=gn.ResolveStart;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_C=class extends ro{urlAfterRedirects;state;type=gn.ResolveEnd;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xC=class{route;type=gn.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wC=class{route;type=gn.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CC=class{snapshot;type=gn.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},EC=class{snapshot;type=gn.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SC=class{snapshot;type=gn.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},MC=class{snapshot;type=gn.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qv=class{routerEvent;position;anchor;type=gn.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},jf=class{},Tu=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function Pre(r,t){return r.providers&&!r._injector&&(r._injector=Uw(r.providers,t,`Route: ${r.path}`)),r._injector??t}function So(r){return r.outlet||lr}function Lre(r,t){let e=r.filter(i=>So(i)===t);return e.push(...r.filter(i=>So(i)!==t)),e}function em(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var DC=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return em(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new tm(this.rootInjector)}},tm=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new DC(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||r)(Sr(Ka))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Uv=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=TC(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=TC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=AC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return AC(t,this._root).map(e=>e.value)}};function TC(r,t){if(r===t.value)return t;for(let e of t.children){let i=TC(r,e);if(i)return i}return null}function AC(r,t){if(r===t.value)return[t];for(let e of t.children){let i=AC(r,e);if(i.length)return i.unshift(t),i}return[]}var Aa=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function xu(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var Hv=class extends Uv{snapshot;constructor(t,e){super(t),this.snapshot=e,BC(this,t)}toString(){return this.snapshot.toString()}};function SP(r){let t=Fre(r),e=new ir([new Wc("",{})]),i=new ir({}),n=new ir({}),a=new ir({}),o=new ir(""),s=new wl(e,i,a,o,n,lr,r,t.root);return s.snapshot=t.root,new Hv(new Aa(s,[]),t)}function Fre(r){let t={},e={},i={},n="",a=new Cu([],t,i,n,e,lr,r,null,{});return new Wv("",new Aa(a,[]))}var wl=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,n,a,o,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=a,this.outlet=o,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(pt(c=>c[Qf]))??Ze(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(t=>Su(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(t=>Su(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gv(r,t,e="emptyOnly"){let i,{routeConfig:n}=r;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:Oe(Oe({},t.params),r.params),data:Oe(Oe({},t.data),r.data),resolve:Oe(Oe(Oe(Oe({},r.data),t.data),n?.data),r._resolvedData)}:i={params:Oe({},r.params),data:Oe({},r.data),resolve:Oe(Oe({},r.data),r._resolvedData??{})},n&&DP(n)&&(i.resolve[Qf]=n.title),i}var Cu=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Qf]}constructor(t,e,i,n,a,o,s,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Su(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Su(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Wv=class extends Uv{url;constructor(t,e){super(e),this.url=t,BC(this,e)}toString(){return MP(this._root)}};function BC(r,t){t.value._routerState=r,t.children.forEach(e=>BC(r,e))}function MP(r){let t=r.children.length>0?` { ${r.children.map(MP).join(", ")} } `:"";return`${r.value}${t}`}function dC(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Ko(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Ko(t.params,e.params)||r.paramsSubject.next(e.params),cre(t.url,e.url)||r.urlSubject.next(e.url),Ko(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function RC(r,t){let e=Ko(r.params,t.params)&&fre(r.url,t.url),i=!r.parent!=!t.parent;return e&&!i&&(!r.parent||RC(r.parent,t.parent))}function DP(r){return typeof r.title=="string"||r.title===null}var Nre=new je(""),VC=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=lr;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=si(void 0);parentContexts=V(tm);location=V(Kn);changeDetector=V(Kr);inputBinder=V(Xv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ar(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ar(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ar(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Ar(4013,!1);this._activatedRoute=e;let n=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new IC(e,s,n.injector,this.routerOutletData);this.activated=n.createComponent(o,{index:n.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ii]})}return r})(),IC=class r{route;childContexts;parent;outletData;__ngOutletInjector(t){return new r(this.route,this.childContexts,t,this.outletData)}constructor(t,e,i,n){this.route=t,this.childContexts=e,this.parent=i,this.outletData=n}get(t,e){return t===wl?this.route:t===tm?this.childContexts:t===Nre?this.outletData:this.parent.get(t,e)}},Xv=new je(""),aP=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,n=ou([i.queryParams,i.params,i.data]).pipe(nr(([a,o,s],l)=>(s=Oe(Oe(Oe({},a),o),s),l===0?Ze(s):Promise.resolve(s)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let o=yk(i.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of o.inputs)e.activatedComponentRef.setInput(s,a[s])});this.outletDataSubscriptions.set(e,n)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})();function Bre(r,t,e){let i=$f(r,t._root,e?e._root:void 0);return new Hv(i,t)}function $f(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let n=Vre(r,t,e);return new Aa(i,n)}else{if(r.shouldAttach(t.value)){let a=r.retrieve(t.value);if(a!==null){let o=a.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(s=>$f(r,s)),o}}let i=zre(t.value),n=t.children.map(a=>$f(r,a));return new Aa(i,n)}}function Vre(r,t,e){return t.children.map(i=>{for(let n of e.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return $f(r,i,n);return $f(r,i)})}function zre(r){return new wl(new ir(r.url),new ir(r.params),new ir(r.queryParams),new ir(r.fragment),new ir(r.data),r.outlet,r.component,r)}var Yf=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},TP="ngNavigationCancelingError";function jv(r,t){let{redirectTo:e,navigationBehaviorOptions:i}=$c(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=AP(!1,Ra.Redirect);return n.url=e,n.navigationBehaviorOptions=i,n}function AP(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[TP]=!0,e.cancellationCode=t,e}function qre(r){return RP(r)&&$c(r.url)}function RP(r){return!!r&&r[TP]}var Ure=(r,t,e,i)=>pt(n=>(new OC(t,n.targetRouterState,n.currentRouterState,e,i).activate(r),n)),OC=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,n,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=a}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),dC(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let n=xu(e);t.children.forEach(a=>{let o=a.value.outlet;this.deactivateRoutes(a,n[o],i),delete n[o]}),Object.values(n).forEach(a=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){let n=t.value,a=e?e.value:null;if(n===a)if(n.component){let o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,a=xu(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);if(i&&i.outlet){let o=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,a=xu(t);for(let o of Object.values(a))this.deactivateRouteAndItsChildren(o,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let n=xu(e);t.children.forEach(a=>{this.activateRoutes(a,n[a.value.outlet],i),this.forwardEvent(new MC(a.value.snapshot))}),t.children.length&&this.forwardEvent(new EC(t.value.snapshot))}activateRoutes(t,e,i){let n=t.value,a=e?e.value:null;if(dC(n),n===a)if(n.component){let o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(n.component){let o=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let s=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),dC(s.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=n,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},$v=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Eu=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Hre(r,t,e){let i=r._root,n=t?t._root:null;return zf(i,n,e,[i.value])}function Gre(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Iu(r,t){let e=Symbol(),i=t.get(r,e);return i===e?typeof r=="function"&&!$O(r)?r:t.get(r):i}function zf(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=xu(t);return r.children.forEach(o=>{Wre(o,a[o.value.outlet],e,i.concat([o.value]),n),delete a[o.value.outlet]}),Object.entries(a).forEach(([o,s])=>Hf(s,e.getContext(o),n)),n}function Wre(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let a=r.value,o=t?t.value:null,s=e?e.getContext(r.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){let l=jre(o,a,a.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new $v(i)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?zf(r,t,s?s.children:null,i,n):zf(r,t,e,i,n),l&&s&&s.outlet&&s.outlet.isActivated&&n.canDeactivateChecks.push(new Eu(s.outlet.component,o))}else o&&Hf(t,s,n),n.canActivateChecks.push(new $v(i)),a.component?zf(r,null,s?s.children:null,i,n):zf(r,null,e,i,n);return n}function jre(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!jc(r.url,t.url);case"pathParamsOrQueryParamsChange":return!jc(r.url,t.url)||!Ko(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RC(r,t)||!Ko(r.queryParams,t.queryParams);case"paramsChange":default:return!RC(r,t)}}function Hf(r,t,e){let i=xu(r),n=r.value;Object.entries(i).forEach(([a,o])=>{n.component?t?Hf(o,t.children.getContext(a),e):Hf(o,null,e):Hf(o,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Eu(t.outlet.component,n)):e.canDeactivateChecks.push(new Eu(null,n)):e.canDeactivateChecks.push(new Eu(null,n))}function rm(r){return typeof r=="function"}function $re(r){return typeof r=="boolean"}function Yre(r){return r&&rm(r.canLoad)}function Xre(r){return r&&rm(r.canActivate)}function Kre(r){return r&&rm(r.canActivateChild)}function Zre(r){return r&&rm(r.canDeactivate)}function Qre(r){return r&&rm(r.canMatch)}function IP(r){return r instanceof HO||r?.name==="EmptyError"}var kv=Symbol("INITIAL_VALUE");function Au(){return nr(r=>ou(r.map(t=>t.pipe(oi(1),dr(kv)))).pipe(pt(t=>{for(let e of t)if(e!==!0){if(e===kv)return kv;if(e===!1||Jre(e))return e}return!0}),At(t=>t!==kv),oi(1)))}function Jre(r){return $c(r)||r instanceof Yf}function eie(r,t){return Ca(e=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:a,canDeactivateChecks:o}}=e;return o.length===0&&a.length===0?Ze(Bt(Oe({},e),{guardsResult:!0})):tie(o,i,n,r).pipe(Ca(s=>s&&$re(s)?rie(i,a,r,t):Ze(s)),pt(s=>Bt(Oe({},e),{guardsResult:s})))})}function tie(r,t,e,i){return ri(r).pipe(Ca(n=>sie(n.component,n.route,e,t,i)),yl(n=>n!==!0,!0))}function rie(r,t,e,i){return ri(t).pipe(zi(n=>pv(nie(n.route.parent,i),iie(n.route,i),oie(r,n.path,e),aie(r,n.route,e))),yl(n=>n!==!0,!0))}function iie(r,t){return r!==null&&t&&t(new SC(r)),Ze(!0)}function nie(r,t){return r!==null&&t&&t(new CC(r)),Ze(!0)}function aie(r,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return Ze(!0);let n=i.map(a=>Pc(()=>{let o=em(t)??e,s=Iu(a,o),l=Xre(s)?s.canActivate(t,r):wo(o,()=>s(t,r));return Cl(l).pipe(yl())}));return Ze(n).pipe(Au())}function oie(r,t,e){let i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(o=>Gre(o)).filter(o=>o!==null).map(o=>Pc(()=>{let s=o.guards.map(l=>{let c=em(o.node)??e,d=Iu(l,c),u=Kre(d)?d.canActivateChild(i,r):wo(c,()=>d(i,r));return Cl(u).pipe(yl())});return Ze(s).pipe(Au())}));return Ze(a).pipe(Au())}function sie(r,t,e,i,n){let a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||a.length===0)return Ze(!0);let o=a.map(s=>{let l=em(t)??n,c=Iu(s,l),d=Zre(c)?c.canDeactivate(r,t,e,i):wo(l,()=>c(r,t,e,i));return Cl(d).pipe(yl())});return Ze(o).pipe(Au())}function lie(r,t,e,i){let n=t.canLoad;if(n===void 0||n.length===0)return Ze(!0);let a=n.map(o=>{let s=Iu(o,r),l=Yre(s)?s.canLoad(t,e):wo(r,()=>s(t,e));return Cl(l)});return Ze(a).pipe(Au(),OP(i))}function OP(r){return UO(Et(t=>{if(typeof t!="boolean")throw jv(r,t)}),pt(t=>t===!0))}function cie(r,t,e,i){let n=t.canMatch;if(!n||n.length===0)return Ze(!0);let a=n.map(o=>{let s=Iu(o,r),l=Qre(s)?s.canMatch(t,e):wo(r,()=>s(t,e));return Cl(l)});return Ze(a).pipe(Au(),OP(i))}var Xf=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Kf=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function _u(r){return kc(new Xf(r))}function die(r){return kc(new Ar(4e3,!1))}function uie(r){return kc(AP(!1,Ra.GuardRejected))}var kC=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return Ze(i);if(n.numberOfChildren>1||!n.children[lr])return die(`${t.redirectTo}`);n=n.children[lr]}}applyRedirectCommands(t,e,i,n,a){if(typeof e!="string"){let s=e,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,params:m,data:g,title:v}=n,y=wo(a,()=>s({params:m,data:g,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:f,title:v}));if(y instanceof Rs)throw new Kf(y);e=y}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Kf(o);return o}applyRedirectCreateUrlTree(t,e,i,n){let a=this.createSegmentGroup(t,e.root,i,n);return new Rs(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([n,a])=>{if(typeof a=="string"&&a[0]===":"){let s=a.substring(1);i[n]=e[s]}else i[n]=a}),i}createSegmentGroup(t,e,i,n){let a=this.createSegments(t,e.segments,i,n),o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=this.createSegmentGroup(t,l,i,n)}),new Ur(a,o)}createSegments(t,e,i,n){return e.map(a=>a.path[0]===":"?this.findPosParam(t,a,n):this.findOrReturn(a,i))}findPosParam(t,e,i){let n=i[e.path.substring(1)];if(!n)throw new Ar(4001,!1);return n}findOrReturn(t,e){let i=0;for(let n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}},PC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hie(r,t,e,i,n){let a=kP(r,t,e);return a.matched?(i=Pre(t,i),cie(i,t,e,n).pipe(pt(o=>o===!0?a:Oe({},PC)))):Ze(a)}function kP(r,t,e){if(t.path==="**")return fie(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?Oe({},PC):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||lre)(e,r,t);if(!n)return Oe({},PC);let a={};Object.entries(n.posParams??{}).forEach(([s,l])=>{a[s]=l.path});let o=n.consumed.length>0?Oe(Oe({},a),n.consumed[n.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function fie(r){return{matched:!0,parameters:r.length>0?hP(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function oP(r,t,e,i){return e.length>0&&gie(r,e,i)?{segmentGroup:new Ur(t,pie(i,new Ur(e,r.children))),slicedSegments:[]}:e.length===0&&vie(r,e,i)?{segmentGroup:new Ur(r.segments,mie(r,e,i,r.children)),slicedSegments:e}:{segmentGroup:new Ur(r.segments,r.children),slicedSegments:e}}function mie(r,t,e,i){let n={};for(let a of e)if(Kv(r,t,a)&&!i[So(a)]){let o=new Ur([],{});n[So(a)]=o}return Oe(Oe({},i),n)}function pie(r,t){let e={};e[lr]=t;for(let i of r)if(i.path===""&&So(i)!==lr){let n=new Ur([],{});e[So(i)]=n}return e}function gie(r,t,e){return e.some(i=>Kv(r,t,i)&&So(i)!==lr)}function vie(r,t,e){return e.some(i=>Kv(r,t,i))}function Kv(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function yie(r,t,e){return t.length===0&&!r.children[e]}var LC=class{};function bie(r,t,e,i,n,a,o="emptyOnly"){return new FC(r,t,e,i,n,o,a).recognize()}var _ie=31,FC=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,n,a,o,s){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=a,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new kC(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ar(4002,`'${t.segmentGroup}'`)}recognize(){let t=oP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(pt(({children:e,rootSnapshot:i})=>{let n=new Aa(i,e),a=new Wv("",n),o=Dre(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(o),{state:a,tree:o}}))}match(t){let e=new Cu([],Object.freeze({}),Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),lr,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,lr,e).pipe(pt(i=>({children:i,rootSnapshot:e})),vl(i=>{if(i instanceof Kf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Xf?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,n,a){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,a):this.processSegment(t,e,i,i.segments,n,!0,a).pipe(pt(o=>o instanceof Aa?[o]:[]))}processChildren(t,e,i,n){let a=[];for(let o of Object.keys(i.children))o==="primary"?a.unshift(o):a.push(o);return ri(a).pipe(zi(o=>{let s=i.children[o],l=Lre(e,o);return this.processSegmentGroup(t,l,s,o,n)}),WO((o,s)=>(o.push(...s),o)),Pw(null),GO(),Ca(o=>{if(o===null)return _u(i);let s=PP(o);return xie(s),Ze(s)}))}processSegment(t,e,i,n,a,o,s){return ri(e).pipe(zi(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,n,a,o,s).pipe(vl(c=>{if(c instanceof Xf)return Ze(null);throw c}))),yl(l=>!!l),vl(l=>{if(IP(l))return yie(i,n,a)?Ze(new LC):_u(i);throw l}))}processSegmentAgainstRoute(t,e,i,n,a,o,s,l){return So(i)!==o&&(o===lr||!Kv(n,a,i))?_u(n):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,a,o,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,a,o,l):_u(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,a,o,s){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:f}=kP(e,n,a);if(!l)return _u(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_ie&&(this.allowRedirects=!1));let m=new Cu(a,c,Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,sP(n),So(n),n.component??n._loadedComponent??null,n,lP(n)),g=Gv(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(g.params),m.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(d,n.redirectTo,u,m,t);return this.applyRedirects.lineralizeSegments(n,v).pipe(Ca(y=>this.processSegment(t,i,e,y.concat(f),o,!1,s)))}matchSegmentAgainstRoute(t,e,i,n,a,o){let s=hie(e,i,n,t,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(nr(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(nr(({routes:c})=>{let d=i._loadedInjector??t,{parameters:u,consumedSegments:f,remainingSegments:m}=l,g=new Cu(f,u,Object.freeze(Oe({},this.urlTree.queryParams)),this.urlTree.fragment,sP(i),So(i),i.component??i._loadedComponent??null,i,lP(i)),v=Gv(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:b}=oP(e,f,m,c);if(b.length===0&&y.hasChildren())return this.processChildren(d,c,y,g).pipe(pt(w=>new Aa(g,w)));if(c.length===0&&b.length===0)return Ze(new Aa(g,[]));let _=So(i)===a;return this.processSegment(d,c,y,b,_?lr:a,!0,g).pipe(pt(w=>new Aa(g,w instanceof Aa?[w]:[])))}))):_u(e)))}getChildConfig(t,e,i){return e.children?Ze({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Ze({routes:e._loadedRoutes,injector:e._loadedInjector}):lie(t,e,i,this.urlSerializer).pipe(Ca(n=>n?this.configLoader.loadChildren(t,e).pipe(Et(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):uie(e))):Ze({routes:[],injector:t})}};function xie(r){r.sort((t,e)=>t.value.outlet===lr?-1:e.value.outlet===lr?1:t.value.outlet.localeCompare(e.value.outlet))}function wie(r){let t=r.value.routeConfig;return t&&t.path===""}function PP(r){let t=[],e=new Set;for(let i of r){if(!wie(i)){t.push(i);continue}let n=t.find(a=>i.value.routeConfig===a.value.routeConfig);n!==void 0?(n.children.push(...i.children),e.add(n)):t.push(i)}for(let i of e){let n=PP(i.children);t.push(new Aa(i.value,n))}return t.filter(i=>!e.has(i))}function sP(r){return r.data||{}}function lP(r){return r.resolve||{}}function Cie(r,t,e,i,n,a){return Ca(o=>bie(r,t,e,i,o.extractedUrl,n,a).pipe(pt(({state:s,tree:l})=>Bt(Oe({},o),{targetSnapshot:s,urlAfterRedirects:l}))))}function Eie(r,t){return Ca(e=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return Ze(e);let a=new Set(n.map(l=>l.route)),o=new Set;for(let l of a)if(!o.has(l))for(let c of LP(l))o.add(c);let s=0;return ri(o).pipe(zi(l=>a.has(l)?Sie(l,i,r,t):(l.data=Gv(l,l.parent,r).resolve,Ze(void 0))),Et(()=>s++),Fw(1),Ca(l=>s===o.size?Ze(e):xo))})}function LP(r){let t=r.children.map(e=>LP(e)).flat();return[r,...t]}function Sie(r,t,e,i){let n=r.routeConfig,a=r._resolve;return n?.title!==void 0&&!DP(n)&&(a[Qf]=n.title),Mie(a,r,t,i).pipe(pt(o=>(r._resolvedData=o,r.data=Gv(r,r.parent,e).resolve,null)))}function Mie(r,t,e,i){let n=fC(r);if(n.length===0)return Ze({});let a={};return ri(n).pipe(Ca(o=>Die(r[o],t,e,i).pipe(yl(),Et(s=>{if(s instanceof Yf)throw jv(new Mu,s);a[o]=s}))),Fw(1),pt(()=>a),vl(o=>IP(o)?xo:kc(o)))}function Die(r,t,e,i){let n=em(t)??i,a=Iu(r,n),o=a.resolve?a.resolve(t,e):wo(n,()=>a(t,e));return Cl(o)}function uC(r){return nr(t=>{let e=r(t);return e?ri(e).pipe(pt(()=>t)):Ze(t)})}var FP=(()=>{class r{buildTitle(e){let i,n=e.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(a=>a.outlet===lr);return i}getResolvedTitleForRoute(e){return e.data[Qf]}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:()=>V(Tie),providedIn:"root"})}return r})(),Tie=(()=>{class r extends FP{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||r)(Sr(Jk))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),im=new je("",{providedIn:"root",factory:()=>({})}),Aie=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,n){i&1&&Pe(0,"router-outlet")},dependencies:[VC],encapsulation:2})}return r})();function zC(r){let t=r.children&&r.children.map(zC),e=t?Bt(Oe({},r),{children:t}):Oe({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==lr&&(e.component=Aie),e}var Zf=new je(""),qC=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(Ev);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ze(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Cl(e.loadComponent()).pipe(pt(NP),Et(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),Lc(()=>{this.componentLoaders.delete(e)})),n=new mv(i,()=>new Ue).pipe(Iw());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ze({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=Rie(i,this.compiler,e,this.onLoadEndListener).pipe(Lc(()=>{this.childrenLoaders.delete(i)})),o=new mv(a,()=>new Ue).pipe(Iw());return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Rie(r,t,e,i){return Cl(r.loadChildren()).pipe(pt(NP),Ca(n=>n instanceof hk||Array.isArray(n)?Ze(n):ri(t.compileModuleAsync(n))),pt(n=>{i&&i(r);let a,o,s=!1;return Array.isArray(n)?(o=n,s=!0):(a=n.create(e).injector,o=a.get(Zf,[],{optional:!0,self:!0}).flat()),{routes:o.map(zC),injector:a}}))}function Iie(r){return r&&typeof r=="object"&&"default"in r}function NP(r){return Iie(r)?r.default:r}var UC=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:()=>V(Oie),providedIn:"root"})}return r})(),Oie=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),BP=new je(""),VP=new je("");function kie(r,t,e){let i=r.get(VP),n=r.get(zt);return r.get(_t).runOutsideAngular(()=>{if(!n.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let a,o=new Promise(c=>{a=c}),s=n.startViewTransition(()=>(a(),Pie(r))),{onViewTransitionCreated:l}=i;return l&&wo(r,()=>l({transition:s,from:t,to:e})),o})}function Pie(r){return new Promise(t=>{Ln({read:()=>setTimeout(t)},{injector:r})})}var zP=new je(""),HC=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortSubject=new Ue;configLoader=V(qC);environmentInjector=V(Ka);destroyRef=V(KO);urlSerializer=V(Jf);rootContexts=V(tm);location=V(Hc);inputBindingEnabled=V(Xv,{optional:!0})!==null;titleStrategy=V(FP);options=V(im,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(UC);createViewTransition=V(BP,{optional:!0});navigationErrorHandler=V(zP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ze(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=n=>this.events.next(new xC(n)),i=n=>this.events.next(new wC(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(Bt(Oe(Oe({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,n){return this.transitions=new ir({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uf,restoredState:null,currentSnapshot:n.snapshot,targetSnapshot:null,currentRouterState:n,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(a=>a.id!==0),pt(a=>Bt(Oe({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),nr(a=>{let o=!1,s=!1;return Ze(a).pipe(nr(l=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Ra.SupersededByNewNavigation),xo;this.currentTransition=a,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Bt(Oe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new xl(l.id,this.urlSerializer.serialize(l.rawUrl),u,Vv.IgnoredSameUrlNavigation)),l.resolve(!1),xo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ze(l).pipe(nr(u=>{let f=this.transitions?.getValue();return this.events.next(new Du(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?xo:Promise.resolve(u)}),Cie(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(u=>{a.targetSnapshot=u.targetSnapshot,a.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Bt(Oe({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let f=new zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:f,source:m,restoredState:g,extras:v}=l,y=new Du(u,this.urlSerializer.serialize(f),m,g);this.events.next(y);let b=SP(this.rootComponentType).snapshot;return this.currentTransition=a=Bt(Oe({},l),{targetSnapshot:b,urlAfterRedirects:f,extras:Bt(Oe({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Ze(a)}else{let u="";return this.events.next(new xl(l.id,this.urlSerializer.serialize(l.extractedUrl),u,Vv.IgnoredByUrlHandlingStrategy)),l.resolve(!1),xo}}),Et(l=>{let c=new vC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),pt(l=>(this.currentTransition=a=Bt(Oe({},l),{guards:Hre(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),a)),eie(this.environmentInjector,l=>this.events.next(l)),Et(l=>{if(a.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw jv(this.urlSerializer,l.guardsResult);let c=new yC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),At(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ra.GuardRejected),!1)),uC(l=>{if(l.guards.canActivateChecks.length)return Ze(l).pipe(Et(c=>{let d=new bC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),nr(c=>{let d=!1;return Ze(c).pipe(Eie(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ra.NoDataFromResolver)}}))}),Et(c=>{let d=new _C(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),uC(l=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Et(f=>{d.component=f}),pt(()=>{})));for(let f of d.children)u.push(...c(f));return u};return ou(c(l.targetSnapshot.root)).pipe(Pw(null),oi(1))}),uC(()=>this.afterPreactivation()),nr(()=>{let{currentSnapshot:l,targetSnapshot:c}=a,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?ri(d).pipe(pt(()=>a)):Ze(a)}),pt(l=>{let c=Bre(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=a=Bt(Oe({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,a}),Et(()=>{this.events.next(new jf)}),Ure(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),oi(1),Et({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),hr(this.transitionAbortSubject.pipe(Et(l=>{throw l}))),Lc(()=>{!o&&!s&&this.cancelNavigationTransition(a,"",Ra.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),vl(l=>{if(this.destroyed)return a.resolve(!1),xo;if(s=!0,RP(l))this.events.next(new As(a.id,this.urlSerializer.serialize(a.extractedUrl),l.message,l.cancellationCode)),qre(l)?this.events.next(new Tu(l.url,l.navigationBehaviorOptions)):a.resolve(!1);else{let c=new Wf(a.id,this.urlSerializer.serialize(a.extractedUrl),l,a.targetSnapshot??void 0);try{let d=wo(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof Yf){let{message:u,cancellationCode:f}=jv(this.urlSerializer,d);this.events.next(new As(a.id,this.urlSerializer.serialize(a.extractedUrl),u,f)),this.events.next(new Tu(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(d)}}return xo}))}))}cancelNavigationTransition(e,i,n){let a=new As(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Lie(r){return r!==Uf}var Fie=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:()=>V(Nie),providedIn:"root"})}return r})(),NC=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Nie=(()=>{class r extends NC{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),qP=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:()=>V(Bie),providedIn:"root"})}return r})(),Bie=(()=>{class r extends qP{location=V(Hc);urlSerializer=V(Jf);options=V(im,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=V(UC);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=SP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Du)this.stateMemento=this.createStateMemento();else if(e instanceof xl)this.rawUrlTree=i.initialUrl;else if(e instanceof zv){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let n=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??n,i)}}else e instanceof jf?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof As&&(e.code===Ra.GuardRejected||e.code===Ra.NoDataFromResolver)?this.restoreHistory(i):e instanceof Wf?this.restoreHistory(i,!0):e instanceof Mo&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let n=e instanceof Rs?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(n)||i.extras.replaceUrl){let a=this.browserPageId,o=Oe(Oe({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(n,"",o)}else{let a=Oe(Oe({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,a=this.currentPageId-n;a!==0?this.location.historyGo(a):this.currentUrlTree===e.finalUrl&&a===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function UP(r,t){r.events.pipe(At(e=>e instanceof Mo||e instanceof As||e instanceof Wf||e instanceof xl),pt(e=>e instanceof Mo||e instanceof xl?0:(e instanceof As?e.code===Ra.Redirect||e.code===Ra.SupersededByNewNavigation:!1)?2:1),At(e=>e!==2),oi(1)).subscribe(()=>{t()})}var Vie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Is=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(Hw);stateManager=V(qP);options=V(im,{optional:!0})||{};pendingTasks=V(zw);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(HC);urlSerializer=V(Jf);location=V(Hc);urlHandlingStrategy=V(UC);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(Fie);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(Zf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(Xv,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(n!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof As&&i.code!==Ra.Redirect&&i.code!==Ra.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Mo)this.navigated=!0;else if(i instanceof Tu){let o=i.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),l=Oe({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Lie(n.source)},o);this.scheduleNavigation(s,Uf,null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}Uie(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,n){let a={replaceUrl:!0},o=n?.navigationId?n:null;if(n){let l=Oe({},n);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(a.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,i,o,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(zC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:n,queryParams:a,fragment:o,queryParamsHandling:s,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=Oe(Oe({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let f=n?n.snapshot:this.routerState.snapshot.root;u=xP(f)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return wP(u,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let n=$c(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(a,Uf,null,i)}navigate(e,i={skipLocationChange:!1}){return qie(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let n;if(i===!0?n=Oe({},Vie):i===!1?n=Oe({},zie):n=i,$c(e))return tP(this.currentUrlTree,e,n);let a=this.parseUrl(e);return tP(this.currentUrlTree,a,n)}removeEmptyProps(e){return Object.entries(e).reduce((i,[n,a])=>(a!=null&&(i[n]=a),i),{})}scheduleNavigation(e,i,n,a,o){if(this.disposed)return Promise.resolve(!1);let s,l,c;o?(s=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,f)=>{s=u,l=f});let d=this.pendingTasks.add();return UP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:s,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function qie(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new Ar(4008,!1)}function Uie(r){return!(r instanceof jf)&&!(r instanceof Tu)}var Ru=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;constructor(e,i,n,a,o,s){this.router=e,this.route=i,this.tabIndexAttribute=n,this.renderer=a,this.el=o,this.locationStrategy=s;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Mo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($c(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,n,a,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||i||n||a||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:ck(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let n=this.renderer,a=this.el.nativeElement;i!==null?n.setAttribute(a,e,i):n.removeAttribute(a,e)}get urlTree(){return this.routerLinkInput===null?null:$c(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||r)(Jt(Is),Jt(wl),XO("tabindex"),Jt(qi),Jt(vt),Jt(Pf))};static \u0275dir=ut({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,n){i&1&&Xe("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Vt("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rt],replaceUrl:[2,"replaceUrl","replaceUrl",Rt],routerLink:"routerLink"},features:[Ii]})}return r})(),HP=(()=>{class r{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new gt;constructor(e,i,n,a,o){this.router=e,this.element=i,this.renderer=n,this.cdr=a,this.link=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof Mo&&this.update()})}ngAfterContentInit(){Ze(this.links.changes,Ze(null)).pipe(Mf()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ri(e).pipe(Mf()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(n=>!!n)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=Hie(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>{let a=n.urlTree;return a?e.isActive(a,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(i){return new(i||r)(Jt(Is),Jt(vt),Jt(qi),Jt(Kr),Jt(Ru,8))};static \u0275dir=ut({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(i,n,a){if(i&1&&Tr(a,Ru,5),i&2){let o;Mt(o=Dt())&&(n.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ii]})}return r})();function Hie(r){return!!r.paths}var Yv=class{};var Gie=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,n,a,o){this.router=e,this.injector=n,this.preloadingStrategy=a,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(At(e=>e instanceof Mo),zi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let n=[];for(let a of i){a.providers&&!a._injector&&(a._injector=Uw(a.providers,e,`Route: ${a.path}`));let o=a._injector??e,s=a._loadedInjector??o;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&n.push(this.preloadConfig(o,a)),(a.children||a._loadedRoutes)&&n.push(this.processRoutes(s,a.children??a._loadedRoutes))}return ri(n).pipe(Mf())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let n;i.loadChildren&&i.canLoad===void 0?n=this.loader.loadChildren(e,i):n=Ze(null);let a=n.pipe(Ca(o=>o===null?Ze(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return ri([a,o]).pipe(Mf())}else return a})}static \u0275fac=function(i){return new(i||r)(Sr(Is),Sr(Ev),Sr(Ka),Sr(Yv),Sr(qC))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),GP=new je(""),Wie=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,n,a,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=n,this.zone=a,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Du?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mo?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof xl&&e.code===Vv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qv&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qv(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){_v()};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})();function WP(r,...t){return du([{provide:Zf,multi:!0,useValue:r},[],{provide:wl,useFactory:jP,deps:[Is]},{provide:wv,multi:!0,useFactory:$P},t.map(e=>e.\u0275providers)])}function jP(r){return r.routerState.root}function nm(r,t){return{\u0275kind:r,\u0275providers:t}}function $P(){let r=V(Nr);return t=>{let e=r.get(Ms);if(t!==e.components[0])return;let i=r.get(Is),n=r.get(YP);r.get(GC)===1&&i.initialNavigation(),r.get(XP,null,Vw.Optional)?.setUpPreloading(),r.get(GP,null,Vw.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var YP=new je("",{factory:()=>new Ue}),GC=new je("",{providedIn:"root",factory:()=>1});function jie(){return nm(2,[{provide:GC,useValue:0},{provide:Gw,multi:!0,deps:[Nr],useFactory:t=>{let e=t.get(xk,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let n=t.get(Is),a=t.get(YP);UP(n,()=>{i(!0)}),t.get(HC).afterPreactivation=()=>(i(!0),a.closed?Ze(void 0):a),n.initialNavigation()}))}}])}function $ie(){return nm(3,[{provide:Gw,multi:!0,useFactory:()=>{let t=V(Is);return()=>{t.setUpLocationChangeListener()}}},{provide:GC,useValue:2}])}var XP=new je("");function Yie(r){return nm(0,[{provide:XP,useExisting:Gie},{provide:Yv,useExisting:r}])}function WC(){return nm(8,[aP,{provide:Xv,useExisting:aP}])}function Xie(r){let t=[{provide:BP,useValue:kie},{provide:VP,useValue:Oe({skipNextTransition:!!r?.skipInitialTransition},r)}];return nm(9,t)}var Kie=[Hc,{provide:Jf,useClass:Mu},Is,tm,{provide:wl,useFactory:jP,deps:[Is]},qC,[]],KP=(()=>{class r{constructor(){}static forRoot(e,i){return{ngModule:r,providers:[Kie,[],{provide:Zf,multi:!0,useValue:e},[],i?.errorHandler?{provide:zP,useValue:i.errorHandler}:[],{provide:im,useValue:i||{}},i?.useHash?Qie():Jie(),Zie(),i?.preloadingStrategy?Yie(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?ene(i):[],i?.bindToComponentInputs?WC().\u0275providers:[],i?.enableViewTransitions?Xie().\u0275providers:[],tne()]}}static forChild(e){return{ngModule:r,providers:[{provide:Zf,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})();function Zie(){return{provide:GP,useFactory:()=>{let r=V(Rk),t=V(_t),e=V(im),i=V(HC),n=V(Jf);return e.scrollOffset&&r.setOffset(e.scrollOffset),new Wie(n,i,r,t,e)}}}function Qie(){return{provide:Pf,useClass:Ck}}function Jie(){return{provide:Pf,useClass:wk}}function ene(r){return[r.initialNavigation==="disabled"?$ie().\u0275providers:[],r.initialNavigation==="enabledBlocking"?jie().\u0275providers:[]]}var cP=new je("");function tne(){return[{provide:cP,useFactory:$P},{provide:wv,multi:!0,useExisting:cP}]}var am=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-home"]],decls:1,vars:0,template:function(e,i){e&1&&He(0,`Nothing to see here
`)},encapsulation:2})};var iL=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||r)(Jt(qi),Jt(vt))};static \u0275dir=ut({type:r})}return r})(),nL=(()=>{class r extends iL{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,features:[Zr]})}return r})(),Lu=new je("");var ine={provide:Lu,useExisting:ca(()=>Oi),multi:!0};function nne(){let r=vu()?vu().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var ane=new je(""),Oi=(()=>{class r extends iL{_compositionMode;_composing=!1;constructor(e,i,n){super(e,i),this._compositionMode=n,this._compositionMode==null&&(this._compositionMode=!nne())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||r)(Jt(qi),Jt(vt),Jt(ane,8))};static \u0275dir=ut({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,n){i&1&&Xe("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},standalone:!1,features:[Yt([ine]),Zr]})}return r})();function El(r){return r==null||(typeof r=="string"||Array.isArray(r))&&r.length===0}function aL(r){return r!=null&&typeof r.length=="number"}var Yc=new je(""),sy=new je(""),one=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ne=class{static min(t){return oL(t)}static max(t){return sL(t)}static required(t){return lL(t)}static requiredTrue(t){return sne(t)}static email(t){return lne(t)}static minLength(t){return cne(t)}static maxLength(t){return dne(t)}static pattern(t){return une(t)}static nullValidator(t){return Qv(t)}static compose(t){return mL(t)}static composeAsync(t){return pL(t)}};function oL(r){return t=>{if(El(t.value)||El(r))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}function sL(r){return t=>{if(El(t.value)||El(r))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}function lL(r){return El(r.value)?{required:!0}:null}function sne(r){return r.value===!0?null:{required:!0}}function lne(r){return El(r.value)||one.test(r.value)?null:{email:!0}}function cne(r){return t=>El(t.value)||!aL(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}function dne(r){return t=>aL(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}function une(r){if(!r)return Qv;let t,e;return typeof r=="string"?(e="",r.charAt(0)!=="^"&&(e+="^"),e+=r,r.charAt(r.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if(El(i.value))return null;let n=i.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}function Qv(r){return null}function cL(r){return r!=null}function dL(r){return xv(r)?ri(r):r}function uL(r){let t={};return r.forEach(e=>{t=e!=null?Oe(Oe({},t),e):t}),Object.keys(t).length===0?null:t}function hL(r,t){return t.map(e=>e(r))}function hne(r){return!r.validate}function fL(r){return r.map(t=>hne(t)?t:e=>t.validate(e))}function mL(r){if(!r)return null;let t=r.filter(cL);return t.length==0?null:function(e){return uL(hL(e,t))}}function ZC(r){return r!=null?mL(fL(r)):null}function pL(r){if(!r)return null;let t=r.filter(cL);return t.length==0?null:function(e){let i=hL(e,t).map(dL);return gv(i).pipe(pt(uL))}}function QC(r){return r!=null?pL(fL(r)):null}function ZP(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function gL(r){return r._rawValidators}function vL(r){return r._rawAsyncValidators}function jC(r){return r?Array.isArray(r)?r:[r]:[]}function Jv(r,t){return Array.isArray(r)?r.includes(t):r===t}function QP(r,t){let e=jC(t);return jC(r).forEach(n=>{Jv(e,n)||e.push(n)}),e}function JP(r,t){return jC(t).filter(e=>!Jv(r,e))}var ey=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ZC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Sl=class extends ey{name;get formDirective(){return null}get path(){return null}},Do=class extends ey{_parent=null;name=null;valueAccessor=null},ty=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},fne={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},gze=Bt(Oe({},fne),{"[class.ng-submitted]":"isSubmitted"}),ki=(()=>{class r extends ty{constructor(e){super(e)}static \u0275fac=function(i){return new(i||r)(Jt(Do,2))};static \u0275dir=ut({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,n){i&2&&It("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},standalone:!1,features:[Zr]})}return r})(),Hr=(()=>{class r extends ty{constructor(e){super(e)}static \u0275fac=function(i){return new(i||r)(Jt(Sl,10))};static \u0275dir=ut({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,n){i&2&&It("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},standalone:!1,features:[Zr]})}return r})();var om="VALID",Zv="INVALID",Ou="PENDING",sm="DISABLED",Ml=class{},ry=class extends Ml{value;source;constructor(t,e){super(),this.value=t,this.source=e}},cm=class extends Ml{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},dm=class extends Ml{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},ku=class extends Ml{status;source;constructor(t,e){super(),this.status=t,this.source=e}},$C=class extends Ml{source;constructor(t){super(),this.source=t}},YC=class extends Ml{source;constructor(t){super(),this.source=t}};function JC(r){return(ly(r)?r.validators:r)||null}function mne(r){return Array.isArray(r)?ZC(r):r||null}function eE(r,t){return(ly(t)?t.asyncValidators:r)||null}function pne(r){return Array.isArray(r)?QC(r):r||null}function ly(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function yL(r,t,e){let i=r.controls;if(!(t?Object.keys(i):i).length)throw new Ar(1e3,"");if(!i[e])throw new Ar(1001,"")}function bL(r,t,e){r._forEachChild((i,n)=>{if(e[n]===void 0)throw new Ar(1002,"")})}var Pu=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Eo(this.statusReactive)}set status(t){Eo(()=>this.statusReactive.set(t))}_status=Ma(()=>this.statusReactive());statusReactive=yr(void 0);get valid(){return this.status===om}get invalid(){return this.status===Zv}get pending(){return this.status==Ou}get disabled(){return this.status===sm}get enabled(){return this.status!==sm}errors;get pristine(){return Eo(this.pristineReactive)}set pristine(t){Eo(()=>this.pristineReactive.set(t))}_pristine=Ma(()=>this.pristineReactive());pristineReactive=yr(!0);get dirty(){return!this.pristine}get touched(){return Eo(this.touchedReactive)}set touched(t){Eo(()=>this.touchedReactive.set(t))}_touched=Ma(()=>this.touchedReactive());touchedReactive=yr(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(QP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(QP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(JP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(JP(t,this._rawAsyncValidators))}hasValidator(t){return Jv(this._rawValidators,t)}hasAsyncValidator(t){return Jv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Bt(Oe({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new dm(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new dm(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Bt(Oe({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new cm(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new cm(!0,i))}markAsPending(t={}){this.status=Ou;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ku(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Bt(Oe({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=sm,this.errors=null,this._forEachChild(n=>{n.disable(Bt(Oe({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ry(this.value,i)),this._events.next(new ku(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Bt(Oe({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=om,this._forEachChild(i=>{i.enable(Bt(Oe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Bt(Oe({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===om||this.status===Ou)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ry(this.value,e)),this._events.next(new ku(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Bt(Oe({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sm:om}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Ou,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=dL(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,n)=>i&&i._find(n),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new ku(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?sm:this.errors?Zv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ou)?Ou:this._anyControlsHaveStatus(Zv)?Zv:om}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),n&&this._events.next(new cm(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new dm(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ly(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=mne(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=pne(this._rawAsyncValidators)}},Dl=class extends Pu{constructor(t,e,i){super(JC(e),eE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){bL(this,!0,t),Object.keys(t).forEach(i=>{yL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let n=this.controls[i];n&&n.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,n)=>{i.reset(t?t[n]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,n)=>((i.enabled||this.disabled)&&(e[n]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((n,a)=>{i=e(i,n,a)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var XC=class extends Dl{};var cy=new je("",{providedIn:"root",factory:()=>tE}),tE="always";function gne(r,t){return[...t.path,r]}function iy(r,t,e=tE){rE(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),yne(r,t),_ne(r,t),bne(r,t),vne(r,t)}function ny(r,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),oy(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function ay(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function vne(r,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function rE(r,t){let e=gL(r);t.validator!==null?r.setValidators(ZP(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let i=vL(r);t.asyncValidator!==null?r.setAsyncValidators(ZP(i,t.asyncValidator)):typeof i=="function"&&r.setAsyncValidators([i]);let n=()=>r.updateValueAndValidity();ay(t._rawValidators,n),ay(t._rawAsyncValidators,n)}function oy(r,t){let e=!1;if(r!==null){if(t.validator!==null){let n=gL(r);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==t.validator);a.length!==n.length&&(e=!0,r.setValidators(a))}}if(t.asyncValidator!==null){let n=vL(r);if(Array.isArray(n)&&n.length>0){let a=n.filter(o=>o!==t.asyncValidator);a.length!==n.length&&(e=!0,r.setAsyncValidators(a))}}}let i=()=>{};return ay(t._rawValidators,i),ay(t._rawAsyncValidators,i),e}function yne(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&_L(r,t)})}function bne(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&_L(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function _L(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function _ne(r,t){let e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function xL(r,t){r==null,rE(r,t)}function xne(r,t){return oy(r,t)}function wL(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function wne(r){return Object.getPrototypeOf(r.constructor)===nL}function CL(r,t){r._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function EL(r,t){if(!t)return null;Array.isArray(t);let e,i,n;return t.forEach(a=>{a.constructor===Oi?e=a:wne(a)?i=a:n=a}),n||i||e||null}function Cne(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}var Ene={provide:Sl,useExisting:ca(()=>um)},lm=Promise.resolve(),um=(()=>{class r extends Sl{callSetDisabledState;get submitted(){return Eo(this.submittedReactive)}_submitted=Ma(()=>this.submittedReactive());submittedReactive=yr(!1);_directives=new Set;form;ngSubmit=new gt;options;constructor(e,i,n){super(),this.callSetDisabledState=n,this.form=new Dl({},ZC(e),QC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lm.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),iy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lm.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lm.then(()=>{let i=this._findContainer(e.path),n=new Dl({});xL(n,e),i.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lm.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lm.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),CL(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||r)(Jt(Yc,10),Jt(sy,10),Jt(cy,8))};static \u0275dir=ut({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,n){i&1&&Xe("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yt([Ene]),Zr]})}return r})();function eL(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function tL(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var St=class extends Pu{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(JC(e),eE(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ly(e)&&(e.nonNullable||e.initialValueIsDefault)&&(tL(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){eL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){eL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){tL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Sne=r=>r instanceof St;var Gr=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return r})(),Mne={provide:Lu,useExisting:ca(()=>En),multi:!0},En=(()=>{class r extends nL{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,n){i&1&&Xe("input",function(o){return n.onChange(o.target.value)})("blur",function(){return n.onTouched()})},standalone:!1,features:[Yt([Mne]),Zr]})}return r})();var iE=new je(""),Dne={provide:Do,useExisting:ca(()=>tn)},tn=(()=>{class r extends Do{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new gt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,n,a,o){super(),this._ngModelWarningConfig=a,this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=EL(this,n)}ngOnChanges(e){if(this._isControlChanged(e)){let i=e.form.previousValue;i&&ny(i,this,!1),iy(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}wL(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ny(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||r)(Jt(Yc,10),Jt(sy,10),Jt(Lu,10),Jt(iE,8),Jt(cy,8))};static \u0275dir=ut({type:r,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Yt([Dne]),Zr,Ii]})}return r})(),Tne={provide:Sl,useExisting:ca(()=>Ia)},Ia=(()=>{class r extends Sl{callSetDisabledState;get submitted(){return Eo(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Ma(()=>this._submittedReactive());_submittedReactive=yr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new gt;constructor(e,i,n){super(),this.callSetDisabledState=n,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return iy(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ny(e.control||null,e,!1),Cne(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),CL(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new $C(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new YC(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,n=this.form.get(e.path);i!==n&&(ny(i||null,e),Sne(n)&&(iy(n,e,this.callSetDisabledState),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);xL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&xne(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rE(this.form,this),this._oldForm&&oy(this._oldForm,this)}static \u0275fac=function(i){return new(i||r)(Jt(Yc,10),Jt(sy,10),Jt(cy,8))};static \u0275dir=ut({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,n){i&1&&Xe("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Yt([Tne]),Zr,Ii]})}return r})();var Ane={provide:Do,useExisting:ca(()=>hm)},hm=(()=>{class r extends Do{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new gt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,n,a,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=EL(this,a)}ngOnChanges(e){this._added||this._setUpControl(),wL(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gne(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||r)(Jt(Sl,13),Jt(Yc,10),Jt(sy,10),Jt(Lu,10),Jt(iE,8))};static \u0275dir=ut({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Yt([Ane]),Zr,Ii]})}return r})();function SL(r){return typeof r=="number"?r:parseFloat(r)}var nE=(()=>{class r{_validator=Qv;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Qv,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,features:[Ii]})}return r})(),Rne={provide:Yc,useExisting:ca(()=>aE),multi:!0},aE=(()=>{class r extends nE{max;inputName="max";normalizeInput=e=>SL(e);createValidator=e=>sL(e);static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,n){i&2&&Vt("max",n._enabled?n.max:null)},inputs:{max:"max"},standalone:!1,features:[Yt([Rne]),Zr]})}return r})(),Ine={provide:Yc,useExisting:ca(()=>fm),multi:!0},fm=(()=>{class r extends nE{min;inputName="min";normalizeInput=e=>SL(e);createValidator=e=>oL(e);static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,n){i&2&&Vt("min",n._enabled?n.min:null)},inputs:{min:"min"},standalone:!1,features:[Yt([Ine]),Zr]})}return r})(),One={provide:Yc,useExisting:ca(()=>mm),multi:!0};var mm=(()=>{class r extends nE{required;inputName="required";normalizeInput=Rt;createValidator=e=>lL;enabled(e){return e}static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,n){i&2&&Vt("required",n._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Yt([One]),Zr]})}return r})();var kne=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})(),KC=class extends Pu{constructor(t,e,i){super(JC(e),eE(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){bL(this,!1,t),t.forEach((i,n)=>{yL(this,!1,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function rL(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var dy=(()=>{class r{useNonNullable=!1;get nonNullable(){let e=new r;return e.useNonNullable=!0,e}group(e,i=null){let n=this._reduceControls(e),a={};return rL(i)?a=i:i!==null&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Dl(n,a)}record(e,i=null){let n=this._reduceControls(e);return new XC(n,i)}control(e,i,n){let a={};return this.useNonNullable?(rL(i)?a=i:(a.validators=i,a.asyncValidators=n),new St(e,Bt(Oe({},a),{nonNullable:!0}))):new St(e,i,n)}array(e,i,n){let a=e.map(o=>this._createControl(o));return new KC(a,i,n)}_reduceControls(e){let i={};return Object.keys(e).forEach(n=>{i[n]=this._createControl(e[n])}),i}_createControl(e){if(e instanceof St)return e;if(e instanceof Pu)return e;if(Array.isArray(e)){let i=e[0],n=e.length>1?e[1]:null,a=e.length>2?e[2]:null;return this.control(i,n,a)}else return this.control(e)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Vn=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:iE,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:cy,useValue:e.callSetDisabledState??tE}]}}static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[kne]})}return r})();var er={text:(r,t,e)=>({type:"text",name:r,label:t,formControl:e}),number:(r,t,e)=>({type:"number",name:r,label:t,formControl:e}),autocomplete:(r,t,e,i)=>({type:"autocomplete",name:r,label:t,formControl:e,options:i}),select:(r,t,e,i)=>({type:"select",name:r,label:t,formControl:e,options:i})};var Pi=class{constructor(t){this._fields=t;this.configFormGroup()}_formGroup=new Dl({});fields(){return this._fields}group(){return this._formGroup}control(t){return this._formGroup.get(t)}valueChanges(){return this._formGroup.valueChanges}configFormGroup(){for(let t of this.fields())this._formGroup.setControl(t.name,t.formControl)}};var sE;try{sE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sE=!1}var Ir=(()=>{class r{_platformId=V(Vc);isBrowser=this._platformId?Ak(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||sE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Fu,ML=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lE(){if(Fu)return Fu;if(typeof document!="object"||!document)return Fu=new Set(ML),Fu;let r=document.createElement("input");return Fu=new Set(ML.filter(t=>(r.setAttribute("type",t),r.type===t))),Fu}var pm;function Pne(){if(pm==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pm=!0}))}finally{pm=pm||!1}return pm}function Zn(r){return Pne()?r:!!r.capture}var To=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(To||{}),uy,Xc;function hy(){if(Xc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Xc=!1,Xc;if("scrollBehavior"in document.documentElement.style)Xc=!0;else{let r=Element.prototype.scrollTo;r?Xc=!/\{\s*\[native code\]\s*\}/.test(r.toString()):Xc=!1}}return Xc}function Nu(){if(typeof document!="object"||!document)return To.NORMAL;if(uy==null){let r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",r.appendChild(e),document.body.appendChild(r),uy=To.NORMAL,r.scrollLeft===0&&(r.scrollLeft=1,uy=r.scrollLeft===0?To.NEGATED:To.INVERTED),r.remove()}return uy}var oE;function Lne(){if(oE==null){let r=typeof document<"u"?document.head:null;oE=!!(r&&(r.createShadowRoot||r.attachShadow))}return oE}function Bu(r){if(Lne()){let t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function $i(r){return r.composedPath?r.composedPath()[0]:r.target}function cE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var fy=new WeakMap,vn=(()=>{class r{_appRef;_injector=V(Nr);_environmentInjector=V(Ka);load(e){let i=this._appRef=this._appRef||this._injector.get(Ms),n=fy.get(i);n||(n={loaders:new Set,refs:[]},fy.set(i,n),i.onDestroy(()=>{fy.get(i)?.refs.forEach(a=>a.destroy()),fy.delete(i)})),n.loaders.has(e)||(n.loaders.add(e),n.refs.push(Sv(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),my=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,n){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return r})();function Sn(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function rn(r){return r!=null&&`${r}`!="false"}function zn(r,t=0){return Fne(r)?Number(r):arguments.length===2?t:0}function Fne(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function Tl(r){return Array.isArray(r)?r:[r]}function Ui(r){return r==null?"":typeof r=="string"?r:`${r}px`}function Li(r){return r instanceof vt?r.nativeElement:r}function Nne(r){if(r.type==="characterData"&&r.target instanceof Comment)return!0;if(r.type==="childList"){for(let t=0;t<r.addedNodes.length;t++)if(!(r.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<r.removedNodes.length;t++)if(!(r.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var DL=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bne=(()=>{class r{_mutationObserverFactory=V(DL);_observedElements=new Map;_ngZone=V(_t);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Li(e);return new Xn(n=>{let o=this._observeElement(i).pipe(pt(s=>s.filter(l=>!Nne(l))),At(s=>!!s.length)).subscribe(s=>{this._ngZone.run(()=>{n.next(s)})});return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new Ue,n=this._mutationObserverFactory.create(a=>i.next(a));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:n}=this._observedElements.get(e);i&&i.disconnect(),n.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),TL=(()=>{class r{_contentObserver=V(Bne);_elementRef=V(vt);event=new gt;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=zn(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Ya(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Rt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return r})(),py=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({providers:[DL]})}return r})();var AL=new Set,Kc,Vne=(()=>{class r{_platform=V(Ir);_nonce=V(If,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qne}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&zne(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function zne(r,t){if(!AL.has(r))try{Kc||(Kc=document.createElement("style"),t&&Kc.setAttribute("nonce",t),Kc.setAttribute("type","text/css"),document.head.appendChild(Kc)),Kc.sheet&&(Kc.sheet.insertRule(`@media ${r} {body{ }}`,0),AL.add(r))}catch(e){console.error(e)}}function qne(r){return{matches:r==="all"||r==="",media:r,addListener:()=>{},removeListener:()=>{}}}var gy=(()=>{class r{_mediaMatcher=V(Vne);_zone=V(_t);_queries=new Map;_destroySubject=new Ue;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return RL(Tl(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){let n=RL(Tl(e)).map(o=>this._registerQuery(o).observable),a=ou(n);return a=pv(a.pipe(oi(1)),a.pipe(vv(1),Ya(0))),a.pipe(pt(o=>{let s={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),a={observable:new Xn(o=>{let s=l=>this._zone.run(()=>o.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(dr(i),pt(({matches:o})=>({query:e,matches:o})),hr(this._destroySubject)),mql:i};return this._queries.set(e,a),a}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function RL(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var IL={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var LL=" ";function gm(r,t,e){let i=FL(r,t);e=e.trim(),!i.some(n=>n.trim()===e)&&(i.push(e),r.setAttribute(t,i.join(LL)))}function Qc(r,t,e){let i=FL(r,t);e=e.trim();let n=i.filter(a=>a!==e);n.length?r.setAttribute(t,n.join(LL)):r.removeAttribute(t)}function FL(r,t){return r.getAttribute(t)?.match(/\S+/g)??[]}var tae=200,hE=class{_letterKeyStream=new Ue;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Ue;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:tae;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Et(e=>this._pressedLetters.push(e)),Ya(t),At(()=>this._pressedLetters.length>0),pt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let n=(this._selectedItemIndex+i)%this._items.length,a=this._items[n];if(!this._skipPredicateFn?.(a)&&a.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(a);break}}this._pressedLetters=[]})}},by=class{_items;_activeItemIndex=-1;_activeItem=yr(null);_wrap=!1;_typeaheadSubscription=rt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Bc?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Nc(t)&&(this._effectRef=bl(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new Ue;change=new Ue;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new hE(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(a>0?a:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let a=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(a<o?a:o-1,-1);break}else return;default:(n||Sn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),n=e[i];this._activeItem.set(n??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let n=(this._activeItemIndex+t*i+e.length)%e.length,a=e[n];if(!this._skipPredicateFn(a)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return Nc(this._items)?this._items():this._items instanceof Bc?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},zu=class extends by{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},_y=class extends by{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var gE=(()=>{class r{_platform=V(Ir);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return iae(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=rae(uae(e));if(i&&(OL(i)===-1||!this.isVisible(i)))return!1;let n=e.nodeName.toLowerCase(),a=OL(e);return e.hasAttribute("contenteditable")?a!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!cae(e)?!1:n==="audio"?e.hasAttribute("controls")?a!==-1:!1:n==="video"?a===-1?!1:a!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return dae(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function rae(r){try{return r.frameElement}catch{return null}}function iae(r){return!!(r.offsetWidth||r.offsetHeight||typeof r.getClientRects=="function"&&r.getClientRects().length)}function nae(r){let t=r.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function aae(r){return sae(r)&&r.type=="hidden"}function oae(r){return lae(r)&&r.hasAttribute("href")}function sae(r){return r.nodeName.toLowerCase()=="input"}function lae(r){return r.nodeName.toLowerCase()=="a"}function NL(r){if(!r.hasAttribute("tabindex")||r.tabIndex===void 0)return!1;let t=r.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function OL(r){if(!NL(r))return null;let t=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function cae(r){let t=r.nodeName.toLowerCase(),e=t==="input"&&r.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function dae(r){return aae(r)?!1:nae(r)||oae(r)||r.hasAttribute("contenteditable")||NL(r)}function uae(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}var fE=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,n,a=!1,o){this._element=t,this._checker=e,this._ngZone=i,this._document=n,this._injector=o,a||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let n=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let n=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(n)return n}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Ln(t,{injector:this._injector}):setTimeout(t)}},BL=(()=>{class r{_checker=V(gE);_ngZone=V(_t);_document=V(zt);_injector=V(Nr);constructor(){V(vn).load(my)}create(e,i=!1){return new fE(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Jc(r){return r.buttons===0||r.detail===0}function ed(r){let t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var hae=new je("cdk-input-modality-detector-options"),fae={ignoreKeys:[18,17,224,91,16]},VL=650,Vu=Zn({passive:!0,capture:!0}),mae=(()=>{class r{_platform=V(Ir);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new ir(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$i(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<VL||(this._modality.next(Jc(e)?"keyboard":"mouse"),this._mostRecentTarget=$i(e))};_onTouchstart=e=>{if(ed(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$i(e)};constructor(){let e=V(_t),i=V(zt),n=V(hae,{optional:!0});this._options=Oe(Oe({},fae),n),this.modalityDetected=this._modality.pipe(vv(1)),this.modalityChanged=this.modalityDetected.pipe(Df()),this._platform.isBrowser&&e.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Vu),i.addEventListener("mousedown",this._onMousedown,Vu),i.addEventListener("touchstart",this._onTouchstart,Vu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Vu),document.removeEventListener("mousedown",this._onMousedown,Vu),document.removeEventListener("touchstart",this._onTouchstart,Vu))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pae=new je("liveAnnouncerElement",{providedIn:"root",factory:gae});function gae(){return null}var vae=new je("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),yae=0,zL=(()=>{class r{_ngZone=V(_t);_defaultOptions=V(vae,{optional:!0});_liveElement;_document=V(zt);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=V(pae,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let n=this._defaultOptions,a,o;return i.length===1&&typeof i[0]=="number"?o=i[0]:[a,o]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=n&&n.politeness?n.politeness:"polite"),o==null&&n&&(o=n.duration),this._liveElement.setAttribute("aria-live",a),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id=`cdk-live-announcer-${yae++}`,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){let a=i[n],o=a.getAttribute("aria-owns");o?o.indexOf(e)===-1&&a.setAttribute("aria-owns",o+" "+e):a.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var yy=function(r){return r[r.IMMEDIATE=0]="IMMEDIATE",r[r.EVENTUAL=1]="EVENTUAL",r}(yy||{}),bae=new je("cdk-focus-monitor-default-options"),vy=Zn({passive:!0,capture:!0}),td=(()=>{class r{_ngZone=V(_t);_platform=V(Ir);_inputModalityDetector=V(mae);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=V(zt,{optional:!0});_stopInputModalityDetector=new Ue;constructor(){let e=V(bae,{optional:!0});this._detectionMode=e?.detectionMode||yy.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=$i(e);for(let n=i;n;n=n.parentElement)e.type==="focus"?this._onFocus(e,n):this._onBlur(e,n)};monitor(e,i=!1){let n=Li(e);if(!this._platform.isBrowser||n.nodeType!==1)return Ze();let a=Bu(n)||this._getDocument(),o=this._elementInfo.get(n);if(o)return i&&(o.checkChildren=!0),o.subject;let s={checkChildren:i,subject:new Ue,rootNode:a};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let i=Li(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){let a=Li(e),o=this._getDocument().activeElement;a===o?this._getClosestElementsInfo(a).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),typeof a.focus=="function"&&a.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===yy.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===yy.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?VL:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(e,i){let n=this._elementInfo.get(i),a=$i(e);!n||!n.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),n)}_onBlur(e,i){let n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,vy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,vy)}),this._rootNodeFocusListenerCount.set(i,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hr(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((n,a)=>{(a===e||n.checkChildren&&a.contains(e))&&i.push([a,n])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let a=e.labels;if(a){for(let o=0;o<a.length;o++)if(a[o].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Zc=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(Zc||{}),kL="cdk-high-contrast-black-on-white",PL="cdk-high-contrast-white-on-black",dE="cdk-high-contrast-active",qL=(()=>{class r{_platform=V(Ir);_hasCheckedHighContrastMode;_document=V(zt);_breakpointSubscription;constructor(){this._breakpointSubscription=V(gy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zc.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zc.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zc.BLACK_ON_WHITE}return Zc.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(dE,kL,PL),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Zc.BLACK_ON_WHITE?e.add(dE,kL):i===Zc.WHITE_ON_BLACK&&e.add(dE,PL)}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var uE={},Mn=(()=>{class r{_appId=V(Rf);getId(e){return this._appId!=="ng"&&(e+=this._appId),uE.hasOwnProperty(e)||(uE[e]=0),`${e}${uE[e]++}`}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var _ae=new je("cdk-dir-doc",{providedIn:"root",factory:xae});function xae(){return V(zt)}var wae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Cae(r){let t=r?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?wae.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Yi=(()=>{class r{value="ltr";change=new gt;constructor(){let e=V(_ae,{optional:!0});if(e){let i=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=Cae(i||n||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Rl=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})();var Eae=["text"],Sae=[[["mat-icon"]],"*"],Mae=["mat-icon","*"];function Dae(r,t){if(r&1&&Pe(0,"mat-pseudo-checkbox",1),r&2){let e=nt();Re("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Tae(r,t){if(r&1&&Pe(0,"mat-pseudo-checkbox",3),r&2){let e=nt();Re("disabled",e.disabled)}}function Aae(r,t){if(r&1&&(ae(0,"span",4),He(1),ue()),r&2){let e=nt();ge(),zc("(",e.group.label,")")}}var qt=(()=>{class r{constructor(){V(qL)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[Rl,Rl]})}return r})(),Hu=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,n,a){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=n,this._stateChanges=a}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,n=this.ngControl?this.ngControl.control:null,a=i?.isErrorState(n,e)??!1;a!==t&&(this.errorState=a,this._stateChanges.next())}};var Cy=(()=>{class r{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),rd=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,n){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return r})();var xE=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})(),io=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(io||{}),bE=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=io.HIDDEN;constructor(t,e,i,n=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=n}fadeOut(){this._renderer.fadeOutRipple(this)}},UL=Zn({passive:!0,capture:!0}),_E=class{_events=new Map;addHandler(t,e,i,n){let a=this._events.get(e);if(a){let o=a.get(i);o?o.add(n):a.set(i,new Set([n]))}else this._events.set(e,new Map([[i,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,UL)})}removeHandler(t,e,i){let n=this._events.get(t);if(!n)return;let a=n.get(e);a&&(a.delete(i),a.size===0&&n.delete(e),n.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,UL)))}_delegateEventHandler=t=>{let e=$i(t);e&&this._events.get(t.type)?.forEach((i,n)=>{(n===e||n.contains(e))&&i.forEach(a=>a.handleEvent(t))})}},wy={enterDuration:225,exitDuration:150},Rae=800,HL=Zn({passive:!0,capture:!0}),GL=["mousedown","touchstart"],WL=["mouseup","mouseleave","touchend","touchcancel"],Iae=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return r})(),Gu=class r{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new _E;constructor(t,e,i,n,a){this._target=t,this._ngZone=e,this._platform=n,n.isBrowser&&(this._containerElement=Li(i)),a&&a.get(vn).load(Iae)}fadeInRipple(t,e,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Oe(Oe({},wy),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);let o=i.radius||Oae(t,e,n),s=t-n.left,l=e-n.top,c=a.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${s-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),f=u.transitionProperty,m=u.transitionDuration,g=f==="none"||m==="0s"||m==="0s, 0s"||n.width===0&&n.height===0,v=new bE(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",v.state=io.FADING_IN,i.persistent||(this._mostRecentTransientRipple=v);let y=null;return!g&&(c||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let b=()=>{y&&(y.fallbackTimer=null),clearTimeout(w),this._finishRippleTransition(v)},_=()=>this._destroyRipple(v),w=setTimeout(_,c+100);d.addEventListener("transitionend",b),d.addEventListener("transitioncancel",_),y={onTransitionEnd:b,onTransitionCancel:_,fallbackTimer:w}}),this._activeRipples.set(v,y),(g||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(t.state===io.FADING_OUT||t.state===io.HIDDEN)return;let e=t.element,i=Oe(Oe({},wy),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=io.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Li(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,GL.forEach(i=>{r._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{WL.forEach(e=>{this._triggerElement.addEventListener(e,this,HL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===io.FADING_IN?this._startFadeOutTransition(t):t.state===io.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=io.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=io.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Jc(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Rae;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ed(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===io.VISIBLE||t.config.terminateOnPointerUp&&t.state===io.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(GL.forEach(e=>r._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(WL.forEach(e=>t.removeEventListener(e,this,HL)),this._pointerUpEventsRegistered=!1))}};function Oae(r,t,e){let i=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),n=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+n*n)}var Ey=new je("mat-ripple-global-options"),wE=(()=>{class r{_elementRef=V(vt);_animationMode=V(Wi,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=V(_t),i=V(Ir),n=V(Ey,{optional:!0}),a=V(Nr);this._globalOptions=n||{},this._rippleRenderer=new Gu(this,e,this._elementRef,i,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Oe(Oe(Oe({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,n){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,Oe(Oe({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Oe(Oe({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){i&2&&It("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return r})(),id=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})(),kae=(()=>{class r{_animationMode=V(Wi,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,n){i&2&&It("mat-pseudo-checkbox-indeterminate",n.state==="indeterminate")("mat-pseudo-checkbox-checked",n.state==="checked")("mat-pseudo-checkbox-disabled",n.disabled)("mat-pseudo-checkbox-minimal",n.appearance==="minimal")("mat-pseudo-checkbox-full",n.appearance==="full")("_mat-animation-noopable",n._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,n){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return r})(),CE=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt]})}return r})(),ym=new je("MAT_OPTION_PARENT_COMPONENT"),bm=new je("MatOptgroup");var vm=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},da=(()=>{class r{_element=V(vt);_changeDetectorRef=V(Kr);_parent=V(ym,{optional:!0});group=V(bm,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=V(Mn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new gt;_text;_stateChanges=new Ue;constructor(){let e=V(vn);e.load(rd),e.load(my),this._signalDisableRipple=!!this._parent&&Nc(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let n=this._getHostElement();typeof n.focus=="function"&&n.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Sn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new vm(this,e))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-option"]],viewQuery:function(i,n){if(i&1&&Qr(Eae,7),i&2){let a;Mt(a=Dt())&&(n._text=a.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,n){i&1&&Xe("click",function(){return n._selectViaInteraction()})("keydown",function(o){return n._handleKeydown(o)}),i&2&&(pu("id",n.id),Vt("aria-selected",n.selected)("aria-disabled",n.disabled.toString()),It("mdc-list-item--selected",n.selected)("mat-mdc-option-multiple",n.multiple)("mat-mdc-option-active",n.active)("mdc-list-item--disabled",n.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Rt]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Mae,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,n){i&1&&(Dr(Sae),Nt(0,Dae,1,2,"mat-pseudo-checkbox",1),Ct(1),ae(2,"span",2,0),Ct(4,1),ue(),Nt(5,Tae,1,1,"mat-pseudo-checkbox",3)(6,Aae,2,1,"span",4),Pe(7,"div",5)),i&2&&($t(n.multiple?0:-1),ge(5),$t(!n.multiple&&n.selected&&!n.hideSingleSelectionIndicator?5:-1),ge(),$t(n.group&&n.group._inert?6:-1),ge(),Re("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[kae,wE],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})();function Sy(r,t,e){if(e.length){let i=t.toArray(),n=e.toArray(),a=0;for(let o=0;o<r+1;o++)i[o].group&&i[o].group===n[a]&&a++;return a}return 0}function My(r,t,e,i){return r<e?r:r+t>e+i?Math.max(0,r-i+t):e}var ju=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[id,qt,CE]})}return r})(),jL={capture:!0},$L=["focus","mousedown","mouseenter","touchstart"],vE="mat-ripple-loader-uninitialized",yE="mat-ripple-loader-class-name",YL="mat-ripple-loader-centered",xy="mat-ripple-loader-disabled",XL=(()=>{class r{_document=V(zt,{optional:!0});_animationMode=V(Wi,{optional:!0});_globalRippleOptions=V(Ey,{optional:!0});_platform=V(Ir);_ngZone=V(_t);_injector=V(Nr);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of $L)this._document?.addEventListener(e,this._onInteraction,jL)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of $L)this._document?.removeEventListener(i,this._onInteraction,jL)}configureRipple(e,i){e.setAttribute(vE,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(yE))&&e.setAttribute(yE,i.className||""),i.centered&&e.setAttribute(YL,""),i.disabled&&e.setAttribute(xy,"")}setDisabled(e,i){let n=this._hosts.get(e);n?(n.target.rippleDisabled=i,!i&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(e))):i?e.setAttribute(xy,""):e.removeAttribute(xy)}_onInteraction=e=>{let i=$i(e);if(i instanceof HTMLElement){let n=i.closest(`[${vE}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(yE)),e.append(i);let n=this._animationMode==="NoopAnimations",a=this._globalRippleOptions,o=n?0:a?.animation?.enterDuration??wy.enterDuration,s=n?0:a?.animation?.exitDuration??wy.exitDuration,l={rippleDisabled:n||a?.disabled||e.hasAttribute(xy),rippleConfig:{centered:e.hasAttribute(YL),terminateOnPointerUp:a?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new Gu(l,this._ngZone,i,this._platform,this._injector),d=!l.rippleDisabled;d&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:d}),e.removeAttribute(vE)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Dy=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Ue;constructor(t=!1,e,i=!0,n){this._multiple=t,this._emitChanges=i,this.compareWith=n,e&&e.length&&(t?e.forEach(a=>this._markSelected(a)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t);t.forEach(a=>this._markSelected(a)),e.filter(a=>!i.has(this._getConcreteValue(a,i))).forEach(a=>this._unmarkSelected(a));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var Pae=20,nd=(()=>{class r{_ngZone=V(_t);_platform=V(Ir);_renderer=V(Za).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Ue;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Pae){return this._platform.isBrowser?new Xn(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=e>0?this._scrolled.pipe(kw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ze()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(At(a=>!a||n.indexOf(a)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((n,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_scrollableContainsElement(e,i){let n=Li(i),a=e.getElementRef().nativeElement;do if(n==a)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),$u=(()=>{class r{elementRef=V(vt);scrollDispatcher=V(nd);ngZone=V(_t);dir=V(Yi,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Ue;_renderer=V(qi);_cleanupScroll;_elementScrolled=new Ue;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=n?e.end:e.start),e.right==null&&(e.right=n?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),n&&Nu()!=To.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),Nu()==To.INVERTED?e.left=e.right:Nu()==To.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;hy()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",n="right",a=this.elementRef.nativeElement;if(e=="top")return a.scrollTop;if(e=="bottom")return a.scrollHeight-a.clientHeight-a.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?n:i:e=="end"&&(e=o?i:n),o&&Nu()==To.INVERTED?e==i?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:o&&Nu()==To.NEGATED?e==i?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:e==i?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return r})(),Lae=20,Ao=(()=>{class r{_platform=V(Ir);_listeners;_viewportSize;_change=new Ue;_document=V(zt,{optional:!0});constructor(){let e=V(_t),i=V(Za).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=a=>this._change.next(a);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),n=e.documentElement,a=n.getBoundingClientRect(),o=-a.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,s=-a.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:o,left:s}}change(e=Lae){return e>0?this._change.pipe(kw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var no=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})(),EE=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[Rl,no,Rl,no]})}return r})();var xm=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},SE=class extends xm{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,n,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=a}},ks=class extends xm{templateRef;viewContainerRef;context;injector;constructor(t,e,i,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},ME=class extends xm{element;constructor(t){super(),this.element=t instanceof vt?t.nativeElement:t}},DE=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof SE)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ks)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof ME)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var wm=class extends DE{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,n,a){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=n,this._document=a}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,n=i.get(uk,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:n,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=Sv(t.component,{elementInjector:t.injector||this._defaultInjector||Nr.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);n!==-1&&e.remove(n)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var KL=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})();var ZL=hy(),TE=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ui(-this._previousScrollPosition.left),t.style.top=Ui(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,n=e.style,a=i.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZL&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZL&&(i.scrollBehavior=a,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var AE=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(At(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Ty=class{enable(){}disable(){}attach(){}};function RE(r,t){return t.some(e=>{let i=r.bottom<e.top,n=r.top>e.bottom,a=r.right<e.left,o=r.left>e.right;return i||n||a||o})}function QL(r,t){return t.some(e=>{let i=r.top<e.top,n=r.bottom>e.bottom,a=r.left<e.left,o=r.right>e.right;return i||n||a||o})}var IE=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();RE(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Fae=(()=>{class r{_scrollDispatcher=V(nd);_viewportRuler=V(Ao);_ngZone=V(_t);_document=V(zt);constructor(){}noop=()=>new Ty;close=e=>new AE(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new TE(this._viewportRuler,this._document);reposition=e=>new IE(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ol=class{positionStrategy;scrollStrategy=new Ty;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var OE=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var nF=(()=>{class r{_attachedOverlays=[];_document=V(zt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Nae=(()=>{class r extends nF{_ngZone=V(_t);_renderer=V(Za).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let n=i.length-1;n>-1;n--)if(i[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[n]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bae=(()=>{class r extends nF{_platform=V(Ir);_ngZone=V(_t,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=$i(e)};_clickListener=e=>{let i=$i(e),n=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let o=a.length-1;o>-1;o--){let s=a[o];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(JL(s.overlayElement,i)||JL(s.overlayElement,n))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function JL(r,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===r)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var aF=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return r})(),oF=(()=>{class r{_platform=V(Ir);_containerElement;_document=V(zt);_styleLoader=V(vn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||cE()){let n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<n.length;a++)n[a].remove()}let i=this._document.createElement("div");i.classList.add(e),cE()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(aF)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),kE=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,n){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",n)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},PE=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Ue;_attachments=new Ue;_detachments=new Ue;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new Ue;_outsidePointerEvents=new Ue;_renders=new Ue;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,n,a,o,s,l,c,d=!1,u,f){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=a,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=f,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=Eo(()=>bv(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ln(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Oe(Oe({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Bt(Oe({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ui(this._config.width),t.height=Ui(this._config.height),t.minWidth=Ui(this._config.minWidth),t.minHeight=Ui(this._config.minHeight),t.maxWidth=Ui(this._config.maxWidth),t.maxHeight=Ui(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new kE(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let n=Tl(e||[]).filter(a=>!!a);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(hr(xi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},eF="cdk-overlay-connected-position-bounding-box",Vae=/([A-Za-z%]+)$/,LE=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Ue;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,n,a){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=a,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(eF),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=this._containerRect,a=[],o;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,n,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,i,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){a.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(a.length){let s=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ad(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let n;if(i.originX=="center")n=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;n=i.originX=="start"?o:s}e.left<0&&(n-=e.left);let a;return i.originY=="center"?a=t.top+t.height/2:a=i.originY=="top"?t.top:t.bottom,e.top<0&&(a-=e.top),{x:n,y:a}}_getOverlayPoint(t,e,i){let n;i.overlayX=="center"?n=-e.width/2:i.overlayX==="start"?n=this._isRtl()?-e.width:0:n=this._isRtl()?0:-e.width;let a;return i.overlayY=="center"?a=-e.height/2:a=i.overlayY=="top"?0:-e.height,{x:t.x+n,y:t.y+a}}_getOverlayFit(t,e,i,n){let a=rF(e),{x:o,y:s}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(o+=l),c&&(s+=c);let d=0-o,u=o+a.width-i.width,f=0-s,m=s+a.height-i.height,g=this._subtractOverflows(a.width,d,u),v=this._subtractOverflows(a.height,f,m),y=g*v;return{visibleArea:y,isCompletelyWithinViewport:a.width*a.height===y,fitsInViewportVertically:v===a.height,fitsInViewportHorizontally:g==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let n=i.bottom-e.y,a=i.right-e.x,o=tF(this._overlayRef.getConfig().minHeight),s=tF(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||o!=null&&o<=n,c=t.fitsInViewportHorizontally||s!=null&&s<=a;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=rF(e),a=this._viewportRect,o=Math.max(t.x+n.width-a.width,0),s=Math.max(t.y+n.height-a.height,0),l=Math.max(a.top-i.top-t.y,0),c=Math.max(a.left-i.left-t.x,0),d=0,u=0;return n.width<=a.width?d=c||-o:d=t.x<this._viewportMargin?a.left-i.left-t.x:0,n.height<=a.height?u=l||-s:u=t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!zae(this._lastScrollVisibility,i)){let n=new OE(t,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,n=this._isRtl(),a,o,s;if(e.overlayY==="top")o=t.y,a=i.height-o+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-t.y+this._viewportMargin*2,a=i.height-s+this._viewportMargin;else{let m=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;a=m*2,o=t.y-m,a>g&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-g/2)}let l=e.overlayX==="start"&&!n||e.overlayX==="end"&&n,c=e.overlayX==="end"&&!n||e.overlayX==="start"&&n,d,u,f;if(c)f=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)u=t.x,d=i.right-t.x;else{let m=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-g/2)}return{top:o,left:u,bottom:s,right:f,width:d,height:a}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;n.height=Ui(i.height),n.top=Ui(i.top),n.bottom=Ui(i.bottom),n.width=Ui(i.width),n.left=Ui(i.left),n.right=Ui(i.right),e.overlayX==="center"?n.alignItems="center":n.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?n.justifyContent="center":n.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=Ui(a)),o&&(n.maxWidth=Ui(o))}this._lastBoundingBoxSize=i,ad(this._boundingBox.style,n)}_resetBoundingBoxStyles(){ad(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ad(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();ad(i,this._getExactOverlayY(e,t,d)),ad(i,this._getExactOverlayX(e,t,d))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),o.maxHeight&&(n?i.maxHeight=Ui(o.maxHeight):a&&(i.maxHeight="")),o.maxWidth&&(n?i.maxWidth=Ui(o.maxWidth):a&&(i.maxWidth="")),ad(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;n.bottom=`${o-(a.y+this._overlayRect.height)}px`}else n.top=Ui(a.y);return n}_getExactOverlayX(t,e,i){let n={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(a.x+this._overlayRect.width)}px`}else n.left=Ui(a.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:QL(t,i),isOriginOutsideView:RE(t,i),isOverlayClipped:QL(e,i),isOverlayOutsideView:RE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Tl(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof vt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function ad(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function tF(r){if(typeof r!="number"&&r!=null){let[t,e]=r.split(Vae);return!e||e==="px"?parseFloat(t):null}return r||null}function rF(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function zae(r,t){return r===t?!0:r.isOriginClipped===t.isOriginClipped&&r.isOriginOutsideView===t.isOriginOutsideView&&r.isOverlayClipped===t.isOverlayClipped&&r.isOverlayOutsideView===t.isOverlayOutsideView}var iF="cdk-global-overlay-wrapper",FE=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(iF),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:o,maxHeight:s}=i,l=(n==="100%"||n==="100vw")&&(!o||o==="100%"||o==="100vw"),c=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,f=this._overlayRef.getConfig().direction==="rtl",m="",g="",v="";l?v="flex-start":d==="center"?(v="center",f?g=u:m=u):f?d==="left"||d==="end"?(v="flex-end",m=u):(d==="right"||d==="start")&&(v="flex-start",g=u):d==="left"||d==="start"?(v="flex-start",m=u):(d==="right"||d==="end")&&(v="flex-end",g=u),t.position=this._cssPosition,t.marginLeft=l?"0":m,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":g,e.justifyContent=v,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(iF),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},qae=(()=>{class r{_viewportRuler=V(Ao);_document=V(zt);_platform=V(Ir);_overlayContainer=V(oF);constructor(){}global(){return new FE}flexibleConnectedTo(e){return new LE(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Qn=(()=>{class r{scrollStrategies=V(Fae);_overlayContainer=V(oF);_positionBuilder=V(qae);_keyboardDispatcher=V(Nae);_injector=V(Nr);_ngZone=V(_t);_document=V(zt);_directionality=V(Yi);_location=V(Hc);_outsideClickDispatcher=V(Bae);_animationsModuleType=V(Wi,{optional:!0});_idGenerator=V(Mn);_renderer=V(Za).createRenderer(null,null);_appRef;_styleLoader=V(vn);constructor(){}create(e){this._styleLoader.load(aF);let i=this._createHostElement(),n=this._createPaneElement(i),a=this._createPortalOutlet(n),o=new Ol(e);return o.direction=o.direction||this._directionality.value,new PE(a,i,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Ka),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ms)),new wm(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Uae=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sF=new je("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(Qn);return()=>r.scrollStrategies.reposition()}}),Cm=(()=>{class r{elementRef=V(vt);constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return r})(),NE=(()=>{class r{_overlay=V(Qn);_dir=V(Yi,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=rt.EMPTY;_attachSubscription=rt.EMPTY;_detachSubscription=rt.EMPTY;_positionSubscription=rt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=V(sF);_disposeOnNavigation=!1;_ngZone=V(_t);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new gt;positionChange=new gt;attach=new gt;detach=new gt;overlayKeydown=new gt;overlayOutsideClick=new gt;constructor(){let e=V(Yo),i=V(Kn);this._templatePortal=new ks(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Uae);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!Sn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let n=this._getOriginElement(),a=$i(i);(!n||n!==a&&!n.contains(a))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ol({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(n=>({originX:n.originX,originY:n.originY,overlayX:n.overlayX,overlayY:n.overlayY,offsetX:n.offsetX||this.offsetX,offsetY:n.offsetY||this.offsetY,panelClass:n.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Cm?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Cm?this.origin.elementRef.nativeElement:this.origin instanceof vt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(cu(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Rt],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Rt],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Rt],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Rt],push:[2,"cdkConnectedOverlayPush","push",Rt],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Rt]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ii]})}return r})();function Hae(r){return()=>r.scrollStrategies.reposition()}var Gae={provide:sF,deps:[Qn],useFactory:Hae},Yu=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({providers:[Qn,Gae],imports:[Rl,KL,EE,EE]})}return r})();var BE=class{_box;_destroyed=new Ue;_resizeSubject=new Ue;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Xn(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(At(e=>e.some(i=>i.target===t)),Bw({bufferSize:1,refCount:!0}),hr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},lF=(()=>{class r{_cleanupErrorListener;_observers=new Map;_ngZone=V(_t);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let n=i?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new BE(n)),this._observers.get(n).observe(e)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Wae=["notch"],jae=["matFormFieldNotchedOutline",""],$ae=["*"],Yae=["textField"],Xae=["iconPrefixContainer"],Kae=["textPrefixContainer"],Zae=["iconSuffixContainer"],Qae=["textSuffixContainer"],Jae=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],eoe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function toe(r,t){r&1&&Pe(0,"span",21)}function roe(r,t){if(r&1&&(ae(0,"label",20),Ct(1,1),Nt(2,toe,1,0,"span",21),ue()),r&2){let e=nt(2);Re("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Vt("for",e._control.disableAutomaticLabeling?null:e._control.id),ge(2),$t(!e.hideRequiredMarker&&e._control.required?2:-1)}}function ioe(r,t){if(r&1&&Nt(0,roe,3,5,"label",20),r&2){let e=nt();$t(e._hasFloatingLabel()?0:-1)}}function noe(r,t){r&1&&Pe(0,"div",7)}function aoe(r,t){}function ooe(r,t){if(r&1&&Nt(0,aoe,0,0,"ng-template",13),r&2){nt(2);let e=Qa(1);Re("ngTemplateOutlet",e)}}function soe(r,t){if(r&1&&(ae(0,"div",9),Nt(1,ooe,1,1,null,13),ue()),r&2){let e=nt();Re("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),ge(),$t(e._forceDisplayInfixLabel()?-1:1)}}function loe(r,t){r&1&&(ae(0,"div",10,2),Ct(2,2),ue())}function coe(r,t){r&1&&(ae(0,"div",11,3),Ct(2,3),ue())}function doe(r,t){}function uoe(r,t){if(r&1&&Nt(0,doe,0,0,"ng-template",13),r&2){nt();let e=Qa(1);Re("ngTemplateOutlet",e)}}function hoe(r,t){r&1&&(ae(0,"div",14,4),Ct(2,4),ue())}function foe(r,t){r&1&&(ae(0,"div",15,5),Ct(2,5),ue())}function moe(r,t){r&1&&Pe(0,"div",16)}function poe(r,t){if(r&1&&(ae(0,"div",18),Ct(1,6),ue()),r&2){let e=nt();Re("@transitionMessages",e._subscriptAnimationState)}}function goe(r,t){if(r&1&&(ae(0,"mat-hint",22),He(1),ue()),r&2){let e=nt(2);Re("id",e._hintLabelId),ge(),Rr(e.hintLabel)}}function voe(r,t){if(r&1&&(ae(0,"div",19),Nt(1,goe,2,2,"mat-hint",22),Ct(2,7),Pe(3,"div",23),Ct(4,8),ue()),r&2){let e=nt();Re("@transitionMessages",e._subscriptAnimationState),ge(),$t(e.hintLabel?1:-1)}}var li=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["mat-label"]]})}return r})(),yoe=new je("MatError");var cF=(()=>{class r{align="start";id=V(Mn).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,n){i&2&&(pu("id",n.id),Vt("align",null),It("mat-mdc-form-field-hint-end",n.align==="end"))},inputs:{align:"align",id:"id"}})}return r})(),boe=new je("MatPrefix");var _oe=new je("MatSuffix");var gF=new je("FloatingLabelParent"),dF=(()=>{class r{_elementRef=V(vt);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=V(lF);_ngZone=V(_t);_parent=V(gF);_resizeSubscription=new rt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return xoe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,n){i&2&&It("mdc-floating-label--float-above",n.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return r})();function xoe(r){let t=r;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var uF="mdc-line-ripple--active",Ay="mdc-line-ripple--deactivating",hF=(()=>{class r{_elementRef=V(vt);_cleanupTransitionEnd;constructor(){let e=V(_t),i=V(qi);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Ay),e.add(uF)}deactivate(){this._elementRef.nativeElement.classList.add(Ay)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,n=i.contains(Ay);e.propertyName==="opacity"&&n&&i.remove(uF,Ay)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return r})(),fF=(()=>{class r{_elementRef=V(vt);_ngZone=V(_t);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,n){if(i&1&&Qr(Wae,5),i&2){let a;Mt(a=Dt())&&(n._notch=a.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,n){i&2&&It("mdc-notched-outline--notched",n.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:jae,ngContentSelectors:$ae,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,n){i&1&&(Dr(),Pe(0,"div",1),ae(1,"div",2,0),Ct(3),ue(),Pe(4,"div",3))},encapsulation:2,changeDetection:0})}return r})(),woe={transitionMessages:Xo("transitionMessages",[Ts("enter",pn({opacity:1,transform:"translateY(0%)"})),Ta("void => enter",[pn({opacity:0,transform:"translateY(-5px)"}),Da("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Em=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r})}return r})();var od=new je("MatFormField"),Coe=new je("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mF="fill",Eoe="auto",pF="fixed",Soe="translateY(-50%)",Ci=(()=>{class r{_elementRef=V(vt);_changeDetectorRef=V(Kr);_dir=V(Yi);_platform=V(Ir);_idGenerator=V(Mn);_defaults=V(Coe,{optional:!0});_animationMode=V(Wi,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=dk(li);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=rn(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Eoe}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,n=e||this._defaults?.appearance||mF;this._appearance=n,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=mF;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||pF}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||pF}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Ue;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=V(Nr);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ma(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,n="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(n+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(n+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(dr([void 0,void 0]),pt(()=>[i.errorState,i.userAriaDescribedBy]),Nw(),At(([[a,o],[s,l]])=>a!==s||o!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(hr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),xi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),bv(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(hr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ma(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,n=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,a=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,c=a?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",f=`${s+l}px`,g=`calc(${u} * (${f} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Soe} translateX(${g})
    )`;let v=s+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${v}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,n,a){if(i&1&&(pk(a,n._labelChild,li,5),Tr(a,Em,5),Tr(a,boe,5),Tr(a,_oe,5),Tr(a,yoe,5),Tr(a,cF,5)),i&2){mn();let o;Mt(o=Dt())&&(n._formFieldControl=o.first),Mt(o=Dt())&&(n._prefixChildren=o),Mt(o=Dt())&&(n._suffixChildren=o),Mt(o=Dt())&&(n._errorChildren=o),Mt(o=Dt())&&(n._hintChildren=o)}},viewQuery:function(i,n){if(i&1&&(Qr(Yae,5),Qr(Xae,5),Qr(Kae,5),Qr(Zae,5),Qr(Qae,5),Qr(dF,5),Qr(fF,5),Qr(hF,5)),i&2){let a;Mt(a=Dt())&&(n._textField=a.first),Mt(a=Dt())&&(n._iconPrefixContainer=a.first),Mt(a=Dt())&&(n._textPrefixContainer=a.first),Mt(a=Dt())&&(n._iconSuffixContainer=a.first),Mt(a=Dt())&&(n._textSuffixContainer=a.first),Mt(a=Dt())&&(n._floatingLabel=a.first),Mt(a=Dt())&&(n._notchedOutline=a.first),Mt(a=Dt())&&(n._lineRipple=a.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,n){i&2&&It("mat-mdc-form-field-label-always-float",n._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",n._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",n._hasIconSuffix)("mat-form-field-invalid",n._control.errorState)("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-form-field-no-animations",n._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",n.appearance=="fill")("mat-form-field-appearance-outline",n.appearance=="outline")("mat-form-field-hide-placeholder",n._hasFloatingLabel()&&!n._shouldLabelFloat())("mat-focused",n._control.focused)("mat-primary",n.color!=="accent"&&n.color!=="warn")("mat-accent",n.color==="accent")("mat-warn",n.color==="warn")("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Yt([{provide:od,useExisting:r},{provide:gF,useExisting:r}])],ngContentSelectors:eoe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,n){if(i&1){let a=Br();Dr(Jae),Nt(0,ioe,1,1,"ng-template",null,0,Ww),ae(2,"div",6,1),Xe("click",function(s){return Gt(a),Wt(n._control.onContainerClick(s))}),Nt(4,noe,1,0,"div",7),ae(5,"div",8),Nt(6,soe,2,2,"div",9)(7,loe,3,0,"div",10)(8,coe,3,0,"div",11),ae(9,"div",12),Nt(10,uoe,1,1,null,13),Ct(11),ue(),Nt(12,hoe,3,0,"div",14)(13,foe,3,0,"div",15),ue(),Nt(14,moe,1,0,"div",16),ue(),ae(15,"div",17),Nt(16,poe,2,1,"div",18)(17,voe,5,2,"div",19),ue()}if(i&2){let a;ge(2),It("mdc-text-field--filled",!n._hasOutline())("mdc-text-field--outlined",n._hasOutline())("mdc-text-field--no-label",!n._hasFloatingLabel())("mdc-text-field--disabled",n._control.disabled)("mdc-text-field--invalid",n._control.errorState),ge(2),$t(!n._hasOutline()&&!n._control.disabled?4:-1),ge(2),$t(n._hasOutline()?6:-1),ge(),$t(n._hasIconPrefix?7:-1),ge(),$t(n._hasTextPrefix?8:-1),ge(2),$t(!n._hasOutline()||n._forceDisplayInfixLabel()?10:-1),ge(2),$t(n._hasTextSuffix?12:-1),ge(),$t(n._hasIconSuffix?13:-1),ge(),$t(n._hasOutline()?-1:14),ge(),It("mat-mdc-form-field-subscript-dynamic-size",n.subscriptSizing==="dynamic"),ge(),$t((a=n._getDisplayedMessages())==="error"?16:a==="hint"?17:-1)}},dependencies:[dF,fF,Mk,hF,cF],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[woe.transitionMessages]},changeDetection:0})}return r})(),nn=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,py,qt]})}return r})();var Moe=["panel"],Doe=["*"];function Toe(r,t){if(r&1){let e=Br();ae(0,"div",1,0),Xe("@panelAnimation.done",function(n){Gt(e);let a=nt();return Wt(a._animationDone.next(n))}),Ct(2),ue()}if(r&2){let e=t.id,i=nt();Sa(i._classList),It("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),Re("id",i.id)("@panelAnimation",i.isOpen?"visible":"hidden"),Vt("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(e))}}var Aoe=Xo("panelAnimation",[Ts("void, hidden",pn({opacity:0,transform:"scaleY(0.8)"})),Ta(":enter, hidden => visible",[Ok([Da("0.03s linear",pn({opacity:1})),Da("0.12s cubic-bezier(0, 0, 0.2, 1)",pn({transform:"scaleY(1)"}))])]),Ta(":leave, visible => hidden",[Da("0.075s linear",pn({opacity:0}))])]),VE=class{source;option;constructor(t,e){this.source=t,this.option=e}},vF=new je("mat-autocomplete-default-options",{providedIn:"root",factory:Roe});function Roe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var yF=(()=>{class r{_changeDetectorRef=V(Kr);_elementRef=V(vt);_defaults=V(vF);_activeOptionChanges=rt.EMPTY;_animationDone=new gt;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new gt;opened=new gt;closed=new gt;optionActivated=new gt;set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}id=V(Mn).getId("mat-autocomplete-");inertGroups;constructor(){let e=V(Ir);this.inertGroups=e?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new zu(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let i=new VE(this,e);this.optionSelected.emit(i)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,da,5),Tr(a,bm,5)),i&2){let o;Mt(o=Dt())&&(n.options=o),Mt(o=Dt())&&(n.optionGroups=o)}},viewQuery:function(i,n){if(i&1&&(Qr(Yo,7),Qr(Moe,5)),i&2){let a;Mt(a=Dt())&&(n.template=a.first),Mt(a=Dt())&&(n.panel=a.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",Rt],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",Rt],requireSelection:[2,"requireSelection","requireSelection",Rt],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",Rt],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Rt]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[Yt([{provide:ym,useExisting:r}])],ngContentSelectors:Doe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,n){i&1&&(Dr(),Nt(0,Toe,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Aoe]},changeDetection:0})}return r})();var Ioe={provide:Lu,useExisting:ca(()=>zE),multi:!0};var bF=new je("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(Qn);return()=>r.scrollStrategies.reposition()}});function Ooe(r){return()=>r.scrollStrategies.reposition()}var koe={provide:bF,deps:[Qn],useFactory:Ooe},zE=(()=>{class r{_environmentInjector=V(Ka);_element=V(vt);_overlay=V(Qn);_viewContainerRef=V(Kn);_zone=V(_t);_changeDetectorRef=V(Kr);_dir=V(Yi,{optional:!0});_formField=V(od,{optional:!0,host:!0});_document=V(zt);_viewportRuler=V(Ao);_scrollStrategy=V(bF);_renderer=V(qi);_defaults=V(vF,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new Ue;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=rt.EMPTY;_breakpointObserver=V(gy);_handsetLandscapeSubscription=rt.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new Ue;_windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Qc(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return xi(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(At(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(At(()=>this._overlayAttached)):Ze()).pipe(pt(e=>e instanceof vm?e:null))}optionSelections=Pc(()=>{let e=this.autocomplete?this.autocomplete.options:null;return e?e.changes.pipe(dr(e),nr(()=>xi(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(nr(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new Xn(e=>{let i=a=>{let o=$i(a),s=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&o!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!s||!s.contains(o))&&(!l||!l.contains(o))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(o)&&e.next(a)},n=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{n.forEach(a=>a())}})}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let i=e.keyCode,n=Sn(e);if(i===27&&!n&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===13&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let a=this.autocomplete._keyManager.activeItem,o=i===38||i===40;i===9||o&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):o&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(o||this.autocomplete._keyManager.activeItem!==a)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let i=e.target,n=i.value;if(i.type==="number"&&(n=n==""?null:parseFloat(n)),this._previousValue!==n){if(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),!n)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let a=this.autocomplete.options?.find(o=>o.selected);if(a){let o=this._getDisplayValue(a.value);n!==o&&a.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let a=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(a)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Xn(n=>{Ln(()=>{n.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options.changes.pipe(Et(()=>this._positionStrategy.reapplyLastPosition()),Xa(0));return xi(e,i).pipe(nr(()=>this._zone.run(()=>{let n=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),oi(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(e):e}_assignOptionValue(e){let i=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let i=this.autocomplete,n=e?e.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),i._emitSelectEvent(n),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(oi(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,i){this.autocomplete?.options?.forEach(n=>{n!==e&&n.selected&&n.deselect(i)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;gm(this._trackedModal,"aria-owns",i)}}_attachOverlay(e){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new ks(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(IL.HandsetLandscape).subscribe(a=>{a.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let n=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&n!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=e=>{(e.keyCode===27&&!Sn(e)||e.keyCode===38&&Sn(e,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),e.stopPropagation(),e.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Ol({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}],o;this.position==="above"?o=a:this.position==="below"?o=i:o=[...i,...a],e.withPositions(o)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let i=-1;for(let n=0;n<e.options.length;n++)if(!e.options.get(n).disabled){i=n;break}e._keyManager.setActiveItem(i)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_scrollToOption(e){let i=this.autocomplete,n=Sy(e,i.options,i.optionGroups);if(e===0&&n===1)i._setScrollTop(0);else if(i.panel){let a=i.options.toArray()[e];if(a){let o=a._getHostElement(),s=My(o.offsetTop,o.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(s)}}}_trackedModal=null;_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=this.autocomplete.id;this._trackedModal&&Qc(this._trackedModal,"aria-owns",i),gm(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;Qc(this._trackedModal,"aria-owns",e),this._trackedModal=null}}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,n){i&1&&Xe("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(o){return n._handleInput(o)})("keydown",function(o){return n._handleKeydown(o)})("click",function(){return n._handleClick()}),i&2&&Vt("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||n.autocomplete==null?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",Rt]},exportAs:["matAutocompleteTrigger"],features:[Yt([Ioe]),Ii]})}return r})(),Ry=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({providers:[koe],imports:[Yu,ju,qt,no,ju,qt]})}return r})();var Loe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return r})(),_F=Zn({passive:!0}),xF=(()=>{class r{_platform=V(Ir);_ngZone=V(_t);_styleLoader=V(vn);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return xo;this._styleLoader.load(Loe);let i=Li(e),n=this._monitoredElements.get(i);if(n)return n.subject;let a=new Ue,o="cdk-text-field-autofilled",s=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(o)?(i.classList.add(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>a.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",s,_F),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",s,_F)}}),a}stopMonitoring(e){let i=Li(e),n=this._monitoredElements.get(i);n&&(n.unlisten(),n.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var wF=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({})}return r})();var Foe=new je("MAT_INPUT_VALUE_ACCESSOR"),Noe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Boe=new je("MAT_INPUT_CONFIG"),Xi=(()=>{class r{_elementRef=V(vt);_platform=V(Ir);ngControl=V(Do,{optional:!0,self:!0});_autofillMonitor=V(xF);_ngZone=V(_t);_formField=V(od,{optional:!0});_renderer=V(qi);_uid=V(Mn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=V(Boe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Ue;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Ne.required)??!1}set required(e){this._required=rn(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&lE().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=rn(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>lE().has(e));constructor(){let e=V(um,{optional:!0}),i=V(Ia,{optional:!0}),n=V(Cy),a=V(Foe,{optional:!0,self:!0}),o=this._elementRef.nativeElement,s=o.nodeName.toLowerCase();a?Nc(a.value)?this._signalBasedValueAccessor=a:this._inputValueAccessor=a:this._inputValueAccessor=o,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(o,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Hu(n,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=s==="select",this._isTextarea=s==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=o.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&bl(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Noe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,n=i.getAttribute("aria-describedby"),a;if(n){let o=this._formFieldDescribedBy||e;a=e.concat(n.split(" ").filter(s=>s&&!o.includes(s)))}else a=e;this._formFieldDescribedBy=e,a.length?i.setAttribute("aria-describedby",a.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,n){i&1&&Xe("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),i&2&&(pu("id",n.id)("disabled",n.disabled&&!n.disabledInteractive)("required",n.required),Vt("name",n.name||null)("readonly",n._getReadonlyAttribute())("aria-disabled",n.disabled&&n.disabledInteractive?"true":null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required)("id",n.id),It("mat-input-server",n._isServer)("mat-mdc-form-field-textarea-control",n._isInFormField&&n._isTextarea)("mat-mdc-form-field-input-control",n._isInFormField)("mat-mdc-input-disabled-interactive",n.disabledInteractive)("mdc-text-field__input",n._isInFormField)("mat-mdc-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]},exportAs:["matInput"],features:[Yt([{provide:Em,useExisting:r}]),Ii]})}return r})(),CF=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,nn,nn,wF,qt]})}return r})();function Voe(r,t){if(r&1&&(ae(0,"mat-option",3),He(1),ue()),r&2){let e=t.$implicit;Re("value",e),ge(),Rr(e)}}var Iy=class r{sub=new rt;field=si.required();filteredOptions=new ir([]);ngOnInit(){this.sub.add(this.field().formControl.valueChanges.pipe(dr(""),Ya(150),nr(t=>this.field().options.pipe(oi(1),pt(e=>{let i=t.toLowerCase();return e.filter(n=>n.toLowerCase().includes(i))})))).subscribe({next:t=>this.filteredOptions.next(t)}))}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-field-autocomplete"]],inputs:{field:[1,"field"]},decls:9,vars:5,consts:[["auto","matAutocomplete"],["type","text","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],[3,"value"]],template:function(e,i){if(e&1&&(ae(0,"mat-form-field")(1,"mat-label"),He(2),ue(),Pe(3,"input",1),ae(4,"mat-autocomplete",2,0),fr(6,Voe,2,2,"mat-option",3,mu),qc(8,"async"),ue()()),e&2){let n=Qa(5);ge(2),Rr(i.field().label),ge(),Re("formControl",i.field().formControl)("matAutocomplete",n),ge(3),mr(Uc(8,3,i.filteredOptions))}},dependencies:[nn,Ci,li,Xi,Vn,Oi,ki,tn,Ry,yF,da,zE,yu],encapsulation:2})};var Oy=class r{field=si.required();static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-field-number"]],inputs:{field:[1,"field"]},decls:4,vars:2,consts:[["appearance","outline"],["matInput","","type","number","step","any",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"mat-form-field",0)(1,"mat-label"),He(2),ue(),Pe(3,"input",1),ue()),e&2&&(ge(2),Rr(i.field().label),ge(),Re("formControl",i.field().formControl))},dependencies:[nn,Ci,li,Vn,Oi,En,ki,tn,Xi],encapsulation:2})};var zoe=["trigger"],qoe=["panel"],Uoe=[[["mat-select-trigger"]],"*"],Hoe=["mat-select-trigger","*"];function Goe(r,t){if(r&1&&(ae(0,"span",4),He(1),ue()),r&2){let e=nt();ge(),Rr(e.placeholder)}}function Woe(r,t){r&1&&Ct(0)}function joe(r,t){if(r&1&&(ae(0,"span",11),He(1),ue()),r&2){let e=nt(2);ge(),Rr(e.triggerValue)}}function $oe(r,t){if(r&1&&(ae(0,"span",5),Nt(1,Woe,1,0)(2,joe,2,1,"span",11),ue()),r&2){let e=nt();ge(),$t(e.customTrigger?1:2)}}function Yoe(r,t){if(r&1){let e=Br();ae(0,"div",12,1),Xe("@transformPanel.done",function(n){Gt(e);let a=nt();return Wt(a._panelDoneAnimatingStream.next(n.toState))})("keydown",function(n){Gt(e);let a=nt();return Wt(a._handleKeydown(n))}),Ct(2,1),ue()}if(r&2){let e=nt();mk("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Re("ngClass",e.panelClass)("@transformPanel","showing"),Vt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var Xoe={transformPanelWrap:Xo("transformPanelWrap",[Ta("* => void",Pk("@transformPanel",[kk()],{optional:!0}))]),transformPanel:Xo("transformPanel",[Ts("void",pn({opacity:0,transform:"scale(1, 0.8)"})),Ta("void => showing",Da("120ms cubic-bezier(0, 0, 0.2, 1)",pn({opacity:1,transform:"scale(1, 1)"}))),Ta("* => void",Da("100ms linear",pn({opacity:0})))])};var EF=new je("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(Qn);return()=>r.scrollStrategies.reposition()}});function Koe(r){return()=>r.scrollStrategies.reposition()}var Zoe=new je("MAT_SELECT_CONFIG"),Qoe={provide:EF,deps:[Qn],useFactory:Koe},Joe=new je("MatSelectTrigger"),qE=class{source;value;constructor(t,e){this.source=t,this.value=e}},Pl=(()=>{class r{_viewportRuler=V(Ao);_changeDetectorRef=V(Kr);_elementRef=V(vt);_dir=V(Yi,{optional:!0});_idGenerator=V(Mn);_parentFormField=V(od,{optional:!0});ngControl=V(Do,{self:!0,optional:!0});_liveAnnouncer=V(zL);_defaultOptions=V(Zoe,{optional:!0});_initialized=new Ue;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let n=this.panel.nativeElement,a=Sy(e,this.options,this.optionGroups),o=i._getHostElement();e===0&&a===1?n.scrollTop=0:n.scrollTop=My(o.offsetTop,o.offsetHeight,n.scrollTop,n.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new qE(this,e)}_scrollStrategyFactory=V(EF);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Ue;_errorStateTracker;stateChanges=new Ue;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new Ue;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Ne.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Pc(()=>{let e=this.options;return e?e.changes.pipe(dr(e),nr(()=>xi(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(nr(()=>this.optionSelectionChanges))});openedChange=new gt;_openedStream=this.openedChange.pipe(At(e=>e),pt(()=>{}));_closedStream=this.openedChange.pipe(At(e=>!e),pt(()=>{}));selectionChange=new gt;valueChange=new gt;constructor(){let e=V(Cy),i=V(um,{optional:!0}),n=V(Ia,{optional:!0}),a=V(new Af("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Hu(e,this.ngControl,n,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=a==null?0:parseInt(a)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Dy(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Df(),hr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(hr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(hr(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(dr(null),hr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let n=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?n.setAttribute("aria-labelledby",e):n.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Qc(this._trackedModal,"aria-owns",i),gm(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Qc(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,n=i===40||i===38||i===37||i===39,a=i===13||i===32,o=this._keyManager;if(!o.isTyping()&&a&&!Sn(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){let s=this.selected;o.onKeydown(e);let l=this.selected;l&&s!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,n=e.keyCode,a=n===40||n===38,o=i.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(!o&&(n===13||n===32)&&i.activeItem&&!Sn(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!o&&this._multiple&&n===65&&e.ctrlKey){e.preventDefault();let s=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(s?l.select():l.deselect())})}else{let s=i.activeItemIndex;i.onKeydown(e),this._multiple&&a&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==s&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(oi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(n=>{if(this._selectionModel.isSelected(n))return!1;try{return(n.value!=null||this.canSelectNullableOptions)&&this._compareWith(n.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Cm?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new zu(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=xi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hr(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),xi(...this.options.map(i=>i._stateChanges)).pipe(hr(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let n=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,n)=>this.sortComparator?this.sortComparator(i,n,e):e.indexOf(i)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(n=>n.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-select"]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,Joe,5),Tr(a,da,5),Tr(a,bm,5)),i&2){let o;Mt(o=Dt())&&(n.customTrigger=o.first),Mt(o=Dt())&&(n.options=o),Mt(o=Dt())&&(n.optionGroups=o)}},viewQuery:function(i,n){if(i&1&&(Qr(zoe,5),Qr(qoe,5),Qr(NE,5)),i&2){let a;Mt(a=Dt())&&(n.trigger=a.first),Mt(a=Dt())&&(n.panel=a.first),Mt(a=Dt())&&(n._overlayDir=a.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,n){i&1&&Xe("keydown",function(o){return n._handleKeydown(o)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),i&2&&(Vt("id",n.id)("tabindex",n.disabled?-1:n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-activedescendant",n._getAriaActiveDescendant()),It("mat-mdc-select-disabled",n.disabled)("mat-mdc-select-invalid",n.errorState)("mat-mdc-select-required",n.required)("mat-mdc-select-empty",n.empty)("mat-mdc-select-multiple",n.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ds(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Rt],placeholder:"placeholder",required:[2,"required","required",Rt],multiple:[2,"multiple","multiple",Rt],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Rt],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ds],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Rt]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Yt([{provide:Em,useExisting:r},{provide:ym,useExisting:r}]),Ii],ngContentSelectors:Hoe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,n){if(i&1){let a=Br();Dr(Uoe),ae(0,"div",2,0),Xe("click",function(){return Gt(a),Wt(n.open())}),ae(3,"div",3),Nt(4,Goe,2,1,"span",4)(5,$oe,3,1,"span",5),ue(),ae(6,"div",6)(7,"div",7),Tf(),ae(8,"svg",8),Pe(9,"path",9),ue()()()(),Nt(10,Yoe,3,9,"ng-template",10),Xe("backdropClick",function(){return Gt(a),Wt(n.close())})("attach",function(){return Gt(a),Wt(n._onAttached())})("detach",function(){return Gt(a),Wt(n.close())})}if(i&2){let a=Qa(1);ge(3),Vt("id",n._valueId),ge(),$t(n.empty?4:5),ge(6),Re("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",n._preferredOverlayOrigin||a)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayWidth",n._overlayWidth)}},dependencies:[Cm,NE,Mv],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[Xoe.transformPanel]},changeDetection:0})}return r})();var ky=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({providers:[Qoe],imports:[Yu,ju,qt,no,nn,ju,qt]})}return r})();var ese=(r,t)=>t.label;function tse(r,t){if(r&1&&(ae(0,"mat-option",2),He(1),ue()),r&2){let e=t.$implicit;Re("value",e.value),ge(),Rr(e.label)}}var Ll=class r{field=si.required();static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-field-select"]],inputs:{field:[1,"field"]},decls:7,vars:5,consts:[["appearance","outline"],[3,"required","formControl"],[3,"value"]],template:function(e,i){e&1&&(ae(0,"mat-form-field",0)(1,"mat-label"),He(2),ue(),ae(3,"mat-select",1),fr(4,tse,2,2,"mat-option",2,ese),qc(6,"async"),ue()()),e&2&&(ge(2),Rr(i.field().label),ge(),Re("required",!0)("formControl",i.field().formControl),ge(),mr(Uc(6,3,i.field().options)))},dependencies:[nn,Ci,li,ky,Pl,da,Vn,ki,mm,tn,yu],encapsulation:2})};var Xu=class r{field=si.required();static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-field-text"]],inputs:{field:[1,"field"]},decls:4,vars:2,consts:[["appearance","outline"],["matInput","","type","text",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"mat-form-field",0)(1,"mat-label"),He(2),ue(),Pe(3,"input",1),ue()),e&2&&(ge(2),Rr(i.field().label),ge(),Re("formControl",i.field().formControl))},dependencies:[nn,Ci,li,Vn,Oi,ki,tn,Xi],encapsulation:2})};var ise=["container"],Ki=class r{field=si.required();view=Fn.required("container",{read:Kn});fields={text:Xu,number:Oy,select:Ll,autocomplete:Iy};constructor(){}ngOnInit(){this.view().clear(),this.view().createComponent(this.fields[this.field().type])?.setInput("field",this.field())}ngOnDestroy(){this.view().clear()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-field"]],viewQuery:function(e,i){e&1&&Bn(i.view,ise,5,Kn),e&2&&mn()},inputs:{field:[1,"field"]},decls:2,vars:0,consts:[["container",""]],template:function(e,i){e&1&&Cv(0,null,0)},styles:["mat-form-field[_ngcontent-%COMP%]{padding:1rem}"]})};var nse=(r,t)=>t.name;function ase(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var Ly=class r{sub=new rt;form=new Pi([er.text("text","Text",new St("",[Ne.required])),er.number("number","Number",new St("",[])),er.select("select","Select",new St(""),new ir([{label:"a",value:{data:"foo"}},{label:"b",value:{data:"bar"}}])),er.autocomplete("autocomplete","Auto Complete",new St(""),new ir(["foo","bar","hello"]))]);ngOnInit(){this.form.valueChanges().subscribe({next:console.log})}ngOnDestroy(){}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-form-example"]],decls:7,vars:6,consts:[[3,"keydown.enter","submit","formGroup"],[3,"field"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),fr(1,ase,1,1,"app-form-field",1,nse),ue(),ae(3,"pre"),He(4),qc(5,"async"),qc(6,"json"),ue()),e&2&&(Re("formGroup",i.form.group()),ge(),mr(i.form.fields()),ge(3),Rr(Uc(6,4,Uc(5,2,i.form.valueChanges()))))},dependencies:[yu,Dk,Ki,Vn,Gr,Hr,Ia],encapsulation:2})};var ose=["*"];var sse=new je("MAT_CARD_CONFIG"),SF=(()=>{class r{appearance;constructor(){let e=V(sse,{optional:!0});this.appearance=e?.appearance||"raised"}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,n){i&2&&It("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ose,decls:1,vars:0,template:function(i,n){i&1&&(Dr(),Ct(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return r})();var MF=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return r})();var Fy=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})();var DF=["*"];var cse=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",UE=class{tracker;columnIndex=0;rowIndex=0;get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}positions;update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new HE(this.rowIndex,e)}_findMatchingGap(t){t>this.tracker.length;let e=-1,i=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}if(e=this.tracker.indexOf(0,this.columnIndex),e==-1){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}i=this._findGapEndIndex(e),this.columnIndex=e+1}while(i-e<t||i==0);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(this.tracker[e]!=0)return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}},HE=class{row;col;constructor(t,e){this.row=t,this.col=e}},TF=new je("MAT_GRID_LIST"),Mm=(()=>{class r{_element=V(vt);_gridList=V(TF,{optional:!0});_rowspan=1;_colspan=1;constructor(){}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(zn(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(zn(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,n){i&2&&Vt("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:DF,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,n){i&1&&(Dr(),ae(0,"div",0),Ct(1),ue())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-sys-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-sys-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return r})();var dse=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Sm=class{_gutterSize;_rows=0;_rowspan=0;_cols;_direction;init(t,e,i,n){this._gutterSize=AF(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=n}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return e===0?"0":cd(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let n=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(t,i,n,a),this.setRowStyles(t,e,n,a)}setColStyles(t,e,i,n){let a=this.getBaseTileSize(i,n),o=this._direction==="rtl"?"right":"left";t._setStyle(o,this.getTilePosition(a,e)),t._setStyle("width",cd(this.getTileSize(a,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},GE=class extends Sm{fixedRowHeight;constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,n){super.init(t,e,i,n),this.fixedRowHeight=AF(this.fixedRowHeight),dse.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",cd(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",cd(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}},WE=class extends Sm{rowHeightRatio;baseTileHeight;constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,n){let a=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(a,n),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",cd(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",cd(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){let e=t.split(":");e.length,this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}},jE=class extends Sm{setRowStyles(t,e){let i=100/this._rowspan,n=(this._rows-1)/this._rows,a=this.getBaseTileSize(i,n);t._setStyle("top",this.getTilePosition(a,e)),t._setStyle("height",cd(this.getTileSize(a,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}};function cd(r){return`calc(${r})`}function AF(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}var use="fit",Ny=(()=>{class r{_element=V(vt);_dir=V(Yi,{optional:!0});_cols;_tileCoordinator;_rowHeight;_gutter="1px";_tileStyler;_tiles;constructor(){}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(zn(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){let i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),e===use?this._tileStyler=new jE:e&&e.indexOf(":")>-1?this._tileStyler=new WE(e):this._tileStyler=new GE(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new UE);let e=this._tileCoordinator,i=this._tiles.filter(a=>!a._gridList||a._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,n),i.forEach((a,o)=>{let s=e.positions[o];this._tileStyler.setStyle(a,s.row,s.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-grid-list"]],contentQueries:function(i,n,a){if(i&1&&Tr(a,Mm,5),i&2){let o;Mt(o=Dt())&&(n._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,n){i&2&&Vt("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Yt([{provide:TF,useExisting:r}])],ngContentSelectors:DF,decls:2,vars:0,template:function(i,n){i&1&&(Dr(),ae(0,"div"),Ct(1),ue())},styles:[cse],encapsulation:2,changeDetection:0})}return r})(),By=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[xE,qt,xE,qt]})}return r})();var fse=["*",[["mat-toolbar-row"]]],mse=["*","mat-toolbar-row"],pse=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return r})(),Fl=(()=>{class r{_elementRef=V(vt);_platform=V(Ir);_document=V(zt);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,n,a){if(i&1&&Tr(a,pse,5),i&2){let o;Mt(o=Dt())&&(n._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,n){i&2&&(Sa(n.color?"mat-"+n.color:""),It("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",n._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:mse,decls:2,vars:0,template:function(i,n){i&1&&(Dr(fse),Ct(0),Ct(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return r})();var Vy=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})();var vse=["galleryContainer"],yse=(r,t)=>t.label;function bse(r,t){if(r&1&&(ae(0,"a",4),He(1),ue()),r&2){let e=nt().$implicit;Re("routerLink",e.route),ge(),zc(" ",e.label," ")}}function _se(r,t){if(r&1&&He(0),r&2){let e=nt().$implicit;zc(" ",e.label," ")}}function xse(r,t){if(r&1&&(ae(0,"mat-grid-tile",3),Nt(1,bse,2,2,"a",4)(2,_se,1,1),ue()),r&2){let e=t.$implicit;Re("colspan",e.columnSpan)("rowspan",e.rowSpan),ge(),$t(e.route?1:2)}}var Nl=class r{subscription=new rt;container=Fn.required("galleryContainer");items=si.required();gridCols=yr(4);itemWidth=si.required();filter=new St;filteredItems=yr([]);field=er.text("filter","Filter",this.filter);ngOnInit(){this.filteredItems.set(this.items()),this.subscription.add(this._observeWindowResize()),this.subscription.add(this._observeFilterChange())}ngOnDestroy(){this.subscription.unsubscribe()}_observeWindowResize(){return su(window,"resize").pipe(yv(200),Et(()=>{let t=this.container().nativeElement.clientWidth;this.gridCols.set(Math.floor(t/this.itemWidth()))})).subscribe()}_observeFilterChange(){return this.filter.valueChanges.pipe(Ya(200),Et(t=>{t=t.toLowerCase();let e=this.items().filter(i=>i.label.toLowerCase().includes(t));this.filteredItems.set(e)})).subscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-gallery"]],viewQuery:function(e,i){e&1&&Bn(i.container,vse,5),e&2&&mn()},inputs:{items:[1,"items"],itemWidth:[1,"itemWidth"]},decls:7,vars:2,consts:[["galleryContainer",""],[3,"field"],["rowHeight","100px","gutterSize","16px",3,"cols"],[3,"colspan","rowspan"],[1,"container",3,"routerLink"]],template:function(e,i){e&1&&(ae(0,"mat-toolbar"),Pe(1,"app-form-field-text",1),ue(),ae(2,"div",null,0)(4,"mat-grid-list",2),fr(5,xse,3,3,"mat-grid-tile",3,yse),ue()()),e&2&&(ge(),Re("field",i.field),ge(3),Re("cols",i.gridCols()),ge(),mr(i.filteredItems()))},dependencies:[Vn,Fy,By,Ny,Mm,Fl,nn,CF,Ru,Xu],styles:["mat-grid-tile[_ngcontent-%COMP%]{box-shadow:var(--mat-sys-level2)}"]})};var zy=class r{items=[{label:"Widget Dashboard",rowSpan:1,columnSpan:1,route:"/ui/widget-dashboard"},{label:"Form",rowSpan:1,columnSpan:1,route:"/ui/form-example"}];static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-ui"]],decls:1,vars:2,consts:[[3,"items","itemWidth"]],template:function(e,i){e&1&&Pe(0,"app-gallery",0),e&2&&Re("items",i.items)("itemWidth",300)},dependencies:[nn,Vn,Nl],encapsulation:2})};var Cse=["mat-button",""],Ese=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Sse=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Mse="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var Dse=["mat-icon-button",""],Tse=["*"];var Ase=new je("MAT_BUTTON_CONFIG");var Rse=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],RF=(()=>{class r{_elementRef=V(vt);_ngZone=V(_t);_animationMode=V(Wi,{optional:!0});_focusMonitor=V(td);_rippleLoader=V(XL);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){V(vn).load(rd);let e=V(Ase,{optional:!0}),i=this._elementRef.nativeElement,n=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:a,mdcClasses:o}of Rse)i.hasAttribute(a)&&n.add(...o)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Rt],disabled:[2,"disabled","disabled",Rt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Rt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Rt]}})}return r})();var yn=(()=>{class r extends RF{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,n){i&2&&(Vt("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),Sa(n.color?"mat-"+n.color:""),It("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Zr],attrs:Cse,ngContentSelectors:Sse,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(Dr(Ese),Pe(0,"span",0),Ct(1),ae(2,"span",1),Ct(3,1),ue(),Ct(4,2),Pe(5,"span",2)(6,"span",3)),i&2&&It("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return r})();var qy=(()=>{class r extends RF{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,n){i&2&&(Vt("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),Sa(n.color?"mat-"+n.color:""),It("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Zr],attrs:Dse,ngContentSelectors:Tse,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(Dr(),Pe(0,"span",0),Ct(1),Pe(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Mse],encapsulation:2,changeDetection:0})}return r})();var Uy=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,id,qt]})}return r})();var Ise=["*"],Hy;function Ose(){if(Hy===void 0&&(Hy=null,typeof window<"u")){let r=window;r.trustedTypes!==void 0&&(Hy=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Hy}function Dm(r){return Ose()?.createHTML(r)||r}function IF(r){return Error(`Unable to find icon with the name "${r}"`)}function kse(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function OF(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function kF(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}var Ps=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},Pse=(()=>{class r{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,n,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._document=n}addSvgIcon(e,i,n){return this.addSvgIconInNamespace("",e,i,n)}addSvgIconLiteral(e,i,n){return this.addSvgIconLiteralInNamespace("",e,i,n)}addSvgIconInNamespace(e,i,n,a){return this._addSvgIconConfig(e,i,new Ps(n,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,n,a){let o=this._sanitizer.sanitize(Ea.HTML,n);if(!o)throw kF(n);let s=Dm(o);return this._addSvgIconConfig(e,i,new Ps("",s,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,n){return this._addSvgIconSetConfig(e,new Ps(i,null,n))}addSvgIconSetLiteralInNamespace(e,i,n){let a=this._sanitizer.sanitize(Ea.HTML,i);if(!a)throw kF(i);let o=Dm(a);return this._addSvgIconSetConfig(e,new Ps("",o,n))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Ea.RESOURCE_URL,e);if(!i)throw OF(e);let n=this._cachedIconsByUrl.get(i);return n?Ze(Gy(n)):this._loadSvgIconFromConfig(new Ps(e,null)).pipe(Et(a=>this._cachedIconsByUrl.set(i,a)),pt(a=>Gy(a)))}getNamedSvgIcon(e,i=""){let n=PF(i,e),a=this._svgIconConfigs.get(n);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(n,a),this._getSvgFromConfig(a);let o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):kc(IF(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ze(Gy(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pt(i=>Gy(i)))}_getSvgFromIconSetConfigs(e,i){let n=this._extractIconWithNameFromAnySet(e,i);if(n)return Ze(n);let a=i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(vl(s=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ea.RESOURCE_URL,o.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Ze(null)})));return gv(a).pipe(pt(()=>{let o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw IF(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let n=i.length-1;n>=0;n--){let a=i[n];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(a),s=this._extractSvgIconFromSet(o,e,a.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Et(i=>e.svgText=i),pt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ze(null):this._fetchIcon(e).pipe(Et(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,n){let a=e.querySelector(`[id="${i}"]`);if(!a)return null;let o=a.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,n);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),n);let s=this._svgElementFromString(Dm("<svg></svg>"));return s.appendChild(o),this._setSvgAttributes(s,n)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){let i=this._svgElementFromString(Dm("<svg></svg>")),n=e.attributes;for(let a=0;a<n.length;a++){let{name:o,value:s}=n[a];o!=="id"&&i.setAttribute(o,s)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:n}=e,a=n?.withCredentials??!1;if(!this._httpClient)throw kse();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let o=this._sanitizer.sanitize(Ea.RESOURCE_URL,i);if(!o)throw OF(i);let s=this._inProgressUrlFetches.get(o);if(s)return s;let l=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(pt(c=>Dm(c)),Lc(()=>this._inProgressUrlFetches.delete(o)),jO());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,n){return this._svgIconConfigs.set(PF(e,i),n),this}_addSvgIconSetConfig(e,i){let n=this._iconSetConfigs.get(e);return n?n.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let n=0;n<this._resolvers.length;n++){let a=this._resolvers[n](i,e);if(a)return Lse(a)?new Ps(a.url,null,a.options):new Ps(a,null)}}static \u0275fac=function(i){return new(i||r)(Sr(Uk,8),Sr(sC),Sr(zt,8),Sr(Fc))};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Gy(r){return r.cloneNode(!0)}function PF(r,t){return r+":"+t}function Lse(r){return!!(r.url&&r.options)}var Fse=new je("MAT_ICON_DEFAULT_OPTIONS"),Nse=new je("mat-icon-location",{providedIn:"root",factory:Bse});function Bse(){let r=V(zt),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var LF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vse=LF.map(r=>`[${r}]`).join(", "),zse=/^url\(['"]?#(.*?)['"]?\)$/,Ku=(()=>{class r{_elementRef=V(vt);_iconRegistry=V(Pse);_location=V(Nse);_errorHandler=V(Fc);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=rt.EMPTY;constructor(){let e=V(new Af("aria-hidden"),{optional:!0}),i=V(Fse,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let n=e.childNodes[i];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>e.classList.remove(n)),i.forEach(n=>e.classList.add(n)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((n,a)=>{n.forEach(o=>{a.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(Vse),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)LF.forEach(o=>{let s=i[a],l=s.getAttribute(o),c=l?l.match(zse):null;if(c){let d=n.get(s);d||(d=[],n.set(s,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,n]=this._splitIconName(e);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe(oi(1)).subscribe(a=>this._setSvgElement(a),a=>{let o=`Error retrieving icon ${i}:${n}! ${a.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,n){i&2&&(Vt("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),Sa(n.color?"mat-"+n.color:""),It("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Rt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Ise,decls:1,vars:0,template:function(i,n){i&1&&(Dr(),Ct(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return r})(),Zu=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})();function QF(r){let t=r.cloneNode(!0),e=t.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();t.removeAttribute("id");for(let n=0;n<e.length;n++)e[n].removeAttribute("id");return i==="canvas"?VF(r,t):(i==="input"||i==="select"||i==="textarea")&&BF(r,t),NF("canvas",r,t,VF),NF("input, textarea, select",r,t,BF),t}function NF(r,t,e,i){let n=t.querySelectorAll(r);if(n.length){let a=e.querySelectorAll(r);for(let o=0;o<n.length;o++)i(n[o],a[o])}}var qse=0;function BF(r,t){t.type!=="file"&&(t.value=r.value),t.type==="radio"&&t.name&&(t.name=`mat-clone-${t.name}-${qse++}`)}function VF(r,t){let e=t.getContext("2d");if(e)try{e.drawImage(r,0,0)}catch{}}function t1(r){let t=r.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function YE(r,t,e){let{top:i,bottom:n,left:a,right:o}=r;return e>=i&&e<=n&&t>=a&&t<=o}function Am(r,t,e){r.top+=t,r.bottom=r.top+r.height,r.left+=e,r.right=r.left+r.width}function zF(r,t,e,i){let{top:n,right:a,bottom:o,left:s,width:l,height:c}=r,d=l*t,u=c*t;return i>n-u&&i<o+u&&e>s-d&&e<a+d}var $y=class{_document;positions=new Map;constructor(t){this._document=t}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:t1(e)})})}handleScroll(t){let e=$i(t),i=this.positions.get(e);if(!i)return null;let n=i.scrollPosition,a,o;if(e===this._document){let c=this.getViewportScrollPosition();a=c.top,o=c.left}else a=e.scrollTop,o=e.scrollLeft;let s=n.top-a,l=n.left-o;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&Am(c.clientRect,s,l)}),n.top=a,n.left=o,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function JF(r,t){let e=r.rootNodes;if(e.length===1&&e[0].nodeType===t.ELEMENT_NODE)return e[0];let i=t.createElement("div");return e.forEach(n=>i.appendChild(n)),i}function r1(r,t,e){for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];n?r.setProperty(i,n,e?.has(i)?"important":""):r.removeProperty(i)}return r}function Qu(r,t){let e=t?"":"none";r1(r.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function qF(r,t,e){r1(r.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Yy(r,t){return t&&t!="none"?r+" "+t:r}function UF(r,t){r.style.width=`${t.width}px`,r.style.height=`${t.height}px`,r.style.transform=Xy(t.left,t.top)}function Xy(r,t){return`translate3d(${Math.round(r)}px, ${Math.round(t)}px, 0)`}function HF(r){let t=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*t}function Use(r){let t=getComputedStyle(r),e=$E(t,"transition-property"),i=e.find(s=>s==="transform"||s==="all");if(!i)return 0;let n=e.indexOf(i),a=$E(t,"transition-duration"),o=$E(t,"transition-delay");return HF(a[n])+HF(o[n])}function $E(r,t){return r.getPropertyValue(t).split(",").map(i=>i.trim())}var Hse=new Set(["position"]),XE=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(t,e,i,n,a,o,s,l,c,d){this._document=t,this._rootElement=e,this._direction=i,this._initialDomRect=n,this._previewTemplate=a,this._previewClass=o,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(t){this._preview=this._createPreview(),t.appendChild(this._preview),GF(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(t){this._preview.style.transform=t}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(t){this._preview.classList.add(t)}getTransitionDuration(){return Use(this._preview)}addEventListener(t,e){return this._renderer.listen(this._preview,t,e)}_createPreview(){let t=this._previewTemplate,e=this._previewClass,i=t?t.template:null,n;if(i&&t){let a=t.matchSize?this._initialDomRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),n=JF(o,this._document),this._previewEmbeddedView=o,t.matchSize?UF(n,a):n.style.transform=Xy(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=QF(this._rootElement),UF(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return r1(n.style,{"pointer-events":"none",margin:GF(n)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Hse),Qu(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>n.classList.add(a)):n.classList.add(e)),n}};function GF(r){return"showPopover"in r}var WF=Zn({passive:!0}),Wy=Zn({passive:!1}),jF=Zn({passive:!1,capture:!0}),Gse=800,$F=new Set(["position"]),KE=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=yr(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Ue;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=rt.EMPTY;_pointerUpSubscription=rt.EMPTY;_scrollSubscription=rt.EMPTY;_resizeSubscription=rt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Qu(e,t)))}_disabled=!1;beforeStarted=new Ue;started=new Ue;released=new Ue;ended=new Ue;entered=new Ue;exited=new Ue;dropped=new Ue;moved=this._moveEvents;data;constrainPosition;constructor(t,e,i,n,a,o,s){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=a,this._dragDropRegistry=o,this._renderer=s,this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new $y(i),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Li(i)),this._handles.forEach(i=>Qu(i,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){let e=Li(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Wy),e.addEventListener("touchstart",this._pointerDown,WF),e.addEventListener("dragstart",this._nativeDragStart,Wy)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Li(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Qu(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Qu(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){let t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){let t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",XF,jF)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)};_pointerMove=t=>{let e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging()){let n=Math.abs(e.x-this._pickupPositionOnPage.x),a=Math.abs(e.y-this._pickupPositionOnPage.y);if(n+a>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),l=this._dropContainer;if(!s){this._endDragSequence(t);return}(!l||!l.isDragging()&&!l.isReceiving())&&(t.cancelable&&t.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(t)))}return}t.cancelable&&t.preventDefault();let i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{let n=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,a=this._activeTransform;a.x=i.x-n.x+this._passiveTransform.x,a.y=i.y-n.y+this._passiveTransform.y,this._applyRootElementTransform(a.x,a.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=t=>{this._endDragSequence(t)};_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Tm(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),i=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{e.addEventListener("selectstart",XF,jF)}),i){let n=this._rootElement,a=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(s,n),this._initialTransform=n.style.transform||"",this._preview=new XE(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(a,e)),qF(n,!1,$F),this._document.body.appendChild(a.replaceChild(o,n)),this.started.next({source:this,event:t}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();let i=this.isDragging(),n=Tm(e),a=!n&&e.button!==0,o=this._rootElement,s=$i(e),l=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+Gse>Date.now(),c=n?ed(e):Jc(e);if(s&&s.draggable&&e.type==="mousedown"&&e.preventDefault(),i||a||l||c)return;if(this._handles.length){let f=o.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=t1(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,t,e);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){qF(this._rootElement,!0,$F),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),a=this._getDragDistance(n),o=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:a,dropPoint:n,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:a,dropPoint:n,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,o,a,n,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:n}){let a=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,t,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let t=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let n=s=>{(!s||this._preview&&$i(s)===this._preview.element&&s.propertyName==="transform")&&(o(),i(),clearTimeout(a))},a=setTimeout(n,e*1.5),o=this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let t=this._placeholderTemplate,e=t?t.template:null,i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=JF(this._placeholderRef,this._document)):i=QF(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){let n=e===this._rootElement?null:e,a=n?n.getBoundingClientRect():t,o=Tm(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=o.pageX-a.left-s.left,c=o.pageY-a.top-s.top;return{x:a.left-t.left+l,y:a.top-t.top+c}}_getPointerPositionOnPage(t){let e=this._getViewportScrollPosition(),i=Tm(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){let o=this._ownerSVGElement.getScreenCTM();if(o){let s=this._ownerSVGElement.createSVGPoint();return s.x=n,s.y=a,s.matrixTransform(o.inverse())}}return{x:n,y:a}}_getConstrainedPointerPosition(t){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:n}=this.constrainPosition?this.constrainPosition(t,this,this._initialDomRect,this._pickupPositionInElement):t;if(this.lockAxis==="x"||e==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=s.top+o,u=s.bottom-(c-o),f=s.left+a,m=s.right-(l-a);i=YF(i,f,m),n=YF(n,d,u)}return{x:i,y:n}}_updatePointerDirectionDelta(t){let{x:e,y:i}=t,n=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-a.x),s=Math.abs(i-a.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>a.x?1:-1,a.x=e),s>this._config.pointerDirectionChangeThreshold&&(n.y=i>a.y?1:-1,a.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Qu(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Wy),t.removeEventListener("touchstart",this._pointerDown,WF),t.removeEventListener("dragstart",this._nativeDragStart,Wy)}_applyRootElementTransform(t,e){let i=1/this.scale,n=Xy(t*i,e*i),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=Yy(n,this._initialTransform)}_applyPreviewTransform(t,e){let i=this._previewTemplate?.template?void 0:this._initialTransform,n=Xy(t,e);this._preview.setTransform(Yy(n,i))}_getDragDistance(t){let e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(t===0&&e===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||i.width===0&&i.height===0)return;let a=n.left-i.left,o=i.right-n.right,s=n.top-i.top,l=i.bottom-n.bottom;n.width>i.width?(a>0&&(t+=a),o>0&&(t-=o)):t=0,n.height>i.height?(s>0&&(e+=s),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){let e=this.dragStartDelay;return typeof e=="number"?e:Tm(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){let e=this._parentPositions.handleScroll(t);if(e){let i=$i(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Am(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Bu(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){let i=this._previewContainer||"global";if(i==="parent")return t;if(i==="global"){let n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return Li(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=t=>{if(this._handles.length){let e=this._getTargetHandle(t);e&&!this._disabledHandles.has(e)&&!this.disabled&&t.preventDefault()}else this.disabled||t.preventDefault()};_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}};function YF(r,t,e){return Math.max(t,Math.min(e,r))}function Tm(r){return r.type[0]==="t"}function XF(r){r.preventDefault()}function eN(r,t,e){let i=KF(t,r.length-1),n=KF(e,r.length-1);if(i===n)return;let a=r[i],o=n<i?-1:1;for(let s=i;s!==n;s+=o)r[s]=r[s+o];r[n]=a}function KF(r,t){return Math.max(0,Math.min(t,r))}var Ky=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(t){this._dragDropRegistry=t}_previousSwap={drag:null,delta:0,overlaps:!1};start(t){this.withItems(t)}sort(t,e,i,n){let a=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(o===-1&&a.length>0)return null;let s=this.orientation==="horizontal",l=a.findIndex(y=>y.drag===t),c=a[o],d=a[l].clientRect,u=c.clientRect,f=l>o?1:-1,m=this._getItemOffsetPx(d,u,f),g=this._getSiblingOffsetPx(l,a,f),v=a.slice();return eN(a,l,o),a.forEach((y,b)=>{if(v[b]===y)return;let _=y.drag===t,w=_?m:g,E=_?t.getPlaceholderElement():y.drag.getRootElement();y.offset+=w;let S=Math.round(y.offset*(1/y.drag.scale));s?(E.style.transform=Yy(`translate3d(${S}px, 0, 0)`,y.initialTransform),Am(y.clientRect,0,w)):(E.style.transform=Yy(`translate3d(0, ${S}px, 0)`,y.initialTransform),Am(y.clientRect,w,0))}),this._previousSwap.overlaps=YE(u,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=s?n.x:n.y,{previousIndex:l,currentIndex:o}}enter(t,e,i,n){let a=n==null||n<0?this._getItemIndexFromPointerPosition(t,e,i):n,o=this._activeDraggables,s=o.indexOf(t),l=t.getPlaceholderElement(),c=o[a];if(c===t&&(c=o[a+1]),!c&&(a==null||a===-1||a<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),s>-1&&o.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),o.splice(a,0,t)}else this._element.appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables?.forEach(t=>{let e=t.getRootElement();if(e){let i=this._itemPositions.find(n=>n.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Am(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(t){this._element=t}_cacheItemPositions(){let t=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:t1(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){let n=this.orientation==="horizontal",a=n?e.left-t.left:e.top-t.top;return i===-1&&(a+=n?e.width-t.width:e.height-t.height),a}_getSiblingOffsetPx(t,e,i){let n=this.orientation==="horizontal",a=e[t].clientRect,o=e[t+i*-1],s=a[n?"width":"height"]*i;if(o){let l=n?"left":"top",c=n?"right":"bottom";i===-1?s-=o.clientRect[l]-a[c]:s+=a[l]-o.clientRect[c]}return s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,n=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let o=i[i.length-1].clientRect;return n?t>=o.right:e>=o.bottom}else{let o=i[0].clientRect;return n?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,n){let a=this.orientation==="horizontal",o=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===t)return!1;if(n){let c=a?n.x:n.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return a?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return o===-1||!this._sortPredicate(o,t)?-1:o}},ZE=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(t,e){this._document=t,this._dragDropRegistry=e}start(t){let e=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<e.length;i++){let n=e[i];this._relatedNodes.push([n,n.nextSibling])}this.withItems(t)}sort(t,e,i,n){let a=this._getItemIndexFromPointerPosition(t,e,i),o=this._previousSwap;if(a===-1||this._activeItems[a]===t)return null;let s=this._activeItems[a];if(o.drag===s&&o.overlaps&&o.deltaX===n.x&&o.deltaY===n.y)return null;let l=this.getItemIndex(t),c=t.getPlaceholderElement(),d=s.getRootElement();a>l?d.after(c):d.before(c),eN(this._activeItems,l,a);let u=this._getRootNode().elementFromPoint(e,i);return o.deltaX=n.x,o.deltaY=n.y,o.drag=s,o.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:a}}enter(t,e,i,n){let a=n==null||n<0?this._getItemIndexFromPointerPosition(t,e,i):n;a===-1&&(a=this._getClosestItemIndexToPointer(t,e,i));let o=this._activeItems[a],s=this._activeItems.indexOf(t);s>-1&&this._activeItems.splice(s,1),o&&!this._dragDropRegistry.isDragging(o)?(this._activeItems.splice(a,0,t),o.getRootElement().before(t.getPlaceholderElement())):(this._activeItems.push(t),this._element.appendChild(t.getPlaceholderElement()))}withItems(t){this._activeItems=t.slice()}withSortPredicate(t){this._sortPredicate=t}reset(){let t=this._element,e=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[n,a]=this._relatedNodes[i];n.parentNode===t&&n.nextSibling!==a&&(a===null?t.appendChild(n):a.parentNode===t&&t.insertBefore(n,a))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(t){return this._activeItems.indexOf(t)}updateOnScroll(){this._activeItems.forEach(t=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(t){t!==this._element&&(this._element=t,this._rootNode=void 0)}_getItemIndexFromPointerPosition(t,e,i){let n=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(i)),a=n?this._activeItems.findIndex(o=>{let s=o.getRootElement();return n===s||s.contains(n)}):-1;return a===-1||!this._sortPredicate(a,t)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Bu(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(t,e,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let n=1/0,a=-1;for(let o=0;o<this._activeItems.length;o++){let s=this._activeItems[o];if(s!==t){let{x:l,y:c}=s.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,i-c);d<n&&(n=d,a=o)}}return a}},ZF=.05,tN=.05,oo=function(r){return r[r.NONE=0]="NONE",r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r}(oo||{}),Jn=function(r){return r[r.NONE=0]="NONE",r[r.LEFT=1]="LEFT",r[r.RIGHT=2]="RIGHT",r}(Jn||{}),QE=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Ue;entered=new Ue;exited=new Ue;dropped=new Ue;sorted=new Ue;receivingStarted=new Ue;receivingStopped=new Ue;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=rt.EMPTY;_verticalScrollDirection=oo.NONE;_horizontalScrollDirection=Jn.NONE;_scrollNode;_stopScrollTimers=new Ue;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(t,e,i,n,a){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=a;let o=this.element=Li(t);this._document=i,this.withOrientation("vertical").withElementContainer(o),e.registerDropContainer(this),this._parentPositions=new $y(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,a,o,s,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:a,distance:o,dropPoint:s,event:l})}withItems(t){let e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(n=>n.isDragging()).every(n=>t.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._direction=t,this._sortStrategy instanceof Ky&&(this._sortStrategy.direction=t),this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){if(t==="mixed")this._sortStrategy=new ZE(this._document,this._dragDropRegistry);else{let e=new Ky(this._dragDropRegistry);e.direction=this._direction,e.orientation=t,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,i)=>this.sortPredicate(e,i,this)),this}withScrollableParents(t){let e=this._container;return this._scrollableElements=t.indexOf(e)===-1?[e,...t]:t.slice(),this}withElementContainer(t){if(t===this._container)return this;let e=Li(this.element),i=this._scrollableElements.indexOf(this._container),n=this._scrollableElements.indexOf(t);return i>-1&&this._scrollableElements.splice(i,1),n>-1&&this._scrollableElements.splice(n,1),this._sortStrategy&&this._sortStrategy.withElementContainer(t),this._cachedShadowRoot=null,this._scrollableElements.unshift(t),this._container=t,this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!this._domRect||!zF(this._domRect,ZF,e,i))return;let a=this._sortStrategy.sort(t,e,i,n);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=oo.NONE,a=Jn.NONE;if(this._parentPositions.positions.forEach((o,s)=>{s===this._document||!o.clientRect||i||zF(o.clientRect,ZF,t,e)&&([n,a]=Wse(s,o.clientRect,this._direction,t,e),(n||a)&&(i=s))}),!n&&!a){let{width:o,height:s}=this._viewportRuler.getViewportSize(),l={width:o,height:s,top:0,right:o,bottom:s,left:0};n=rN(l,e),a=iN(l,t),i=window}i&&(n!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=a,this._scrollNode=i,(n||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let t=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let t=this._container.style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),lu(0,Ow).pipe(hr(this._stopScrollTimers)).subscribe(()=>{let t=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===oo.UP?t.scrollBy(0,-e):this._verticalScrollDirection===oo.DOWN&&t.scrollBy(0,e),this._horizontalScrollDirection===Jn.LEFT?t.scrollBy(-e,0):this._horizontalScrollDirection===Jn.RIGHT&&t.scrollBy(e,0)})};_isOverContainer(t,e){return this._domRect!=null&&YE(this._domRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._domRect||!YE(this._domRect,e,i)||!this.enterPredicate(t,this))return!1;let n=this._getShadowRoot().elementFromPoint(e,i);return n?n===this._container||this._container.contains(n):!1}_startReceiving(t,e){let i=this._activeSiblings;!i.has(t)&&e.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let t=Bu(this._container);this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}};function rN(r,t){let{top:e,bottom:i,height:n}=r,a=n*tN;return t>=e-a&&t<=e+a?oo.UP:t>=i-a&&t<=i+a?oo.DOWN:oo.NONE}function iN(r,t){let{left:e,right:i,width:n}=r,a=n*tN;return t>=e-a&&t<=e+a?Jn.LEFT:t>=i-a&&t<=i+a?Jn.RIGHT:Jn.NONE}function Wse(r,t,e,i,n){let a=rN(t,n),o=iN(t,i),s=oo.NONE,l=Jn.NONE;if(a){let c=r.scrollTop;a===oo.UP?c>0&&(s=oo.UP):r.scrollHeight-c>r.clientHeight&&(s=oo.DOWN)}if(o){let c=r.scrollLeft;e==="rtl"?o===Jn.RIGHT?c<0&&(l=Jn.RIGHT):r.scrollWidth+c>r.clientWidth&&(l=Jn.LEFT):o===Jn.LEFT?c>0&&(l=Jn.LEFT):r.scrollWidth-c>r.clientWidth&&(l=Jn.RIGHT)}return[s,l]}var jy=Zn({passive:!1,capture:!0}),jse=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return r})(),nN=(()=>{class r{_ngZone=V(_t);_document=V(zt);_styleLoader=V(vn);_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=yr([]);_globalListeners=new Map;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Ue;pointerUp=new Ue;scroll=new Ue;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,jy)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,jy)}startDragging(e,i){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load(jse),this._activeDragInstances.update(n=>[...n,e]),this._activeDragInstances().length===1)){let n=i.type.startsWith("touch"),a={handler:o=>this.pointerUp.next(o),options:!0};n?(this._globalListeners.set("touchend",a),this._globalListeners.set("touchcancel",a)):this._globalListeners.set("mouseup",a),this._globalListeners.set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:jy}),n||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:jy}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){this._activeDragInstances.update(i=>{let n=i.indexOf(e);return n>-1?(i.splice(n,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let i=[this.scroll];return e&&e!==this._document&&i.push(new Xn(n=>this._ngZone.runOutsideAngular(()=>{let o=s=>{this._activeDragInstances().length&&n.next(s)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),xi(...i)}registerDirectiveNode(e,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,i)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),$se={dragStartThreshold:5,pointerDirectionChangeThreshold:5},aN=(()=>{class r{_document=V(zt);_ngZone=V(_t);_viewportRuler=V(Ao);_dragDropRegistry=V(nN);_renderer=V(Za).createRenderer(null,null);constructor(){}createDrag(e,i=$se){return new KE(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new QE(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),JE=new je("CDK_DRAG_PARENT");var Yse=new je("CdkDragHandle");var oN=new je("CDK_DRAG_CONFIG"),sN=new je("CdkDropList"),lN=(()=>{class r{element=V(vt);dropContainer=V(sN,{optional:!0,skipSelf:!0});_ngZone=V(_t);_viewContainerRef=V(Kn);_dir=V(Yi,{optional:!0});_changeDetectorRef=V(Kr);_selfHandle=V(Yse,{optional:!0,self:!0});_parentDrag=V(JE,{optional:!0,skipSelf:!0});_dragDropRegistry=V(nN);_destroyed=new Ue;_handles=new ir([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new gt;released=new gt;ended=new gt;entered=new gt;exited=new gt;dropped=new gt;moved=new Xn(e=>{let i=this._dragRef.moved.pipe(pt(n=>({source:this,pointerPosition:n.pointerPosition,event:n.event,delta:n.delta,distance:n.distance}))).subscribe(e);return()=>{i.unsubscribe()}});_injector=V(Nr);constructor(){let e=this.dropContainer,i=V(oN,{optional:!0}),n=V(aN);this._dragRef=n.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this),e._dropListRef.beforeStarted.pipe(hr(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Ln(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let i=e.rootElementSelector,n=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let i=this._handles.getValue();i.push(e),this._handles.next(i)}_removeHandle(e){let i=this._handles.getValue(),n=i.indexOf(e);n>-1&&(i.splice(n,1),this._handles.next(i))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Li(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let i=this._dir,n=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof n=="object"&&n?n:zn(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(o).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(oi(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let n=this._dragDropRegistry.getDragDirectiveForNode(i);if(n){e.withParent(n._dragRef);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){let{lockAxis:i,dragStartDelay:n,constrainPosition:a,previewClass:o,boundaryElement:s,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=n||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),o&&(this.previewClass=o),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Et(e=>{let i=e.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),nr(e=>xi(...e.map(i=>i._stateChanges.pipe(dr(i))))),hr(this._destroyed)).subscribe(e=>{let i=this._dragRef,n=e.element.nativeElement;e.disabled?i.disableHandle(n):i.enableHandle(n)})}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,n){i&2&&It("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Rt],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Ds]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Yt([{provide:JE,useExisting:r}]),Ii]})}return r})(),e1=new je("CdkDropListGroup"),cN=(()=>{class r{_items=new Set;disabled=!1;ngOnDestroy(){this._items.clear()}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[2,"cdkDropListGroupDisabled","disabled",Rt]},exportAs:["cdkDropListGroup"],features:[Yt([{provide:e1,useExisting:r}])]})}return r})(),dN=(()=>{class r{element=V(vt);_changeDetectorRef=V(Kr);_scrollDispatcher=V(nd);_dir=V(Yi,{optional:!0});_group=V(e1,{optional:!0,skipSelf:!0});_destroyed=new Ue;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=V(Mn).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new gt;entered=new gt;exited=new gt;sorted=new gt;_unsortedItems=new Set;constructor(){let e=V(aN),i=V(oN,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(n,a)=>this.enterPredicate(n.data,a.data),this._dropListRef.sortPredicate=(n,a,o)=>this.sortPredicate(n,a.data,o.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=r._dropLists.indexOf(this);e>-1&&r._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(dr(this._dir.value),hr(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{let i=Tl(this.connectedTo).map(n=>{if(typeof n=="string"){let a=r._dropLists.find(o=>o.id===n);return a}return n});if(this._group&&this._group._items.forEach(n=>{i.indexOf(n)===-1&&i.push(n)}),!this._scrollableParentsResolved){let n=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(n),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let n=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(n)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=zn(this.autoScrollStep,2),e.connectedTo(i.filter(n=>n&&n!==this).map(n=>n._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),xi(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:i,draggingDisabled:n,sortingDisabled:a,listAutoScrollDisabled:o,listOrientation:s}=e;this.disabled=n??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=o??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,n){i&2&&(Vt("id",n.id),It("cdk-drop-list-disabled",n.disabled)("cdk-drop-list-dragging",n._dropListRef.isDragging())("cdk-drop-list-receiving",n._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Rt],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Rt],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Rt],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Yt([{provide:e1,useValue:void 0},{provide:sN,useExisting:r}])]})}return r})();var Xse=new je("CdkDragPlaceholder"),uN=(()=>{class r{templateRef=V(Yo);_drag=V(JE,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Yt([{provide:Xse,useExisting:r}])]})}return r})();var Ls=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-views"]],decls:2,vars:0,template:function(e,i){e&1&&(ae(0,"p"),He(1,"views works!"),ue())},encapsulation:2})};var Vl=class r{widgets=yr([{id:1,label:"View 1",rowSpan:1,columnSpan:1,content:Ls},{id:2,label:"Views 2",rowSpan:1,columnSpan:1,content:Ls},{id:3,label:"Big Views 3",rowSpan:2,columnSpan:1,content:Ls},{id:4,label:"Views 4",rowSpan:1,columnSpan:1,content:Ls},{id:5,label:"Views 5",rowSpan:1,columnSpan:1,content:Ls},{id:6,label:"Views 6",rowSpan:1,columnSpan:1,content:Ls}]);addedWidgets=yr([]);widgetsToAdd=Ma(()=>{let t=this.addedWidgets().map(e=>e.id);return this.widgets().filter(e=>!t.includes(e.id))});saveWidgets=bl(()=>{let t=this.addedWidgets().map(e=>Oe({},e));t.forEach(e=>{delete e.content}),localStorage.setItem("dashboard-widgets",JSON.stringify(t))});constructor(){this.fetchWidgets()}fetchWidgets(){let t=localStorage.getItem("dashboard-widgets");if(!t)return;let e=JSON.parse(t);e.forEach(i=>{let n=this.widgets().find(a=>a.id===a.id)?.content;n&&(i.content=n)}),this.addedWidgets.set(e)}addWidget(t){this.addedWidgets.set([...this.addedWidgets(),Oe({},t)])}updateWidget(t,e){let i=this.addedWidgets().findIndex(a=>a.id===t);if(i===-1)return;let n=[...this.addedWidgets()];n[i]=Oe(Oe({},n[i]),e),this.addedWidgets.set(n)}removeWidget(t){this.addedWidgets.set(this.addedWidgets().filter(e=>e.id!==t))}swapWidgetPosition(t,e){let i=this.addedWidgets().findIndex(o=>o.id===t);if(i===-1)return;let n=this.addedWidgets().findIndex(o=>o.id===e);if(n===-1)return;let a=[...this.addedWidgets()];[a[i],a[n]]=[a[n],a[i]],this.addedWidgets.set(a)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=Je({token:r,factory:r.\u0275fac})};function Kse(r,t){r&1&&Pe(0,"div")}var Zy=class r{constructor(t){this.store=t}data=si.required();static \u0275fac=function(e){return new(e||r)(Jt(Vl))};static \u0275cmp=De({type:r,selectors:[["app-widget"]],inputs:{data:[1,"data"]},decls:12,vars:2,consts:[["cdkDrag","","cdkDragPreviewContainer","parent",1,"container"],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"ngComponentOutlet"],[4,"cdkDragPlaceholder"]],template:function(e,i){e&1&&(ae(0,"div",0)(1,"mat-toolbar")(2,"span"),He(3),ue(),Pe(4,"span",1),ae(5,"button",2),Xe("click",function(){return i.store.removeWidget(i.data().id)}),ae(6,"mat-icon"),He(7,"delete"),ue()()(),ae(8,"mat-card")(9,"mat-card-content"),Cv(10,3),ue()(),Nt(11,Kse,1,0,"div",4),ue()),e&2&&(ge(3),Rr(i.data().label),ge(7),Re("ngComponentOutlet",i.data().content))},dependencies:[Gc,Sk,qy,Ku,lN,uN,Vy,Fl,Fy,SF,MF],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;cursor:move}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-card[_ngcontent-%COMP%]{height:100%}"]})};var Zse=["mat-menu-item",""],Qse=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Jse=["mat-icon, [matMenuItemIcon]","*"];function ele(r,t){r&1&&(Tf(),ae(0,"svg",2),Pe(1,"polygon",3),ue())}var tle=["*"];function rle(r,t){if(r&1){let e=Br();ae(0,"div",0),Xe("click",function(){Gt(e);let n=nt();return Wt(n.closed.emit("click"))})("animationstart",function(n){Gt(e);let a=nt();return Wt(a._onAnimationStart(n.animationName))})("animationend",function(n){Gt(e);let a=nt();return Wt(a._onAnimationDone(n.animationName))})("animationcancel",function(n){Gt(e);let a=nt();return Wt(a._onAnimationDone(n.animationName))}),ae(1,"div",1),Ct(2),ue()()}if(r&2){let e=nt();Sa(e._classList),It("mat-menu-panel-animations-disabled",e._animationsDisabled)("mat-menu-panel-exit-animation",e._panelAnimationState==="void")("mat-menu-panel-animating",e._isAnimating),Re("id",e.panelId),Vt("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var n1=new je("MAT_MENU_PANEL"),Im=(()=>{class r{_elementRef=V(vt);_document=V(zt);_focusMonitor=V(td);_parentMenu=V(n1,{optional:!0});_changeDetectorRef=V(Kr);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Ue;_focused=new Ue;_highlighted=!1;_triggersSubmenu=!1;constructor(){V(vn).load(rd),this._parentMenu?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let n=0;n<i.length;n++)i[n].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,n){i&1&&Xe("click",function(o){return n._checkDisabled(o)})("mouseenter",function(){return n._handleMouseEnter()}),i&2&&(Vt("role",n.role)("tabindex",n._getTabIndex())("aria-disabled",n.disabled)("disabled",n.disabled||null),It("mat-mdc-menu-item-highlighted",n._highlighted)("mat-mdc-menu-item-submenu-trigger",n._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",Rt],disableRipple:[2,"disableRipple","disableRipple",Rt]},exportAs:["matMenuItem"],attrs:Zse,ngContentSelectors:Jse,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,n){i&1&&(Dr(Qse),Ct(0),ae(1,"span",0),Ct(2,1),ue(),Pe(3,"div",1),Nt(4,ele,2,0,":svg:svg",2)),i&2&&(ge(3),Re("matRippleDisabled",n.disableRipple||n.disabled)("matRippleTrigger",n._getHostElement()),ge(),$t(n._triggersSubmenu?4:-1))},dependencies:[wE],encapsulation:2,changeDetection:0})}return r})();var ile=new je("MatMenuContent");var nle=new je("mat-menu-default-options",{providedIn:"root",factory:ale});function ale(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var i1="_mat-menu-enter",Qy="_mat-menu-exit",Ju=(()=>{class r{_elementRef=V(vt);_changeDetectorRef=V(Kr);_injector=V(Nr);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new Bc;_classList={};_panelAnimationState="void";_animationDone=new Ue;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(e){let i=this._previousPanelClass,n=Oe({},this._classList);i&&i.length&&i.split(" ").forEach(a=>{n[a]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(a=>{n[a]=!0}),this._elementRef.nativeElement.className=""),this._classList=n}_previousPanelClass;get classList(){return this.panelClass}set classList(e){this.panelClass=e}closed=new gt;close=this.closed;panelId=V(Mn).getId("mat-menu-panel-");constructor(){let e=V(nle);this.overlayPanelClass=e.overlayPanelClass||"",this._xPosition=e.xPosition,this._yPosition=e.yPosition,this.backdropClass=e.backdropClass,this.overlapTrigger=e.overlapTrigger,this.hasBackdrop=e.hasBackdrop,this._animationsDisabled=V(Wi,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _y(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(dr(this._directDescendantItems),nr(e=>xi(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let n=e.toArray(),a=Math.max(0,Math.min(n.length-1,i.activeItemIndex||0));n[a]&&!n[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(dr(this._directDescendantItems),nr(i=>xi(...i.map(n=>n._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let i=e.keyCode,n=this._keyManager;switch(i){case 27:Sn(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&n.setFocusOrigin("keyboard"),n.onKeydown(e);return}}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Ln(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let n=this._keyManager;n.setFocusOrigin(e).setFirstItemActive(),!n.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList=Bt(Oe({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(e){let i=e===Qy;(i||e===i1)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===i1||e===Qy)&&(this._isAnimating=!0)}_setIsOpen(e){if(this._panelAnimationState=e?"enter":"void",e){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(Qy),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?i1:Qy)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(dr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let e=null;return this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),e}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-menu"]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,ile,5),Tr(a,Im,5),Tr(a,Im,4)),i&2){let o;Mt(o=Dt())&&(n.lazyContent=o.first),Mt(o=Dt())&&(n._allItems=o),Mt(o=Dt())&&(n.items=o)}},viewQuery:function(i,n){if(i&1&&Qr(Yo,5),i&2){let a;Mt(a=Dt())&&(n.templateRef=a.first)}},hostVars:3,hostBindings:function(i,n){i&2&&Vt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",Rt],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:Rt(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Yt([{provide:n1,useExisting:r}])],ngContentSelectors:tle,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,n){i&1&&(Dr(),Nt(0,rle,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return r})(),mN=new je("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=V(Qn);return()=>r.scrollStrategies.reposition()}});function ole(r){return()=>r.scrollStrategies.reposition()}var sle={provide:mN,deps:[Qn],useFactory:ole},fN=Zn({passive:!0});var Rm=new WeakMap,pN=(()=>{class r{_overlay=V(Qn);_element=V(vt);_viewContainerRef=V(Kn);_menuItemInstance=V(Im,{optional:!0,self:!0});_dir=V(Yi,{optional:!0});_focusMonitor=V(td);_ngZone=V(_t);_scrollStrategy=V(mN);_changeDetectorRef=V(Kr);_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=rt.EMPTY;_hoverSubscription=rt.EMPTY;_menuCloseSubscription=rt.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_handleTouchStart=e=>{ed(e)||(this._openedBy="touch")};_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new gt;onMenuOpen=this.menuOpened;menuClosed=new gt;onMenuClose=this.menuClosed;constructor(){let e=V(n1,{optional:!0});this._parentMaterialMenu=e instanceof Ju?e:void 0,this._element.nativeElement.addEventListener("touchstart",this._handleTouchStart,fN)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Rm.delete(this.menu),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,fN),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;this._pendingRemoval?.unsubscribe();let i=Rm.get(e);Rm.set(e,this),i&&i!==this&&i.closeMenu();let n=this._createOverlay(e),a=n.getConfig(),o=a.positionStrategy;this._setPosition(e,o),a.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,n.hasAttached()||(n.attach(this._getPortal(e)),e.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),e instanceof Ju&&(e._setIsOpen(!0),e._directDescendantItems.changes.pipe(hr(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){let i=this._overlayRef,n=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),n instanceof Ju&&this._ownsMenu(n)?(this._pendingRemoval=n._animationDone.pipe(oi(1)).subscribe(()=>{i.detach(),n.lazyContent?.detach()}),n._setIsOpen(!1)):(i.detach(),n?.lazyContent?.detach()),n&&this._ownsMenu(n)&&Rm.delete(n),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe(n=>{this.menu instanceof Ju&&this.menu._handleKeydown(n)})}return this._overlayRef}_getOverlayConfig(e){return new Ol({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(n=>{this._ngZone.run(()=>{let a=n.connectionPair.overlayX==="start"?"after":"before",o=n.connectionPair.overlayY==="top"?"below":"above";e.setPositionClasses(a,o)})})}_setPosition(e,i){let[n,a]=e.xPosition==="before"?["end","start"]:["start","end"],[o,s]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[o,s],[d,u]=[n,a],f=0;if(this.triggersSubmenu()){if(u=n=e.xPosition==="before"?"start":"end",a=d=n==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}f=o==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l=o==="top"?"bottom":"top",c=s==="top"?"bottom":"top");i.withPositions([{originX:n,originY:l,overlayX:d,overlayY:o,offsetY:f},{originX:a,originY:l,overlayX:u,overlayY:o,offsetY:f},{originX:n,originY:c,overlayX:d,overlayY:s,offsetY:-f},{originX:a,originY:c,overlayX:u,overlayY:s,offsetY:-f}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:Ze(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(At(o=>this._menuOpen&&o!==this._menuItemInstance)):Ze();return xi(e,n,a,i)}_handleMousedown(e){Jc(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let i=e.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(e=>{e===this._menuItemInstance&&!e.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new ks(e.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(e){return Rm.get(e)===this}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,n){i&1&&Xe("click",function(o){return n._handleClick(o)})("mousedown",function(o){return n._handleMousedown(o)})("keydown",function(o){return n._handleKeydown(o)}),i&2&&Vt("aria-haspopup",n.menu?"menu":null)("aria-expanded",n.menuOpen)("aria-controls",n.menuOpen?n.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return r})(),gN=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({providers:[sle],imports:[id,qt,Yu,no,qt]})}return r})(),vN={transformMenu:Xo("transformMenu",[Ts("void",pn({opacity:0,transform:"scale(0.8)"})),Ta("void => enter",Da("120ms cubic-bezier(0, 0, 0.2, 1)",pn({opacity:1,transform:"scale(1)"}))),Ta("* => void",Da("100ms 25ms linear",pn({opacity:0})))]),fadeInItems:Xo("fadeInItems",[Ts("showing",pn({opacity:1})),Ta("void => *",[pn({opacity:0}),Da("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Z3e=vN.fadeInItems,Q3e=vN.transformMenu;var yN=1.525,Om=function(r){return function(t){return 1-r(1-t)}},Jy=function(r){return function(t){return t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2}},bN=Om;var _N=function(r){return function(t){return Math.pow(t,r)}},a1=function(r){return function(t){return t*t*((r+1)*t-r)}},xN=function(r){var t=a1(r);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},km=function(r){return r},Pm=_N(2),Lm=Om(Pm),eb=Jy(Pm),tb=function(r){return 1-Math.sin(Math.acos(r))},rb=Om(tb),o1=Jy(rb),Fm=a1(yN),s1=Om(Fm),l1=Jy(Fm),c1=xN(yN),e4e=4/11,t4e=8/11,r4e=9/10,i4e=4356/361,n4e=35442/1805,a4e=16061/1805;var cle=11,o4e=1/(cle-1);var d1=16.666666666666668,ule=typeof performance<"u"?()=>performance.now():()=>Date.now(),u1=typeof window<"u"?r=>window.requestAnimationFrame(r):r=>setTimeout(()=>r(ule()),d1);function wN(r){let t=[],e=[],i=0,n=!1,a=!1,o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{let u=d&&n,f=u?t:e;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),u&&n&&(i=t.length)),l},cancel:l=>{let c=e.indexOf(l);c!==-1&&e.splice(c,1),o.delete(l)},process:l=>{if(n){a=!0;return}if(n=!0,[t,e]=[e,t],e.length=0,i=t.length,i)for(let c=0;c<i;c++){let d=t[c];d(l),o.has(d)&&(s.schedule(d),r())}n=!1,a&&(a=!1,s.process(l))}};return s}var hle=40,h1=!0,Bm=!1,f1=!1,Nm={delta:0,timestamp:0},Vm=["read","update","preRender","render","postRender"],ib=Vm.reduce((r,t)=>(r[t]=wN(()=>Bm=!0),r),{}),fle=Vm.reduce((r,t)=>{let e=ib[t];return r[t]=(i,n=!1,a=!1)=>(Bm||ple(),e.schedule(i,n,a)),r},{}),u4e=Vm.reduce((r,t)=>(r[t]=ib[t].cancel,r),{}),h4e=Vm.reduce((r,t)=>(r[t]=()=>ib[t].process(Nm),r),{}),mle=r=>ib[r].process(Nm),CN=r=>{Bm=!1,Nm.delta=h1?d1:Math.max(Math.min(r-Nm.timestamp,hle),1),Nm.timestamp=r,f1=!0,Vm.forEach(mle),f1=!1,Bm&&(h1=!1,u1(CN))},ple=()=>{Bm=!0,h1=!0,f1||u1(CN)};var zm=fle;var q1=la(TN());var p1=function(r,t){return p1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])},p1(r,t)};function AN(r,t){p1(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ea=function(){return ea=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ea.apply(this,arguments)};function ab(r,t){var e={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]]);return e}function RN(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var i=Array(r),n=0,t=0;t<e;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,n++)i[n]=a[o];return i}var Oa=function(){return Oa=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Oa.apply(this,arguments)};var ON=function(r,t){return function(e){return Math.max(Math.min(e,t),r)}},qm=function(r){return r%1?Number(r.toFixed(5)):r},g1=/(-)?(\d[\d\.]*)/g,ob=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,kN=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,Jr={test:function(r){return typeof r=="number"},parse:parseFloat,transform:function(r){return r}},x1=Oa(Oa({},Jr),{transform:ON(0,1)}),kle=Oa(Oa({},Jr),{default:1}),Um=function(r){return{test:function(t){return typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1},parse:parseFloat,transform:function(t){return""+t+r}}},w1=Um("deg"),dd=Um("%"),C1=Um("px"),PN=Um("vh"),LN=Um("vw"),Ple=Oa(Oa({},dd),{parse:function(r){return dd.parse(r)/100},transform:function(r){return dd.transform(r*100)}}),Lle=function(r){return r.substring(r.indexOf("(")+1,r.lastIndexOf(")"))},Fle=ON(0,255),b1=function(r){return r.red!==void 0},_1=function(r){return r.hue!==void 0};function Nle(r){return Lle(r).replace(/(,|\/)/g," ").split(/ \s*/)}var FN=function(r){return function(t){if(typeof t!="string")return t;for(var e={},i=Nle(t),n=0;n<4;n++)e[r[n]]=i[n]!==void 0?parseFloat(i[n]):1;return e}},Ble=function(r){var t=r.red,e=r.green,i=r.blue,n=r.alpha,a=n===void 0?1:n;return"rgba("+t+", "+e+", "+i+", "+a+")"},Vle=function(r){var t=r.hue,e=r.saturation,i=r.lightness,n=r.alpha,a=n===void 0?1:n;return"hsla("+t+", "+e+", "+i+", "+a+")"},v1=Oa(Oa({},Jr),{transform:function(r){return Math.round(Fle(r))}});function E1(r,t){return r.startsWith(t)&&kN.test(r)}var eh={test:function(r){return typeof r=="string"?E1(r,"rgb"):b1(r)},parse:FN(["red","green","blue","alpha"]),transform:function(r){var t=r.red,e=r.green,i=r.blue,n=r.alpha,a=n===void 0?1:n;return Ble({red:v1.transform(t),green:v1.transform(e),blue:v1.transform(i),alpha:qm(x1.transform(a))})}},th={test:function(r){return typeof r=="string"?E1(r,"hsl"):_1(r)},parse:FN(["hue","saturation","lightness","alpha"]),transform:function(r){var t=r.hue,e=r.saturation,i=r.lightness,n=r.alpha,a=n===void 0?1:n;return Vle({hue:Math.round(t),saturation:dd.transform(qm(e)),lightness:dd.transform(qm(i)),alpha:qm(x1.transform(a))})}},sb=Oa(Oa({},eh),{test:function(r){return typeof r=="string"&&E1(r,"#")},parse:function(r){var t="",e="",i="";return r.length>4?(t=r.substr(1,2),e=r.substr(3,2),i=r.substr(5,2)):(t=r.substr(1,1),e=r.substr(2,1),i=r.substr(3,1),t+=t,e+=e,i+=i),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:1}}}),ud={test:function(r){return typeof r=="string"&&kN.test(r)||b1(r)||_1(r)},parse:function(r){return eh.test(r)?eh.parse(r):th.test(r)?th.parse(r):sb.test(r)?sb.parse(r):r},transform:function(r){return b1(r)?eh.transform(r):_1(r)?th.transform(r):r}},y1="${c}",IN="${n}",zle=function(r){return typeof r=="number"?0:r},hd={test:function(r){if(typeof r!="string"||!isNaN(r))return!1;var t=0,e=r.match(g1),i=r.match(ob);return e&&(t+=e.length),i&&(t+=i.length),t>0},parse:function(r){var t=r,e=[],i=t.match(ob);i&&(t=t.replace(ob,y1),e.push.apply(e,i.map(ud.parse)));var n=t.match(g1);return n&&e.push.apply(e,n.map(Jr.parse)),e},createTransformer:function(r){var t=r,e=0,i=r.match(ob),n=i?i.length:0;if(i)for(var a=0;a<n;a++)t=t.replace(i[a],y1),e++;var o=t.match(g1),s=o?o.length:0;if(o)for(var a=0;a<s;a++)t=t.replace(o[a],IN),e++;return function(l){for(var c=t,d=0;d<e;d++)c=c.replace(d<n?y1:IN,d<n?ud.transform(l[d]):qm(l[d]));return c}},getAnimatableNone:function(r){var t=hd.parse(r),e=hd.createTransformer(r);return e(t.map(zle))}};var Zo=function(){};var S1=0,_4e=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(r){return window.requestAnimationFrame(r)}:function(r){var t=Date.now(),e=Math.max(0,16.7-(t-S1));S1=t+e,setTimeout(function(){return r(S1)},e)};var x4e=1/60*1e3;var zN=function(r){return typeof r=="number"};var D1=function(r){return function(t,e,i){return i!==void 0?r(t,e,i):function(n){return r(t,e,n)}}},Ule=function(r,t,e){return Math.min(Math.max(e,r),t)},lb=D1(Ule);var qN=function(r,t,e){var i=t-r;return i===0?1:(e-r)/i},rh=function(r,t,e){return-e*r+e*t+r};var M1=function(){return M1=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},M1.apply(this,arguments)},Hle=function(r,t,e){var i=r*r,n=t*t;return Math.sqrt(Math.max(0,e*(n-i)+i))},Gle=[sb,eh,th],NN=function(r){return Gle.find(function(t){return t.test(r)})},BN=function(r){return"'"+r+"' is not an animatable color. Use the equivalent color code instead."},T1=function(r,t){var e=NN(r),i=NN(t);Zo(!!e,BN(r)),Zo(!!i,BN(t)),Zo(e.transform===i.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var n=e.parse(r),a=i.parse(t),o=M1({},n),s=e===th?rh:Hle;return function(l){for(var c in o)c!=="alpha"&&(o[c]=s(n[c],a[c],l));return o.alpha=rh(n.alpha,a.alpha,l),e.transform(o)}},Wle=function(r,t){return function(e){return t(r(e))}},A1=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.reduce(Wle)};function jle(r,t){return zN(r)?function(e){return rh(r,t,e)}:ud.test(r)?T1(r,t):R1(r,t)}var UN=function(r,t){var e=r.slice(),i=e.length,n=r.map(function(a,o){return jle(a,t[o])});return function(a){for(var o=0;o<i;o++)e[o]=n[o](a);return e}};function VN(r){for(var t=hd.parse(r),e=t.length,i=0,n=0,a=0,o=0;o<e;o++)i||typeof t[o]=="number"?i++:t[o].hue!==void 0?a++:n++;return{parsed:t,numNumbers:i,numRGB:n,numHSL:a}}var R1=function(r,t){var e=hd.createTransformer(t),i=VN(r),n=VN(t);return Zo(i.numHSL===n.numHSL&&i.numRGB===n.numRGB&&i.numNumbers>=n.numNumbers,"Complex values '"+r+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),A1(UN(i.parsed,n.parsed),e)};var $le=function(r){return r},I1=function(r){return r===void 0&&(r=$le),D1(function(t,e,i){var n=e-i,a=-(0-t+1)*(0-r(Math.abs(n)));return n<=0?e+a:e-a})},Yle=I1(),Xle=I1(Math.sqrt),cb=function(r,t){return zN(r)?r/(1e3/t):0},O1=function(r,t){return t?r*(1e3/t):0},Kle=function(r,t,e){var i=t-r;return((e-r)%i+i)%i+r},Zle=D1(Kle),j4e=lb(0,1);var k1=0,GN=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(r){return window.requestAnimationFrame(r)}:function(r){var t=Date.now(),e=Math.max(0,16.7-(t-k1));k1=t+e,setTimeout(function(){return r(k1)},e)},Qle=function(r){var t=[],e=[],i=0,n=!1,a=0,o=new WeakSet,s=new WeakSet,l={cancel:function(c){var d=e.indexOf(c);o.add(c),d!==-1&&e.splice(d,1)},process:function(c){var d;if(n=!0,d=[e,t],t=d[0],e=d[1],e.length=0,i=t.length,i){var u;for(a=0;a<i;a++)u=t[a],u(c),s.has(u)===!0&&!o.has(u)&&(l.schedule(u),r(!0))}n=!1},schedule:function(c,d,u){d===void 0&&(d=!1),u===void 0&&(u=!1),Zo(typeof c=="function","Argument must be a function");var f=u&&n,m=f?t:e;o.delete(c),d&&s.add(c),m.indexOf(c)===-1&&(m.push(c),f&&(i=t.length))}};return l},Jle=40,HN=1/60*1e3,db=!0,Hm=!1,P1=!1,ih={delta:0,timestamp:0},ub=["read","update","preRender","render","postRender"],ece=function(r){return Hm=r},L1=ub.reduce(function(r,t){return r[t]=Qle(ece),r},{}),tce=ub.reduce(function(r,t){var e=L1[t];return r[t]=function(i,n,a){return n===void 0&&(n=!1),a===void 0&&(a=!1),Hm||ice(),e.schedule(i,n,a),i},r},{}),Fs=ub.reduce(function(r,t){return r[t]=L1[t].cancel,r},{}),rce=function(r){return L1[r].process(ih)},WN=function(r){Hm=!1,ih.delta=db?HN:Math.max(Math.min(r-ih.timestamp,Jle),1),db||(HN=ih.delta),ih.timestamp=r,P1=!0,ub.forEach(rce),P1=!1,Hm&&(db=!1,GN(WN))},ice=function(){Hm=!0,db=!0,P1||GN(WN)},jN=function(){return ih},Ns=tce;var F1=0,Q4e=typeof window<"u"&&window.requestAnimationFrame!==void 0?function(r){return window.requestAnimationFrame(r)}:function(r){var t=Date.now(),e=Math.max(0,16.7-(t-F1));F1=t+e,setTimeout(function(){return r(F1)},e)};var J4e=1/60*1e3;var nce=["Webkit","Moz","O","ms",""],aje=nce.length;var oce=function(){function r(t){t===void 0&&(t={}),this.props=t}return r.prototype.applyMiddleware=function(t){return this.create(ea(ea({},this.props),{middleware:this.props.middleware?RN([t],this.props.middleware):[t]}))},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length===1?t[0]:A1.apply(void 0,t);return this.applyMiddleware(function(n){return function(a){return n(i(a))}})},r.prototype.while=function(t){return this.applyMiddleware(function(e,i){return function(n){return t(n)?e(n):i()}})},r.prototype.filter=function(t){return this.applyMiddleware(function(e){return function(i){return t(i)&&e(i)}})},r}(),$N=function(){function r(t,e){var i=this,n=t.middleware,a=t.onComplete;this.isActive=!0,this.update=function(o){i.observer.update&&i.updateObserver(o)},this.complete=function(){i.observer.complete&&i.isActive&&i.observer.complete(),i.onComplete&&i.onComplete(),i.isActive=!1},this.error=function(o){i.observer.error&&i.isActive&&i.observer.error(o),i.isActive=!1},this.observer=e,this.updateObserver=function(o){return e.update(o)},this.onComplete=a,e.update&&n&&n.length&&n.forEach(function(o){return i.updateObserver=o(i.updateObserver,i.complete)})}return r}(),sce=function(r,t,e){var i=t.middleware;return typeof r=="function"?new $N({middleware:i,onComplete:e},{update:r}):new $N({middleware:i,onComplete:e},r)},lce=function(r){AN(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){e===void 0&&(e={});var i=!1,n={stop:function(){}},a=this.props,o=a.init,s=ab(a,["init"]),l=sce(e,s,function(){i=!0,n.stop()}),c=o(l);return n=c?ea(ea({},n),c):n,e.registerParent&&e.registerParent(n),i&&n.stop(),n},t}(oce),zl=function(r){return new lce({init:r})};var JN=function(r){var t=r.getCount,e=r.getFirst,i=r.getOutput,n=r.mapApi,a=r.setProp,o=r.startActions;return function(s){return zl(function(l){var c=l.update,d=l.complete,u=l.error,f=t(s),m=i(),g=function(){return c(m)},v=0,y=o(s,function(b,_){var w=!1;return b.start({complete:function(){w||(w=!0,v++,v===f&&Ns.update(d))},error:u,update:function(E){a(m,_,E),Ns.update(g,!1,!0)}})});return Object.keys(e(y)).reduce(function(b,_){return b[_]=n(y,_),b},{})})}},cce=JN({getOutput:function(){return{}},getCount:function(r){return Object.keys(r).length},getFirst:function(r){return r[Object.keys(r)[0]]},mapApi:function(r,t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Object.keys(r).reduce(function(n,a){var o;return r[a][t]&&(e[0]&&e[0][a]!==void 0?n[a]=r[a][t](e[0][a]):n[a]=(o=r[a])[t].apply(o,e)),n},{})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return Object.keys(r).reduce(function(e,i){return e[i]=t(r[i],i),e},{})}}),dce=JN({getOutput:function(){return[]},getCount:function(r){return r.length},getFirst:function(r){return r[0]},mapApi:function(r,t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return r.map(function(n,a){if(n[t])return Array.isArray(e[0])?n[t](e[0][a]):n[t].apply(n,e)})}},setProp:function(r,t,e){return r[t]=e},startActions:function(r,t){return r.map(function(e,i){return t(e,i)})}}),uce=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return dce(r)},hce=function(r){var t=Object.keys(r),e=function(a,o){return a!==void 0&&!r[o](a)},i=function(a){return t.reduce(function(o,s){return e(a[s],s)&&o.push(s),o},[])},n=function(a){return a&&t.some(function(o){return e(a[o],o)})};return{getVectorKeys:i,testVectorProps:n}},fce=[C1,dd,w1,PN,LN],N1=function(r){return fce.find(function(t){return t.test(r)})},mce=function(r){return!!N1(r)},YN=function(r,t){return r(t)},pce=function(r){return function(t,e){return t[e]=t[e][r],t}},gce=function(r,t,e){var i=e[0],n=t[i].map(function(a,o){var s=e.reduce(pce(o),ea({},t));return B1(a)(r,s)});return uce.apply(void 0,n)},vce=function(r){return function(t,e){return t[e]=t[e][r],t}},yce=function(r,t,e){var i=e[0],n=Object.keys(t[i]).reduce(function(a,o){var s=e.reduce(vce(o),ea({},t));return a[o]=B1(t[i][o])(r,s),a},{});return cce(n)},bce=function(r,t){var e=t.from,i=t.to,n=ab(t,["from","to"]),a=N1(e)||N1(i),o=a.transform,s=a.parse;return r(ea(ea({},n),{from:typeof e=="string"?s(e):e,to:typeof i=="string"?s(i):i})).pipe(o)},e2=function(r){return function(t,e){var i=e.from,n=e.to,a=ab(e,["from","to"]);return t(ea(ea({},a),{from:0,to:1})).pipe(r(i,n))}},_ce=e2(T1),xce=e2(R1),Gm=function(r,t){var e=hce(t),i=e.testVectorProps,n=e.getVectorKeys,a=function(o){var s=i(o);if(!s)return r(o);var l=n(o),c=l[0],d=o[c];return B1(d)(r,o,l)};return a},B1=function(r){return typeof r=="number"?YN:Array.isArray(r)?gce:mce(r)?bce:ud.test(r)?_ce:hd.test(r)?xce:typeof r=="object"?yce:YN},t2=function(r){return r===void 0&&(r={}),zl(function(t){var e=t.complete,i=t.update,n=r.velocity,a=n===void 0?0:n,o=r.from,s=o===void 0?0:o,l=r.power,c=l===void 0?.8:l,d=r.timeConstant,u=d===void 0?350:d,f=r.restDelta,m=f===void 0?.5:f,g=r.modifyTarget,v=0,y=c*a,b=s+y,_=typeof g>"u"?b:g(b);_!==b&&(y=_-s);var w=Ns.update(function(E){var S=E.delta;v+=S;var D=-y*Math.exp(-v/u),T=D>m||D<-m,O=T?_+D:_;i(O),T||(Fs.update(w),e())},!0);return{stop:function(){return Fs.update(w)}}})},Tje=Gm(t2,{from:Jr.test,modifyTarget:function(r){return typeof r=="function"},velocity:Jr.test}),r2=function(r){return r===void 0&&(r={}),zl(function(t){var e=t.update,i=t.complete,n=r.velocity,a=n===void 0?0:n,o=r.from,s=o===void 0?0:o,l=r.to,c=l===void 0?0:l,d=r.stiffness,u=d===void 0?100:d,f=r.damping,m=f===void 0?10:f,g=r.mass,v=g===void 0?1:g,y=r.restSpeed,b=y===void 0?.01:y,_=r.restDelta,w=_===void 0?.01:_,E=a?-(a/1e3):0,S=0,D=c-s,T=s,O=T,F=Ns.update(function(P){var L=P.delta;S+=L;var C=m/(2*Math.sqrt(u*v)),A=Math.sqrt(u/v)/1e3;if(O=T,C<1){var R=Math.exp(-C*A*S),k=A*Math.sqrt(1-C*C);T=c-R*((E+C*A*D)/k*Math.sin(k*S)+D*Math.cos(k*S))}else{var R=Math.exp(-A*S);T=c-R*(D+(E+A*D)*S)}a=O1(T-O,L);var I=Math.abs(a)<=b,B=Math.abs(c-T)<=w;I&&B?(T=c,e(T),Fs.update(F),i()):e(T)},!0);return{stop:function(){return Fs.update(F)}}})},Aje=Gm(r2,{from:Jr.test,to:Jr.test,stiffness:Jr.test,damping:Jr.test,mass:Jr.test,velocity:Jr.test}),wce=function(r){var t=r.from,e=t===void 0?0:t,i=r.velocity,n=i===void 0?0:i,a=r.min,o=r.max,s=r.power,l=s===void 0?.8:s,c=r.timeConstant,d=c===void 0?700:c,u=r.bounceStiffness,f=u===void 0?500:u,m=r.bounceDamping,g=m===void 0?10:m,v=r.restDelta,y=v===void 0?1:v,b=r.modifyTarget;return zl(function(_){var w=_.update,E=_.complete,S=e,D=e,T,O=function(B){return a!==void 0&&B<a||o!==void 0&&B>o},F=function(B){return Math.abs(a-B)<Math.abs(o-B)?a:o},P=function(B,z){T&&T.stop(),T=B.start({update:w,complete:function(){if(z){z();return}E()}})},L=function(B){P(r2(ea(ea({},B),{stiffness:f,damping:g,restDelta:y})))};if(O(e))L({from:e,velocity:n,to:F(e)});else{var C=l*n+e;typeof b<"u"&&(C=b(C),b=void 0,n=(C-e)/l);var A=t2({from:e,velocity:n,timeConstant:d,power:l,restDelta:y,modifyTarget:b}),R=void 0;if(O(C)){var k=F(C),I=k==a?-1:1;A=A.while(function(B){return S=D,n=O1(B-S,jN().delta),D=B,k-B*I>0}),R=function(){return L({from:D,to:k,velocity:n})}}P(A,R)}return{stop:function(){return T&&T.stop()}}})},Rje=Gm(wce,{from:Jr.test,velocity:Jr.test,min:Jr.test,max:Jr.test,damping:Jr.test,stiffness:Jr.test,modifyTarget:function(r){return typeof r=="function"}});var Cce=function(r){var t=r.from,e=t===void 0?0:t,i=r.to,n=i===void 0?1:i,a=r.ease,o=a===void 0?km:a,s=r.reverseEase,l=s===void 0?!1:s;return l&&(o=bN(o)),zl(function(c){var d=c.update;return{seek:function(u){return d(u)}}}).pipe(o,function(c){return rh(e,n,c)})},XN=Gm(Cce,{ease:function(r){return typeof r=="function"},from:Jr.test,to:Jr.test}),Ece=lb(0,1),i2=function(r){return r===void 0&&(r={}),zl(function(t){var e=t.update,i=t.complete,n=r.duration,a=n===void 0?300:n,o=r.ease,s=o===void 0?Lm:o,l=r.flip,c=l===void 0?0:l,d=r.loop,u=d===void 0?0:d,f=r.yoyo,m=f===void 0?0:f,g=r.repeatDelay,v=g===void 0?0:g,y=r.from,b=y===void 0?0:y,_=r.to,w=_===void 0?1:_,E=r.elapsed,S=E===void 0?0:E,D=r.flipCount,T=D===void 0?0:D,O=r.yoyoCount,F=O===void 0?0:O,P=r.loopCount,L=P===void 0?0:P,C=XN({from:b,to:w,ease:s}).start(e),A=0,R,k=!1,I=function(G){var K;G===void 0&&(G=!1),K=[w,b],b=K[0],w=K[1],C=XN({from:b,to:w,ease:s,reverseEase:G}).start(e)},B=function(){var G=k&&S>a+v;return G?G&&!u&&!c&&!m?!0:(S=a-(S-v),u&&L<u?(L++,!1):c&&T<c?(T++,I(),!1):m&&F<m?(F++,I(F%2!==0),!1):!0):!1},z=function(){A=Ece(qN(0,a,S)),C.seek(A)},W=function(){k=!0,R=Ns.update(function(G){var K=G.delta;S+=K,z(),B()&&(Fs.update(R),i&&Ns.update(i,!1,!0))},!0)},$=function(){k=!1,R&&Fs.update(R)};return W(),{isActive:function(){return k},getElapsed:function(){return lb(0,a,S)},getProgress:function(){return A},stop:function(){$()},pause:function(){return $(),this},resume:function(){return k||W(),this},seek:function(G){return S=rh(0,a,G),Ns.update(z,!1,!0),this},reverse:function(){return I(),this}}})};var Sce=function(r){return r===void 0&&(r={}),zl(function(t){var e=t.complete,i=t.update,n=r.acceleration,a=n===void 0?0:n,o=r.friction,s=o===void 0?0:o,l=r.velocity,c=l===void 0?0:l,d=r.springStrength,u=r.to,f=r.restSpeed,m=f===void 0?.001:f,g=r.from,v=g===void 0?0:g,y=v,b=Ns.update(function(_){var w=_.delta,E=Math.max(w,16);if(a&&(c+=cb(a,E)),s&&(c*=Math.pow(1-s,E/100)),d!==void 0&&u!==void 0){var S=u-y;c+=S*cb(d,E)}y+=cb(c,E),i(y);var D=m!==!1&&(!c||Math.abs(c)<=m);D&&(Fs.update(b),e())},!0);return{set:function(_){return y=_,this},setAcceleration:function(_){return a=_,this},setFriction:function(_){return s=_,this},setSpringStrength:function(_){return d=_,this},setSpringTarget:function(_){return u=_,this},setVelocity:function(_){return c=_,this},stop:function(){return Fs.update(b)}}})},Ije=Gm(Sce,{acceleration:Jr.test,friction:Jr.test,velocity:Jr.test,from:Jr.test,to:Jr.test,springStrength:Jr.test});var n2=function(r,t,e){return zl(function(i){var n=i.update,a=t.split(" ").map(function(o){return r.addEventListener(o,n,e),o});return{stop:function(){return a.forEach(function(o){return r.removeEventListener(o,n,e)})}}})},V1=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},a2=function(r,t){return t===void 0&&(t=V1()),t.clientX=t.x=r.clientX,t.clientY=t.y=r.clientY,t.pageX=r.pageX,t.pageY=r.pageY,t},KN=[V1()],Mce=!1;typeof document<"u"&&(ZN=function(r){var t=r.touches;Mce=!0;var e=t.length;KN.length=0;for(var i=0;i<e;i++){var n=t[i];KN.push(a2(n))}},n2(document,"touchstart touchmove",{passive:!0,capture:!0}).start(ZN));var ZN;var Dce=V1(),Tce=!1;typeof document<"u"&&(QN=function(r){Tce=!0,a2(r,Dce)},n2(document,"mousedown mousemove",!0).start(QN));var QN;var o2={anticipate:c1,backIn:Fm,backInOut:l1,backOut:s1,circIn:tb,circInOut:o1,circOut:rb,easeIn:Pm,easeInOut:eb,easeOut:Lm,linear:km},nh="animateGridId",z1=(r,t)=>{let{top:e,left:i,width:n,height:a}=t.getBoundingClientRect(),o={top:e,left:i,width:n,height:a};return o.top-=r.top,o.left-=r.left,o.top=Math.max(o.top,0),o.left=Math.max(o.left,0),o},s2=(r,{translateX:t,translateY:e,scaleX:i,scaleY:n},{immediate:a}={})=>{let o=t===0&&e===0&&i===1&&n===1,s=()=>{r.style.transform=o?"":`translateX(${t}px) translateY(${e}px) scaleX(${i}) scaleY(${n})`};a?s():zm.render(s);let l=r.children[0];if(l){let c=()=>{l.style.transform=o?"":`scaleX(${1/i}) scaleY(${1/n})`};a?c():zm.render(c)}},l2=(r,{duration:t=250,stagger:e=0,easing:i="easeInOut",onStart:n=()=>{},onEnd:a=()=>{}}={})=>{if(!o2[i])throw new Error(`${i} is not a valid easing name`);let o=!1,s=y=>{o=!0,y(),setTimeout(()=>{o=!1},0)},l={},c=y=>{let b=r.getBoundingClientRect();Array.from(y).forEach(_=>{if(typeof _.getBoundingClientRect!="function")return;if(!_.dataset[nh]){let S=`${Math.random()}`;_.dataset[nh]=S}let w=_.dataset[nh];l[w]||(l[w]={});let E=z1(b,_);l[w].rect=E,l[w].gridBoundingClientRect=b})};c(r.children);let d=(0,q1.default)(()=>{let y=document.querySelector("body"),b=y&&!y.contains(r);(!r||b)&&window.removeEventListener("resize",d),c(r.children)},250);window.addEventListener("resize",d);let u=(0,q1.default)(()=>{c(r.children)},20);r.addEventListener("scroll",u);let f=y=>{if(y!=="forceGridAnimation"&&(!y.filter(T=>T.attributeName==="class"||T.addedNodes.length||T.removedNodes.length).length||o))return;let b=r.getBoundingClientRect(),_=Array.from(r.children);_.filter(D=>{let T=l[D.dataset[nh]];if(T&&T.stopTween)return T.stopTween(),delete T.stopTween,!0}).forEach(D=>{D.style.transform="";let T=D.children[0];T&&(T.style.transform="")});let w=_.map(D=>({childCoords:{},el:D,boundingClientRect:z1(b,D)})).filter(({el:D,boundingClientRect:T})=>{let O=l[D.dataset[nh]];if(O){if(T.top===O.rect.top&&T.left===O.rect.left&&T.width===O.rect.width&&T.height===O.rect.height)return!1}else return c([D]),!1;return!0});if(w.forEach(({el:D})=>{if(Array.from(D.children).length>1)throw new Error("Make sure every grid item has a single container element surrounding its children")}),!w.length)return;let E=w.map(({el:D})=>D);s(()=>n(E));let S=[];w.map(D=>{let T=D.el.children[0];return T&&(D.childCoords=z1(b,T)),D}).forEach(({el:D,boundingClientRect:{top:T,left:O,width:F,height:P},childCoords:{top:L,left:C}},A)=>{let R=D.children[0],k=l[D.dataset[nh]],I={scaleX:k.rect.width/F,scaleY:k.rect.height/P,translateX:k.rect.left-O,translateY:k.rect.top-T};D.style.transformOrigin="0 0",R&&C===O&&L===T&&(R.style.transformOrigin="0 0");let B,z=new Promise($=>{B=$});S.push(z),s2(D,I,{immediate:!0});let W=()=>{let{stop:$}=i2({from:I,to:{translateX:0,translateY:0,scaleX:1,scaleY:1},duration:t,ease:o2[i]}).start({update:G=>{s2(D,G),zm.postRender(()=>c([D]))},complete:B});k.stopTween=$};if(typeof e!="number")W();else{let $=setTimeout(()=>{zm.update(W)},e*A);k.stopTween=()=>clearTimeout($)}}),Promise.all(S).then(()=>{a(E)})},m=new MutationObserver(f);return m.observe(r,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"]}),{unwrapGrid:()=>{window.removeEventListener("resize",d),r.removeEventListener("scroll",u),m.disconnect()},forceGridAnimation:()=>f("forceGridAnimation")}};var Ace=["widgetDashboard"],c2=(r,t)=>t.id;function Rce(r,t){if(r&1){let e=Br();ae(0,"button",8),Xe("click",function(){let n=Gt(e).$implicit,a=nt();return Wt(a.store.addWidget(n))}),He(1),ue()}if(r&2){let e=t.$implicit;ge(),zc(" ",e.label," ")}}function Ice(r,t){r&1&&(ae(0,"button",4),He(1,"Nothing To Add"),ue())}function Oce(r,t){if(r&1){let e=Br();ae(0,"mat-grid-tile",9),Xe("cdkDropListDropped",function(n){Gt(e);let a=nt();return Wt(a.drop(n))}),Pe(1,"app-widget",10),ue()}if(r&2){let e=t.$implicit;Re("colspan",e.columnSpan)("rowspan",e.rowSpan)("cdkDropListData",e.id),ge(),Re("data",e)}}var hb=class r{constructor(t){this.store=t}dashboard=Fn.required("widgetDashboard");gridCols=yr(4);subscription=new rt;ngOnInit(){this.subscription.add(this._observeWindowResize()),l2(this.dashboard().nativeElement,{duration:250})}ngOnDestroy(){this.subscription.unsubscribe()}drop(t){let{previousContainer:e,container:i}=t;this.store.swapWidgetPosition(e.data,i.data)}_observeWindowResize(){return su(window,"resize").pipe(yv(200),Et(()=>{let t=this.dashboard().nativeElement.clientWidth;this.gridCols.set(Math.floor(t/300))})).subscribe()}static \u0275fac=function(e){return new(e||r)(Jt(Vl))};static \u0275cmp=De({type:r,selectors:[["app-widget-dashboard"]],viewQuery:function(e,i){e&1&&Bn(i.dashboard,Ace,5),e&2&&mn()},features:[Yt([Vl])],decls:17,vars:3,consts:[["widgetMenu","matMenu"],["widgetDashboard",""],[1,"header"],["mat-raised-button","",3,"matMenuTriggerFor"],["mat-menu-item",""],["cdkDropListGroup",""],["rowHeight","200px","gutterSize","16px",3,"cols"],["cdkDropList","",3,"colspan","rowspan","cdkDropListData"],["mat-menu-item","",3,"click"],["cdkDropList","",3,"cdkDropListDropped","colspan","rowspan","cdkDropListData"],[1,"container",3,"data"]],template:function(e,i){if(e&1&&(ae(0,"div",2)(1,"mat-toolbar")(2,"button",3)(3,"mat-icon"),He(4,"add_circle"),ue(),ae(5,"span"),He(6,"Add Widget"),ue()()(),ae(7,"mat-menu",null,0),fr(9,Rce,2,1,"button",4,c2,!1,Ice,2,0,"button",4),ue()(),ae(12,"div",5,1)(14,"mat-grid-list",6),fr(15,Oce,2,4,"mat-grid-tile",7,c2),ue()()),e&2){let n=Qa(8);ge(2),Re("matMenuTriggerFor",n),ge(7),mr(i.store.widgetsToAdd()),ge(5),Re("cols",i.gridCols()),ge(),mr(i.store.addedWidgets())}},dependencies:[Zy,Uy,yn,Zu,Ku,gN,Ju,Im,pN,dN,cN,Fl,Ny,Mm],styles:["mat-grid-tile[_ngcontent-%COMP%]{box-shadow:var(--mat-sys-level2)}"]})};var d2=[{path:"ui",component:zy},{path:"ui/widget-dashboard",component:hb},{path:"ui/form-example",component:Ly}];var fb=class r{items=[{label:"Path Search",rowSpan:1,columnSpan:1,route:"/algorithm/path-search"},{label:"Random Sample",rowSpan:1,columnSpan:1,route:"/algorithm/random-sample"},{label:"Maze Generation",rowSpan:1,columnSpan:1,route:"/algorithm/maze-generation"},{label:"Auto Diff",rowSpan:1,columnSpan:1,route:"/algorithm/auto-diff"},{label:"K-means Clustering",rowSpan:1,columnSpan:1,route:"/algorithm/k-mean-clustering"},{label:"Minimum Spanning Tree",rowSpan:1,columnSpan:1,route:"/algorithm/minimum-spanning-tree"},{label:"Traveling Salesman",rowSpan:1,columnSpan:1,route:"/algorithm/traveling-salesman"}];static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-algorithm"]],standalone:!1,decls:1,vars:2,consts:[[3,"items","itemWidth"]],template:function(e,i){e&1&&Pe(0,"app-gallery",0),e&2&&Re("items",i.items)("itemWidth",200)},dependencies:[Nl],encapsulation:2})};var ah=class{constructor(t,e,i,n){this.name=t;this.nodeStyle=e;this.edgeStyle=i;this.layout=n}_data=new ir({action:"init",nodes:[],edges:[]});setData(t){this._data.next(t)}obData(){return this._data}};var mb=la(Bs());var pb=class r{_nodes=new Map;_edges=new Map;static Generate(t,e){let i=new r;for(let a=0;a<t;a++)i.addNode({id:""+a,value:a});let n=0;for(;n<e;){let[a,o]=[mb.default.random(0,t-1),mb.default.random(0,t-1)];if(a===o)continue;a>o&&([a,o]=[o,a]);let s={id:`${a}<->${o}`,source:""+a,target:""+o,weight:mb.default.random(1,30),state:0};n=n+(i.addEdge(s)?1:0)}return i}constructor(){}addNode(t){let e=this._nodes.has(t.id);return this._nodes.set(t.id,t),this._edges.has(t.id)||this._edges.set(t.id,new Map),e}getNode(t){return this._nodes.get(t)}addEdge(t){this._edges.has(t.source)||this._edges.set(t.source,new Map),this._edges.has(t.target)||this._edges.set(t.target,new Map);let e=!this._edges.get(t.source)?.has(t.target);return this._edges.get(t.source)?.set(t.target,Bt(Oe({},t),{source:t.source,target:t.target})),this._edges.get(t.target)?.set(t.source,Bt(Oe({},t),{source:t.target,target:t.source})),e}nodes(){return[...this._nodes.values()]}allEdges(){let t=new Set([]),e=[];for(let i of this.nodes())for(let n of this.edges(i))t.has(n.id)||(e.push(n),t.add(n.id));return e}edges(t){if(!t)return[];let e=this._edges.get(t.id);return Array.from(e?e.values():[])}resetState(){for(let t of this._edges.values())for(let e of t.values())e.state=0}};var gb=class{parent;height;constructor(t){this.parent=Array.from({length:t},(e,i)=>i),this.height=Array(t).fill(0)}find(t){return this.parent[t]!==t&&(this.parent[t]=this.find(this.parent[t])),this.parent[t]}union(t,e){let i=this.find(t),n=this.find(e);return i===n?!1:(this.height[i]>this.height[n]?this.parent[n]=i:this.height[i]<this.height[n]?this.parent[i]=n:(this.parent[n]=i,this.height[i]+=1),!0)}};var jm=la(Bs()),S2=la(Q1()),_b=class{run(t){let e=[],i=t.allEdges();i.sort((a,o)=>a.weight-o.weight),i.forEach(a=>a.state=1),e.push(jm.default.cloneDeep(i));let n=new gb(t.nodes().length);for(let a of i)n.union(Number(a.source),Number(a.target))&&(a.state=2,e.push([jm.default.cloneDeep(a)]));return e}},xb=class{run(t){let e=[],i=t.nodes();if(i.length===0)return e;let n=new Set([]);for(let a of i)n.has(a.id)||(n.add(a.id),e.push(...this._run(a,t,n)));return e}_run(t,e,i){let n=[],a=new S2.PriorityQueue((o,s)=>o.weight-s.weight);for(this.collectEdges(t,e,i,a,n);a.size()>0;){let o=a.pop();o&&!i.has(o.target)&&(o.state=2,i.add(o.target),n.push([jm.default.cloneDeep(o)]),this.collectEdges(e.getNode(o.target),e,i,a,n))}return n}collectEdges(t,e,i,n,a){for(let o of e.edges(t))i.has(o.target)||(o.state=1,n.push(o),a.push([jm.default.cloneDeep(o)]))}};function EM(r,t){(t==null||t>r.length)&&(t=r.length);for(var e=0,i=Array(t);e<t;e++)i[e]=r[e];return i}function Wce(r){if(Array.isArray(r))return r}function jce(r){if(Array.isArray(r))return EM(r)}function ec(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function $ce(r,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,JV(i.key),i)}}function tc(r,t,e){return t&&$ce(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Oo(r,t){var e=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=HM(r))||t){e&&(r=e);var i=0,n=function(){};return{s:n,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(l){throw l},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,o=!0,s=!1;return{s:function(){e=e.call(r)},n:function(){var l=e.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{o||e.return==null||e.return()}finally{if(s)throw a}}}}function ZV(r,t,e){return(t=JV(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function Yce(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Xce(r,t){var e=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(e!=null){var i,n,a,o,s=[],l=!0,c=!1;try{if(a=(e=e.call(r)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(i=a.call(e)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(c)throw n}}return s}}function Kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(r,t){return Wce(r)||Xce(r,t)||HM(r,t)||Kce()}function QV(r){return jce(r)||Yce(r)||HM(r)||Zce()}function Qce(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var i=e.call(r,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function JV(r){var t=Qce(r,"string");return typeof t=="symbol"?t:t+""}function sn(r){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(r)}function HM(r,t){if(r){if(typeof r=="string")return EM(r,t);var e={}.toString.call(r).slice(8,-1);return e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set"?Array.from(r):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?EM(r,t):void 0}}var an=typeof window>"u"?null:window,M2=an?an.navigator:null;an&&an.document;var Jce=sn(""),ez=sn({}),ede=sn(function(){}),tde=typeof HTMLElement>"u"?"undefined":sn(HTMLElement),gp=function(t){return t&&t.instanceString&&Di(t.instanceString)?t.instanceString():null},Tt=function(t){return t!=null&&sn(t)==Jce},Di=function(t){return t!=null&&sn(t)===ede},ii=function(t){return!ka(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},kr=function(t){return t!=null&&sn(t)===ez&&!ii(t)&&t.constructor===Object},rde=function(t){return t!=null&&sn(t)===ez},Qe=function(t){return t!=null&&sn(t)===sn(1)&&!isNaN(t)},ide=function(t){return Qe(t)&&Math.floor(t)===t},jb=function(t){if(tde!=="undefined")return t!=null&&t instanceof HTMLElement},ka=function(t){return vp(t)||tz(t)},vp=function(t){return gp(t)==="collection"&&t._private.single},tz=function(t){return gp(t)==="collection"&&!t._private.single},GM=function(t){return gp(t)==="core"},rz=function(t){return gp(t)==="stylesheet"},nde=function(t){return gp(t)==="event"},Yl=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},ade=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},ode=function(t){return kr(t)&&Qe(t.x1)&&Qe(t.x2)&&Qe(t.y1)&&Qe(t.y2)},sde=function(t){return rde(t)&&Di(t.then)},lde=function(){return M2&&M2.userAgent.match(/msie|trident|edge/i)},op=function(t,e){e||(e=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);return a.join("$")});var i=function(){var a=this,o=arguments,s,l=e.apply(a,o),c=i.cache;return(s=c[l])||(s=c[l]=t.apply(a,o)),s};return i.cache={},i},WM=op(function(r){return r.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),a0=op(function(r){return r.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),iz=op(function(r,t){return r+t[0].toUpperCase()+t.substring(1)},function(r,t){return r+"$"+t}),D2=function(t){return Yl(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},on="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",cde="rgb[a]?\\(("+on+"[%]?)\\s*,\\s*("+on+"[%]?)\\s*,\\s*("+on+"[%]?)(?:\\s*,\\s*("+on+"))?\\)",dde="rgb[a]?\\((?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)\\s*,\\s*(?:"+on+"[%]?)(?:\\s*,\\s*(?:"+on+"))?\\)",ude="hsl[a]?\\(("+on+")\\s*,\\s*("+on+"[%])\\s*,\\s*("+on+"[%])(?:\\s*,\\s*("+on+"))?\\)",hde="hsl[a]?\\((?:"+on+")\\s*,\\s*(?:"+on+"[%])\\s*,\\s*(?:"+on+"[%])(?:\\s*,\\s*(?:"+on+"))?\\)",fde="\\#[0-9a-fA-F]{3}",mde="\\#[0-9a-fA-F]{6}",nz=function(t,e){return t<e?-1:t>e?1:0},pde=function(t,e){return-1*nz(t,e)},Ot=Object.assign!=null?Object.assign.bind(Object):function(r){for(var t=arguments,e=1;e<t.length;e++){var i=t[e];if(i!=null)for(var n=Object.keys(i),a=0;a<n.length;a++){var o=n[a];r[o]=i[o]}}return r},gde=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var e=t.length===4,i,n,a,o=16;return e?(i=parseInt(t[1]+t[1],o),n=parseInt(t[2]+t[2],o),a=parseInt(t[3]+t[3],o)):(i=parseInt(t[1]+t[2],o),n=parseInt(t[3]+t[4],o),a=parseInt(t[5]+t[6],o)),[i,n,a]}},vde=function(t){var e,i,n,a,o,s,l,c;function d(g,v,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(v-g)*6*y:y<1/2?v:y<2/3?g+(v-g)*(2/3-y)*6:g}var u=new RegExp("^"+ude+"$").exec(t);if(u){if(i=parseInt(u[1]),i<0?i=(360- -1*i%360)%360:i>360&&(i=i%360),i/=360,n=parseFloat(u[2]),n<0||n>100||(n=n/100,a=parseFloat(u[3]),a<0||a>100)||(a=a/100,o=u[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(n===0)s=l=c=Math.round(a*255);else{var f=a<.5?a*(1+n):a+n-a*n,m=2*a-f;s=Math.round(255*d(m,f,i+1/3)),l=Math.round(255*d(m,f,i)),c=Math.round(255*d(m,f,i-1/3))}e=[s,l,c,o]}return e},yde=function(t){var e,i=new RegExp("^"+cde+"$").exec(t);if(i){e=[];for(var n=[],a=1;a<=3;a++){var o=i[a];if(o[o.length-1]==="%"&&(n[a]=!0),o=parseFloat(o),n[a]&&(o=o/100*255),o<0||o>255)return;e.push(Math.floor(o))}var s=n[1]||n[2]||n[3],l=n[1]&&n[2]&&n[3];if(s&&!l)return;var c=i[4];if(c!==void 0){if(c=parseFloat(c),c<0||c>1)return;e.push(c)}}return e},bde=function(t){return _de[t.toLowerCase()]},az=function(t){return(ii(t)?t:null)||bde(t)||gde(t)||yde(t)||vde(t)},_de={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},oz=function(t){for(var e=t.map,i=t.keys,n=i.length,a=0;a<n;a++){var o=i[a];if(kr(o))throw Error("Tried to set map with object key");a<i.length-1?(e[o]==null&&(e[o]={}),e=e[o]):e[o]=t.value}},sz=function(t){for(var e=t.map,i=t.keys,n=i.length,a=0;a<n;a++){var o=i[a];if(kr(o))throw Error("Tried to get map with object key");if(e=e[o],e==null)return e}return e},wb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var J1,T2;function bp(){if(T2)return J1;T2=1;function r(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}return J1=r,J1}var eS,A2;function xde(){if(A2)return eS;A2=1;var r=typeof wb=="object"&&wb&&wb.Object===Object&&wb;return eS=r,eS}var tS,R2;function o0(){if(R2)return tS;R2=1;var r=xde(),t=typeof self=="object"&&self&&self.Object===Object&&self,e=r||t||Function("return this")();return tS=e,tS}var rS,I2;function wde(){if(I2)return rS;I2=1;var r=o0(),t=function(){return r.Date.now()};return rS=t,rS}var iS,O2;function Cde(){if(O2)return iS;O2=1;var r=/\s/;function t(e){for(var i=e.length;i--&&r.test(e.charAt(i)););return i}return iS=t,iS}var nS,k2;function Ede(){if(k2)return nS;k2=1;var r=Cde(),t=/^\s+/;function e(i){return i&&i.slice(0,r(i)+1).replace(t,"")}return nS=e,nS}var aS,P2;function jM(){if(P2)return aS;P2=1;var r=o0(),t=r.Symbol;return aS=t,aS}var oS,L2;function Sde(){if(L2)return oS;L2=1;var r=jM(),t=Object.prototype,e=t.hasOwnProperty,i=t.toString,n=r?r.toStringTag:void 0;function a(o){var s=e.call(o,n),l=o[n];try{o[n]=void 0;var c=!0}catch{}var d=i.call(o);return c&&(s?o[n]=l:delete o[n]),d}return oS=a,oS}var sS,F2;function Mde(){if(F2)return sS;F2=1;var r=Object.prototype,t=r.toString;function e(i){return t.call(i)}return sS=e,sS}var lS,N2;function lz(){if(N2)return lS;N2=1;var r=jM(),t=Sde(),e=Mde(),i="[object Null]",n="[object Undefined]",a=r?r.toStringTag:void 0;function o(s){return s==null?s===void 0?n:i:a&&a in Object(s)?t(s):e(s)}return lS=o,lS}var cS,B2;function Dde(){if(B2)return cS;B2=1;function r(t){return t!=null&&typeof t=="object"}return cS=r,cS}var dS,V2;function _p(){if(V2)return dS;V2=1;var r=lz(),t=Dde(),e="[object Symbol]";function i(n){return typeof n=="symbol"||t(n)&&r(n)==e}return dS=i,dS}var uS,z2;function Tde(){if(z2)return uS;z2=1;var r=Ede(),t=bp(),e=_p(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(e(c))return i;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=r(c);var u=a.test(c);return u||o.test(c)?s(c.slice(2),u?2:8):n.test(c)?i:+c}return uS=l,uS}var hS,q2;function Ade(){if(q2)return hS;q2=1;var r=bp(),t=wde(),e=Tde(),i="Expected a function",n=Math.max,a=Math.min;function o(s,l,c){var d,u,f,m,g,v,y=0,b=!1,_=!1,w=!0;if(typeof s!="function")throw new TypeError(i);l=e(l)||0,r(c)&&(b=!!c.leading,_="maxWait"in c,f=_?n(e(c.maxWait)||0,l):f,w="trailing"in c?!!c.trailing:w);function E(A){var R=d,k=u;return d=u=void 0,y=A,m=s.apply(k,R),m}function S(A){return y=A,g=setTimeout(O,l),b?E(A):m}function D(A){var R=A-v,k=A-y,I=l-R;return _?a(I,f-k):I}function T(A){var R=A-v,k=A-y;return v===void 0||R>=l||R<0||_&&k>=f}function O(){var A=t();if(T(A))return F(A);g=setTimeout(O,D(A))}function F(A){return g=void 0,w&&d?E(A):(d=u=void 0,m)}function P(){g!==void 0&&clearTimeout(g),y=0,d=v=u=g=void 0}function L(){return g===void 0?m:F(t())}function C(){var A=t(),R=T(A);if(d=arguments,u=this,v=A,R){if(g===void 0)return S(v);if(_)return clearTimeout(g),g=setTimeout(O,l),E(v)}return g===void 0&&(g=setTimeout(O,l)),m}return C.cancel=P,C.flush=L,C}return hS=o,hS}var Rde=Ade(),xp=yp(Rde),fS=an?an.performance:null,cz=fS&&fS.now?function(){return fS.now()}:function(){return Date.now()},Ide=function(){if(an){if(an.requestAnimationFrame)return function(r){an.requestAnimationFrame(r)};if(an.mozRequestAnimationFrame)return function(r){an.mozRequestAnimationFrame(r)};if(an.webkitRequestAnimationFrame)return function(r){an.webkitRequestAnimationFrame(r)};if(an.msRequestAnimationFrame)return function(r){an.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(cz())},1e3/60)}}(),$b=function(t){return Ide(t)},qs=cz,mh=9261,dz=65599,Jm=5381,uz=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mh,i=e,n;n=t.next(),!n.done;)i=i*dz+n.value|0;return i},sp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mh;return e*dz+t|0},lp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jm;return(e<<5)+e+t|0},Ode=function(t,e){return t*2097152+e},ql=function(t){return t[0]*2097152+t[1]},Cb=function(t,e){return[sp(t[0],e[0]),lp(t[1],e[1])]},kde=function(t,e){var i={value:0,done:!1},n=0,a=t.length,o={next:function(){return n<a?i.value=t[n++]:i.done=!0,i}};return uz(o,e)},Xl=function(t,e){var i={value:0,done:!1},n=0,a=t.length,o={next:function(){return n<a?i.value=t.charCodeAt(n++):i.done=!0,i}};return uz(o,e)},hz=function(){return Pde(arguments)},Pde=function(t){for(var e,i=0;i<t.length;i++){var n=t[i];i===0?e=Xl(n):e=Xl(n,e)}return e},U2=!0,Lde=console.warn!=null,Fde=console.trace!=null,$M=Number.MAX_SAFE_INTEGER||9007199254740991,fz=function(){return!0},Yb=function(){return!1},H2=function(){return 0},YM=function(){},Mi=function(t){throw new Error(t)},mz=function(t){if(t!==void 0)U2=!!t;else return U2},jr=function(t){mz()&&(Lde?console.warn(t):(console.log(t),Fde&&console.trace()))},Nde=function(t){return Ot({},t)},es=function(t){return t==null?t:ii(t)?t.slice():kr(t)?Nde(t):t},Bde=function(t){return t.slice()},pz=function(t,e){for(e=t="";t++<36;e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return e},Vde={},gz=function(){return Vde},ln=function(t){var e=Object.keys(t);return function(i){for(var n={},a=0;a<e.length;a++){var o=e[a],s=i?.[o];n[o]=s===void 0?t[o]:s}return n}},Kl=function(t,e,i){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},XM=function(t){t.splice(0,t.length)},zde=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];t.push(n)}},Io=function(t,e,i){return i&&(e=iz(i,e)),t[e]},Gl=function(t,e,i,n){i&&(e=iz(i,e)),t[e]=n},qde=function(){function r(){ec(this,r),this._obj={}}return tc(r,[{key:"set",value:function(e,i){return this._obj[e]=i,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return this._obj[e]!==void 0}},{key:"get",value:function(e){return this._obj[e]}}])}(),zs=typeof Map<"u"?Map:qde,Ude="undefined",Hde=function(){function r(t){if(ec(this,r),this._obj=Object.create(null),this.size=0,t!=null){var e;t.instanceString!=null&&t.instanceString()===this.instanceString()?e=t.toArray():e=t;for(var i=0;i<e.length;i++)this.add(e[i])}}return tc(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var i=this._obj;i[e]!==1&&(i[e]=1,this.size++)}},{key:"delete",value:function(e){var i=this._obj;i[e]===1&&(i[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return this._obj[e]===1}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(i){return e.has(i)})}},{key:"forEach",value:function(e,i){return this.toArray().forEach(e,i)}}])}(),Sh=(typeof Set>"u"?"undefined":sn(Set))!==Ude?Set:Hde,s0=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||e===void 0||!GM(t)){Mi("An element must have a core reference and parameters set");return}var n=e.group;if(n==null&&(e.data&&e.data.source!=null&&e.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){Mi("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:e.selectable===void 0?!0:!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:e.grabbable===void 0?!0:!!e.grabbable,pannable:e.pannable===void 0?n==="edges":!!e.pannable,active:!1,classes:new Sh,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:e.parent&&e.parent.isNode()?e.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),e.renderedPosition){var o=e.renderedPosition,s=t.pan(),l=t.zoom();a.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var c=[];ii(e.classes)?c=e.classes:Tt(e.classes)&&(c=e.classes.split(/\s+/));for(var d=0,u=c.length;d<u;d++){var f=c[d];!f||f===""||a.classes.add(f)}this.createEmitter(),(i===void 0||i)&&this.restore();var m=e.style||e.css;m&&(jr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(m))},G2=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(i,n,a){var o;kr(i)&&!ka(i)&&(o=i,i=o.roots||o.root,n=o.visit,a=o.directed),a=arguments.length===2&&!Di(n)?n:a,n=Di(n)?n:function(){};for(var s=this._private.cy,l=i=Tt(i)?this.filter(i):i,c=[],d=[],u={},f={},m={},g=0,v,y=this.byGroup(),b=y.nodes,_=y.edges,w=0;w<l.length;w++){var E=l[w],S=E.id();E.isNode()&&(c.unshift(E),t.bfs&&(m[S]=!0,d.push(E)),f[S]=0)}for(var D=function(){var A=t.bfs?c.shift():c.pop(),R=A.id();if(t.dfs){if(m[R])return 0;m[R]=!0,d.push(A)}var k=f[R],I=u[R],B=I!=null?I.source():null,z=I!=null?I.target():null,W=I==null?void 0:A.same(B)?z[0]:B[0],$;if($=n(A,I,W,g++,k),$===!0)return v=A,1;if($===!1)return 1;for(var G=A.connectedEdges().filter(function(re){return(!a||re.source().same(A))&&_.has(re)}),K=0;K<G.length;K++){var oe=G[K],te=oe.connectedNodes().filter(function(re){return!re.same(A)&&b.has(re)}),le=te.id();te.length!==0&&!m[le]&&(te=te[0],c.push(te),t.bfs&&(m[le]=!0,d.push(te)),u[le]=oe,f[le]=f[R]+1)}},T;c.length!==0&&(T=D(),!(T!==0&&T===1)););for(var O=s.collection(),F=0;F<d.length;F++){var P=d[F],L=u[P.id()];L!=null&&O.push(L),O.push(P)}return{path:s.collection(O),found:s.collection(v)}}},cp={breadthFirstSearch:G2({bfs:!0}),depthFirstSearch:G2({dfs:!0})};cp.bfs=cp.breadthFirstSearch;cp.dfs=cp.depthFirstSearch;var Lb={exports:{}},Gde=Lb.exports,W2;function Wde(){return W2||(W2=1,function(r,t){(function(){var e,i,n,a,o,s,l,c,d,u,f,m,g,v,y;n=Math.floor,u=Math.min,i=function(b,_){return b<_?-1:b>_?1:0},d=function(b,_,w,E,S){var D;if(w==null&&(w=0),S==null&&(S=i),w<0)throw new Error("lo must be non-negative");for(E==null&&(E=b.length);w<E;)D=n((w+E)/2),S(_,b[D])<0?E=D:w=D+1;return[].splice.apply(b,[w,w-w].concat(_)),_},s=function(b,_,w){return w==null&&(w=i),b.push(_),v(b,0,b.length-1,w)},o=function(b,_){var w,E;return _==null&&(_=i),w=b.pop(),b.length?(E=b[0],b[0]=w,y(b,0,_)):E=w,E},c=function(b,_,w){var E;return w==null&&(w=i),E=b[0],b[0]=_,y(b,0,w),E},l=function(b,_,w){var E;return w==null&&(w=i),b.length&&w(b[0],_)<0&&(E=[b[0],_],_=E[0],b[0]=E[1],y(b,0,w)),_},a=function(b,_){var w,E,S,D,T,O;for(_==null&&(_=i),D=function(){O=[];for(var F=0,P=n(b.length/2);0<=P?F<P:F>P;0<=P?F++:F--)O.push(F);return O}.apply(this).reverse(),T=[],E=0,S=D.length;E<S;E++)w=D[E],T.push(y(b,w,_));return T},g=function(b,_,w){var E;if(w==null&&(w=i),E=b.indexOf(_),E!==-1)return v(b,0,E,w),y(b,E,w)},f=function(b,_,w){var E,S,D,T,O;if(w==null&&(w=i),S=b.slice(0,_),!S.length)return S;for(a(S,w),O=b.slice(_),D=0,T=O.length;D<T;D++)E=O[D],l(S,E,w);return S.sort(w).reverse()},m=function(b,_,w){var E,S,D,T,O,F,P,L,C;if(w==null&&(w=i),_*10<=b.length){if(D=b.slice(0,_).sort(w),!D.length)return D;for(S=D[D.length-1],P=b.slice(_),T=0,F=P.length;T<F;T++)E=P[T],w(E,S)<0&&(d(D,E,0,null,w),D.pop(),S=D[D.length-1]);return D}for(a(b,w),C=[],O=0,L=u(_,b.length);0<=L?O<L:O>L;0<=L?++O:--O)C.push(o(b,w));return C},v=function(b,_,w,E){var S,D,T;for(E==null&&(E=i),S=b[w];w>_;){if(T=w-1>>1,D=b[T],E(S,D)<0){b[w]=D,w=T;continue}break}return b[w]=S},y=function(b,_,w){var E,S,D,T,O;for(w==null&&(w=i),S=b.length,O=_,D=b[_],E=2*_+1;E<S;)T=E+1,T<S&&!(w(b[E],b[T])<0)&&(E=T),b[_]=b[E],_=E,E=2*_+1;return b[_]=D,v(b,O,_,w)},e=function(){b.push=s,b.pop=o,b.replace=c,b.pushpop=l,b.heapify=a,b.updateItem=g,b.nlargest=f,b.nsmallest=m;function b(_){this.cmp=_??i,this.nodes=[]}return b.prototype.push=function(_){return s(this.nodes,_,this.cmp)},b.prototype.pop=function(){return o(this.nodes,this.cmp)},b.prototype.peek=function(){return this.nodes[0]},b.prototype.contains=function(_){return this.nodes.indexOf(_)!==-1},b.prototype.replace=function(_){return c(this.nodes,_,this.cmp)},b.prototype.pushpop=function(_){return l(this.nodes,_,this.cmp)},b.prototype.heapify=function(){return a(this.nodes,this.cmp)},b.prototype.updateItem=function(_){return g(this.nodes,_,this.cmp)},b.prototype.clear=function(){return this.nodes=[]},b.prototype.empty=function(){return this.nodes.length===0},b.prototype.size=function(){return this.nodes.length},b.prototype.clone=function(){var _;return _=new b,_.nodes=this.nodes.slice(0),_},b.prototype.toArray=function(){return this.nodes.slice(0)},b.prototype.insert=b.prototype.push,b.prototype.top=b.prototype.peek,b.prototype.front=b.prototype.peek,b.prototype.has=b.prototype.contains,b.prototype.copy=b.prototype.clone,b}(),function(b,_){return r.exports=_()}(this,function(){return e})}).call(Gde)}(Lb)),Lb.exports}var mS,j2;function jde(){return j2||(j2=1,mS=Wde()),mS}var $de=jde(),wp=yp($de),Yde=ln({root:null,weight:function(t){return 1},directed:!1}),Xde={dijkstra:function(t){if(!kr(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var i=Yde(t),n=i.root,a=i.weight,o=i.directed,s=this,l=a,c=Tt(n)?this.filter(n)[0]:n[0],d={},u={},f={},m=this.byGroup(),g=m.nodes,v=m.edges;v.unmergeBy(function(k){return k.isLoop()});for(var y=function(I){return d[I.id()]},b=function(I,B){d[I.id()]=B,_.updateItem(I)},_=new wp(function(k,I){return y(k)-y(I)}),w=0;w<g.length;w++){var E=g[w];d[E.id()]=E.same(c)?0:1/0,_.push(E)}for(var S=function(I,B){for(var z=(o?I.edgesTo(B):I.edgesWith(B)).intersect(v),W=1/0,$,G=0;G<z.length;G++){var K=z[G],oe=l(K);(oe<W||!$)&&(W=oe,$=K)}return{edge:$,dist:W}};_.size()>0;){var D=_.pop(),T=y(D),O=D.id();if(f[O]=T,T!==1/0)for(var F=D.neighborhood().intersect(g),P=0;P<F.length;P++){var L=F[P],C=L.id(),A=S(D,L),R=T+A.dist;R<y(L)&&(b(L,R),u[C]={node:D,edge:A.edge})}}return{distanceTo:function(I){var B=Tt(I)?g.filter(I)[0]:I[0];return f[B.id()]},pathTo:function(I){var B=Tt(I)?g.filter(I)[0]:I[0],z=[],W=B,$=W.id();if(B.length>0)for(z.unshift(B);u[$];){var G=u[$];z.unshift(G.edge),z.unshift(G.node),W=G.node,$=W.id()}return s.spawn(z)}}}},Kde={kruskal:function(t){t=t||function(w){return 1};for(var e=this.byGroup(),i=e.nodes,n=e.edges,a=i.length,o=new Array(a),s=i,l=function(E){for(var S=0;S<o.length;S++){var D=o[S];if(D.has(E))return S}},c=0;c<a;c++)o[c]=this.spawn(i[c]);for(var d=n.sort(function(w,E){return t(w)-t(E)}),u=0;u<d.length;u++){var f=d[u],m=f.source()[0],g=f.target()[0],v=l(m),y=l(g),b=o[v],_=o[y];v!==y&&(s.merge(f),b.merge(_),o.splice(y,1))}return s}},Zde=ln({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Qde={aStar:function(t){var e=this.cy(),i=Zde(t),n=i.root,a=i.goal,o=i.heuristic,s=i.directed,l=i.weight;n=e.collection(n)[0],a=e.collection(a)[0];var c=n.id(),d=a.id(),u={},f={},m={},g=new wp(function($,G){return f[$.id()]-f[G.id()]}),v=new Sh,y={},b={},_=function(G,K){g.push(G),v.add(K)},w,E,S=function(){w=g.pop(),E=w.id(),v.delete(E)},D=function(G){return v.has(G)};_(n,c),u[c]=0,f[c]=o(n);for(var T=0;g.size()>0;){if(S(),T++,E===d){for(var O=[],F=a,P=d,L=b[P];O.unshift(F),L!=null&&O.unshift(L),F=y[P],F!=null;)P=F.id(),L=b[P];return{found:!0,distance:u[E],path:this.spawn(O),steps:T}}m[E]=!0;for(var C=w._private.edges,A=0;A<C.length;A++){var R=C[A];if(this.hasElementWithId(R.id())&&!(s&&R.data("source")!==E)){var k=R.source(),I=R.target(),B=k.id()!==E?k:I,z=B.id();if(this.hasElementWithId(z)&&!m[z]){var W=u[E]+l(R);if(!D(z)){u[z]=W,f[z]=W+o(B),_(B,z),y[z]=w,b[z]=R;continue}W<u[z]&&(u[z]=W,f[z]=W+o(B),y[z]=w,b[z]=R)}}}}return{found:!1,distance:void 0,path:void 0,steps:T}}},Jde=ln({weight:function(t){return 1},directed:!1}),eue={floydWarshall:function(t){for(var e=this.cy(),i=Jde(t),n=i.weight,a=i.directed,o=n,s=this.byGroup(),l=s.nodes,c=s.edges,d=l.length,u=d*d,f=function(oe){return l.indexOf(oe)},m=function(oe){return l[oe]},g=new Array(u),v=0;v<u;v++){var y=v%d,b=(v-y)/d;b===y?g[v]=0:g[v]=1/0}for(var _=new Array(u),w=new Array(u),E=0;E<c.length;E++){var S=c[E],D=S.source()[0],T=S.target()[0];if(D!==T){var O=f(D),F=f(T),P=O*d+F,L=o(S);if(g[P]>L&&(g[P]=L,_[P]=F,w[P]=S),!a){var C=F*d+O;!a&&g[C]>L&&(g[C]=L,_[C]=O,w[C]=S)}}}for(var A=0;A<d;A++)for(var R=0;R<d;R++)for(var k=R*d+A,I=0;I<d;I++){var B=R*d+I,z=A*d+I;g[k]+g[z]<g[B]&&(g[B]=g[k]+g[z],_[B]=_[k])}var W=function(oe){return(Tt(oe)?e.filter(oe):oe)[0]},$=function(oe){return f(W(oe))},G={distance:function(oe,te){var le=$(oe),re=$(te);return g[le*d+re]},path:function(oe,te){var le=$(oe),re=$(te),Q=m(le);if(le===re)return Q.collection();if(_[le*d+re]==null)return e.collection();var se=e.collection(),ee=le,Z;for(se.merge(Q);le!==re;)ee=le,le=_[le*d+re],Z=w[ee*d+le],se.merge(Z),se.merge(m(le));return se}};return G}},tue=ln({weight:function(t){return 1},directed:!1,root:null}),rue={bellmanFord:function(t){var e=this,i=tue(t),n=i.weight,a=i.directed,o=i.root,s=n,l=this,c=this.cy(),d=this.byGroup(),u=d.edges,f=d.nodes,m=f.length,g=new zs,v=!1,y=[];o=c.collection(o)[0],u.unmergeBy(function($e){return $e.isLoop()});for(var b=u.length,_=function(xe){var Me=g.get(xe.id());return Me||(Me={},g.set(xe.id(),Me)),Me},w=function(xe){return(Tt(xe)?c.$(xe):xe)[0]},E=function(xe){return _(w(xe)).dist},S=function(xe){for(var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,Ve=w(xe),Ke=[],Ge=Ve;;){if(Ge==null)return e.spawn();var We=_(Ge),it=We.edge,ct=We.pred;if(Ke.unshift(Ge[0]),Ge.same(Me)&&Ke.length>0)break;it!=null&&Ke.unshift(it),Ge=ct}return l.spawn(Ke)},D=0;D<m;D++){var T=f[D],O=_(T);T.same(o)?O.dist=0:O.dist=1/0,O.pred=null,O.edge=null}for(var F=!1,P=function(xe,Me,Ve,Ke,Ge,We){var it=Ke.dist+We;it<Ge.dist&&!Ve.same(Ke.edge)&&(Ge.dist=it,Ge.pred=xe,Ge.edge=Ve,F=!0)},L=1;L<m;L++){F=!1;for(var C=0;C<b;C++){var A=u[C],R=A.source(),k=A.target(),I=s(A),B=_(R),z=_(k);P(R,k,A,B,z,I),a||P(k,R,A,z,B,I)}if(!F)break}if(F)for(var W=[],$=0;$<b;$++){var G=u[$],K=G.source(),oe=G.target(),te=s(G),le=_(K).dist,re=_(oe).dist;if(le+te<re||!a&&re+te<le)if(v||(jr("Graph contains a negative weight cycle for Bellman-Ford"),v=!0),t.findNegativeWeightCycles!==!1){var Q=[];le+te<re&&Q.push(K),!a&&re+te<le&&Q.push(oe);for(var se=Q.length,ee=0;ee<se;ee++){var Z=Q[ee],ce=[Z];ce.push(_(Z).edge);for(var ye=_(Z).pred;ce.indexOf(ye)===-1;)ce.push(ye),ce.push(_(ye).edge),ye=_(ye).pred;ce=ce.slice(ce.indexOf(ye));for(var Te=ce[0].id(),be=0,at=2;at<ce.length;at+=2)ce[at].id()<Te&&(Te=ce[at].id(),be=at);ce=ce.slice(be).concat(ce.slice(0,be)),ce.push(ce[0]);var wt=ce.map(function($e){return $e.id()}).join(",");W.indexOf(wt)===-1&&(y.push(l.spawn(ce)),W.push(wt))}}else break}return{distanceTo:E,pathTo:S,hasNegativeWeightCycle:v,negativeWeightCycles:y}}},iue=Math.sqrt(2),nue=function(t,e,i){i.length===0&&Mi("Karger-Stein must be run on a connected (sub)graph");for(var n=i[t],a=n[1],o=n[2],s=e[a],l=e[o],c=i,d=c.length-1;d>=0;d--){var u=c[d],f=u[1],m=u[2];(e[f]===s&&e[m]===l||e[f]===l&&e[m]===s)&&c.splice(d,1)}for(var g=0;g<c.length;g++){var v=c[g];v[1]===l?(c[g]=v.slice(),c[g][1]=s):v[2]===l&&(c[g]=v.slice(),c[g][2]=s)}for(var y=0;y<e.length;y++)e[y]===l&&(e[y]=s);return c},pS=function(t,e,i,n){for(;i>n;){var a=Math.floor(Math.random()*e.length);e=nue(a,t,e),i--}return e},aue={kargerStein:function(){var t=this,e=this.byGroup(),i=e.nodes,n=e.edges;n.unmergeBy(function(z){return z.isLoop()});var a=i.length,o=n.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/iue);if(a<2){Mi("At least 2 nodes are required for Karger-Stein algorithm");return}for(var c=[],d=0;d<o;d++){var u=n[d];c.push([d,i.indexOf(u.source()),i.indexOf(u.target())])}for(var f=1/0,m=[],g=new Array(a),v=new Array(a),y=new Array(a),b=function(W,$){for(var G=0;G<a;G++)$[G]=W[G]},_=0;_<=s;_++){for(var w=0;w<a;w++)v[w]=w;var E=pS(v,c.slice(),a,l),S=E.slice();b(v,y);var D=pS(v,E,l,2),T=pS(y,S,l,2);D.length<=T.length&&D.length<f?(f=D.length,m=D,b(v,g)):T.length<=D.length&&T.length<f&&(f=T.length,m=T,b(y,g))}for(var O=this.spawn(m.map(function(z){return n[z[0]]})),F=this.spawn(),P=this.spawn(),L=g[0],C=0;C<g.length;C++){var A=g[C],R=i[C];A===L?F.merge(R):P.merge(R)}var k=function(W){var $=t.spawn();return W.forEach(function(G){$.merge(G),G.connectedEdges().forEach(function(K){t.contains(K)&&!O.contains(K)&&$.merge(K)})}),$},I=[k(F),k(P)],B={cut:O,components:I,partition1:F,partition2:P};return B}},oue=function(t){return{x:t.x,y:t.y}},l0=function(t,e,i){return{x:t.x*e+i.x,y:t.y*e+i.y}},vz=function(t,e,i){return{x:(t.x-i.x)/e,y:(t.y-i.y)/e}},ph=function(t){return{x:t[0],y:t[1]}},sue=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,n=1/0,a=e;a<i;a++){var o=t[a];isFinite(o)&&(n=Math.min(o,n))}return n},lue=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,n=-1/0,a=e;a<i;a++){var o=t[a];isFinite(o)&&(n=Math.max(o,n))}return n},cue=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,n=0,a=0,o=e;o<i;o++){var s=t[o];isFinite(s)&&(n+=s,a++)}return n/a},due=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;n?t=t.slice(e,i):(i<t.length&&t.splice(i,t.length-i),e>0&&t.splice(0,e));for(var s=0,l=t.length-1;l>=0;l--){var c=t[l];o?isFinite(c)||(t[l]=-1/0,s++):t.splice(l,1)}a&&t.sort(function(f,m){return f-m});var d=t.length,u=Math.floor(d/2);return d%2!==0?t[u+1+s]:(t[u-1+s]+t[u+s])/2},uue=function(t){return Math.PI*t/180},Eb=function(t,e){return Math.atan2(e,t)-Math.PI/2},KM=Math.log2||function(r){return Math.log(r)/Math.log(2)},yz=function(t){return t>0?1:t<0?-1:0},_d=function(t,e){return Math.sqrt(pd(t,e))},pd=function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},hue=function(t){for(var e=t.length,i=0,n=0;n<e;n++)i+=t[n];for(var a=0;a<e;a++)t[a]=t[a]/i;return t},bn=function(t,e,i,n){return(1-n)*(1-n)*t+2*(1-n)*n*e+n*n*i},yh=function(t,e,i,n){return{x:bn(t.x,e.x,i.x,n),y:bn(t.y,e.y,i.y,n)}},fue=function(t,e,i,n){var a={x:e.x-t.x,y:e.y-t.y},o=_d(t,e),s={x:a.x/o,y:a.y/o};return i=i??0,n=n??i*o,{x:t.x+s.x*n,y:t.y+s.y*n}},dp=function(t,e,i){return Math.max(t,Math.min(i,e))},ha=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},mue=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},pue=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},gue=function(t,e,i){return{x1:t.x1+e,x2:t.x2+e,y1:t.y1+i,y2:t.y2+i,w:t.w,h:t.h}},bz=function(t,e){t.x1=Math.min(t.x1,e.x1),t.x2=Math.max(t.x2,e.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,e.y1),t.y2=Math.max(t.y2,e.y2),t.h=t.y2-t.y1},vue=function(t,e,i){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,i),t.y2=Math.max(t.y2,i),t.h=t.y2-t.y1},Fb=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Nb=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],i,n,a,o;if(e.length===1)i=n=a=o=e[0];else if(e.length===2)i=a=e[0],o=n=e[1];else if(e.length===4){var s=_n(e,4);i=s[0],n=s[1],a=s[2],o=s[3]}return t.x1-=o,t.x2+=n,t.y1-=i,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},$2=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},ZM=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},wh=function(t,e,i){return t.x1<=e&&e<=t.x2&&t.y1<=i&&i<=t.y2},yue=function(t,e){return wh(t,e.x,e.y)},_z=function(t,e){return wh(t,e.x1,e.y1)&&wh(t,e.x2,e.y2)},xz=function(t,e,i,n,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",c=l==="auto"?xd(a,o):l,d=a/2,u=o/2;c=Math.min(c,d,u);var f=c!==d,m=c!==u,g;if(f){var v=i-d+c-s,y=n-u-s,b=i+d-c+s,_=y;if(g=Wl(t,e,i,n,v,y,b,_,!1),g.length>0)return g}if(m){var w=i+d+s,E=n-u+c-s,S=w,D=n+u-c+s;if(g=Wl(t,e,i,n,w,E,S,D,!1),g.length>0)return g}if(f){var T=i-d+c-s,O=n+u+s,F=i+d-c+s,P=O;if(g=Wl(t,e,i,n,T,O,F,P,!1),g.length>0)return g}if(m){var L=i-d-s,C=n-u+c-s,A=L,R=n+u-c+s;if(g=Wl(t,e,i,n,L,C,A,R,!1),g.length>0)return g}var k;{var I=i-d+c,B=n-u+c;if(k=ep(t,e,i,n,I,B,c+s),k.length>0&&k[0]<=I&&k[1]<=B)return[k[0],k[1]]}{var z=i+d-c,W=n-u+c;if(k=ep(t,e,i,n,z,W,c+s),k.length>0&&k[0]>=z&&k[1]<=W)return[k[0],k[1]]}{var $=i+d-c,G=n+u-c;if(k=ep(t,e,i,n,$,G,c+s),k.length>0&&k[0]>=$&&k[1]>=G)return[k[0],k[1]]}{var K=i-d+c,oe=n+u-c;if(k=ep(t,e,i,n,K,oe,c+s),k.length>0&&k[0]<=K&&k[1]>=oe)return[k[0],k[1]]}return[]},bue=function(t,e,i,n,a,o,s){var l=s,c=Math.min(i,a),d=Math.max(i,a),u=Math.min(n,o),f=Math.max(n,o);return c-l<=t&&t<=d+l&&u-l<=e&&e<=f+l},_ue=function(t,e,i,n,a,o,s,l,c){var d={x1:Math.min(i,s,a)-c,x2:Math.max(i,s,a)+c,y1:Math.min(n,l,o)-c,y2:Math.max(n,l,o)+c};return!(t<d.x1||t>d.x2||e<d.y1||e>d.y2)},xue=function(t,e,i,n){i-=n;var a=e*e-4*t*i;if(a<0)return[];var o=Math.sqrt(a),s=2*t,l=(-e+o)/s,c=(-e-o)/s;return[l,c]},wue=function(t,e,i,n,a){var o=1e-5;t===0&&(t=o),e/=t,i/=t,n/=t;var s,l,c,d,u,f,m,g;if(l=(3*i-e*e)/9,c=-(27*n)+e*(9*i-2*(e*e)),c/=54,s=l*l*l+c*c,a[1]=0,m=e/3,s>0){u=c+Math.sqrt(s),u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),f=c-Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),a[0]=-m+u+f,m+=(u+f)/2,a[4]=a[2]=-m,m=Math.sqrt(3)*(-f+u)/2,a[3]=m,a[5]=-m;return}if(a[5]=a[3]=0,s===0){g=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),a[0]=-m+2*g,a[4]=a[2]=-(g+m);return}l=-l,d=l*l*l,d=Math.acos(c/Math.sqrt(d)),g=2*Math.sqrt(l),a[0]=-m+g*Math.cos(d/3),a[2]=-m+g*Math.cos((d+2*Math.PI)/3),a[4]=-m+g*Math.cos((d+4*Math.PI)/3)},Cue=function(t,e,i,n,a,o,s,l){var c=1*i*i-4*i*a+2*i*s+4*a*a-4*a*s+s*s+n*n-4*n*o+2*n*l+4*o*o-4*o*l+l*l,d=1*9*i*a-3*i*i-3*i*s-6*a*a+3*a*s+9*n*o-3*n*n-3*n*l-6*o*o+3*o*l,u=1*3*i*i-6*i*a+i*s-i*t+2*a*a+2*a*t-s*t+3*n*n-6*n*o+n*l-n*e+2*o*o+2*o*e-l*e,f=1*i*a-i*i+i*t-a*t+n*o-n*n+n*e-o*e,m=[];wue(c,d,u,f,m);for(var g=1e-7,v=[],y=0;y<6;y+=2)Math.abs(m[y+1])<g&&m[y]>=0&&m[y]<=1&&v.push(m[y]);v.push(1),v.push(0);for(var b=-1,_,w,E,S=0;S<v.length;S++)_=Math.pow(1-v[S],2)*i+2*(1-v[S])*v[S]*a+v[S]*v[S]*s,w=Math.pow(1-v[S],2)*n+2*(1-v[S])*v[S]*o+v[S]*v[S]*l,E=Math.pow(_-t,2)+Math.pow(w-e,2),b>=0?E<b&&(b=E):b=E;return b},Eue=function(t,e,i,n,a,o){var s=[t-i,e-n],l=[a-i,o-n],c=l[0]*l[0]+l[1]*l[1],d=s[0]*s[0]+s[1]*s[1],u=s[0]*l[0]+s[1]*l[1],f=u*u/c;return u<0?d:f>c?(t-a)*(t-a)+(e-o)*(e-o):d-f},ua=function(t,e,i){for(var n,a,o,s,l,c=0,d=0;d<i.length/2;d++)if(n=i[d*2],a=i[d*2+1],d+1<i.length/2?(o=i[(d+1)*2],s=i[(d+1)*2+1]):(o=i[(d+1-i.length/2)*2],s=i[(d+1-i.length/2)*2+1]),!(n==t&&o==t))if(n>=t&&t>=o||n<=t&&t<=o)l=(t-n)/(o-n)*(s-a)+a,l>e&&c++;else continue;return c%2!==0},Us=function(t,e,i,n,a,o,s,l,c){var d=new Array(i.length),u;l[0]!=null?(u=Math.atan(l[1]/l[0]),l[0]<0?u=u+Math.PI/2:u=-u-Math.PI/2):u=l;for(var f=Math.cos(-u),m=Math.sin(-u),g=0;g<d.length/2;g++)d[g*2]=o/2*(i[g*2]*f-i[g*2+1]*m),d[g*2+1]=s/2*(i[g*2+1]*f+i[g*2]*m),d[g*2]+=n,d[g*2+1]+=a;var v;if(c>0){var y=Kb(d,-c);v=Xb(y)}else v=d;return ua(t,e,v)},Sue=function(t,e,i,n,a,o,s,l){for(var c=new Array(i.length*2),d=0;d<l.length;d++){var u=l[d];c[d*4+0]=u.startX,c[d*4+1]=u.startY,c[d*4+2]=u.stopX,c[d*4+3]=u.stopY;var f=Math.pow(u.cx-t,2)+Math.pow(u.cy-e,2);if(f<=Math.pow(u.radius,2))return!0}return ua(t,e,c)},Xb=function(t){for(var e=new Array(t.length/2),i,n,a,o,s,l,c,d,u=0;u<t.length/4;u++){i=t[u*4],n=t[u*4+1],a=t[u*4+2],o=t[u*4+3],u<t.length/4-1?(s=t[(u+1)*4],l=t[(u+1)*4+1],c=t[(u+1)*4+2],d=t[(u+1)*4+3]):(s=t[0],l=t[1],c=t[2],d=t[3]);var f=Wl(i,n,a,o,s,l,c,d,!0);e[u*2]=f[0],e[u*2+1]=f[1]}return e},Kb=function(t,e){for(var i=new Array(t.length*2),n,a,o,s,l=0;l<t.length/2;l++){n=t[l*2],a=t[l*2+1],l<t.length/2-1?(o=t[(l+1)*2],s=t[(l+1)*2+1]):(o=t[0],s=t[1]);var c=s-a,d=-(o-n),u=Math.sqrt(c*c+d*d),f=c/u,m=d/u;i[l*4]=n+f*e,i[l*4+1]=a+m*e,i[l*4+2]=o+f*e,i[l*4+3]=s+m*e}return i},Mue=function(t,e,i,n,a,o){var s=i-t,l=n-e;s/=a,l/=o;var c=Math.sqrt(s*s+l*l),d=c-1;if(d<0)return[];var u=d/c;return[(i-t)*u+t,(n-e)*u+e]},bd=function(t,e,i,n,a,o,s){return t-=a,e-=o,t/=i/2+s,e/=n/2+s,t*t+e*e<=1},ep=function(t,e,i,n,a,o,s){var l=[i-t,n-e],c=[t-a,e-o],d=l[0]*l[0]+l[1]*l[1],u=2*(c[0]*l[0]+c[1]*l[1]),f=c[0]*c[0]+c[1]*c[1]-s*s,m=u*u-4*d*f;if(m<0)return[];var g=(-u+Math.sqrt(m))/(2*d),v=(-u-Math.sqrt(m))/(2*d),y=Math.min(g,v),b=Math.max(g,v),_=[];if(y>=0&&y<=1&&_.push(y),b>=0&&b<=1&&_.push(b),_.length===0)return[];var w=_[0]*l[0]+t,E=_[0]*l[1]+e;if(_.length>1){if(_[0]==_[1])return[w,E];var S=_[1]*l[0]+t,D=_[1]*l[1]+e;return[w,E,S,D]}else return[w,E]},gS=function(t,e,i){return e<=t&&t<=i||i<=t&&t<=e?t:t<=e&&e<=i||i<=e&&e<=t?e:i},Wl=function(t,e,i,n,a,o,s,l,c){var d=t-a,u=i-t,f=s-a,m=e-o,g=n-e,v=l-o,y=f*m-v*d,b=u*m-g*d,_=v*u-f*g;if(_!==0){var w=y/_,E=b/_,S=.001,D=0-S,T=1+S;return D<=w&&w<=T&&D<=E&&E<=T?[t+w*u,e+w*g]:c?[t+w*u,e+w*g]:[]}else return y===0||b===0?gS(t,i,s)===s?[s,l]:gS(t,i,a)===a?[a,o]:gS(a,s,i)===i?[i,n]:[]:[]},up=function(t,e,i,n,a,o,s,l){var c=[],d,u=new Array(i.length),f=!0;o==null&&(f=!1);var m;if(f){for(var g=0;g<u.length/2;g++)u[g*2]=i[g*2]*o+n,u[g*2+1]=i[g*2+1]*s+a;if(l>0){var v=Kb(u,-l);m=Xb(v)}else m=u}else m=i;for(var y,b,_,w,E=0;E<m.length/2;E++)y=m[E*2],b=m[E*2+1],E<m.length/2-1?(_=m[(E+1)*2],w=m[(E+1)*2+1]):(_=m[0],w=m[1]),d=Wl(t,e,n,a,y,b,_,w),d.length!==0&&c.push(d[0],d[1]);return c},Due=function(t,e,i,n,a,o,s,l,c){var d=[],u,f=new Array(i.length*2);c.forEach(function(_,w){w===0?(f[f.length-2]=_.startX,f[f.length-1]=_.startY):(f[w*4-2]=_.startX,f[w*4-1]=_.startY),f[w*4]=_.stopX,f[w*4+1]=_.stopY,u=ep(t,e,n,a,_.cx,_.cy,_.radius),u.length!==0&&d.push(u[0],u[1])});for(var m=0;m<f.length/4;m++)u=Wl(t,e,n,a,f[m*4],f[m*4+1],f[m*4+2],f[m*4+3],!1),u.length!==0&&d.push(u[0],u[1]);if(d.length>2){for(var g=[d[0],d[1]],v=Math.pow(g[0]-t,2)+Math.pow(g[1]-e,2),y=1;y<d.length/2;y++){var b=Math.pow(d[y*2]-t,2)+Math.pow(d[y*2+1]-e,2);b<=v&&(g[0]=d[y*2],g[1]=d[y*2+1],v=b)}return g}return d},Sb=function(t,e,i){var n=[t[0]-e[0],t[1]-e[1]],a=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(a-i)/a;return o<0&&(o=1e-5),[e[0]+o*n[0],e[1]+o*n[1]]},ta=function(t,e){var i=SM(t,e);return i=wz(i),i},wz=function(t){for(var e,i,n=t.length/2,a=1/0,o=1/0,s=-1/0,l=-1/0,c=0;c<n;c++)e=t[2*c],i=t[2*c+1],a=Math.min(a,e),s=Math.max(s,e),o=Math.min(o,i),l=Math.max(l,i);for(var d=2/(s-a),u=2/(l-o),f=0;f<n;f++)e=t[2*f]=t[2*f]*d,i=t[2*f+1]=t[2*f+1]*u,a=Math.min(a,e),s=Math.max(s,e),o=Math.min(o,i),l=Math.max(l,i);if(o<-1)for(var m=0;m<n;m++)i=t[2*m+1]=t[2*m+1]+(-1-o);return t},SM=function(t,e){var i=1/t*2*Math.PI,n=t%2===0?Math.PI/2+i/2:Math.PI/2;n+=e;for(var a=new Array(t*2),o,s=0;s<t;s++)o=s*i+n,a[2*s]=Math.cos(o),a[2*s+1]=Math.sin(-o);return a},xd=function(t,e){return Math.min(t/4,e/4,8)},Cz=function(t,e){return Math.min(t/10,e/10,8)},QM=function(){return 8},Tue=function(t,e,i){return[t-2*e+i,2*(e-t),t]},MM=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},Aue=ln({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),Rue={pageRank:function(t){for(var e=Aue(t),i=e.dampingFactor,n=e.precision,a=e.iterations,o=e.weight,s=this._private.cy,l=this.byGroup(),c=l.nodes,d=l.edges,u=c.length,f=u*u,m=d.length,g=new Array(f),v=new Array(u),y=(1-i)/u,b=0;b<u;b++){for(var _=0;_<u;_++){var w=b*u+_;g[w]=0}v[b]=0}for(var E=0;E<m;E++){var S=d[E],D=S.data("source"),T=S.data("target");if(D!==T){var O=c.indexOfId(D),F=c.indexOfId(T),P=o(S),L=F*u+O;g[L]+=P,v[O]+=P}}for(var C=1/u+y,A=0;A<u;A++)if(v[A]===0)for(var R=0;R<u;R++){var k=R*u+A;g[k]=C}else for(var I=0;I<u;I++){var B=I*u+A;g[B]=g[B]/v[A]+y}for(var z=new Array(u),W=new Array(u),$,G=0;G<u;G++)z[G]=1;for(var K=0;K<a;K++){for(var oe=0;oe<u;oe++)W[oe]=0;for(var te=0;te<u;te++)for(var le=0;le<u;le++){var re=te*u+le;W[te]+=g[re]*z[le]}hue(W),$=z,z=W,W=$;for(var Q=0,se=0;se<u;se++){var ee=$[se]-z[se];Q+=ee*ee}if(Q<n)break}var Z={rank:function(ye){return ye=s.collection(ye)[0],z[c.indexOf(ye)]}};return Z}},Y2=ln({root:null,weight:function(t){return 1},directed:!1,alpha:0}),bh={degreeCentralityNormalized:function(t){t=Y2(t);var e=this.cy(),i=this.nodes(),n=i.length;if(t.directed){for(var d={},u={},f=0,m=0,g=0;g<n;g++){var v=i[g],y=v.id();t.root=v;var b=this.degreeCentrality(t);f<b.indegree&&(f=b.indegree),m<b.outdegree&&(m=b.outdegree),d[y]=b.indegree,u[y]=b.outdegree}return{indegree:function(w){return f==0?0:(Tt(w)&&(w=e.filter(w)),d[w.id()]/f)},outdegree:function(w){return m===0?0:(Tt(w)&&(w=e.filter(w)),u[w.id()]/m)}}}else{for(var a={},o=0,s=0;s<n;s++){var l=i[s];t.root=l;var c=this.degreeCentrality(t);o<c.degree&&(o=c.degree),a[l.id()]=c.degree}return{degree:function(w){return o===0?0:(Tt(w)&&(w=e.filter(w)),a[w.id()]/o)}}}},degreeCentrality:function(t){t=Y2(t);var e=this.cy(),i=this,n=t,a=n.root,o=n.weight,s=n.directed,l=n.alpha;if(a=e.collection(a)[0],s){for(var m=a.connectedEdges(),g=m.filter(function(D){return D.target().same(a)&&i.has(D)}),v=m.filter(function(D){return D.source().same(a)&&i.has(D)}),y=g.length,b=v.length,_=0,w=0,E=0;E<g.length;E++)_+=o(g[E]);for(var S=0;S<v.length;S++)w+=o(v[S]);return{indegree:Math.pow(y,1-l)*Math.pow(_,l),outdegree:Math.pow(b,1-l)*Math.pow(w,l)}}else{for(var c=a.connectedEdges().intersection(i),d=c.length,u=0,f=0;f<c.length;f++)u+=o(c[f]);return{degree:Math.pow(d,1-l)*Math.pow(u,l)}}}};bh.dc=bh.degreeCentrality;bh.dcn=bh.degreeCentralityNormalised=bh.degreeCentralityNormalized;var X2=ln({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_h={closenessCentralityNormalized:function(t){for(var e=X2(t),i=e.harmonic,n=e.weight,a=e.directed,o=this.cy(),s={},l=0,c=this.nodes(),d=this.floydWarshall({weight:n,directed:a}),u=0;u<c.length;u++){for(var f=0,m=c[u],g=0;g<c.length;g++)if(u!==g){var v=d.distance(m,c[g]);i?f+=1/v:f+=v}i||(f=1/f),l<f&&(l=f),s[m.id()]=f}return{closeness:function(b){return l==0?0:(Tt(b)?b=o.filter(b)[0].id():b=b.id(),s[b]/l)}}},closenessCentrality:function(t){var e=X2(t),i=e.root,n=e.weight,a=e.directed,o=e.harmonic;i=this.filter(i)[0];for(var s=this.dijkstra({root:i,weight:n,directed:a}),l=0,c=this.nodes(),d=0;d<c.length;d++){var u=c[d];if(!u.same(i)){var f=s.distanceTo(u);o?l+=1/f:l+=f}}return o?l:1/l}};_h.cc=_h.closenessCentrality;_h.ccn=_h.closenessCentralityNormalised=_h.closenessCentralityNormalized;var Iue=ln({weight:null,directed:!1}),DM={betweennessCentrality:function(t){for(var e=Iue(t),i=e.directed,n=e.weight,a=n!=null,o=this.cy(),s=this.nodes(),l={},c={},d=0,u={set:function(w,E){c[w]=E,E>d&&(d=E)},get:function(w){return c[w]}},f=0;f<s.length;f++){var m=s[f],g=m.id();i?l[g]=m.outgoers().nodes():l[g]=m.openNeighborhood().nodes(),u.set(g,0)}for(var v=function(){for(var w=s[y].id(),E=[],S={},D={},T={},O=new wp(function(te,le){return T[te]-T[le]}),F=0;F<s.length;F++){var P=s[F].id();S[P]=[],D[P]=0,T[P]=1/0}for(D[w]=1,T[w]=0,O.push(w);!O.empty();){var L=O.pop();if(E.push(L),a)for(var C=0;C<l[L].length;C++){var A=l[L][C],R=o.getElementById(L),k=void 0;R.edgesTo(A).length>0?k=R.edgesTo(A)[0]:k=A.edgesTo(R)[0];var I=n(k);A=A.id(),T[A]>T[L]+I&&(T[A]=T[L]+I,O.nodes.indexOf(A)<0?O.push(A):O.updateItem(A),D[A]=0,S[A]=[]),T[A]==T[L]+I&&(D[A]=D[A]+D[L],S[A].push(L))}else for(var B=0;B<l[L].length;B++){var z=l[L][B].id();T[z]==1/0&&(O.push(z),T[z]=T[L]+1),T[z]==T[L]+1&&(D[z]=D[z]+D[L],S[z].push(L))}}for(var W={},$=0;$<s.length;$++)W[s[$].id()]=0;for(;E.length>0;){for(var G=E.pop(),K=0;K<S[G].length;K++){var oe=S[G][K];W[oe]=W[oe]+D[oe]/D[G]*(1+W[G])}G!=s[y].id()&&u.set(G,u.get(G)+W[G])}},y=0;y<s.length;y++)v();var b={betweenness:function(w){var E=o.collection(w).id();return u.get(E)},betweennessNormalized:function(w){if(d==0)return 0;var E=o.collection(w).id();return u.get(E)/d}};return b.betweennessNormalised=b.betweennessNormalized,b}};DM.bc=DM.betweennessCentrality;var Oue=ln({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),kue=function(t){return Oue(t)},Pue=function(t,e){for(var i=0,n=0;n<e.length;n++)i+=e[n](t);return i},Lue=function(t,e,i){for(var n=0;n<e;n++)t[n*e+n]=i},Ez=function(t,e){for(var i,n=0;n<e;n++){i=0;for(var a=0;a<e;a++)i+=t[a*e+n];for(var o=0;o<e;o++)t[o*e+n]=t[o*e+n]/i}},Fue=function(t,e,i){for(var n=new Array(i*i),a=0;a<i;a++){for(var o=0;o<i;o++)n[a*i+o]=0;for(var s=0;s<i;s++)for(var l=0;l<i;l++)n[a*i+l]+=t[a*i+s]*e[s*i+l]}return n},Nue=function(t,e,i){for(var n=t.slice(0),a=1;a<i;a++)t=Fue(t,n,e);return t},Bue=function(t,e,i){for(var n=new Array(e*e),a=0;a<e*e;a++)n[a]=Math.pow(t[a],i);return Ez(n,e),n},Vue=function(t,e,i,n){for(var a=0;a<i;a++){var o=Math.round(t[a]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(e[a]*Math.pow(10,n))/Math.pow(10,n);if(o!==s)return!1}return!0},zue=function(t,e,i,n){for(var a=[],o=0;o<e;o++){for(var s=[],l=0;l<e;l++)Math.round(t[o*e+l]*1e3)/1e3>0&&s.push(i[l]);s.length!==0&&a.push(n.collection(s))}return a},que=function(t,e){for(var i=0;i<t.length;i++)if(!e[i]||t[i].id()!==e[i].id())return!1;return!0},Uue=function(t){for(var e=0;e<t.length;e++)for(var i=0;i<t.length;i++)e!=i&&que(t[e],t[i])&&t.splice(i,1);return t},K2=function(t){for(var e=this.nodes(),i=this.edges(),n=this.cy(),a=kue(t),o={},s=0;s<e.length;s++)o[e[s].id()]=s;for(var l=e.length,c=l*l,d=new Array(c),u,f=0;f<c;f++)d[f]=0;for(var m=0;m<i.length;m++){var g=i[m],v=o[g.source().id()],y=o[g.target().id()],b=Pue(g,a.attributes);d[v*l+y]+=b,d[y*l+v]+=b}Lue(d,l,a.multFactor),Ez(d,l);for(var _=!0,w=0;_&&w<a.maxIterations;)_=!1,u=Nue(d,l,a.expandFactor),d=Bue(u,l,a.inflateFactor),Vue(d,u,c,4)||(_=!0),w++;var E=zue(d,l,e,n);return E=Uue(E),E},Hue={markovClustering:K2,mcl:K2},Gue=function(t){return t},Sz=function(t,e){return Math.abs(e-t)},Z2=function(t,e,i){return t+Sz(e,i)},Q2=function(t,e,i){return t+Math.pow(i-e,2)},Wue=function(t){return Math.sqrt(t)},jue=function(t,e,i){return Math.max(t,Sz(e,i))},$m=function(t,e,i,n,a){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Gue,s=n,l,c,d=0;d<t;d++)l=e(d),c=i(d),s=a(s,l,c);return o(s)},Ch={euclidean:function(t,e,i){return t>=2?$m(t,e,i,0,Q2,Wue):$m(t,e,i,0,Z2)},squaredEuclidean:function(t,e,i){return $m(t,e,i,0,Q2)},manhattan:function(t,e,i){return $m(t,e,i,0,Z2)},max:function(t,e,i){return $m(t,e,i,-1/0,jue)}};Ch["squared-euclidean"]=Ch.squaredEuclidean;Ch.squaredeuclidean=Ch.squaredEuclidean;function c0(r,t,e,i,n,a){var o;return Di(r)?o=r:o=Ch[r]||Ch.euclidean,t===0&&Di(r)?o(n,a):o(t,e,i,n,a)}var $ue=ln({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),JM=function(t){return $ue(t)},Zb=function(t,e,i,n,a){var o=a!=="kMedoids",s=o?function(u){return i[u]}:function(u){return n[u](i)},l=function(f){return n[f](e)},c=i,d=e;return c0(t,n.length,s,l,c,d)},vS=function(t,e,i){for(var n=i.length,a=new Array(n),o=new Array(n),s=new Array(e),l=null,c=0;c<n;c++)a[c]=t.min(i[c]).value,o[c]=t.max(i[c]).value;for(var d=0;d<e;d++){l=[];for(var u=0;u<n;u++)l[u]=Math.random()*(o[u]-a[u])+a[u];s[d]=l}return s},Mz=function(t,e,i,n,a){for(var o=1/0,s=0,l=0;l<e.length;l++){var c=Zb(i,t,e[l],n,a);c<o&&(o=c,s=l)}return s},Dz=function(t,e,i){for(var n=[],a=null,o=0;o<e.length;o++)a=e[o],i[a.id()]===t&&n.push(a);return n},Yue=function(t,e,i){return Math.abs(e-t)<=i},Xue=function(t,e,i){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++){var o=Math.abs(t[n][a]-e[n][a]);if(o>i)return!1}return!0},Kue=function(t,e,i){for(var n=0;n<i;n++)if(t===e[n])return!0;return!1},J2=function(t,e){var i=new Array(e);if(t.length<50)for(var n=0;n<e;n++){for(var a=t[Math.floor(Math.random()*t.length)];Kue(a,i,n);)a=t[Math.floor(Math.random()*t.length)];i[n]=a}else for(var o=0;o<e;o++)i[o]=t[Math.floor(Math.random()*t.length)];return i},eB=function(t,e,i){for(var n=0,a=0;a<e.length;a++)n+=Zb("manhattan",e[a],t,i,"kMedoids");return n},Zue=function(t){var e=this.cy(),i=this.nodes(),n=null,a=JM(t),o=new Array(a.k),s={},l;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,l=vS(i,a.k,a.attributes)):sn(a.testCentroids)==="object"?l=a.testCentroids:l=vS(i,a.k,a.attributes):l=vS(i,a.k,a.attributes);for(var c=!0,d=0;c&&d<a.maxIterations;){for(var u=0;u<i.length;u++)n=i[u],s[n.id()]=Mz(n,l,a.distance,a.attributes,"kMeans");c=!1;for(var f=0;f<a.k;f++){var m=Dz(f,i,s);if(m.length!==0){for(var g=a.attributes.length,v=l[f],y=new Array(g),b=new Array(g),_=0;_<g;_++){b[_]=0;for(var w=0;w<m.length;w++)n=m[w],b[_]+=a.attributes[_](n);y[_]=b[_]/m.length,Yue(y[_],v[_],a.sensitivityThreshold)||(c=!0)}l[f]=y,o[f]=e.collection(m)}}d++}return o},Que=function(t){var e=this.cy(),i=this.nodes(),n=null,a=JM(t),o=new Array(a.k),s,l={},c,d=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(sn(a.testCentroids)==="object"?s=a.testCentroids:s=J2(i,a.k)):s=J2(i,a.k);for(var u=!0,f=0;u&&f<a.maxIterations;){for(var m=0;m<i.length;m++)n=i[m],l[n.id()]=Mz(n,s,a.distance,a.attributes,"kMedoids");u=!1;for(var g=0;g<s.length;g++){var v=Dz(g,i,l);if(v.length!==0){d[g]=eB(s[g],v,a.attributes);for(var y=0;y<v.length;y++)c=eB(v[y],v,a.attributes),c<d[g]&&(d[g]=c,s[g]=v[y],u=!0);o[g]=e.collection(v)}}f++}return o},Jue=function(t,e,i,n,a){for(var o,s,l=0;l<e.length;l++)for(var c=0;c<t.length;c++)n[l][c]=Math.pow(i[l][c],a.m);for(var d=0;d<t.length;d++)for(var u=0;u<a.attributes.length;u++){o=0,s=0;for(var f=0;f<e.length;f++)o+=n[f][d]*a.attributes[u](e[f]),s+=n[f][d];t[d][u]=o/s}},ehe=function(t,e,i,n,a){for(var o=0;o<t.length;o++)e[o]=t[o].slice();for(var s,l,c,d=2/(a.m-1),u=0;u<i.length;u++)for(var f=0;f<n.length;f++){s=0;for(var m=0;m<i.length;m++)l=Zb(a.distance,n[f],i[u],a.attributes,"cmeans"),c=Zb(a.distance,n[f],i[m],a.attributes,"cmeans"),s+=Math.pow(l/c,d);t[f][u]=1/s}},the=function(t,e,i,n){for(var a=new Array(i.k),o=0;o<a.length;o++)a[o]=[];for(var s,l,c=0;c<e.length;c++){s=-1/0,l=-1;for(var d=0;d<e[0].length;d++)e[c][d]>s&&(s=e[c][d],l=d);a[l].push(t[c])}for(var u=0;u<a.length;u++)a[u]=n.collection(a[u]);return a},tB=function(t){var e=this.cy(),i=this.nodes(),n=JM(t),a,o,s,l,c;l=new Array(i.length);for(var d=0;d<i.length;d++)l[d]=new Array(n.k);s=new Array(i.length);for(var u=0;u<i.length;u++)s[u]=new Array(n.k);for(var f=0;f<i.length;f++){for(var m=0,g=0;g<n.k;g++)s[f][g]=Math.random(),m+=s[f][g];for(var v=0;v<n.k;v++)s[f][v]=s[f][v]/m}o=new Array(n.k);for(var y=0;y<n.k;y++)o[y]=new Array(n.attributes.length);c=new Array(i.length);for(var b=0;b<i.length;b++)c[b]=new Array(n.k);for(var _=!0,w=0;_&&w<n.maxIterations;)_=!1,Jue(o,i,s,c,n),ehe(s,l,o,i,n),Xue(s,l,n.sensitivityThreshold)||(_=!0),w++;return a=the(i,s,n,e),{clusters:a,degreeOfMembership:s}},rhe={kMeans:Zue,kMedoids:Que,fuzzyCMeans:tB,fcm:tB},ihe=ln({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),nhe={single:"min",complete:"max"},ahe=function(t){var e=ihe(t),i=nhe[e.linkage];return i!=null&&(e.linkage=i),e},rB=function(t,e,i,n,a){for(var o=0,s=1/0,l,c=a.attributes,d=function(F,P){return c0(a.distance,c.length,function(L){return c[L](F)},function(L){return c[L](P)},F,P)},u=0;u<t.length;u++){var f=t[u].key,m=i[f][n[f]];m<s&&(o=f,s=m)}if(a.mode==="threshold"&&s>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var g=e[o],v=e[n[o]],y;a.mode==="dendrogram"?y={left:g,right:v,key:g.key}:y={value:g.value.concat(v.value),key:g.key},t[g.index]=y,t.splice(v.index,1),e[g.key]=y;for(var b=0;b<t.length;b++){var _=t[b];g.key===_.key?l=1/0:a.linkage==="min"?(l=i[g.key][_.key],i[g.key][_.key]>i[v.key][_.key]&&(l=i[v.key][_.key])):a.linkage==="max"?(l=i[g.key][_.key],i[g.key][_.key]<i[v.key][_.key]&&(l=i[v.key][_.key])):a.linkage==="mean"?l=(i[g.key][_.key]*g.size+i[v.key][_.key]*v.size)/(g.size+v.size):a.mode==="dendrogram"?l=d(_.value,g.value):l=d(_.value[0],g.value[0]),i[g.key][_.key]=i[_.key][g.key]=l}for(var w=0;w<t.length;w++){var E=t[w].key;if(n[E]===g.key||n[E]===v.key){for(var S=E,D=0;D<t.length;D++){var T=t[D].key;i[E][T]<i[E][S]&&(S=T)}n[E]=S}t[w].index=w}return g.key=v.key=g.index=v.index=null,!0},gh=function(t,e,i){t&&(t.value?e.push(t.value):(t.left&&gh(t.left,e),t.right&&gh(t.right,e)))},TM=function(t,e){if(!t)return"";if(t.left&&t.right){var i=TM(t.left,e),n=TM(t.right,e),a=e.add({group:"nodes",data:{id:i+","+n}});return e.add({group:"edges",data:{source:i,target:a.id()}}),e.add({group:"edges",data:{source:n,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},AM=function(t,e,i){if(!t)return[];var n=[],a=[],o=[];return e===0?(t.left&&gh(t.left,n),t.right&&gh(t.right,a),o=n.concat(a),[i.collection(o)]):e===1?t.value?[i.collection(t.value)]:(t.left&&gh(t.left,n),t.right&&gh(t.right,a),[i.collection(n),i.collection(a)]):t.value?[i.collection(t.value)]:(t.left&&(n=AM(t.left,e-1,i)),t.right&&(a=AM(t.right,e-1,i)),n.concat(a))},iB=function(t){for(var e=this.cy(),i=this.nodes(),n=ahe(t),a=n.attributes,o=function(w,E){return c0(n.distance,a.length,function(S){return a[S](w)},function(S){return a[S](E)},w,E)},s=[],l=[],c=[],d=[],u=0;u<i.length;u++){var f={value:n.mode==="dendrogram"?i[u]:[i[u]],key:u,index:u};s[u]=f,d[u]=f,l[u]=[],c[u]=0}for(var m=0;m<s.length;m++)for(var g=0;g<=m;g++){var v=void 0;n.mode==="dendrogram"?v=m===g?1/0:o(s[m].value,s[g].value):v=m===g?1/0:o(s[m].value[0],s[g].value[0]),l[m][g]=v,l[g][m]=v,v<l[m][c[m]]&&(c[m]=g)}for(var y=rB(s,d,l,c,n);y;)y=rB(s,d,l,c,n);var b;return n.mode==="dendrogram"?(b=AM(s[0],n.dendrogramDepth,e),n.addDendrogram&&TM(s[0],e)):(b=new Array(s.length),s.forEach(function(_,w){_.key=_.index=null,b[w]=e.collection(_.value)})),b},ohe={hierarchicalClustering:iB,hca:iB},she=ln({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),lhe=function(t){var e=t.damping,i=t.preference;.5<=e&&e<1||Mi("Damping must range on [0.5, 1).  Got: ".concat(e));var n=["median","mean","min","max"];return n.some(function(a){return a===i})||Qe(i)||Mi("Preference must be one of [".concat(n.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(i)),she(t)},che=function(t,e,i,n){var a=function(s,l){return n[l](s)};return-c0(t,n.length,function(o){return a(e,o)},function(o){return a(i,o)},e,i)},dhe=function(t,e){var i=null;return e==="median"?i=due(t):e==="mean"?i=cue(t):e==="min"?i=sue(t):e==="max"?i=lue(t):i=e,i},uhe=function(t,e,i){for(var n=[],a=0;a<t;a++)e[a*t+a]+i[a*t+a]>0&&n.push(a);return n},nB=function(t,e,i){for(var n=[],a=0;a<t;a++){for(var o=-1,s=-1/0,l=0;l<i.length;l++){var c=i[l];e[a*t+c]>s&&(o=c,s=e[a*t+c])}o>0&&n.push(o)}for(var d=0;d<i.length;d++)n[i[d]]=i[d];return n},hhe=function(t,e,i){for(var n=nB(t,e,i),a=0;a<i.length;a++){for(var o=[],s=0;s<n.length;s++)n[s]===i[a]&&o.push(s);for(var l=-1,c=-1/0,d=0;d<o.length;d++){for(var u=0,f=0;f<o.length;f++)u+=e[o[f]*t+o[d]];u>c&&(l=d,c=u)}i[a]=o[l]}return n=nB(t,e,i),n},aB=function(t){for(var e=this.cy(),i=this.nodes(),n=lhe(t),a={},o=0;o<i.length;o++)a[i[o].id()]=o;var s,l,c,d,u,f;s=i.length,l=s*s,c=new Array(l);for(var m=0;m<l;m++)c[m]=-1/0;for(var g=0;g<s;g++)for(var v=0;v<s;v++)g!==v&&(c[g*s+v]=che(n.distance,i[g],i[v],n.attributes));d=dhe(c,n.preference);for(var y=0;y<s;y++)c[y*s+y]=d;u=new Array(l);for(var b=0;b<l;b++)u[b]=0;f=new Array(l);for(var _=0;_<l;_++)f[_]=0;for(var w=new Array(s),E=new Array(s),S=new Array(s),D=0;D<s;D++)w[D]=0,E[D]=0,S[D]=0;for(var T=new Array(s*n.minIterations),O=0;O<T.length;O++)T[O]=0;var F;for(F=0;F<n.maxIterations;F++){for(var P=0;P<s;P++){for(var L=-1/0,C=-1/0,A=-1,R=0,k=0;k<s;k++)w[k]=u[P*s+k],R=f[P*s+k]+c[P*s+k],R>=L?(C=L,L=R,A=k):R>C&&(C=R);for(var I=0;I<s;I++)u[P*s+I]=(1-n.damping)*(c[P*s+I]-L)+n.damping*w[I];u[P*s+A]=(1-n.damping)*(c[P*s+A]-C)+n.damping*w[A]}for(var B=0;B<s;B++){for(var z=0,W=0;W<s;W++)w[W]=f[W*s+B],E[W]=Math.max(0,u[W*s+B]),z+=E[W];z-=E[B],E[B]=u[B*s+B],z+=E[B];for(var $=0;$<s;$++)f[$*s+B]=(1-n.damping)*Math.min(0,z-E[$])+n.damping*w[$];f[B*s+B]=(1-n.damping)*(z-E[B])+n.damping*w[B]}for(var G=0,K=0;K<s;K++){var oe=f[K*s+K]+u[K*s+K]>0?1:0;T[F%n.minIterations*s+K]=oe,G+=oe}if(G>0&&(F>=n.minIterations-1||F==n.maxIterations-1)){for(var te=0,le=0;le<s;le++){S[le]=0;for(var re=0;re<n.minIterations;re++)S[le]+=T[re*s+le];(S[le]===0||S[le]===n.minIterations)&&te++}if(te===s)break}}for(var Q=uhe(s,u,f),se=hhe(s,c,Q),ee={},Z=0;Z<Q.length;Z++)ee[Q[Z]]=[];for(var ce=0;ce<i.length;ce++){var ye=a[i[ce].id()],Te=se[ye];Te!=null&&ee[Te].push(i[ce])}for(var be=new Array(Q.length),at=0;at<Q.length;at++)be[at]=e.collection(ee[Q[at]]);return be},fhe={affinityPropagation:aB,ap:aB},mhe=ln({root:void 0,directed:!1}),phe={hierholzer:function(t){if(!kr(t)){var e=arguments;t={root:e[0],directed:e[1]}}var i=mhe(t),n=i.root,a=i.directed,o=this,s=!1,l,c,d;n&&(d=Tt(n)?this.filter(n)[0].id():n[0].id());var u={},f={};a?o.forEach(function(_){var w=_.id();if(_.isNode()){var E=_.indegree(!0),S=_.outdegree(!0),D=E-S,T=S-E;D==1?l?s=!0:l=w:T==1?c?s=!0:c=w:(T>1||D>1)&&(s=!0),u[w]=[],_.outgoers().forEach(function(O){O.isEdge()&&u[w].push(O.id())})}else f[w]=[void 0,_.target().id()]}):o.forEach(function(_){var w=_.id();if(_.isNode()){var E=_.degree(!0);E%2&&(l?c?s=!0:c=w:l=w),u[w]=[],_.connectedEdges().forEach(function(S){return u[w].push(S.id())})}else f[w]=[_.source().id(),_.target().id()]});var m={found:!1,trail:void 0};if(s)return m;if(c&&l)if(a){if(d&&c!=d)return m;d=c}else{if(d&&c!=d&&l!=d)return m;d||(d=c)}else d||(d=o[0].id());var g=function(w){for(var E=w,S=[w],D,T,O;u[E].length;)D=u[E].shift(),T=f[D][0],O=f[D][1],E!=O?(u[O]=u[O].filter(function(F){return F!=D}),E=O):!a&&E!=T&&(u[T]=u[T].filter(function(F){return F!=D}),E=T),S.unshift(D),S.unshift(E);return S},v=[],y=[];for(y=g(d);y.length!=1;)u[y[0]].length==0?(v.unshift(o.getElementById(y.shift())),v.unshift(o.getElementById(y.shift()))):y=g(y.shift()).concat(y);v.unshift(o.getElementById(y.shift()));for(var b in u)if(u[b].length)return m;return m.found=!0,m.trail=this.spawn(v,!0),m}},Mb=function(){var t=this,e={},i=0,n=0,a=[],o=[],s={},l=function(f,m){for(var g=o.length-1,v=[],y=t.spawn();o[g].x!=f||o[g].y!=m;)v.push(o.pop().edge),g--;v.push(o.pop().edge),v.forEach(function(b){var _=b.connectedNodes().intersection(t);y.merge(b),_.forEach(function(w){var E=w.id(),S=w.connectedEdges().intersection(t);y.merge(w),e[E].cutVertex?y.merge(S.filter(function(D){return D.isLoop()})):y.merge(S)})}),a.push(y)},c=function(f,m,g){f===g&&(n+=1),e[m]={id:i,low:i++,cutVertex:!1};var v=t.getElementById(m).connectedEdges().intersection(t);if(v.size()===0)a.push(t.spawn(t.getElementById(m)));else{var y,b,_,w;v.forEach(function(E){y=E.source().id(),b=E.target().id(),_=y===m?b:y,_!==g&&(w=E.id(),s[w]||(s[w]=!0,o.push({x:m,y:_,edge:E})),_ in e?e[m].low=Math.min(e[m].low,e[_].id):(c(f,_,m),e[m].low=Math.min(e[m].low,e[_].low),e[m].id<=e[_].low&&(e[m].cutVertex=!0,l(m,_))))})}};t.forEach(function(u){if(u.isNode()){var f=u.id();f in e||(n=0,c(f,f),e[f].cutVertex=n>1)}});var d=Object.keys(e).filter(function(u){return e[u].cutVertex}).map(function(u){return t.getElementById(u)});return{cut:t.spawn(d),components:a}},ghe={hopcroftTarjanBiconnected:Mb,htbc:Mb,htb:Mb,hopcroftTarjanBiconnectedComponents:Mb},Db=function(){var t=this,e={},i=0,n=[],a=[],o=t.spawn(t),s=function(c){a.push(c),e[c]={index:i,low:i++,explored:!1};var d=t.getElementById(c).connectedEdges().intersection(t);if(d.forEach(function(v){var y=v.target().id();y!==c&&(y in e||s(y),e[y].explored||(e[c].low=Math.min(e[c].low,e[y].low)))}),e[c].index===e[c].low){for(var u=t.spawn();;){var f=a.pop();if(u.merge(t.getElementById(f)),e[f].low=e[c].index,e[f].explored=!0,f===c)break}var m=u.edgesWith(u),g=u.merge(m);n.push(g),o=o.difference(g)}};return t.forEach(function(l){if(l.isNode()){var c=l.id();c in e||s(c)}}),{cut:o,components:n}},vhe={tarjanStronglyConnected:Db,tsc:Db,tscc:Db,tarjanStronglyConnectedComponents:Db},Tz={};[cp,Xde,Kde,Qde,eue,rue,aue,Rue,bh,_h,DM,Hue,rhe,ohe,fhe,phe,ghe,vhe].forEach(function(r){Ot(Tz,r)});var Az=0,Rz=1,Iz=2,Po=function(t){if(!(this instanceof Po))return new Po(t);this.id="Thenable/1.0.7",this.state=Az,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Po.prototype={fulfill:function(t){return oB(this,Rz,"fulfillValue",t)},reject:function(t){return oB(this,Iz,"rejectReason",t)},then:function(t,e){var i=this,n=new Po;return i.onFulfilled.push(lB(t,n,"fulfill")),i.onRejected.push(lB(e,n,"reject")),Oz(i),n.proxy}};var oB=function(t,e,i,n){return t.state===Az&&(t.state=e,t[i]=n,Oz(t)),t},Oz=function(t){t.state===Rz?sB(t,"onFulfilled",t.fulfillValue):t.state===Iz&&sB(t,"onRejected",t.rejectReason)},sB=function(t,e,i){if(t[e].length!==0){var n=t[e];t[e]=[];var a=function(){for(var s=0;s<n.length;s++)n[s](i)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},lB=function(t,e,i){return function(n){if(typeof t!="function")e[i].call(e,n);else{var a;try{a=t(n)}catch(o){e.reject(o);return}kz(e,a)}}},kz=function(t,e){if(t===e||t.proxy===e){t.reject(new TypeError("cannot resolve promise with itself"));return}var i;if(sn(e)==="object"&&e!==null||typeof e=="function")try{i=e.then}catch(a){t.reject(a);return}if(typeof i=="function"){var n=!1;try{i.call(e,function(a){n||(n=!0,a===e?t.reject(new TypeError("circular thenable chain")):kz(t,a))},function(a){n||(n=!0,t.reject(a))})}catch(a){n||t.reject(a)}return}t.fulfill(e)};Po.all=function(r){return new Po(function(t,e){for(var i=new Array(r.length),n=0,a=function(l,c){i[l]=c,n++,n===r.length&&t(i)},o=0;o<r.length;o++)(function(s){var l=r[s],c=l!=null&&l.then!=null;if(c)l.then(function(u){a(s,u)},function(u){e(u)});else{var d=l;a(s,d)}})(o)})};Po.resolve=function(r){return new Po(function(t,e){t(r)})};Po.reject=function(r){return new Po(function(t,e){e(r)})};var Mh=typeof Promise<"u"?Promise:Po,RM=function(t,e,i){var n=GM(t),a=!n,o=this._private=Ot({duration:1e3},e,i);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Di(o.complete)&&o.completes.push(o.complete),a){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(n){var l=t.pan();o.startPan={x:l.x,y:l.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},wd=RM.prototype;Ot(wd,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e,i=t.target._private.animation;t.queue?e=i.queue:e=i.current,e.push(this),ka(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return t===void 0?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,i=e.playing;return t===void 0?e.progress:(i&&this.pause(),e.progress=t,e.started=!1,i&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var i=function(c,d){var u=t[c];u!=null&&(t[c]=t[d],t[d]=u)};if(i("zoom","startZoom"),i("pan","startPan"),i("position","startPosition"),t.style)for(var n=0;n<t.style.length;n++){var a=t.style[n],o=a.name,s=t.startStyle[o];t.startStyle[o]=a,t.style[n]=s}return e&&this.play(),this},promise:function(t){var e=this._private,i;switch(t){case"frame":i=e.frames;break;default:case"complete":case"completed":i=e.completes}return new Mh(function(n,a){i.push(function(){n()})})}});wd.complete=wd.completed;wd.run=wd.play;wd.running=wd.playing;var yhe={animated:function(){return function(){var e=this,i=e.length!==void 0,n=i?e:[e],a=this._private.cy||this;if(!a.styleEnabled())return!1;var o=n[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var e=this,i=e.length!==void 0,n=i?e:[e],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var o=0;o<n.length;o++){var s=n[o];s._private.animation.queue=[]}return this}},delay:function(){return function(e,i){var n=this._private.cy||this;return n.styleEnabled()?this.animate({delay:e,duration:e,complete:i}):this}},delayAnimation:function(){return function(e,i){var n=this._private.cy||this;return n.styleEnabled()?this.animation({delay:e,duration:e,complete:i}):this}},animation:function(){return function(e,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this,l=!a,c=!l;if(!s.styleEnabled())return this;var d=s.style();e=Ot({},e,i);var u=Object.keys(e).length===0;if(u)return new RM(o[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(c&&(e.style=d.getPropsList(e.style||e.css),e.css=void 0),c&&e.renderedPosition!=null){var f=e.renderedPosition,m=s.pan(),g=s.zoom();e.position=vz(f,g,m)}if(l&&e.panBy!=null){var v=e.panBy,y=s.pan();e.pan={x:y.x+v.x,y:y.y+v.y}}var b=e.center||e.centre;if(l&&b!=null){var _=s.getCenterPan(b.eles,e.zoom);_!=null&&(e.pan=_)}if(l&&e.fit!=null){var w=e.fit,E=s.getFitViewport(w.eles||w.boundingBox,w.padding);E!=null&&(e.pan=E.pan,e.zoom=E.zoom)}if(l&&kr(e.zoom)){var S=s.getZoomedViewport(e.zoom);S!=null?(S.zoomed&&(e.zoom=S.zoom),S.panned&&(e.pan=S.pan)):e.zoom=null}return new RM(o[0],e)}},animate:function(){return function(e,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;i&&(e=Ot({},e,i));for(var l=0;l<o.length;l++){var c=o[l],d=c.animated()&&(e.queue===void 0||e.queue),u=c.animation(e,d?{queue:!0}:void 0);u.play()}return this}},stop:function(){return function(e,i){var n=this,a=n.length!==void 0,o=a?n:[n],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var c=o[l],d=c._private,u=d.animation.current,f=0;f<u.length;f++){var m=u[f],g=m._private;i&&(g.duration=0)}e&&(d.animation.queue=[]),i||(d.animation.current=[])}return s.notify("draw"),this}}},yS,cB;function d0(){if(cB)return yS;cB=1;var r=Array.isArray;return yS=r,yS}var bS,dB;function bhe(){if(dB)return bS;dB=1;var r=d0(),t=_p(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function n(a,o){if(r(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:i.test(a)||!e.test(a)||o!=null&&a in Object(o)}return bS=n,bS}var _S,uB;function _he(){if(uB)return _S;uB=1;var r=lz(),t=bp(),e="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=r(s);return l==i||l==n||l==e||l==a}return _S=o,_S}var xS,hB;function xhe(){if(hB)return xS;hB=1;var r=o0(),t=r["__core-js_shared__"];return xS=t,xS}var wS,fB;function whe(){if(fB)return wS;fB=1;var r=xhe(),t=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function e(i){return!!t&&t in i}return wS=e,wS}var CS,mB;function Che(){if(mB)return CS;mB=1;var r=Function.prototype,t=r.toString;function e(i){if(i!=null){try{return t.call(i)}catch{}try{return i+""}catch{}}return""}return CS=e,CS}var ES,pB;function Ehe(){if(pB)return ES;pB=1;var r=_he(),t=whe(),e=bp(),i=Che(),n=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(f){if(!e(f)||t(f))return!1;var m=r(f)?d:a;return m.test(i(f))}return ES=u,ES}var SS,gB;function She(){if(gB)return SS;gB=1;function r(t,e){return t?.[e]}return SS=r,SS}var MS,vB;function eD(){if(vB)return MS;vB=1;var r=Ehe(),t=She();function e(i,n){var a=t(i,n);return r(a)?a:void 0}return MS=e,MS}var DS,yB;function u0(){if(yB)return DS;yB=1;var r=eD(),t=r(Object,"create");return DS=t,DS}var TS,bB;function Mhe(){if(bB)return TS;bB=1;var r=u0();function t(){this.__data__=r?r(null):{},this.size=0}return TS=t,TS}var AS,_B;function Dhe(){if(_B)return AS;_B=1;function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}return AS=r,AS}var RS,xB;function The(){if(xB)return RS;xB=1;var r=u0(),t="__lodash_hash_undefined__",e=Object.prototype,i=e.hasOwnProperty;function n(a){var o=this.__data__;if(r){var s=o[a];return s===t?void 0:s}return i.call(o,a)?o[a]:void 0}return RS=n,RS}var IS,wB;function Ahe(){if(wB)return IS;wB=1;var r=u0(),t=Object.prototype,e=t.hasOwnProperty;function i(n){var a=this.__data__;return r?a[n]!==void 0:e.call(a,n)}return IS=i,IS}var OS,CB;function Rhe(){if(CB)return OS;CB=1;var r=u0(),t="__lodash_hash_undefined__";function e(i,n){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=r&&n===void 0?t:n,this}return OS=e,OS}var kS,EB;function Ihe(){if(EB)return kS;EB=1;var r=Mhe(),t=Dhe(),e=The(),i=Ahe(),n=Rhe();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=n,kS=a,kS}var PS,SB;function Ohe(){if(SB)return PS;SB=1;function r(){this.__data__=[],this.size=0}return PS=r,PS}var LS,MB;function Pz(){if(MB)return LS;MB=1;function r(t,e){return t===e||t!==t&&e!==e}return LS=r,LS}var FS,DB;function h0(){if(DB)return FS;DB=1;var r=Pz();function t(e,i){for(var n=e.length;n--;)if(r(e[n][0],i))return n;return-1}return FS=t,FS}var NS,TB;function khe(){if(TB)return NS;TB=1;var r=h0(),t=Array.prototype,e=t.splice;function i(n){var a=this.__data__,o=r(a,n);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():e.call(a,o,1),--this.size,!0}return NS=i,NS}var BS,AB;function Phe(){if(AB)return BS;AB=1;var r=h0();function t(e){var i=this.__data__,n=r(i,e);return n<0?void 0:i[n][1]}return BS=t,BS}var VS,RB;function Lhe(){if(RB)return VS;RB=1;var r=h0();function t(e){return r(this.__data__,e)>-1}return VS=t,VS}var zS,IB;function Fhe(){if(IB)return zS;IB=1;var r=h0();function t(e,i){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,i])):n[a][1]=i,this}return zS=t,zS}var qS,OB;function Nhe(){if(OB)return qS;OB=1;var r=Ohe(),t=khe(),e=Phe(),i=Lhe(),n=Fhe();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=n,qS=a,qS}var US,kB;function Bhe(){if(kB)return US;kB=1;var r=eD(),t=o0(),e=r(t,"Map");return US=e,US}var HS,PB;function Vhe(){if(PB)return HS;PB=1;var r=Ihe(),t=Nhe(),e=Bhe();function i(){this.size=0,this.__data__={hash:new r,map:new(e||t),string:new r}}return HS=i,HS}var GS,LB;function zhe(){if(LB)return GS;LB=1;function r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}return GS=r,GS}var WS,FB;function f0(){if(FB)return WS;FB=1;var r=zhe();function t(e,i){var n=e.__data__;return r(i)?n[typeof i=="string"?"string":"hash"]:n.map}return WS=t,WS}var jS,NB;function qhe(){if(NB)return jS;NB=1;var r=f0();function t(e){var i=r(this,e).delete(e);return this.size-=i?1:0,i}return jS=t,jS}var $S,BB;function Uhe(){if(BB)return $S;BB=1;var r=f0();function t(e){return r(this,e).get(e)}return $S=t,$S}var YS,VB;function Hhe(){if(VB)return YS;VB=1;var r=f0();function t(e){return r(this,e).has(e)}return YS=t,YS}var XS,zB;function Ghe(){if(zB)return XS;zB=1;var r=f0();function t(e,i){var n=r(this,e),a=n.size;return n.set(e,i),this.size+=n.size==a?0:1,this}return XS=t,XS}var KS,qB;function Whe(){if(qB)return KS;qB=1;var r=Vhe(),t=qhe(),e=Uhe(),i=Hhe(),n=Ghe();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=r,a.prototype.delete=t,a.prototype.get=e,a.prototype.has=i,a.prototype.set=n,KS=a,KS}var ZS,UB;function jhe(){if(UB)return ZS;UB=1;var r=Whe(),t="Expected a function";function e(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(t);var a=function(){var o=arguments,s=n?n.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=i.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(e.Cache||r),a}return e.Cache=r,ZS=e,ZS}var QS,HB;function $he(){if(HB)return QS;HB=1;var r=jhe(),t=500;function e(i){var n=r(i,function(o){return a.size===t&&a.clear(),o}),a=n.cache;return n}return QS=e,QS}var JS,GB;function Lz(){if(GB)return JS;GB=1;var r=$he(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e=/\\(\\)?/g,i=r(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(t,function(o,s,l,c){a.push(l?c.replace(e,"$1"):s||o)}),a});return JS=i,JS}var eM,WB;function Fz(){if(WB)return eM;WB=1;function r(t,e){for(var i=-1,n=t==null?0:t.length,a=Array(n);++i<n;)a[i]=e(t[i],i,t);return a}return eM=r,eM}var tM,jB;function Yhe(){if(jB)return tM;jB=1;var r=jM(),t=Fz(),e=d0(),i=_p(),n=r?r.prototype:void 0,a=n?n.toString:void 0;function o(s){if(typeof s=="string")return s;if(e(s))return t(s,o)+"";if(i(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return tM=o,tM}var rM,$B;function Nz(){if($B)return rM;$B=1;var r=Yhe();function t(e){return e==null?"":r(e)}return rM=t,rM}var iM,YB;function Bz(){if(YB)return iM;YB=1;var r=d0(),t=bhe(),e=Lz(),i=Nz();function n(a,o){return r(a)?a:t(a,o)?[a]:e(i(a))}return iM=n,iM}var nM,XB;function tD(){if(XB)return nM;XB=1;var r=_p();function t(e){if(typeof e=="string"||r(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}return nM=t,nM}var aM,KB;function Xhe(){if(KB)return aM;KB=1;var r=Bz(),t=tD();function e(i,n){n=r(n,i);for(var a=0,o=n.length;i!=null&&a<o;)i=i[t(n[a++])];return a&&a==o?i:void 0}return aM=e,aM}var oM,ZB;function Khe(){if(ZB)return oM;ZB=1;var r=Xhe();function t(e,i,n){var a=e==null?void 0:r(e,i);return a===void 0?n:a}return oM=t,oM}var Zhe=Khe(),Qhe=yp(Zhe),sM,QB;function Jhe(){if(QB)return sM;QB=1;var r=eD(),t=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch{}}();return sM=t,sM}var lM,JB;function efe(){if(JB)return lM;JB=1;var r=Jhe();function t(e,i,n){i=="__proto__"&&r?r(e,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[i]=n}return lM=t,lM}var cM,eV;function tfe(){if(eV)return cM;eV=1;var r=efe(),t=Pz(),e=Object.prototype,i=e.hasOwnProperty;function n(a,o,s){var l=a[o];(!(i.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&r(a,o,s)}return cM=n,cM}var dM,tV;function rfe(){if(tV)return dM;tV=1;var r=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function e(i,n){var a=typeof i;return n=n??r,!!n&&(a=="number"||a!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<n}return dM=e,dM}var uM,rV;function ife(){if(rV)return uM;rV=1;var r=tfe(),t=Bz(),e=rfe(),i=bp(),n=tD();function a(o,s,l,c){if(!i(o))return o;s=t(s,o);for(var d=-1,u=s.length,f=u-1,m=o;m!=null&&++d<u;){var g=n(s[d]),v=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return o;if(d!=f){var y=m[g];v=c?c(y,g,m):void 0,v===void 0&&(v=i(y)?y:e(s[d+1])?[]:{})}r(m,g,v),m=m[g]}return o}return uM=a,uM}var hM,iV;function nfe(){if(iV)return hM;iV=1;var r=ife();function t(e,i,n){return e==null?e:r(e,i,n)}return hM=t,hM}var afe=nfe(),ofe=yp(afe),fM,nV;function sfe(){if(nV)return fM;nV=1;function r(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}return fM=r,fM}var mM,aV;function lfe(){if(aV)return mM;aV=1;var r=Fz(),t=sfe(),e=d0(),i=_p(),n=Lz(),a=tD(),o=Nz();function s(l){return e(l)?r(l,a):i(l)?[l]:t(n(o(l)))}return mM=s,mM}var cfe=lfe(),dfe=yp(cfe),ufe={data:function(t){var e={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(n){},beforeSet:function(n,a){},onSet:function(n){},canSet:function(n){return!0}};return t=Ot({},e,t),function(n,a){var o=t,s=this,l=s.length!==void 0,c=l?s:[s],d=l?s[0]:s;if(Tt(n)){var u=n.indexOf(".")!==-1,f=u&&dfe(n);if(o.allowGetting&&a===void 0){var m;return d&&(o.beforeGet(d),f&&d._private[o.field][n]===void 0?m=Qhe(d._private[o.field],f):m=d._private[o.field][n]),m}else if(o.allowSetting&&a!==void 0){var g=!o.immutableKeys[n];if(g){var v=ZV({},n,a);o.beforeSet(s,v);for(var y=0,b=c.length;y<b;y++){var _=c[y];o.canSet(_)&&(f&&d._private[o.field][n]===void 0?ofe(_._private[o.field],f,a):_._private[o.field][n]=a)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&kr(n)){var w=n,E,S,D=Object.keys(w);o.beforeSet(s,w);for(var T=0;T<D.length;T++){E=D[T],S=w[E];var O=!o.immutableKeys[E];if(O)for(var F=0;F<c.length;F++){var P=c[F];o.canSet(P)&&(P._private[o.field][E]=S)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Di(n)){var L=n;s.on(o.bindingEvent,L)}else if(o.allowGetting&&n===void 0){var C;return d&&(o.beforeGet(d),C=d._private[o.field]),C}return s}},removeData:function(t){var e={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=Ot({},e,t),function(n){var a=t,o=this,s=o.length!==void 0,l=s?o:[o];if(Tt(n)){for(var c=n.split(/\s+/),d=c.length,u=0;u<d;u++){var f=c[u];if(!Yl(f)){var m=!a.immutableKeys[f];if(m)for(var g=0,v=l.length;g<v;g++)l[g]._private[a.field][f]=void 0}}a.triggerEvent&&o[a.triggerFnName](a.event)}else if(n===void 0){for(var y=0,b=l.length;y<b;y++)for(var _=l[y]._private[a.field],w=Object.keys(_),E=0;E<w.length;E++){var S=w[E],D=!a.immutableKeys[S];D&&(_[S]=void 0)}a.triggerEvent&&o[a.triggerFnName](a.event)}return o}}},hfe={eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(i,n){var a=this,o=Array.prototype.slice.call(arguments,0);return new Mh(function(s,l){var c=function(m){a.off.apply(a,u),s(m)},d=o.concat([c]),u=d.concat([]);a.on.apply(a,d)})}}},Wr={};[yhe,ufe,hfe].forEach(function(r){Ot(Wr,r)});var ffe={animate:Wr.animate(),animation:Wr.animation(),animated:Wr.animated(),clearQueue:Wr.clearQueue(),delay:Wr.delay(),delayAnimation:Wr.delayAnimation(),stop:Wr.stop()},Bb={classes:function(t){var e=this;if(t===void 0){var i=[];return e[0]._private.classes.forEach(function(g){return i.push(g)}),i}else ii(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],a=new Sh(t),o=0;o<e.length;o++){for(var s=e[o],l=s._private,c=l.classes,d=!1,u=0;u<t.length;u++){var f=t[u],m=c.has(f);if(!m){d=!0;break}}d||(d=c.size!==t.length),d&&(l.classes=a,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),e},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return e!=null&&e._private.classes.has(t)},toggleClass:function(t,e){ii(t)||(t=t.match(/\S+/g)||[]);for(var i=this,n=e===void 0,a=[],o=0,s=i.length;o<s;o++)for(var l=i[o],c=l._private.classes,d=!1,u=0;u<t.length;u++){var f=t[u],m=c.has(f),g=!1;e||n&&!m?(c.add(f),g=!0):(!e||n&&m)&&(c.delete(f),g=!0),!d&&g&&(a.push(l),d=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),i},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var i=this;if(e==null)e=250;else if(e===0)return i;return i.addClass(t),setTimeout(function(){i.removeClass(t)},e),i}};Bb.className=Bb.classNames=Bb.classes;var Or={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:on,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Or.variable="(?:[\\w-.]|(?:\\\\"+Or.metaChar+"))+";Or.className="(?:[\\w-]|(?:\\\\"+Or.metaChar+"))+";Or.value=Or.string+"|"+Or.number;Or.id=Or.variable;(function(){var r,t,e;for(r=Or.comparatorOp.split("|"),e=0;e<r.length;e++)t=r[e],Or.comparatorOp+="|@"+t;for(r=Or.comparatorOp.split("|"),e=0;e<r.length;e++)t=r[e],!(t.indexOf("!")>=0)&&t!=="="&&(Or.comparatorOp+="|\\!"+t)})();var ei=function(){return{checks:[]}},ft={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},IM=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(r,t){return pde(r.selector,t.selector)}),mfe=function(){for(var r={},t,e=0;e<IM.length;e++)t=IM[e],r[t.selector]=t.matches;return r}(),pfe=function(t,e){return mfe[t](e)},gfe="("+IM.map(function(r){return r.selector}).join("|")+")",sh=function(t){return t.replace(new RegExp("\\\\("+Or.metaChar+")","g"),function(e,i){return i})},Ul=function(t,e,i){t[t.length-1]=i},OM=[{name:"group",query:!0,regex:"("+Or.group+")",populate:function(t,e,i){var n=_n(i,1),a=n[0];e.checks.push({type:ft.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:gfe,populate:function(t,e,i){var n=_n(i,1),a=n[0];e.checks.push({type:ft.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+Or.id+")",populate:function(t,e,i){var n=_n(i,1),a=n[0];e.checks.push({type:ft.ID,value:sh(a)})}},{name:"className",query:!0,regex:"\\.("+Or.className+")",populate:function(t,e,i){var n=_n(i,1),a=n[0];e.checks.push({type:ft.CLASS,value:sh(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*\\]",populate:function(t,e,i){var n=_n(i,1),a=n[0];e.checks.push({type:ft.DATA_EXIST,field:sh(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Or.variable+")\\s*("+Or.comparatorOp+")\\s*("+Or.value+")\\s*\\]",populate:function(t,e,i){var n=_n(i,3),a=n[0],o=n[1],s=n[2],l=new RegExp("^"+Or.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),e.checks.push({type:ft.DATA_COMPARE,field:sh(a),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Or.boolOp+")\\s*("+Or.variable+")\\s*\\]",populate:function(t,e,i){var n=_n(i,2),a=n[0],o=n[1];e.checks.push({type:ft.DATA_BOOL,field:sh(o),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Or.meta+")\\s*("+Or.comparatorOp+")\\s*("+Or.number+")\\s*\\]\\]",populate:function(t,e,i){var n=_n(i,3),a=n[0],o=n[1],s=n[2];e.checks.push({type:ft.META_COMPARE,field:sh(a),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Or.separator,populate:function(t,e){var i=t.currentSubject,n=t.edgeCount,a=t.compoundCount,o=t[t.length-1];i!=null&&(o.subject=i,t.currentSubject=null),o.edgeCount=n,o.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=ei();return s}},{name:"directedEdge",separator:!0,regex:Or.directedEdge,populate:function(t,e){if(t.currentSubject==null){var i=ei(),n=e,a=ei();return i.checks.push({type:ft.DIRECTED_EDGE,source:n,target:a}),Ul(t,e,i),t.edgeCount++,a}else{var o=ei(),s=e,l=ei();return o.checks.push({type:ft.NODE_SOURCE,source:s,target:l}),Ul(t,e,o),t.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:Or.undirectedEdge,populate:function(t,e){if(t.currentSubject==null){var i=ei(),n=e,a=ei();return i.checks.push({type:ft.UNDIRECTED_EDGE,nodes:[n,a]}),Ul(t,e,i),t.edgeCount++,a}else{var o=ei(),s=e,l=ei();return o.checks.push({type:ft.NODE_NEIGHBOR,node:s,neighbor:l}),Ul(t,e,o),l}}},{name:"child",separator:!0,regex:Or.child,populate:function(t,e){if(t.currentSubject==null){var i=ei(),n=ei(),a=t[t.length-1];return i.checks.push({type:ft.CHILD,parent:a,child:n}),Ul(t,e,i),t.compoundCount++,n}else if(t.currentSubject===e){var o=ei(),s=t[t.length-1],l=ei(),c=ei(),d=ei(),u=ei();return o.checks.push({type:ft.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=e.checks,e.checks=[{type:ft.TRUE}],u.checks.push({type:ft.TRUE}),l.checks.push({type:ft.PARENT,parent:u,child:d}),Ul(t,s,o),t.currentSubject=c,t.compoundCount++,d}else{var f=ei(),m=ei(),g=[{type:ft.PARENT,parent:f,child:m}];return f.checks=e.checks,e.checks=g,t.compoundCount++,m}}},{name:"descendant",separator:!0,regex:Or.descendant,populate:function(t,e){if(t.currentSubject==null){var i=ei(),n=ei(),a=t[t.length-1];return i.checks.push({type:ft.DESCENDANT,ancestor:a,descendant:n}),Ul(t,e,i),t.compoundCount++,n}else if(t.currentSubject===e){var o=ei(),s=t[t.length-1],l=ei(),c=ei(),d=ei(),u=ei();return o.checks.push({type:ft.COMPOUND_SPLIT,left:s,right:l,subject:c}),c.checks=e.checks,e.checks=[{type:ft.TRUE}],u.checks.push({type:ft.TRUE}),l.checks.push({type:ft.ANCESTOR,ancestor:u,descendant:d}),Ul(t,s,o),t.currentSubject=c,t.compoundCount++,d}else{var f=ei(),m=ei(),g=[{type:ft.ANCESTOR,ancestor:f,descendant:m}];return f.checks=e.checks,e.checks=g,t.compoundCount++,m}}},{name:"subject",modifier:!0,regex:Or.subject,populate:function(t,e){if(t.currentSubject!=null&&t.currentSubject!==e)return jr("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var i=t[t.length-1],n=i.checks[0],a=n==null?null:n.type;a===ft.DIRECTED_EDGE?n.type=ft.NODE_TARGET:a===ft.UNDIRECTED_EDGE&&(n.type=ft.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];OM.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var vfe=function(t){for(var e,i,n,a=0;a<OM.length;a++){var o=OM[a],s=o.name,l=t.match(o.regexObj);if(l!=null){i=l,e=o,n=s;var c=l[0];t=t.substring(c.length);break}}return{expr:e,match:i,name:n,remaining:t}},yfe=function(t){var e=t.match(/^\s+/);if(e){var i=e[0];t=t.substring(i.length)}return t},bfe=function(t){var e=this,i=e.inputText=t,n=e[0]=ei();for(e.length=1,i=yfe(i);;){var a=vfe(i);if(a.expr==null)return jr("The selector `"+t+"`is invalid"),!1;var o=a.match.slice(1),s=a.expr.populate(e,n,o);if(s===!1)return!1;if(s!=null&&(n=s),i=a.remaining,i.match(/^\s*$/))break}var l=e[e.length-1];e.currentSubject!=null&&(l.subject=e.currentSubject),l.edgeCount=e.edgeCount,l.compoundCount=e.compoundCount;for(var c=0;c<e.length;c++){var d=e[c];if(d.compoundCount>0&&d.edgeCount>0)return jr("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(d.edgeCount>1)return jr("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;d.edgeCount===1&&jr("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},_fe=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(d){return d??""},e=function(d){return Tt(d)?'"'+d+'"':t(d)},i=function(d){return" "+d+" "},n=function(d,u){var f=d.type,m=d.value;switch(f){case ft.GROUP:{var g=t(m);return g.substring(0,g.length-1)}case ft.DATA_COMPARE:{var v=d.field,y=d.operator;return"["+v+i(t(y))+e(m)+"]"}case ft.DATA_BOOL:{var b=d.operator,_=d.field;return"["+t(b)+_+"]"}case ft.DATA_EXIST:{var w=d.field;return"["+w+"]"}case ft.META_COMPARE:{var E=d.operator,S=d.field;return"[["+S+i(t(E))+e(m)+"]]"}case ft.STATE:return m;case ft.ID:return"#"+m;case ft.CLASS:return"."+m;case ft.PARENT:case ft.CHILD:return a(d.parent,u)+i(">")+a(d.child,u);case ft.ANCESTOR:case ft.DESCENDANT:return a(d.ancestor,u)+" "+a(d.descendant,u);case ft.COMPOUND_SPLIT:{var D=a(d.left,u),T=a(d.subject,u),O=a(d.right,u);return D+(D.length>0?" ":"")+T+O}case ft.TRUE:return""}},a=function(d,u){return d.checks.reduce(function(f,m,g){return f+(u===d&&g===0?"$":"")+n(m,u)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=a(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},xfe={parse:bfe,toString:_fe},Vz=function(t,e,i){var n,a=Tt(t),o=Qe(t),s=Tt(i),l,c,d=!1,u=!1,f=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),u=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),d=!0),(a||s||d)&&(l=!a&&!o?"":""+t,c=""+i),d&&(t=l=l.toLowerCase(),i=c=c.toLowerCase()),e){case"*=":n=l.indexOf(c)>=0;break;case"$=":n=l.indexOf(c,l.length-c.length)>=0;break;case"^=":n=l.indexOf(c)===0;break;case"=":n=t===i;break;case">":f=!0,n=t>i;break;case">=":f=!0,n=t>=i;break;case"<":f=!0,n=t<i;break;case"<=":f=!0,n=t<=i;break;default:n=!1;break}return u&&(t!=null||!f)&&(n=!n),n},wfe=function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},Cfe=function(t){return t!==void 0},rD=function(t,e){return t.data(e)},Efe=function(t,e){return t[e]()},Fi=[],gi=function(t,e){return t.checks.every(function(i){return Fi[i.type](i,e)})};Fi[ft.GROUP]=function(r,t){var e=r.value;return e==="*"||e===t.group()};Fi[ft.STATE]=function(r,t){var e=r.value;return pfe(e,t)};Fi[ft.ID]=function(r,t){var e=r.value;return t.id()===e};Fi[ft.CLASS]=function(r,t){var e=r.value;return t.hasClass(e)};Fi[ft.META_COMPARE]=function(r,t){var e=r.field,i=r.operator,n=r.value;return Vz(Efe(t,e),i,n)};Fi[ft.DATA_COMPARE]=function(r,t){var e=r.field,i=r.operator,n=r.value;return Vz(rD(t,e),i,n)};Fi[ft.DATA_BOOL]=function(r,t){var e=r.field,i=r.operator;return wfe(rD(t,e),i)};Fi[ft.DATA_EXIST]=function(r,t){var e=r.field;return r.operator,Cfe(rD(t,e))};Fi[ft.UNDIRECTED_EDGE]=function(r,t){var e=r.nodes[0],i=r.nodes[1],n=t.source(),a=t.target();return gi(e,n)&&gi(i,a)||gi(i,n)&&gi(e,a)};Fi[ft.NODE_NEIGHBOR]=function(r,t){return gi(r.node,t)&&t.neighborhood().some(function(e){return e.isNode()&&gi(r.neighbor,e)})};Fi[ft.DIRECTED_EDGE]=function(r,t){return gi(r.source,t.source())&&gi(r.target,t.target())};Fi[ft.NODE_SOURCE]=function(r,t){return gi(r.source,t)&&t.outgoers().some(function(e){return e.isNode()&&gi(r.target,e)})};Fi[ft.NODE_TARGET]=function(r,t){return gi(r.target,t)&&t.incomers().some(function(e){return e.isNode()&&gi(r.source,e)})};Fi[ft.CHILD]=function(r,t){return gi(r.child,t)&&gi(r.parent,t.parent())};Fi[ft.PARENT]=function(r,t){return gi(r.parent,t)&&t.children().some(function(e){return gi(r.child,e)})};Fi[ft.DESCENDANT]=function(r,t){return gi(r.descendant,t)&&t.ancestors().some(function(e){return gi(r.ancestor,e)})};Fi[ft.ANCESTOR]=function(r,t){return gi(r.ancestor,t)&&t.descendants().some(function(e){return gi(r.descendant,e)})};Fi[ft.COMPOUND_SPLIT]=function(r,t){return gi(r.subject,t)&&gi(r.left,t)&&gi(r.right,t)};Fi[ft.TRUE]=function(){return!0};Fi[ft.COLLECTION]=function(r,t){var e=r.value;return e.has(t)};Fi[ft.FILTER]=function(r,t){var e=r.value;return e(t)};var Sfe=function(t){var e=this;if(e.length===1&&e[0].checks.length===1&&e[0].checks[0].type===ft.ID)return t.getElementById(e[0].checks[0].value).collection();var i=function(a){for(var o=0;o<e.length;o++){var s=e[o];if(gi(s,a))return!0}return!1};return e.text()==null&&(i=function(){return!0}),t.filter(i)},Mfe=function(t){for(var e=this,i=0;i<e.length;i++){var n=e[i];if(gi(n,t))return!0}return!1},Dfe={matches:Mfe,filter:Sfe},Zl=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||Tt(t)&&t.match(/^\s*$/)||(ka(t)?this.addQuery({checks:[{type:ft.COLLECTION,value:t.collection()}]}):Di(t)?this.addQuery({checks:[{type:ft.FILTER,value:t}]}):Tt(t)?this.parse(t)||(this.invalid=!0):Mi("A selector must be created from a string; found "))},Ql=Zl.prototype;[xfe,Dfe].forEach(function(r){return Ot(Ql,r)});Ql.text=function(){return this.inputText};Ql.size=function(){return this.length};Ql.eq=function(r){return this[r]};Ql.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};Ql.addQuery=function(r){this[this.length++]=r};Ql.selector=Ql.toString;var jl={allAre:function(t){var e=new Zl(t);return this.every(function(i){return e.matches(i)})},is:function(t){var e=new Zl(t);return this.some(function(i){return e.matches(i)})},some:function(t,e){for(var i=0;i<this.length;i++){var n=e?t.apply(e,[this[i],i,this]):t(this[i],i,this);if(n)return!0}return!1},every:function(t,e){for(var i=0;i<this.length;i++){var n=e?t.apply(e,[this[i],i,this]):t(this[i],i,this);if(!n)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length,i=t.length;return e!==i?!1:e===1?this[0]===t[0]:this.every(function(n){return t.hasElementWithId(n.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every(function(i){return e.hasElementWithId(i.id())})},contains:function(t){t=this.cy().collection(t);var e=this;return t.every(function(i){return e.hasElementWithId(i.id())})}};jl.allAreNeighbours=jl.allAreNeighbors;jl.has=jl.contains;jl.equal=jl.equals=jl.same;var co=function(t,e){return function(n,a,o,s){var l=n,c=this,d;if(l==null?d="":ka(l)&&l.length===1&&(d=l.id()),c.length===1&&d){var u=c[0]._private,f=u.traversalCache=u.traversalCache||{},m=f[e]=f[e]||[],g=Xl(d),v=m[g];return v||(m[g]=t.call(c,n,a,o,s))}else return t.call(c,n,a,o,s)}},Eh={parent:function(t){var e=[];if(this.length===1){var i=this[0]._private.parent;if(i)return i}for(var n=0;n<this.length;n++){var a=this[n],o=a._private.parent;o&&e.push(o)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],i=this.parent();i.nonempty();){for(var n=0;n<i.length;n++){var a=i[n];e.push(a)}i=i.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,i=0;i<this.length;i++){var n=this[i],a=n.parents();e=e||a,e=e.intersect(a)}return e.filter(t)},orphans:function(t){return this.stdFilter(function(e){return e.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(e){return e.isChild()}).filter(t)},children:co(function(r){for(var t=[],e=0;e<this.length;e++)for(var i=this[e],n=i._private.children,a=0;a<n.length;a++)t.push(n[a]);return this.spawn(t,!0).filter(r)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var e=[];function i(n){for(var a=0;a<n.length;a++){var o=n[a];e.push(o),o.children().nonempty()&&i(o.children())}}return i(this.children()),this.spawn(e,!0).filter(t)}};function iD(r,t,e,i){for(var n=[],a=new Sh,o=r.cy(),s=o.hasCompoundNodes(),l=0;l<r.length;l++){var c=r[l];e?n.push(c):s&&i(n,a,c)}for(;n.length>0;){var d=n.shift();t(d),a.add(d.id()),s&&i(n,a,d)}return r}function zz(r,t,e){if(e.isParent())for(var i=e._private.children,n=0;n<i.length;n++){var a=i[n];t.has(a.id())||r.push(a)}}Eh.forEachDown=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iD(this,r,t,zz)};function qz(r,t,e){if(e.isChild()){var i=e._private.parent;t.has(i.id())||r.push(i)}}Eh.forEachUp=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iD(this,r,t,qz)};function Tfe(r,t,e){qz(r,t,e),zz(r,t,e)}Eh.forEachUpAndDown=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return iD(this,r,t,Tfe)};Eh.ancestors=Eh.parents;var hp,Uz;hp=Uz={data:Wr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Wr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Wr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Wr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Wr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};hp.attr=hp.data;hp.removeAttr=hp.removeData;var Afe=Uz,m0={};function pM(r){return function(t){var e=this;if(t===void 0&&(t=!0),e.length!==0)if(e.isNode()&&!e.removed()){for(var i=0,n=e[0],a=n._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(i+=r(n,s))}return i}else return}}Ot(m0,{degree:pM(function(r,t){return t.source().same(t.target())?2:1}),indegree:pM(function(r,t){return t.target().same(r)?1:0}),outdegree:pM(function(r,t){return t.source().same(r)?1:0})});function lh(r,t){return function(e){for(var i,n=this.nodes(),a=0;a<n.length;a++){var o=n[a],s=o[r](e);s!==void 0&&(i===void 0||t(s,i))&&(i=s)}return i}}Ot(m0,{minDegree:lh("degree",function(r,t){return r<t}),maxDegree:lh("degree",function(r,t){return r>t}),minIndegree:lh("indegree",function(r,t){return r<t}),maxIndegree:lh("indegree",function(r,t){return r>t}),minOutdegree:lh("outdegree",function(r,t){return r<t}),maxOutdegree:lh("outdegree",function(r,t){return r>t})});Ot(m0,{totalDegree:function(t){for(var e=0,i=this.nodes(),n=0;n<i.length;n++)e+=i[n].degree(t);return e}});var ko,Hz,Gz=function(t,e,i){for(var n=0;n<t.length;n++){var a=t[n];if(!a.locked()){var o=a._private.position,s={x:e.x!=null?e.x-o.x:0,y:e.y!=null?e.y-o.y:0};a.isParent()&&!(s.x===0&&s.y===0)&&a.children().shift(s,i),a.dirtyBoundingBoxCache()}}},oV={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){Gz(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};ko=Hz={position:Wr.data(oV),silentPosition:Wr.data(Ot({},oV,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){Gz(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(kr(t))e?this.silentPosition(t):this.position(t);else if(Di(t)){var i=t,n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var o=this[a],s=void 0;(s=i(o,a))&&(e?o.silentPosition(s):o.position(s))}n.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,i){var n;if(kr(t)?(n={x:Qe(t.x)?t.x:0,y:Qe(t.y)?t.y:0},i=e):Tt(t)&&Qe(e)&&(n={x:0,y:0},n[t]=e),n!=null){var a=this.cy();a.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(a.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),c={x:l.x+n.x,y:l.y+n.y};i?s.silentPosition(c):s.position(c)}}a.endBatch()}return this},silentShift:function(t,e){return kr(t)?this.shift(t,!0):Tt(t)&&Qe(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var i=this[0],n=this.cy(),a=n.zoom(),o=n.pan(),s=kr(t)?t:void 0,l=s!==void 0||e!==void 0&&Tt(t);if(i&&i.isNode())if(l)for(var c=0;c<this.length;c++){var d=this[c];e!==void 0?d.position(t,(e-o[t])/a):s!==void 0&&d.position(vz(s,a,o))}else{var u=i.position();return s=l0(u,a,o),t===void 0?s:s[t]}else if(!l)return;return this},relativePosition:function(t,e){var i=this[0],n=this.cy(),a=kr(t)?t:void 0,o=a!==void 0||e!==void 0&&Tt(t),s=n.hasCompoundNodes();if(i&&i.isNode())if(o)for(var l=0;l<this.length;l++){var c=this[l],d=s?c.parent():null,u=d&&d.length>0,f=u;u&&(d=d[0]);var m=f?d.position():{x:0,y:0};e!==void 0?c.position(t,e+m[t]):a!==void 0&&c.position({x:a.x+m.x,y:a.y+m.y})}else{var g=i.position(),v=s?i.parent():null,y=v&&v.length>0,b=y;y&&(v=v[0]);var _=b?v.position():{x:0,y:0};return a={x:g.x-_.x,y:g.y-_.y},t===void 0?a:a[t]}else if(!o)return;return this}};ko.modelPosition=ko.point=ko.position;ko.modelPositions=ko.points=ko.positions;ko.renderedPoint=ko.renderedPosition;ko.relativePoint=ko.relativePosition;var Rfe=Hz,xh,rc;xh=rc={};rc.renderedBoundingBox=function(r){var t=this.boundingBox(r),e=this.cy(),i=e.zoom(),n=e.pan(),a=t.x1*i+n.x,o=t.x2*i+n.x,s=t.y1*i+n.y,l=t.y2*i+n.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}};rc.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(e){if(e.isParent()){var i=e._private;i.compoundBoundsClean=!1,i.bbCache=null,r||e.emitAndNotify("bounds")}}),this)};rc.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!r&&t.batching())return this;function e(o){if(!o.isParent())return;var s=o._private,l=o.children(),c=o.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},u=l.boundingBox({includeLabels:c,includeOverlays:!1,useCache:!1}),f=s.position;(u.w===0||u.h===0)&&(u={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},u.x1=f.x-u.w/2,u.x2=f.x+u.w/2,u.y1=f.y-u.h/2,u.y2=f.y+u.h/2);function m(F,P,L){var C=0,A=0,R=P+L;return F>0&&R>0&&(C=P/R*F,A=L/R*F),{biasDiff:C,biasComplementDiff:A}}function g(F,P,L,C){if(L.units==="%")switch(C){case"width":return F>0?L.pfValue*F:0;case"height":return P>0?L.pfValue*P:0;case"average":return F>0&&P>0?L.pfValue*(F+P)/2:0;case"min":return F>0&&P>0?F>P?L.pfValue*P:L.pfValue*F:0;case"max":return F>0&&P>0?F>P?L.pfValue*F:L.pfValue*P:0;default:return 0}else return L.units==="px"?L.pfValue:0}var v=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(v=v*100/d.width.val);var y=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(y=y*100/d.width.val);var b=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(b=b*100/d.height.val);var _=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(_=_*100/d.height.val);var w=m(d.width.val-u.w,v,y),E=w.biasDiff,S=w.biasComplementDiff,D=m(d.height.val-u.h,b,_),T=D.biasDiff,O=D.biasComplementDiff;s.autoPadding=g(u.w,u.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(u.w,d.width.val),f.x=(-E+u.x1+u.x2+S)/2,s.autoHeight=Math.max(u.h,d.height.val),f.y=(-T+u.y1+u.y2+O)/2}for(var i=0;i<this.length;i++){var n=this[i],a=n._private;(!a.compoundBoundsClean||r)&&(e(n),t.batching()||(a.compoundBoundsClean=!0))}return this};var lo=function(t){return t===1/0||t===-1/0?0:t},Ro=function(t,e,i,n,a){n-e===0||a-i===0||e==null||i==null||n==null||a==null||(t.x1=e<t.x1?e:t.x1,t.x2=n>t.x2?n:t.x2,t.y1=i<t.y1?i:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},gd=function(t,e){return e==null?t:Ro(t,e.x1,e.y1,e.x2,e.y2)},Ym=function(t,e,i){return Io(t,e,i)},Tb=function(t,e,i){if(!e.cy().headless()){var n=e._private,a=n.rstyle,o=a.arrowWidth/2,s=e.pstyle(i+"-arrow-shape").value,l,c;if(s!=="none"){i==="source"?(l=a.srcX,c=a.srcY):i==="target"?(l=a.tgtX,c=a.tgtY):(l=a.midX,c=a.midY);var d=n.arrowBounds=n.arrowBounds||{},u=d[i]=d[i]||{};u.x1=l-o,u.y1=c-o,u.x2=l+o,u.y2=c+o,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Fb(u,1),Ro(t,u.x1,u.y1,u.x2,u.y2)}}},gM=function(t,e,i){if(!e.cy().headless()){var n;i?n=i+"-":n="";var a=e._private,o=a.rstyle,s=e.pstyle(n+"label").strValue;if(s){var l=e.pstyle("text-halign"),c=e.pstyle("text-valign"),d=Ym(o,"labelWidth",i),u=Ym(o,"labelHeight",i),f=Ym(o,"labelX",i),m=Ym(o,"labelY",i),g=e.pstyle(n+"text-margin-x").pfValue,v=e.pstyle(n+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(n+"text-rotation"),_=e.pstyle("text-outline-width").pfValue,w=e.pstyle("text-border-width").pfValue,E=w/2,S=e.pstyle("text-background-padding").pfValue,D=2,T=u,O=d,F=O/2,P=T/2,L,C,A,R;if(y)L=f-F,C=f+F,A=m-P,R=m+P;else{switch(l.value){case"left":L=f-O,C=f;break;case"center":L=f-F,C=f+F;break;case"right":L=f,C=f+O;break}switch(c.value){case"top":A=m-T,R=m;break;case"center":A=m-P,R=m+P;break;case"bottom":A=m,R=m+T;break}}var k=g-Math.max(_,E)-S-D,I=g+Math.max(_,E)+S+D,B=v-Math.max(_,E)-S-D,z=v+Math.max(_,E)+S+D;L+=k,C+=I,A+=B,R+=z;var W=i||"main",$=a.labelBounds,G=$[W]=$[W]||{};G.x1=L,G.y1=A,G.x2=C,G.y2=R,G.w=C-L,G.h=R-A,G.leftPad=k,G.rightPad=I,G.topPad=B,G.botPad=z;var K=y&&b.strValue==="autorotate",oe=b.pfValue!=null&&b.pfValue!==0;if(K||oe){var te=K?Ym(a.rstyle,"labelAngle",i):b.pfValue,le=Math.cos(te),re=Math.sin(te),Q=(L+C)/2,se=(A+R)/2;if(!y){switch(l.value){case"left":Q=C;break;case"right":Q=L;break}switch(c.value){case"top":se=R;break;case"bottom":se=A;break}}var ee=function($e,xe){return $e=$e-Q,xe=xe-se,{x:$e*le-xe*re+Q,y:$e*re+xe*le+se}},Z=ee(L,A),ce=ee(L,R),ye=ee(C,A),Te=ee(C,R);L=Math.min(Z.x,ce.x,ye.x,Te.x),C=Math.max(Z.x,ce.x,ye.x,Te.x),A=Math.min(Z.y,ce.y,ye.y,Te.y),R=Math.max(Z.y,ce.y,ye.y,Te.y)}var be=W+"Rot",at=$[be]=$[be]||{};at.x1=L,at.y1=A,at.x2=C,at.y2=R,at.w=C-L,at.h=R-A,Ro(t,L,A,C,R),Ro(a.labelBounds.all,L,A,C,R)}return t}},Ife=function(t,e){if(!e.cy().headless()){var i=e.pstyle("outline-opacity").value,n=e.pstyle("outline-width").value;if(i>0&&n>0){var a=e.pstyle("outline-offset").value,o=e.pstyle("shape").value,s=n+a,l=(t.w+s*2)/t.w,c=(t.h+s*2)/t.h,d=0,u=0;["diamond","pentagon","round-triangle"].includes(o)?(l=(t.w+s*2.4)/t.w,u=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?l=(t.w+s*2.4)/t.w:o==="star"?(l=(t.w+s*2.8)/t.w,c=(t.h+s*2.6)/t.h,u=-s/3.8):o==="triangle"?(l=(t.w+s*2.8)/t.w,c=(t.h+s*2.4)/t.h,u=-s/1.4):o==="vee"&&(l=(t.w+s*4.4)/t.w,c=(t.h+s*3.8)/t.h,u=-s*.5);var f=t.h*c-t.h,m=t.w*l-t.w;if(Nb(t,[Math.ceil(f/2),Math.ceil(m/2)]),d!=0||u!==0){var g=gue(t,d,u);bz(t,g)}}}},Ofe=function(t,e){var i=t._private.cy,n=i.styleEnabled(),a=i.headless(),o=ha(),s=t._private,l=t.isNode(),c=t.isEdge(),d,u,f,m,g,v,y=s.rstyle,b=l&&n?t.pstyle("bounds-expansion").pfValue:[0],_=function(wt){return wt.pstyle("display").value!=="none"},w=!n||_(t)&&(!c||_(t.source())&&_(t.target()));if(w){var E=0,S=0;n&&e.includeOverlays&&(E=t.pstyle("overlay-opacity").value,E!==0&&(S=t.pstyle("overlay-padding").value));var D=0,T=0;n&&e.includeUnderlays&&(D=t.pstyle("underlay-opacity").value,D!==0&&(T=t.pstyle("underlay-padding").value));var O=Math.max(S,T),F=0,P=0;if(n&&(F=t.pstyle("width").pfValue,P=F/2),l&&e.includeNodes){var L=t.position();g=L.x,v=L.y;var C=t.outerWidth(),A=C/2,R=t.outerHeight(),k=R/2;d=g-A,u=g+A,f=v-k,m=v+k,Ro(o,d,f,u,m),n&&e.includeOutlines&&Ife(o,t)}else if(c&&e.includeEdges)if(n&&!a){var I=t.pstyle("curve-style").strValue;if(d=Math.min(y.srcX,y.midX,y.tgtX),u=Math.max(y.srcX,y.midX,y.tgtX),f=Math.min(y.srcY,y.midY,y.tgtY),m=Math.max(y.srcY,y.midY,y.tgtY),d-=P,u+=P,f-=P,m+=P,Ro(o,d,f,u,m),I==="haystack"){var B=y.haystackPts;if(B&&B.length===2){if(d=B[0].x,f=B[0].y,u=B[1].x,m=B[1].y,d>u){var z=d;d=u,u=z}if(f>m){var W=f;f=m,m=W}Ro(o,d-P,f-P,u+P,m+P)}}else if(I==="bezier"||I==="unbundled-bezier"||I.endsWith("segments")||I.endsWith("taxi")){var $;switch(I){case"bezier":case"unbundled-bezier":$=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=y.linePts;break}if($!=null)for(var G=0;G<$.length;G++){var K=$[G];d=K.x-P,u=K.x+P,f=K.y-P,m=K.y+P,Ro(o,d,f,u,m)}}}else{var oe=t.source(),te=oe.position(),le=t.target(),re=le.position();if(d=te.x,u=re.x,f=te.y,m=re.y,d>u){var Q=d;d=u,u=Q}if(f>m){var se=f;f=m,m=se}d-=P,u+=P,f-=P,m+=P,Ro(o,d,f,u,m)}if(n&&e.includeEdges&&c&&(Tb(o,t,"mid-source"),Tb(o,t,"mid-target"),Tb(o,t,"source"),Tb(o,t,"target")),n){var ee=t.pstyle("ghost").value==="yes";if(ee){var Z=t.pstyle("ghost-offset-x").pfValue,ce=t.pstyle("ghost-offset-y").pfValue;Ro(o,o.x1+Z,o.y1+ce,o.x2+Z,o.y2+ce)}}var ye=s.bodyBounds=s.bodyBounds||{};$2(ye,o),Nb(ye,b),Fb(ye,1),n&&(d=o.x1,u=o.x2,f=o.y1,m=o.y2,Ro(o,d-O,f-O,u+O,m+O));var Te=s.overlayBounds=s.overlayBounds||{};$2(Te,o),Nb(Te,b),Fb(Te,1);var be=s.labelBounds=s.labelBounds||{};be.all!=null?pue(be.all):be.all=ha(),n&&e.includeLabels&&(e.includeMainLabels&&gM(o,t,null),c&&(e.includeSourceLabels&&gM(o,t,"source"),e.includeTargetLabels&&gM(o,t,"target")))}return o.x1=lo(o.x1),o.y1=lo(o.y1),o.x2=lo(o.x2),o.y2=lo(o.y2),o.w=lo(o.x2-o.x1),o.h=lo(o.y2-o.y1),o.w>0&&o.h>0&&w&&(Nb(o,b),Fb(o,1)),o},Wz=function(t){var e=0,i=function(o){return(o?1:0)<<e++},n=0;return n+=i(t.incudeNodes),n+=i(t.includeEdges),n+=i(t.includeLabels),n+=i(t.includeMainLabels),n+=i(t.includeSourceLabels),n+=i(t.includeTargetLabels),n+=i(t.includeOverlays),n+=i(t.includeOutlines),n},jz=function(t){if(t.isEdge()){var e=t.source().position(),i=t.target().position(),n=function(o){return Math.round(o)};return kde([n(e.x),n(e.y),n(i.x),n(i.y)])}else return 0},sV=function(t,e){var i=t._private,n,a=t.isEdge(),o=e==null?lV:Wz(e),s=o===lV,l=jz(t),c=i.bbCachePosKey===l,d=e.useCache,u=function(v){return v._private.bbCache==null||v._private.styleDirty},f=!d||u(t)||a&&(u(t.source())||u(t.target()));if(f?(c||t.recalculateRenderedStyle(d),n=Ofe(t,fp),i.bbCache=n,i.bbCachePosKey=l):n=i.bbCache,!s){var m=t.isNode();n=ha(),(e.includeNodes&&m||e.includeEdges&&!m)&&(e.includeOverlays?gd(n,i.overlayBounds):gd(n,i.bodyBounds)),e.includeLabels&&(e.includeMainLabels&&(!a||e.includeSourceLabels&&e.includeTargetLabels)?gd(n,i.labelBounds.all):(e.includeMainLabels&&gd(n,i.labelBounds.mainRot),e.includeSourceLabels&&gd(n,i.labelBounds.sourceRot),e.includeTargetLabels&&gd(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},fp={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},lV=Wz(fp),cV=ln(fp);rc.boundingBox=function(r){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(r===void 0||r.useCache===void 0||r.useCache===!0))r===void 0?r=fp:r=cV(r),t=sV(this[0],r);else{t=ha(),r=r||fp;var e=cV(r),i=this,n=i.cy(),a=n.styleEnabled();if(a)for(var o=0;o<i.length;o++){var s=i[o],l=s._private,c=jz(s),d=l.bbCachePosKey===c,u=e.useCache&&d&&!l.styleDirty;s.recalculateRenderedStyle(u)}this.updateCompoundBounds(!r.useCache);for(var f=0;f<i.length;f++){var m=i[f];gd(t,sV(m,e))}}return t.x1=lo(t.x1),t.y1=lo(t.y1),t.x2=lo(t.x2),t.y2=lo(t.y2),t.w=lo(t.x2-t.x1),t.h=lo(t.y2-t.y1),t};rc.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var t=this[r]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};rc.boundingBoxAt=function(r){var t=this.nodes(),e=this.cy(),i=e.hasCompoundNodes(),n=e.collection();if(i&&(n=t.filter(function(c){return c.isParent()}),t=t.not(n)),kr(r)){var a=r;r=function(){return a}}var o=function(d,u){return d._private.bbAtOldPos=r(d,u)},s=function(d){return d._private.bbAtOldPos};e.startBatch(),t.forEach(o).silentPositions(r),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var l=mue(this.boundingBox({useCache:!1}));return t.silentPositions(s),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),e.endBatch(),l};xh.boundingbox=xh.bb=xh.boundingBox;xh.renderedBoundingbox=xh.renderedBoundingBox;var kfe=rc,tp,Cp;tp=Cp={};var $z=function(t){t.uppercaseName=D2(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=D2(t.outerName),tp[t.name]=function(){var i=this[0],n=i._private,a=n.cy,o=a._private.styleEnabled;if(i)if(o){if(i.isParent())return i.updateCompoundBounds(),n[t.autoName]||0;var s=i.pstyle(t.name);switch(s.strValue){case"label":return i.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},tp["outer"+t.uppercaseName]=function(){var i=this[0],n=i._private,a=n.cy,o=a._private.styleEnabled;if(i)if(o){var s=i[t.name](),l=i.pstyle("border-width").pfValue,c=2*i.padding();return s+l+c}else return 1},tp["rendered"+t.uppercaseName]=function(){var i=this[0];if(i){var n=i[t.name]();return n*this.cy().zoom()}},tp["rendered"+t.uppercaseOuterName]=function(){var i=this[0];if(i){var n=i[t.outerName]();return n*this.cy().zoom()}}};$z({name:"width"});$z({name:"height"});Cp.padding=function(){var r=this[0],t=r._private;return r.isParent()?(r.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};Cp.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};Cp.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var Pfe=Cp,Lfe=function(t,e){if(t.isEdge()&&t.takesUpSpace())return e(t)},Ffe=function(t,e){if(t.isEdge()&&t.takesUpSpace()){var i=t.cy();return l0(e(t),i.zoom(),i.pan())}},Nfe=function(t,e){if(t.isEdge()&&t.takesUpSpace()){var i=t.cy(),n=i.pan(),a=i.zoom();return e(t).map(function(o){return l0(o,a,n)})}},Bfe=function(t){return t.renderer().getControlPoints(t)},Vfe=function(t){return t.renderer().getSegmentPoints(t)},zfe=function(t){return t.renderer().getSourceEndpoint(t)},qfe=function(t){return t.renderer().getTargetEndpoint(t)},Ufe=function(t){return t.renderer().getEdgeMidpoint(t)},dV={controlPoints:{get:Bfe,mult:!0},segmentPoints:{get:Vfe,mult:!0},sourceEndpoint:{get:zfe},targetEndpoint:{get:qfe},midpoint:{get:Ufe}},Hfe=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},Gfe=Object.keys(dV).reduce(function(r,t){var e=dV[t],i=Hfe(t);return r[t]=function(){return Lfe(this,e.get)},e.mult?r[i]=function(){return Nfe(this,e.get)}:r[i]=function(){return Ffe(this,e.get)},r},{}),Wfe=Ot({},Rfe,kfe,Pfe,Gfe);var Yz=function(t,e){this.recycle(t,e)};function Xm(){return!1}function Ab(){return!0}Yz.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Xm,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Ab:Xm):t!=null&&t.type?e=t:this.type=t,e!=null&&(this.originalEvent=e.originalEvent,this.type=e.type!=null?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var i=this.position,n=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:i.x*n+a.x,y:i.y*n+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Ab;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Ab;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Ab,this.stopPropagation()},isDefaultPrevented:Xm,isPropagationStopped:Xm,isImmediatePropagationStopped:Xm};var Xz=/^([^.]+)(\.(?:[^.]+))?$/,jfe=".*",Kz={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},uV=Object.keys(Kz),$fe={};function p0(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$fe,t=arguments.length>1?arguments[1]:void 0,e=0;e<uV.length;e++){var i=uV[e];this[i]=r[i]||Kz[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Jl=p0.prototype,Zz=function(t,e,i,n,a,o,s){Di(n)&&(a=n,n=null),s&&(o==null?o=s:o=Ot({},o,s));for(var l=ii(i)?i:i.split(/\s+/),c=0;c<l.length;c++){var d=l[c];if(!Yl(d)){var u=d.match(Xz);if(u){var f=u[1],m=u[2]?u[2]:null,g=e(t,d,f,m,n,a,o);if(g===!1)break}}}},hV=function(t,e){return t.addEventFields(t.context,e),new Yz(e.type,e)},Yfe=function(t,e,i){if(nde(i)){e(t,i);return}else if(kr(i)){e(t,hV(t,i));return}for(var n=ii(i)?i:i.split(/\s+/),a=0;a<n.length;a++){var o=n[a];if(!Yl(o)){var s=o.match(Xz);if(s){var l=s[1],c=s[2]?s[2]:null,d=hV(t,{type:l,namespace:c,target:t.context});e(t,d)}}}};Jl.on=Jl.addListener=function(r,t,e,i,n){return Zz(this,function(a,o,s,l,c,d,u){Di(d)&&a.listeners.push({event:o,callback:d,type:s,namespace:l,qualifier:c,conf:u})},r,t,e,i,n),this};Jl.one=function(r,t,e,i){return this.on(r,t,e,i,{one:!0})};Jl.removeListener=Jl.off=function(r,t,e,i){var n=this;this.emitting!==0&&(this.listeners=Bde(this.listeners));for(var a=this.listeners,o=function(c){var d=a[c];Zz(n,function(u,f,m,g,v,y){if((d.type===m||r==="*")&&(!g&&d.namespace!==".*"||d.namespace===g)&&(!v||u.qualifierCompare(d.qualifier,v))&&(!y||d.callback===y))return a.splice(c,1),!1},r,t,e,i)},s=a.length-1;s>=0;s--)o(s);return this};Jl.removeAllListeners=function(){return this.removeListener("*")};Jl.emit=Jl.trigger=function(r,t,e){var i=this.listeners,n=i.length;return this.emitting++,ii(t)||(t=[t]),Yfe(this,function(a,o){e!=null&&(i=[{event:o.event,type:o.type,namespace:o.namespace,callback:e}],n=i.length);for(var s=function(){var d=i[l];if(d.type===o.type&&(!d.namespace||d.namespace===o.namespace||d.namespace===jfe)&&a.eventMatches(a.context,d,o)){var u=[o];t!=null&&zde(u,t),a.beforeEmit(a.context,d,o),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(g){return g!==d}));var f=a.callbackContext(a.context,d,o),m=d.callback.apply(f,u);a.afterEmit(a.context,d,o),m===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<n;l++)s();a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,t)},r),this.emitting--,this};var Xfe={qualifierCompare:function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return n!=null?t!==i.target&&vp(i.target)&&n.matches(i.target):!0},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,i){return e.qualifier!=null?i.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},Rb=function(t){return Tt(t)?new Zl(t):t},Qz={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],i=e._private;i.emitter||(i.emitter=new p0(Xfe,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,i){for(var n=Rb(e),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,n,i)}return this},removeListener:function(t,e,i){for(var n=Rb(e),a=0;a<this.length;a++){var o=this[a];o.emitter().removeListener(t,n,i)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var e=this[t];e.emitter().removeAllListeners()}return this},one:function(t,e,i){for(var n=Rb(e),a=0;a<this.length;a++){var o=this[a];o.emitter().one(t,n,i)}return this},once:function(t,e,i){for(var n=Rb(e),a=0;a<this.length;a++){var o=this[a];o.emitter().on(t,n,i,{once:!0,onceCollection:this})}},emit:function(t,e){for(var i=0;i<this.length;i++){var n=this[i];n.emitter().emit(t,e)}return this},emitAndNotify:function(t,e){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,e),this}};Wr.eventAliasesOn(Qz);var Jz={nodes:function(t){return this.filter(function(e){return e.isNode()}).filter(t)},edges:function(t){return this.filter(function(e){return e.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),i=0;i<this.length;i++){var n=this[i];n.isNode()?t.push(n):e.push(n)}return{nodes:t,edges:e}},filter:function(t,e){if(t===void 0)return this;if(Tt(t)||ka(t))return new Zl(t).filter(this);if(Di(t)){for(var i=this.spawn(),n=this,a=0;a<n.length;a++){var o=n[a],s=e?t.apply(e,[o,a,n]):t(o,a,n);s&&i.push(o)}return i}return this.spawn()},not:function(t){if(t){Tt(t)&&(t=this.filter(t));for(var e=this.spawn(),i=0;i<this.length;i++){var n=this[i],a=t.has(n);a||e.push(n)}return e}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(Tt(t)){var e=t;return this.filter(e)}for(var i=this.spawn(),n=this,a=t,o=this.length<t.length,s=o?n:a,l=o?a:n,c=0;c<s.length;c++){var d=s[c];l.has(d)&&i.push(d)}return i},xor:function(t){var e=this._private.cy;Tt(t)&&(t=e.$(t));var i=this.spawn(),n=this,a=t,o=function(l,c){for(var d=0;d<l.length;d++){var u=l[d],f=u._private.data.id,m=c.hasElementWithId(f);m||i.push(u)}};return o(n,a),o(a,n),i},diff:function(t){var e=this._private.cy;Tt(t)&&(t=e.$(t));var i=this.spawn(),n=this.spawn(),a=this.spawn(),o=this,s=t,l=function(d,u,f){for(var m=0;m<d.length;m++){var g=d[m],v=g._private.data.id,y=u.hasElementWithId(v);y?a.merge(g):f.push(g)}};return l(o,s,i),l(s,o,n),{left:i,right:n,both:a}},add:function(t){var e=this._private.cy;if(!t)return this;if(Tt(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=this.spawnSelf(),a=0;a<t.length;a++){var o=t[a],s=!this.has(o);s&&n.push(o)}return n},merge:function(t){var e=this._private,i=e.cy;if(!t)return this;if(t&&Tt(t)){var n=t;t=i.mutableElements().filter(n)}for(var a=e.map,o=0;o<t.length;o++){var s=t[o],l=s._private.data.id,c=!a.has(l);if(c){var d=this.length++;this[d]=s,a.set(l,{ele:s,index:d})}}return this},unmergeAt:function(t){var e=this[t],i=e.id(),n=this._private,a=n.map;this[t]=void 0,a.delete(i);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],c=l._private.data.id;this[s]=void 0,this[t]=l,a.set(c,{ele:l,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var e=this._private,i=t._private.data.id,n=e.map,a=n.get(i);if(!a)return this;var o=a.index;return this.unmergeAt(o),this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&Tt(t)){var i=t;t=e.mutableElements().filter(i)}for(var n=0;n<t.length;n++)this.unmergeOne(t[n]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--){var i=this[e];t(i)&&this.unmergeAt(e)}return this},map:function(t,e){for(var i=[],n=this,a=0;a<n.length;a++){var o=n[a],s=e?t.apply(e,[o,a,n]):t(o,a,n);i.push(s)}return i},reduce:function(t,e){for(var i=e,n=this,a=0;a<n.length;a++)i=t(i,n[a],a,n);return i},max:function(t,e){for(var i=-1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=e?t.apply(e,[s,o,a]):t(s,o,a);l>i&&(i=l,n=s)}return{value:i,ele:n}},min:function(t,e){for(var i=1/0,n,a=this,o=0;o<a.length;o++){var s=a[o],l=e?t.apply(e,[s,o,a]):t(s,o,a);l<i&&(i=l,n=s)}return{value:i,ele:n}}},Lr=Jz;Lr.u=Lr["|"]=Lr["+"]=Lr.union=Lr.or=Lr.add;Lr["\\"]=Lr["!"]=Lr["-"]=Lr.difference=Lr.relativeComplement=Lr.subtract=Lr.not;Lr.n=Lr["&"]=Lr["."]=Lr.and=Lr.intersection=Lr.intersect;Lr["^"]=Lr["(+)"]=Lr["(-)"]=Lr.symmetricDifference=Lr.symdiff=Lr.xor;Lr.fnFilter=Lr.filterFn=Lr.stdFilter=Lr.filter;Lr.complement=Lr.abscomp=Lr.absoluteComplement;var Kfe={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},eq=function(t,e){var i=t.cy(),n=i.hasCompoundNodes();function a(d){var u=d.pstyle("z-compound-depth");return u.value==="auto"?n?d.zDepth():0:u.value==="bottom"?-1:u.value==="top"?$M:0}var o=a(t)-a(e);if(o!==0)return o;function s(d){var u=d.pstyle("z-index-compare");return u.value==="auto"&&d.isNode()?1:0}var l=s(t)-s(e);if(l!==0)return l;var c=t.pstyle("z-index").value-e.pstyle("z-index").value;return c!==0?c:t.poolIndex()-e.poolIndex()},Qb={forEach:function(t,e){if(Di(t))for(var i=this.length,n=0;n<i;n++){var a=this[n],o=e?t.apply(e,[a,n,this]):t(a,n,this);if(o===!1)break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var i=[],n=this.length;e==null&&(e=n),t==null&&(t=0),t<0&&(t=n+t),e<0&&(e=n+e);for(var a=t;a>=0&&a<e&&a<n;a++)i.push(this[a]);return this.spawn(i)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Di(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(eq)},zDepth:function(){var t=this[0];if(t){var e=t._private,i=e.group;if(i==="nodes"){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:$M-1}else{var a=e.source,o=e.target,s=a.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};Qb.each=Qb.forEach;var Zfe=function(){var t="undefined",e=(typeof Symbol>"u"?"undefined":sn(Symbol))!=t&&sn(Symbol.iterator)!=t;e&&(Qb[Symbol.iterator]=function(){var i=this,n={value:void 0,done:!1},a=0,o=this.length;return ZV({next:function(){return a<o?n.value=i[a++]:(n.value=void 0,n.done=!0),n}},Symbol.iterator,function(){return this})})};Zfe();var Qfe=ln({nodeDimensionsIncludeLabels:!1}),Vb={layoutDimensions:function(t){t=Qfe(t);var e;if(!this.takesUpSpace())e={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var i=this.boundingBox();e={w:i.w,h:i.h}}else e={w:this.outerWidth(),h:this.outerHeight()};return(e.w===0||e.h===0)&&(e.w=e.h=1),e},layoutPositions:function(t,e,i){var n=this.nodes().filter(function(S){return!S.isParent()}),a=this.cy(),o=e.eles,s=function(D){return D.id()},l=op(i,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var c=function(D,T,O){var F={x:T.x1+T.w/2,y:T.y1+T.h/2},P={x:(O.x-F.x)*D,y:(O.y-F.y)*D};return{x:F.x+P.x,y:F.y+P.y}},d=e.spacingFactor&&e.spacingFactor!==1,u=function(){if(!d)return null;for(var D=ha(),T=0;T<n.length;T++){var O=n[T],F=l(O,T);vue(D,F.x,F.y)}return D},f=u(),m=op(function(S,D){var T=l(S,D);if(d){var O=Math.abs(e.spacingFactor);T=c(O,f,T)}return e.transform!=null&&(T=e.transform(S,T)),T},s);if(e.animate){for(var g=0;g<n.length;g++){var v=n[g],y=m(v,g),b=e.animateFilter==null||e.animateFilter(v,g);if(b){var _=v.animation({position:y,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(_)}else v.position(y)}if(e.fit){var w=a.animation({fit:{boundingBox:o.boundingBoxAt(m),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(w)}else if(e.zoom!==void 0&&e.pan!==void 0){var E=a.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(E)}t.animations.forEach(function(S){return S.play()}),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Mh.all(t.animations.map(function(S){return S.promise()})).then(function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})})}else n.positions(m),e.fit&&a.fit(e.eles,e.padding),e.zoom!=null&&a.zoom(e.zoom),e.pan&&a.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var e=this.cy();return e.makeLayout(Ot({},t,{eles:this}))}};Vb.createLayout=Vb.makeLayout=Vb.layout;function tq(r,t,e){var i=e._private,n=i.styleCache=i.styleCache||[],a;return(a=n[r])!=null||(a=n[r]=t(e)),a}function g0(r,t){return r=Xl(r),function(i){return tq(r,t,i)}}function v0(r,t){r=Xl(r);var e=function(n){return t.call(n)};return function(){var n=this[0];if(n)return tq(r,e,n)}}var Tn={recalculateRenderedStyle:function(t){var e=this.cy(),i=e.renderer(),n=e.styleEnabled();return i&&n&&i.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),e=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var i;i=this.spawnSelf().merge(this.descendants()).merge(this.parents()),i.merge(i.connectedEdges()),i.forEach(e)}else this.forEach(function(n){e(n),n.connectedEdges().forEach(e)});return this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching()){var i=e._private.batchStyleEles;return i.merge(this),this}var n=e.hasCompoundNodes(),a=this;t=!!(t||t===void 0),n&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=a;return t?o.emitAndNotify("style"):o.emit("style"),a.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var i=this[e];i._private.styleDirty&&(i._private.styleDirty=!1,t.style().apply(i))}},parsedStyle:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=this[0],n=i.cy();if(n.styleEnabled()&&i){i._private.styleDirty&&(i._private.styleDirty=!1,n.style().apply(i));var a=i._private.style[t];return a??(e?n.style().getDefaultProperty(t):null)}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var i=e.pstyle(t);return i.pfValue!==void 0?i.pfValue:i.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled()&&e)return e.pstyle(t).units},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=this[0];if(i)return e.style().getRenderedStyle(i,t)},style:function(t,e){var i=this.cy();if(!i.styleEnabled())return this;var n=!1,a=i.style();if(kr(t)){var o=t;a.applyBypass(this,o,n),this.emitAndNotify("style")}else if(Tt(t))if(e===void 0){var s=this[0];return s?a.getStylePropertyValue(s,t):void 0}else a.applyBypass(this,t,e,n),this.emitAndNotify("style");else if(t===void 0){var l=this[0];return l?a.getRawStyle(l):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var i=!1,n=e.style(),a=this;if(t===void 0)for(var o=0;o<a.length;o++){var s=a[o];n.removeAllBypasses(s,i)}else{t=t.split(/\s+/);for(var l=0;l<a.length;l++){var c=a[l];n.removeBypasses(c,t,i)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),i=this[0];if(i){var n=i._private,a=i.pstyle("opacity").value;if(!e)return a;var o=n.data.parent?i.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=l.pstyle("opacity").value;a=c*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0],i=e.cy().hasCompoundNodes();if(e)return i?e.effectiveOpacity()===0:e.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var e=this[0];return!!e._private.backgrounding}};function vM(r,t){var e=r._private,i=e.data.parent?r.parents():null;if(i)for(var n=0;n<i.length;n++){var a=i[n];if(!t(a))return!1}return!0}function nD(r){var t=r.ok,e=r.edgeOkViaNode||r.ok,i=r.parentOk||r.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],o=n.hasCompoundNodes();if(a){var s=a._private;if(!t(a))return!1;if(a.isNode())return!o||vM(a,i);var l=s.source,c=s.target;return e(l)&&(!o||vM(l,e))&&(l===c||e(c)&&(!o||vM(c,e)))}}}var Dh=g0("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});Tn.takesUpSpace=v0("takesUpSpace",nD({ok:Dh}));var Jfe=g0("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&Dh(r)}),eme=g0("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&Dh(r)});Tn.interactive=v0("interactive",nD({ok:Jfe,parentOk:eme,edgeOkViaNode:Dh}));Tn.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var tme=g0("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&Dh(r)}),rme=Dh;Tn.visible=v0("visible",nD({ok:tme,edgeOkViaNode:rme}));Tn.hidden=function(){var r=this[0];if(r)return!r.visible()};Tn.isBundledBezier=v0("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Tn.bypass=Tn.css=Tn.style;Tn.renderedCss=Tn.renderedStyle;Tn.removeBypass=Tn.removeCss=Tn.removeStyle;Tn.pstyle=Tn.parsedStyle;var $l={};function fV(r){return function(){var t=arguments,e=[];if(t.length===2){var i=t[0],n=t[1];this.on(r.event,i,n)}else if(t.length===1&&Di(t[0])){var a=t[0];this.on(r.event,a)}else if(t.length===0||t.length===1&&ii(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var l=this[s],c=!r.ableField||l._private[r.ableField],d=l._private[r.field]!=r.value;if(r.overrideAble){var u=r.overrideAble(l);if(u!==void 0&&(c=u,!u))return this}c&&(l._private[r.field]=r.value,d&&e.push(l))}var f=this.spawn(e);f.updateStyle(),f.emit(r.event),o&&f.emit(o)}return this}}function Th(r){$l[r.field]=function(){var t=this[0];if(t){if(r.overrideField){var e=r.overrideField(t);if(e!==void 0)return e}return t._private[r.field]}},$l[r.on]=fV({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),$l[r.off]=fV({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}Th({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Th({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Th({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Th({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});$l.deselect=$l.unselect;$l.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};Th({field:"active",on:"activate",off:"unactivate"});Th({field:"pannable",on:"panify",off:"unpanify"});$l.inactive=function(){var r=this[0];if(r)return!r._private.active};var qn={},mV=function(t){return function(i){for(var n=this,a=[],o=0;o<n.length;o++){var s=n[o];if(s.isNode()){for(var l=!1,c=s.connectedEdges(),d=0;d<c.length;d++){var u=c[d],f=u.source(),m=u.target();if(t.noIncomingEdges&&m===s&&f!==s||t.noOutgoingEdges&&f===s&&m!==s){l=!0;break}}l||a.push(s)}}return this.spawn(a,!0).filter(i)}},pV=function(t){return function(e){for(var i=this,n=[],a=0;a<i.length;a++){var o=i[a];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var c=s[l],d=c.source(),u=c.target();t.outgoing&&d===o?(n.push(c),n.push(u)):t.incoming&&u===o&&(n.push(c),n.push(d))}}return this.spawn(n,!0).filter(e)}},gV=function(t){return function(e){for(var i=this,n=[],a={};;){var o=t.outgoing?i.outgoers():i.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var c=o[l],d=c.id();a[d]||(a[d]=!0,n.push(c),s=!0)}if(!s)break;i=o}return this.spawn(n,!0).filter(e)}};qn.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};Ot(qn,{roots:mV({noIncomingEdges:!0}),leaves:mV({noOutgoingEdges:!0}),outgoers:co(pV({outgoing:!0}),"outgoers"),successors:gV({outgoing:!0}),incomers:co(pV({incoming:!0}),"incomers"),predecessors:gV({})});Ot(qn,{neighborhood:co(function(r){for(var t=[],e=this.nodes(),i=0;i<e.length;i++)for(var n=e[i],a=n.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),c=s.target(),d=n===l?c:l;d.length>0&&t.push(d[0]),t.push(s[0])}return this.spawn(t,!0).filter(r)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});qn.neighbourhood=qn.neighborhood;qn.closedNeighbourhood=qn.closedNeighborhood;qn.openNeighbourhood=qn.openNeighborhood;Ot(qn,{source:co(function(t){var e=this[0],i;return e&&(i=e._private.source||e.cy().collection()),i&&t?i.filter(t):i},"source"),target:co(function(t){var e=this[0],i;return e&&(i=e._private.target||e.cy().collection()),i&&t?i.filter(t):i},"target"),sources:vV({attr:"source"}),targets:vV({attr:"target"})});function vV(r){return function(e){for(var i=[],n=0;n<this.length;n++){var a=this[n],o=a._private[r.attr];o&&i.push(o)}return this.spawn(i,!0).filter(e)}}Ot(qn,{edgesWith:co(yV(),"edgesWith"),edgesTo:co(yV({thisIsSrc:!0}),"edgesTo")});function yV(r){return function(e){var i=[],n=this._private.cy,a=r||{};Tt(e)&&(e=n.$(e));for(var o=0;o<e.length;o++)for(var s=e[o]._private.edges,l=0;l<s.length;l++){var c=s[l],d=c._private.data,u=this.hasElementWithId(d.source)&&e.hasElementWithId(d.target),f=e.hasElementWithId(d.source)&&this.hasElementWithId(d.target),m=u||f;m&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!u||a.thisIsTgt&&!f)||i.push(c))}return this.spawn(i,!0)}}Ot(qn,{connectedEdges:co(function(r){for(var t=[],e=this,i=0;i<e.length;i++){var n=e[i];if(n.isNode())for(var a=n._private.edges,o=0;o<a.length;o++){var s=a[o];t.push(s)}}return this.spawn(t,!0).filter(r)},"connectedEdges"),connectedNodes:co(function(r){for(var t=[],e=this,i=0;i<e.length;i++){var n=e[i];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(r)},"connectedNodes"),parallelEdges:co(bV(),"parallelEdges"),codirectedEdges:co(bV({codirected:!0}),"codirectedEdges")});function bV(r){var t={codirected:!1};return r=Ot({},t,r),function(i){for(var n=[],a=this.edges(),o=r,s=0;s<a.length;s++)for(var l=a[s],c=l._private,d=c.source,u=d._private.data.id,f=c.data.target,m=d._private.edges,g=0;g<m.length;g++){var v=m[g],y=v._private.data,b=y.target,_=y.source,w=b===f&&_===u,E=u===b&&f===_;(o.codirected&&w||!o.codirected&&(w||E))&&n.push(v)}return this.spawn(n,!0).filter(i)}}Ot(qn,{components:function(t){var e=this,i=e.cy(),n=i.collection(),a=t==null?e.nodes():t.nodes(),o=[];t!=null&&a.empty()&&(a=t.sources());var s=function(d,u){n.merge(d),a.unmerge(d),u.merge(d)};if(a.empty())return e.spawn();var l=function(){var d=i.collection();o.push(d);var u=a[0];s(u,d),e.bfs({directed:!1,roots:u,visit:function(m){return s(m,d)}}),d.forEach(function(f){f.connectedEdges().forEach(function(m){e.has(m)&&d.has(m.source())&&d.has(m.target())&&d.merge(m)})})};do l();while(a.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});qn.componentsOf=qn.components;var An=function(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){Mi("A collection must have a reference to the core");return}var a=new zs,o=!1;if(!e)e=[];else if(e.length>0&&kr(e[0])&&!vp(e[0])){o=!0;for(var s=[],l=new Sh,c=0,d=e.length;c<d;c++){var u=e[c];u.data==null&&(u.data={});var f=u.data;if(f.id==null)f.id=pz();else if(t.hasElementWithId(f.id)||l.has(f.id))continue;var m=new s0(t,u,!1);s.push(m),l.add(f.id)}e=s}this.length=0;for(var g=0,v=e.length;g<v;g++){var y=e[g][0];if(y!=null){var b=y._private.data.id;(!i||!a.has(b))&&(i&&a.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(_){this.lazyMap=_},rebuildMap:function(){for(var w=this.lazyMap=new zs,E=this.eles,S=0;S<E.length;S++){var D=E[S];w.set(D.id(),{index:S,ele:D})}}},i&&(this._private.map=a),o&&!n&&this.restore()},di=s0.prototype=An.prototype=Object.create(Array.prototype);di.instanceString=function(){return"collection"};di.spawn=function(r,t){return new An(this.cy(),r,t)};di.spawnSelf=function(){return this.spawn(this)};di.cy=function(){return this._private.cy};di.renderer=function(){return this._private.cy.renderer()};di.element=function(){return this[0]};di.collection=function(){return tz(this)?this:new An(this._private.cy,[this])};di.unique=function(){return new An(this._private.cy,this,!0)};di.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};di.getElementById=function(r){r=""+r;var t=this._private.cy,e=this._private.map.get(r);return e?e.ele:new An(t)};di.$id=di.getElementById;di.poolIndex=function(){var r=this._private.cy,t=r._private.elements,e=this[0]._private.data.id;return t._private.map.get(e).index};di.indexOf=function(r){var t=r[0]._private.data.id;return this._private.map.get(t).index};di.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};di.json=function(r){var t=this.element(),e=this.cy();if(t==null&&r)return this;if(t!=null){var i=t._private;if(kr(r)){if(e.startBatch(),r.data){t.data(r.data);var n=i.data;if(t.isEdge()){var a=!1,o={},s=r.data.source,l=r.data.target;s!=null&&s!=n.source&&(o.source=""+s,a=!0),l!=null&&l!=n.target&&(o.target=""+l,a=!0),a&&(t=t.move(o))}else{var c="parent"in r.data,d=r.data.parent;c&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}r.position&&t.position(r.position);var u=function(v,y,b){var _=r[v];_!=null&&_!==i[v]&&(_?t[y]():t[b]())};return u("removed","remove","restore"),u("selected","select","unselect"),u("selectable","selectify","unselectify"),u("locked","lock","unlock"),u("grabbable","grabify","ungrabify"),u("pannable","panify","unpanify"),r.classes!=null&&t.classes(r.classes),e.endBatch(),this}else if(r===void 0){var f={data:es(i.data),position:es(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};f.classes="";var m=0;return i.classes.forEach(function(g){return f.classes+=m++===0?g:" "+g}),f}}};di.jsons=function(){for(var r=[],t=0;t<this.length;t++){var e=this[t],i=e.json();r.push(i)}return r};di.clone=function(){for(var r=this.cy(),t=[],e=0;e<this.length;e++){var i=this[e],n=i.json(),a=new s0(r,n,!1);t.push(a)}return new An(r,t)};di.copy=di.clone;di.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,e=this,i=e.cy(),n=i._private,a=[],o=[],s,l=0,c=e.length;l<c;l++){var d=e[l];t&&!d.removed()||(d.isNode()?a.push(d):o.push(d))}s=a.concat(o);var u,f=function(){s.splice(u,1),u--};for(u=0;u<s.length;u++){var m=s[u],g=m._private,v=g.data;if(m.clearTraversalCache(),!(!t&&!g.removed)){if(v.id===void 0)v.id=pz();else if(Qe(v.id))v.id=""+v.id;else if(Yl(v.id)||!Tt(v.id)){Mi("Can not create element with invalid string ID `"+v.id+"`"),f();continue}else if(i.hasElementWithId(v.id)){Mi("Can not create second element with ID `"+v.id+"`"),f();continue}}var y=v.id;if(m.isNode()){var b=g.position;b.x==null&&(b.x=0),b.y==null&&(b.y=0)}if(m.isEdge()){for(var _=m,w=["source","target"],E=w.length,S=!1,D=0;D<E;D++){var T=w[D],O=v[T];Qe(O)&&(O=v[T]=""+v[T]),O==null||O===""?(Mi("Can not create edge `"+y+"` with unspecified "+T),S=!0):i.hasElementWithId(O)||(Mi("Can not create edge `"+y+"` with nonexistant "+T+" `"+O+"`"),S=!0)}if(S){f();continue}var F=i.getElementById(v.source),P=i.getElementById(v.target);F.same(P)?F._private.edges.push(_):(F._private.edges.push(_),P._private.edges.push(_)),_._private.source=F,_._private.target=P}g.map=new zs,g.map.set(y,{ele:m,index:0}),g.removed=!1,t&&i.addToPool(m)}for(var L=0;L<a.length;L++){var C=a[L],A=C._private.data;Qe(A.parent)&&(A.parent=""+A.parent);var R=A.parent,k=R!=null;if(k||C._private.parent){var I=C._private.parent?i.collection().merge(C._private.parent):i.getElementById(R);if(I.empty())A.parent=void 0;else if(I[0].removed())jr("Node added with missing parent, reference to parent removed"),A.parent=void 0,C._private.parent=null;else{for(var B=!1,z=I;!z.empty();){if(C.same(z)){B=!0,A.parent=void 0;break}z=z.parent()}B||(I[0]._private.children.push(C),C._private.parent=I[0],n.hasCompoundNodes=!0)}}}if(s.length>0){for(var W=s.length===e.length?e:new An(i,s),$=0;$<W.length;$++){var G=W[$];G.isNode()||(G.parallelEdges().clearTraversalCache(),G.source().clearTraversalCache(),G.target().clearTraversalCache())}var K;n.hasCompoundNodes?K=i.collection().merge(W).merge(W.connectedNodes()).merge(W.parent()):K=W,K.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?W.emitAndNotify("add"):t&&W.emit("add")}return e};di.removed=function(){var r=this[0];return r&&r._private.removed};di.inside=function(){var r=this[0];return r&&!r._private.removed};di.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,e=this,i=[],n={},a=e._private.cy;function o(R){for(var k=R._private.edges,I=0;I<k.length;I++)l(k[I])}function s(R){for(var k=R._private.children,I=0;I<k.length;I++)l(k[I])}function l(R){var k=n[R.id()];t&&R.removed()||k||(n[R.id()]=!0,R.isNode()?(i.push(R),o(R),s(R)):i.unshift(R))}for(var c=0,d=e.length;c<d;c++){var u=e[c];l(u)}function f(R,k){var I=R._private.edges;Kl(I,k),R.clearTraversalCache()}function m(R){R.clearTraversalCache()}var g=[];g.ids={};function v(R,k){k=k[0],R=R[0];var I=R._private.children,B=R.id();Kl(I,k),k._private.parent=null,g.ids[B]||(g.ids[B]=!0,g.push(R))}e.dirtyCompoundBoundsCache(),t&&a.removeFromPool(i);for(var y=0;y<i.length;y++){var b=i[y];if(b.isEdge()){var _=b.source()[0],w=b.target()[0];f(_,b),f(w,b);for(var E=b.parallelEdges(),S=0;S<E.length;S++){var D=E[S];m(D),D.isBundledBezier()&&D.dirtyBoundingBoxCache()}}else{var T=b.parent();T.length!==0&&v(T,b)}t&&(b._private.removed=!0)}var O=a._private.elements;a._private.hasCompoundNodes=!1;for(var F=0;F<O.length;F++){var P=O[F];if(P.isParent()){a._private.hasCompoundNodes=!0;break}}var L=new An(this.cy(),i);L.size()>0&&(r?L.emitAndNotify("remove"):t&&L.emit("remove"));for(var C=0;C<g.length;C++){var A=g[C];(!t||!A.removed())&&A.updateStyle()}return L};di.move=function(r){var t=this._private.cy,e=this,i=!1,n=!1,a=function(g){return g==null?g:""+g};if(r.source!==void 0||r.target!==void 0){var o=a(r.source),s=a(r.target),l=o!=null&&t.hasElementWithId(o),c=s!=null&&t.hasElementWithId(s);(l||c)&&(t.batch(function(){e.remove(i,n),e.emitAndNotify("moveout");for(var m=0;m<e.length;m++){var g=e[m],v=g._private.data;g.isEdge()&&(l&&(v.source=o),c&&(v.target=s))}e.restore(i,n)}),e.emitAndNotify("move"))}else if(r.parent!==void 0){var d=a(r.parent),u=d===null||t.hasElementWithId(d);if(u){var f=d===null?void 0:d;t.batch(function(){var m=e.remove(i,n);m.emitAndNotify("moveout");for(var g=0;g<e.length;g++){var v=e[g],y=v._private.data;v.isNode()&&(y.parent=f)}m.restore(i,n)}),e.emitAndNotify("move")}}return this};[Tz,ffe,Bb,jl,Eh,Afe,m0,Wfe,Qz,Jz,Kfe,Qb,Vb,Tn,$l,qn].forEach(function(r){Ot(di,r)});var ime={add:function(t){var e,i=this;if(ka(t)){var n=t;if(n._private.cy===i)e=n.restore();else{for(var a=[],o=0;o<n.length;o++){var s=n[o];a.push(s.json())}e=new An(i,a)}}else if(ii(t)){var l=t;e=new An(i,l)}else if(kr(t)&&(ii(t.nodes)||ii(t.edges))){for(var c=t,d=[],u=["nodes","edges"],f=0,m=u.length;f<m;f++){var g=u[f],v=c[g];if(ii(v))for(var y=0,b=v.length;y<b;y++){var _=Ot({group:g},v[y]);d.push(_)}}e=new An(i,d)}else{var w=t;e=new s0(i,w).collection()}return e},remove:function(t){if(!ka(t)){if(Tt(t)){var e=t;t=this.$(e)}}return t.remove()}};function nme(r,t,e,i){var n=4,a=.001,o=1e-7,s=10,l=11,c=1/(l-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var u=0;u<4;++u)if(typeof arguments[u]!="number"||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;r=Math.min(r,1),e=Math.min(e,1),r=Math.max(r,0),e=Math.max(e,0);var f=d?new Float32Array(l):new Array(l);function m(P,L){return 1-3*L+3*P}function g(P,L){return 3*L-6*P}function v(P){return 3*P}function y(P,L,C){return((m(L,C)*P+g(L,C))*P+v(L))*P}function b(P,L,C){return 3*m(L,C)*P*P+2*g(L,C)*P+v(L)}function _(P,L){for(var C=0;C<n;++C){var A=b(L,r,e);if(A===0)return L;var R=y(L,r,e)-P;L-=R/A}return L}function w(){for(var P=0;P<l;++P)f[P]=y(P*c,r,e)}function E(P,L,C){var A,R,k=0;do R=L+(C-L)/2,A=y(R,r,e)-P,A>0?C=R:L=R;while(Math.abs(A)>o&&++k<s);return R}function S(P){for(var L=0,C=1,A=l-1;C!==A&&f[C]<=P;++C)L+=c;--C;var R=(P-f[C])/(f[C+1]-f[C]),k=L+R*c,I=b(k,r,e);return I>=a?_(P,k):I===0?k:E(P,L,L+c)}var D=!1;function T(){D=!0,(r!==t||e!==i)&&w()}var O=function(L){return D||T(),r===t&&e===i?L:L===0?0:L===1?1:y(S(L),t,i)};O.getControlPoints=function(){return[{x:r,y:t},{x:e,y:i}]};var F="generateBezier("+[r,t,e,i]+")";return O.toString=function(){return F},O}var ame=function(){function r(i){return-i.tension*i.x-i.friction*i.v}function t(i,n,a){var o={x:i.x+a.dx*n,v:i.v+a.dv*n,tension:i.tension,friction:i.friction};return{dx:o.v,dv:r(o)}}function e(i,n){var a={dx:i.v,dv:r(i)},o=t(i,n*.5,a),s=t(i,n*.5,o),l=t(i,n,s),c=1/6*(a.dx+2*(o.dx+s.dx)+l.dx),d=1/6*(a.dv+2*(o.dv+s.dv)+l.dv);return i.x=i.x+c*n,i.v=i.v+d*n,i}return function i(n,a,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],c=0,d=1/1e4,u=16/1e3,f,m,g;for(n=parseFloat(n)||500,a=parseFloat(a)||20,o=o||null,s.tension=n,s.friction=a,f=o!==null,f?(c=i(n,a),m=c/o*u):m=u;g=e(g||s,m),l.push(1+g.x),c+=16,Math.abs(g.x)>d&&Math.abs(g.v)>d;);return f?function(v){return l[v*(l.length-1)|0]}:c}}(),ci=function(t,e,i,n){var a=nme(t,e,i,n);return function(o,s,l){return o+(s-o)*a(l)}},zb={linear:function(t,e,i){return t+(e-t)*i},ease:ci(.25,.1,.25,1),"ease-in":ci(.42,0,1,1),"ease-out":ci(0,0,.58,1),"ease-in-out":ci(.42,0,.58,1),"ease-in-sine":ci(.47,0,.745,.715),"ease-out-sine":ci(.39,.575,.565,1),"ease-in-out-sine":ci(.445,.05,.55,.95),"ease-in-quad":ci(.55,.085,.68,.53),"ease-out-quad":ci(.25,.46,.45,.94),"ease-in-out-quad":ci(.455,.03,.515,.955),"ease-in-cubic":ci(.55,.055,.675,.19),"ease-out-cubic":ci(.215,.61,.355,1),"ease-in-out-cubic":ci(.645,.045,.355,1),"ease-in-quart":ci(.895,.03,.685,.22),"ease-out-quart":ci(.165,.84,.44,1),"ease-in-out-quart":ci(.77,0,.175,1),"ease-in-quint":ci(.755,.05,.855,.06),"ease-out-quint":ci(.23,1,.32,1),"ease-in-out-quint":ci(.86,0,.07,1),"ease-in-expo":ci(.95,.05,.795,.035),"ease-out-expo":ci(.19,1,.22,1),"ease-in-out-expo":ci(1,0,0,1),"ease-in-circ":ci(.6,.04,.98,.335),"ease-out-circ":ci(.075,.82,.165,1),"ease-in-out-circ":ci(.785,.135,.15,.86),spring:function(t,e,i){if(i===0)return zb.linear;var n=ame(t,e,i);return function(a,o,s){return a+(o-a)*n(s)}},"cubic-bezier":ci};function _V(r,t,e,i,n){if(i===1||t===e)return e;var a=n(t,e,i);return r==null||((r.roundValue||r.color)&&(a=Math.round(a)),r.min!==void 0&&(a=Math.max(a,r.min)),r.max!==void 0&&(a=Math.min(a,r.max))),a}function xV(r,t){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(t==null||t.type.units!=="%")?r.pfValue:r.value:r}function ch(r,t,e,i,n){var a=n!=null?n.type:null;e<0?e=0:e>1&&(e=1);var o=xV(r,n),s=xV(t,n);if(Qe(o)&&Qe(s))return _V(a,o,s,e,i);if(ii(o)&&ii(s)){for(var l=[],c=0;c<s.length;c++){var d=o[c],u=s[c];if(d!=null&&u!=null){var f=_V(a,d,u,e,i);l.push(f)}else l.push(u)}return l}}function ome(r,t,e,i){var n=!i,a=r._private,o=t._private,s=o.easing,l=o.startTime,c=i?r:r.cy(),d=c.style();if(!o.easingImpl)if(s==null)o.easingImpl=zb.linear;else{var u;if(Tt(s)){var f=d.parse("transition-timing-function",s);u=f.value}else u=s;var m,g;Tt(u)?(m=u,g=[]):(m=u[1],g=u.slice(2).map(function(W){return+W})),g.length>0?(m==="spring"&&g.push(o.duration),o.easingImpl=zb[m].apply(null,g)):o.easingImpl=zb[m]}var v=o.easingImpl,y;if(o.duration===0?y=1:y=(e-l)/o.duration,o.applying&&(y=o.progress),y<0?y=0:y>1&&(y=1),o.delay==null){var b=o.startPosition,_=o.position;if(_&&n&&!r.locked()){var w={};Km(b.x,_.x)&&(w.x=ch(b.x,_.x,y,v)),Km(b.y,_.y)&&(w.y=ch(b.y,_.y,y,v)),r.position(w)}var E=o.startPan,S=o.pan,D=a.pan,T=S!=null&&i;T&&(Km(E.x,S.x)&&(D.x=ch(E.x,S.x,y,v)),Km(E.y,S.y)&&(D.y=ch(E.y,S.y,y,v)),r.emit("pan"));var O=o.startZoom,F=o.zoom,P=F!=null&&i;P&&(Km(O,F)&&(a.zoom=dp(a.minZoom,ch(O,F,y,v),a.maxZoom)),r.emit("zoom")),(T||P)&&r.emit("viewport");var L=o.style;if(L&&L.length>0&&n){for(var C=0;C<L.length;C++){var A=L[C],R=A.name,k=A,I=o.startStyle[R],B=d.properties[I.name],z=ch(I,k,y,v,B);d.overrideBypass(r,R,z)}r.emit("style")}}return o.progress=y,y}function Km(r,t){return r==null||t==null?!1:Qe(r)&&Qe(t)?!0:!!(r&&t)}function sme(r,t,e,i){var n=t._private;n.started=!0,n.startTime=e-n.progress*n.duration}function wV(r,t){var e=t._private.aniEles,i=[];function n(d,u){var f=d._private,m=f.animation.current,g=f.animation.queue,v=!1;if(m.length===0){var y=g.shift();y&&m.push(y)}for(var b=function(D){for(var T=D.length-1;T>=0;T--){var O=D[T];O()}D.splice(0,D.length)},_=m.length-1;_>=0;_--){var w=m[_],E=w._private;if(E.stopped){m.splice(_,1),E.hooked=!1,E.playing=!1,E.started=!1,b(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||sme(d,w,r),ome(d,w,r,u),E.applying&&(E.applying=!1),b(E.frames),E.step!=null&&E.step(r),w.completed()&&(m.splice(_,1),E.hooked=!1,E.playing=!1,E.started=!1,b(E.completes)),v=!0)}return!u&&m.length===0&&g.length===0&&i.push(d),v}for(var a=!1,o=0;o<e.length;o++){var s=e[o],l=n(s);a=a||l}var c=n(t,!0);(a||c)&&(e.length>0?t.notify("draw",e):t.notify("draw")),e.unmerge(i),t.emit("step")}var lme={animate:Wr.animate(),animation:Wr.animation(),animated:Wr.animated(),clearQueue:Wr.clearQueue(),delay:Wr.delay(),delayAnimation:Wr.delayAnimation(),stop:Wr.stop(),addToAnimationPool:function(t){var e=this;e.styleEnabled()&&e._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function e(){t._private.animationsRunning&&$b(function(a){wV(a,t),e()})}var i=t.renderer();i&&i.beforeRender?i.beforeRender(function(a,o){wV(o,t)},i.beforeRenderPriorities.animations):e()}},cme={qualifierCompare:function(t,e){return t==null||e==null?t==null&&e==null:t.sameText(e)},eventMatches:function(t,e,i){var n=e.qualifier;return n!=null?t!==i.target&&vp(i.target)&&n.matches(i.target):!0},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,i){return e.qualifier!=null?i.target:t}},Ib=function(t){return Tt(t)?new Zl(t):t},rq={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new p0(cme,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,i){return this.emitter().on(t,Ib(e),i),this},removeListener:function(t,e,i){return this.emitter().removeListener(t,Ib(e),i),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,i){return this.emitter().one(t,Ib(e),i),this},once:function(t,e,i){return this.emitter().one(t,Ib(e),i),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};Wr.eventAliasesOn(rq);var kM={png:function(t){var e=this._private.renderer;return t=t||{},e.png(t)},jpg:function(t){var e=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",e.jpg(t)}};kM.jpeg=kM.jpg;var qb={layout:function(t){var e=this;if(t==null){Mi("Layout options must be specified to make a layout");return}if(t.name==null){Mi("A `name` must be specified to make a layout");return}var i=t.name,n=e.extension("layout",i);if(n==null){Mi("No such layout `"+i+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;Tt(t.eles)?a=e.$(t.eles):a=t.eles!=null?t.eles:e.$();var o=new n(Ot({},t,{cy:e,eles:a}));return o}};qb.createLayout=qb.makeLayout=qb.layout;var dme={notify:function(t,e){var i=this._private;if(this.batching()){i.batchNotifications=i.batchNotifications||{};var n=i.batchNotifications[t]=i.batchNotifications[t]||this.collection();e!=null&&n.merge(e);return}if(i.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,e)}},notifications:function(t){var e=this._private;return t===void 0?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach(function(i){var n=t.batchNotifications[i];n.empty()?e.notify(i):e.notify(i,n)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch(function(){for(var i=Object.keys(t),n=0;n<i.length;n++){var a=i[n],o=t[a],s=e.getElementById(a);s.data(o)}})}},ume=ln({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),PM={renderTo:function(t,e,i,n){var a=this._private.renderer;return a.renderTo(t,e,i,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this,i=e.extension("renderer",t.name);if(i==null){Mi("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&jr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=ume(t);n.cy=e,e._private.renderer=new i(n),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var e=t.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(i){var n=i._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};PM.invalidateDimensions=PM.resize;var Ub={collection:function(t,e){return Tt(t)?this.$(t):ka(t)?t.collection():ii(t)?(e||(e={}),new An(this,t,e.unique,e.removed)):new An(this)},nodes:function(t){var e=this.$(function(i){return i.isNode()});return t?e.filter(t):e},edges:function(t){var e=this.$(function(i){return i.isEdge()});return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};Ub.elements=Ub.filter=Ub.$;var wn={},ip="t",hme="f";wn.apply=function(r){for(var t=this,e=t._private,i=e.cy,n=i.collection(),a=0;a<r.length;a++){var o=r[a],s=t.getContextMeta(o);if(!s.empty){var l=t.getContextStyle(s),c=t.applyContextStyle(s,l,o);o._private.appliedInitStyle?t.updateTransitions(o,c.diffProps):o._private.appliedInitStyle=!0;var d=t.updateStyleHints(o);d&&n.push(o)}}return n};wn.getPropertiesDiff=function(r,t){var e=this,i=e._private.propDiffs=e._private.propDiffs||{},n=r+"-"+t,a=i[n];if(a)return a;for(var o=[],s={},l=0;l<e.length;l++){var c=e[l],d=r[l]===ip,u=t[l]===ip,f=d!==u,m=c.mappedProperties.length>0;if(f||u&&m){var g=void 0;f&&m||f?g=c.properties:m&&(g=c.mappedProperties);for(var v=0;v<g.length;v++){for(var y=g[v],b=y.name,_=!1,w=l+1;w<e.length;w++){var E=e[w],S=t[w]===ip;if(S&&(_=E.properties[y.name]!=null,_))break}!s[b]&&!_&&(s[b]=!0,o.push(b))}}}return i[n]=o,o};wn.getContextMeta=function(r){for(var t=this,e="",i,n=r._private.styleCxtKey||"",a=0;a<t.length;a++){var o=t[a],s=o.selector&&o.selector.matches(r);s?e+=ip:e+=hme}return i=t.getPropertiesDiff(n,e),r._private.styleCxtKey=e,{key:e,diffPropNames:i,empty:i.length===0}};wn.getContextStyle=function(r){var t=r.key,e=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[t])return i[t];for(var n={_private:{key:t}},a=0;a<e.length;a++){var o=e[a],s=t[a]===ip;if(s)for(var l=0;l<o.properties.length;l++){var c=o.properties[l];n[c.name]=c}}return i[t]=n,n};wn.applyContextStyle=function(r,t,e){for(var i=this,n=r.diffPropNames,a={},o=i.types,s=0;s<n.length;s++){var l=n[s],c=t[l],d=e.pstyle(l);if(!c)if(d)d.bypass?c={name:l,deleteBypassed:!0}:c={name:l,delete:!0};else continue;if(d!==c){if(c.mapped===o.fn&&d!=null&&d.mapping!=null&&d.mapping.value===c.value){var u=d.mapping,f=u.fnValue=c.value(e);if(f===u.prevFnValue)continue}var m=a[l]={prev:d};i.applyParsedProperty(e,c),m.next=e.pstyle(l),m.next&&m.next.bypass&&(m.next=m.next.bypassed)}}return{diffProps:a}};wn.updateStyleHints=function(r){var t=r._private,e=this,i=e.propertyGroupNames,n=e.propertyGroupKeys,a=function(ce,ye,Te){return e.getPropertiesHash(ce,ye,Te)},o=t.styleKey;if(r.removed())return!1;var s=t.group==="nodes",l=r._private.style;i=Object.keys(l);for(var c=0;c<n.length;c++){var d=n[c];t.styleKeys[d]=[mh,Jm]}for(var u=function(ce,ye){return t.styleKeys[ye][0]=sp(ce,t.styleKeys[ye][0])},f=function(ce,ye){return t.styleKeys[ye][1]=lp(ce,t.styleKeys[ye][1])},m=function(ce,ye){u(ce,ye),f(ce,ye)},g=function(ce,ye){for(var Te=0;Te<ce.length;Te++){var be=ce.charCodeAt(Te);u(be,ye),f(be,ye)}},v=2e9,y=function(ce){return-128<ce&&ce<128&&Math.floor(ce)!==ce?v-(ce*1024|0):ce},b=0;b<i.length;b++){var _=i[b],w=l[_];if(w!=null){var E=this.properties[_],S=E.type,D=E.groupKey,T=void 0;E.hashOverride!=null?T=E.hashOverride(r,w):w.pfValue!=null&&(T=w.pfValue);var O=E.enums==null?w.value:null,F=T!=null,P=O!=null,L=F||P,C=w.units;if(S.number&&L&&!S.multiple){var A=F?T:O;m(y(A),D),!F&&C!=null&&g(C,D)}else g(w.strValue,D)}}for(var R=[mh,Jm],k=0;k<n.length;k++){var I=n[k],B=t.styleKeys[I];R[0]=sp(B[0],R[0]),R[1]=lp(B[1],R[1])}t.styleKey=Ode(R[0],R[1]);var z=t.styleKeys;t.labelDimsKey=ql(z.labelDimensions);var W=a(r,["label"],z.labelDimensions);if(t.labelKey=ql(W),t.labelStyleKey=ql(Cb(z.commonLabel,W)),!s){var $=a(r,["source-label"],z.labelDimensions);t.sourceLabelKey=ql($),t.sourceLabelStyleKey=ql(Cb(z.commonLabel,$));var G=a(r,["target-label"],z.labelDimensions);t.targetLabelKey=ql(G),t.targetLabelStyleKey=ql(Cb(z.commonLabel,G))}if(s){var K=t.styleKeys,oe=K.nodeBody,te=K.nodeBorder,le=K.nodeOutline,re=K.backgroundImage,Q=K.compound,se=K.pie,ee=[oe,te,le,re,Q,se].filter(function(Z){return Z!=null}).reduce(Cb,[mh,Jm]);t.nodeKey=ql(ee),t.hasPie=se!=null&&se[0]!==mh&&se[1]!==Jm}return o!==t.styleKey};wn.clearStyleHints=function(r){var t=r._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};wn.applyParsedProperty=function(r,t){var e=this,i=t,n=r._private.style,a,o=e.types,s=e.properties[i.name].type,l=i.bypass,c=n[i.name],d=c&&c.bypass,u=r._private,f="mapping",m=function(oe){return oe==null?null:oe.pfValue!=null?oe.pfValue:oe.value},g=function(){var oe=m(c),te=m(i);e.checkTriggers(r,i.name,oe,te)};if(t.name==="curve-style"&&r.isEdge()&&(t.value!=="bezier"&&r.isLoop()||t.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return n[i.name]=void 0,g(),!0;if(i.deleteBypassed)return c?c.bypass?(c.bypassed=void 0,g(),!0):!1:(g(),!0);if(i.deleteBypass)return c?c.bypass?(n[i.name]=c.bypassed,g(),!0):!1:(g(),!0);var v=function(){jr("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:{for(var y=i.field.split("."),b=u.data,_=0;_<y.length&&b;_++){var w=y[_];b=b[w]}if(b==null)return v(),!1;var E;if(Qe(b)){var S=i.fieldMax-i.fieldMin;S===0?E=0:E=(b-i.fieldMin)/S}else return jr("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+b+"` for `"+r.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),s.color){var D=i.valueMin[0],T=i.valueMax[0],O=i.valueMin[1],F=i.valueMax[1],P=i.valueMin[2],L=i.valueMax[2],C=i.valueMin[3]==null?1:i.valueMin[3],A=i.valueMax[3]==null?1:i.valueMax[3],R=[Math.round(D+(T-D)*E),Math.round(O+(F-O)*E),Math.round(P+(L-P)*E),Math.round(C+(A-C)*E)];a={bypass:i.bypass,name:i.name,value:R,strValue:"rgb("+R[0]+", "+R[1]+", "+R[2]+")"}}else if(s.number){var k=i.valueMin+(i.valueMax-i.valueMin)*E;a=this.parse(i.name,k,i.bypass,f)}else return!1;if(!a)return v(),!1;a.mapping=i,i=a;break}case o.data:{for(var I=i.field.split("."),B=u.data,z=0;z<I.length&&B;z++){var W=I[z];B=B[W]}if(B!=null&&(a=this.parse(i.name,B,i.bypass,f)),!a)return v(),!1;a.mapping=i,i=a;break}case o.fn:{var $=i.value,G=i.fnValue!=null?i.fnValue:$(r);if(i.prevFnValue=G,G==null)return jr("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+r.id()+"` is null)"),!1;if(a=this.parse(i.name,G,i.bypass,f),!a)return jr("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+r.id()+"` is invalid)"),!1;a.mapping=es(i),i=a;break}case void 0:break;default:return!1}return l?(d?i.bypassed=c.bypassed:i.bypassed=c,n[i.name]=i):d?c.bypassed=i:n[i.name]=i,g(),!0};wn.cleanElements=function(r,t){for(var e=0;e<r.length;e++){var i=r[e];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),!t)i._private.style={};else for(var n=i._private.style,a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],l=n[s];l!=null&&(l.bypass?l.bypassed=null:n[s]=null)}}};wn.update=function(){var r=this._private.cy,t=r.mutableElements();t.updateStyle()};wn.updateTransitions=function(r,t){var e=this,i=r._private,n=r.pstyle("transition-property").value,a=r.pstyle("transition-duration").pfValue,o=r.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var s={},l=!1,c=0;c<n.length;c++){var d=n[c],u=r.pstyle(d),f=t[d];if(f){var m=f.prev,g=m,v=f.next!=null?f.next:u,y=!1,b=void 0,_=1e-6;g&&(Qe(g.pfValue)&&Qe(v.pfValue)?(y=v.pfValue-g.pfValue,b=g.pfValue+_*y):Qe(g.value)&&Qe(v.value)?(y=v.value-g.value,b=g.value+_*y):ii(g.value)&&ii(v.value)&&(y=g.value[0]!==v.value[0]||g.value[1]!==v.value[1]||g.value[2]!==v.value[2],b=g.strValue),y&&(s[d]=v.strValue,this.applyBypass(r,d,b),l=!0))}}if(!l)return;i.transitioning=!0,new Mh(function(w){o>0?r.delayAnimation(o).play().promise().then(w):w()}).then(function(){return r.animation({style:s,duration:a,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){e.removeBypasses(r,n),r.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(r,n),r.emitAndNotify("style"),i.transitioning=!1)};wn.checkTrigger=function(r,t,e,i,n,a){var o=this.properties[t],s=n(o);r.removed()||s!=null&&s(e,i,r)&&a(o)};wn.checkZOrderTrigger=function(r,t,e,i){var n=this;this.checkTrigger(r,t,e,i,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",r)})};wn.checkBoundsTrigger=function(r,t,e,i){this.checkTrigger(r,t,e,i,function(n){return n.triggersBounds},function(n){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache()})};wn.checkConnectedEdgesBoundsTrigger=function(r,t,e,i){this.checkTrigger(r,t,e,i,function(n){return n.triggersBoundsOfConnectedEdges},function(n){r.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};wn.checkParallelEdgesBoundsTrigger=function(r,t,e,i){this.checkTrigger(r,t,e,i,function(n){return n.triggersBoundsOfParallelEdges},function(n){r.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})};wn.checkTriggers=function(r,t,e,i){r.dirtyStyleCache(),this.checkZOrderTrigger(r,t,e,i),this.checkBoundsTrigger(r,t,e,i),this.checkConnectedEdgesBoundsTrigger(r,t,e,i),this.checkParallelEdgesBoundsTrigger(r,t,e,i)};var Ep={};Ep.applyBypass=function(r,t,e,i){var n=this,a=[],o=!0;if(t==="*"||t==="**"){if(e!==void 0)for(var s=0;s<n.properties.length;s++){var l=n.properties[s],c=l.name,d=this.parse(c,e,!0);d&&a.push(d)}}else if(Tt(t)){var u=this.parse(t,e,!0);u&&a.push(u)}else if(kr(t)){var f=t;i=e;for(var m=Object.keys(f),g=0;g<m.length;g++){var v=m[g],y=f[v];if(y===void 0&&(y=f[a0(v)]),y!==void 0){var b=this.parse(v,y,!0);b&&a.push(b)}}}else return!1;if(a.length===0)return!1;for(var _=!1,w=0;w<r.length;w++){for(var E=r[w],S={},D=void 0,T=0;T<a.length;T++){var O=a[T];if(i){var F=E.pstyle(O.name);D=S[O.name]={prev:F}}_=this.applyParsedProperty(E,es(O))||_,i&&(D.next=E.pstyle(O.name))}_&&this.updateStyleHints(E),i&&this.updateTransitions(E,S,o)}return _};Ep.overrideBypass=function(r,t,e){t=WM(t);for(var i=0;i<r.length;i++){var n=r[i],a=n._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,c=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,t,e):(a.value=e,a.pfValue!=null&&(a.pfValue=e),s?a.strValue="rgb("+e.join(",")+")":l?a.strValue=e.join(" "):a.strValue=""+e,this.updateStyleHints(n)),this.checkTriggers(n,t,c,e)}};Ep.removeAllBypasses=function(r,t){return this.removeBypasses(r,this.propertyNames,t)};Ep.removeBypasses=function(r,t,e){for(var i=!0,n=0;n<r.length;n++){for(var a=r[n],o={},s=0;s<t.length;s++){var l=t[s],c=this.properties[l],d=a.pstyle(c.name);if(!(!d||!d.bypass)){var u="",f=this.parse(l,u,!0),m=o[c.name]={prev:d};this.applyParsedProperty(a,f),m.next=a.pstyle(c.name)}}this.updateStyleHints(a),e&&this.updateTransitions(a,o,i)}};var aD={};aD.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};aD.containerCss=function(r){var t=this._private.cy,e=t.container(),i=t.window();if(i&&e&&i.getComputedStyle)return i.getComputedStyle(e).getPropertyValue(r)};var ts={};ts.getRenderedStyle=function(r,t){return t?this.getStylePropertyValue(r,t,!0):this.getRawStyle(r,!0)};ts.getRawStyle=function(r,t){var e=this;if(r=r[0],r){for(var i={},n=0;n<e.properties.length;n++){var a=e.properties[n],o=e.getStylePropertyValue(r,a.name,t);o!=null&&(i[a.name]=o,i[a0(a.name)]=o)}return i}};ts.getIndexedStyle=function(r,t,e,i){var n=r.pstyle(t)[e][i];return n??r.cy().style().getDefaultProperty(t)[e][0]};ts.getStylePropertyValue=function(r,t,e){var i=this;if(r=r[0],r){var n=i.properties[t];n.alias&&(n=n.pointsTo);var a=n.type,o=r.pstyle(n.name);if(o){var s=o.value,l=o.units,c=o.strValue;if(e&&a.number&&s!=null&&Qe(s)){var d=r.cy().zoom(),u=function(y){return y*d},f=function(y,b){return u(y)+b},m=ii(s),g=m?l.every(function(v){return v!=null}):l!=null;return g?m?s.map(function(v,y){return f(v,l[y])}).join(" "):f(s,l):m?s.map(function(v){return Tt(v)?v:""+u(v)}).join(" "):""+u(s)}else if(c!=null)return c}return null}};ts.getAnimationStartStyle=function(r,t){for(var e={},i=0;i<t.length;i++){var n=t[i],a=n.name,o=r.pstyle(a);o!==void 0&&(kr(o)?o=this.parse(a,o.strValue):o=this.parse(a,o)),o&&(e[a]=o)}return e};ts.getPropsList=function(r){var t=this,e=[],i=r,n=t.properties;if(i)for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s],c=n[s]||n[WM(s)],d=this.parse(c.name,l);d&&e.push(d)}return e};ts.getNonDefaultPropertiesHash=function(r,t,e){var i=e.slice(),n,a,o,s,l,c;for(l=0;l<t.length;l++)if(n=t[l],a=r.pstyle(n,!1),a!=null)if(a.pfValue!=null)i[0]=sp(s,i[0]),i[1]=lp(s,i[1]);else for(o=a.strValue,c=0;c<o.length;c++)s=o.charCodeAt(c),i[0]=sp(s,i[0]),i[1]=lp(s,i[1]);return i};ts.getPropertiesHash=ts.getNonDefaultPropertiesHash;var y0={};y0.appendFromJson=function(r){for(var t=this,e=0;e<r.length;e++){var i=r[e],n=i.selector,a=i.style||i.css,o=Object.keys(a);t.selector(n);for(var s=0;s<o.length;s++){var l=o[s],c=a[l];t.css(l,c)}}return t};y0.fromJson=function(r){var t=this;return t.resetToDefault(),t.appendFromJson(r),t};y0.json=function(){for(var r=[],t=this.defaultLength;t<this.length;t++){for(var e=this[t],i=e.selector,n=e.properties,a={},o=0;o<n.length;o++){var s=n[o];a[s.name]=s.strValue}r.push({selector:i?i.toString():"core",style:a})}return r};var oD={};oD.appendFromString=function(r){var t=this,e=this,i=""+r,n,a,o;i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){i.length>n.length?i=i.substr(n.length):i=""}function l(){a.length>o.length?a=a.substr(o.length):a=""}for(;;){var c=i.match(/^\s*$/);if(c)break;var d=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){jr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}n=d[0];var u=d[1];if(u!=="core"){var f=new Zl(u);if(f.invalid){jr("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),s();continue}}var m=d[2],g=!1;a=m;for(var v=[];;){var y=a.match(/^\s*$/);if(y)break;var b=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!b){jr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+m),g=!0;break}o=b[0];var _=b[1],w=b[2],E=t.properties[_];if(!E){jr("Skipping property: Invalid property name in: "+o),l();continue}var S=e.parse(_,w);if(!S){jr("Skipping property: Invalid property definition in: "+o),l();continue}v.push({name:_,val:w}),l()}if(g){s();break}e.selector(u);for(var D=0;D<v.length;D++){var T=v[D];e.css(T.name,T.val)}s()}return e};oD.fromString=function(r){var t=this;return t.resetToDefault(),t.appendFromString(r),t};var Dn={};(function(){var r=on,t=dde,e=hde,i=fde,n=mde,a=function(ee){return"^"+ee+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(ee){var Z=r+"|\\w+|"+t+"|"+e+"|"+i+"|"+n;return"^"+ee+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+Z+")\\s*\\,\\s*("+Z+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Dn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ee,Z){switch(ee.length){case 2:return Z[0]!=="deg"&&Z[0]!=="rad"&&Z[1]!=="deg"&&Z[1]!=="rad";case 1:return Tt(ee[0])||Z[0]==="deg"||Z[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ee){var Z=ee.length;return Z===1||Z===2||Z===4}}};var l={zeroNonZero:function(ee,Z){return(ee==null||Z==null)&&ee!==Z||ee==0&&Z!=0?!0:ee!=0&&Z==0},any:function(ee,Z){return ee!=Z},emptyNonEmpty:function(ee,Z){var ce=Yl(ee),ye=Yl(Z);return ce&&!ye||!ce&&ye}},c=Dn.types,d=[{name:"label",type:c.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any}],u=[{name:"source-label",type:c.text,triggersBounds:l.any},{name:"source-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:c.size,triggersBounds:l.any}],f=[{name:"target-label",type:c.text,triggersBounds:l.any},{name:"target-text-rotation",type:c.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:c.size,triggersBounds:l.any}],m=[{name:"font-family",type:c.fontFamily,triggersBounds:l.any},{name:"font-style",type:c.fontStyle,triggersBounds:l.any},{name:"font-weight",type:c.fontWeight,triggersBounds:l.any},{name:"font-size",type:c.size,triggersBounds:l.any},{name:"text-transform",type:c.textTransform,triggersBounds:l.any},{name:"text-wrap",type:c.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:c.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:c.size,triggersBounds:l.any},{name:"text-outline-width",type:c.size,triggersBounds:l.any},{name:"line-height",type:c.positiveNumber,triggersBounds:l.any}],g=[{name:"text-valign",type:c.valign,triggersBounds:l.any},{name:"text-halign",type:c.halign,triggersBounds:l.any},{name:"color",type:c.color},{name:"text-outline-color",type:c.color},{name:"text-outline-opacity",type:c.zeroOneNumber},{name:"text-background-color",type:c.color},{name:"text-background-opacity",type:c.zeroOneNumber},{name:"text-background-padding",type:c.size,triggersBounds:l.any},{name:"text-border-opacity",type:c.zeroOneNumber},{name:"text-border-color",type:c.color},{name:"text-border-width",type:c.size,triggersBounds:l.any},{name:"text-border-style",type:c.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:c.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:c.justification}],v=[{name:"events",type:c.bool,triggersZOrder:l.any},{name:"text-events",type:c.bool,triggersZOrder:l.any}],y=[{name:"display",type:c.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfConnectedEdges:l.any,triggersBoundsOfParallelEdges:function(ee,Z,ce){return ee===Z?!1:ce.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:c.visibility,triggersZOrder:l.any},{name:"opacity",type:c.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:c.zeroOneNumber},{name:"min-zoomed-font-size",type:c.size},{name:"z-compound-depth",type:c.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:c.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:c.number,triggersZOrder:l.any}],b=[{name:"overlay-padding",type:c.size,triggersBounds:l.any},{name:"overlay-color",type:c.color},{name:"overlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"overlay-corner-radius",type:c.cornerRadius}],_=[{name:"underlay-padding",type:c.size,triggersBounds:l.any},{name:"underlay-color",type:c.color},{name:"underlay-opacity",type:c.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:c.overlayShape,triggersBounds:l.any},{name:"underlay-corner-radius",type:c.cornerRadius}],w=[{name:"transition-property",type:c.propList},{name:"transition-duration",type:c.time},{name:"transition-delay",type:c.time},{name:"transition-timing-function",type:c.easing}],E=function(ee,Z){return Z.value==="label"?-ee.poolIndex():Z.pfValue},S=[{name:"height",type:c.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"width",type:c.nodeSize,triggersBounds:l.any,hashOverride:E},{name:"shape",type:c.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:c.polygonPointList,triggersBounds:l.any},{name:"corner-radius",type:c.cornerRadius},{name:"background-color",type:c.color},{name:"background-fill",type:c.fill},{name:"background-opacity",type:c.zeroOneNumber},{name:"background-blacken",type:c.nOneOneNumber},{name:"background-gradient-stop-colors",type:c.colors},{name:"background-gradient-stop-positions",type:c.percentages},{name:"background-gradient-direction",type:c.gradientDirection},{name:"padding",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:c.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:c.boundsExpansion,triggersBounds:l.any}],D=[{name:"border-color",type:c.color},{name:"border-opacity",type:c.zeroOneNumber},{name:"border-width",type:c.size,triggersBounds:l.any},{name:"border-style",type:c.borderStyle},{name:"border-cap",type:c.lineCap},{name:"border-join",type:c.lineJoin},{name:"border-dash-pattern",type:c.numbers},{name:"border-dash-offset",type:c.number},{name:"border-position",type:c.linePosition}],T=[{name:"outline-color",type:c.color},{name:"outline-opacity",type:c.zeroOneNumber},{name:"outline-width",type:c.size,triggersBounds:l.any},{name:"outline-style",type:c.borderStyle},{name:"outline-offset",type:c.size,triggersBounds:l.any}],O=[{name:"background-image",type:c.urls},{name:"background-image-crossorigin",type:c.bgCrossOrigin},{name:"background-image-opacity",type:c.zeroOneNumbers},{name:"background-image-containment",type:c.bgContainment},{name:"background-image-smoothing",type:c.bools},{name:"background-position-x",type:c.bgPos},{name:"background-position-y",type:c.bgPos},{name:"background-width-relative-to",type:c.bgRelativeTo},{name:"background-height-relative-to",type:c.bgRelativeTo},{name:"background-repeat",type:c.bgRepeat},{name:"background-fit",type:c.bgFit},{name:"background-clip",type:c.bgClip},{name:"background-width",type:c.bgWH},{name:"background-height",type:c.bgWH},{name:"background-offset-x",type:c.bgPos},{name:"background-offset-y",type:c.bgPos}],F=[{name:"position",type:c.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:c.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:c.size,triggersBounds:l.any},{name:"min-width-bias-left",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:c.size,triggersBounds:l.any},{name:"min-height-bias-top",type:c.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:c.sizeMaybePercent,triggersBounds:l.any}],P=[{name:"line-style",type:c.lineStyle},{name:"line-color",type:c.color},{name:"line-fill",type:c.fill},{name:"line-cap",type:c.lineCap},{name:"line-opacity",type:c.zeroOneNumber},{name:"line-dash-pattern",type:c.numbers},{name:"line-dash-offset",type:c.number},{name:"line-outline-width",type:c.size},{name:"line-outline-color",type:c.color},{name:"line-gradient-stop-colors",type:c.colors},{name:"line-gradient-stop-positions",type:c.percentages},{name:"curve-style",type:c.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelEdges:function(ee,Z){return ee===Z?!1:ee==="bezier"||Z==="bezier"}},{name:"haystack-radius",type:c.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:c.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:c.size,triggersBounds:l.any},{name:"control-point-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-distances",type:c.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:c.numbers,triggersBounds:l.any},{name:"segment-radii",type:c.numbers,triggersBounds:l.any},{name:"radius-type",type:c.radiusType,triggersBounds:l.any},{name:"taxi-turn",type:c.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:c.size,triggersBounds:l.any},{name:"taxi-direction",type:c.axisDirection,triggersBounds:l.any},{name:"taxi-radius",type:c.number,triggersBounds:l.any},{name:"edge-distances",type:c.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:c.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:c.angle,triggersBounds:l.any},{name:"loop-sweep",type:c.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:c.size,triggersBounds:l.any},{name:"target-distance-from-node",type:c.size,triggersBounds:l.any}],L=[{name:"ghost",type:c.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:c.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:c.zeroOneNumber}],C=[{name:"selection-box-color",type:c.color},{name:"selection-box-opacity",type:c.zeroOneNumber},{name:"selection-box-border-color",type:c.color},{name:"selection-box-border-width",type:c.size},{name:"active-bg-color",type:c.color},{name:"active-bg-opacity",type:c.zeroOneNumber},{name:"active-bg-size",type:c.size},{name:"outside-texture-bg-color",type:c.color},{name:"outside-texture-bg-opacity",type:c.zeroOneNumber}],A=[];Dn.pieBackgroundN=16,A.push({name:"pie-size",type:c.sizeMaybePercent});for(var R=1;R<=Dn.pieBackgroundN;R++)A.push({name:"pie-"+R+"-background-color",type:c.color}),A.push({name:"pie-"+R+"-background-size",type:c.percent}),A.push({name:"pie-"+R+"-background-opacity",type:c.zeroOneNumber});var k=[],I=Dn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:c.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:c.color},{name:"arrow-fill",type:c.arrowFill},{name:"arrow-width",type:c.arrowWidth}].forEach(function(se){I.forEach(function(ee){var Z=ee+"-"+se.name,ce=se.type,ye=se.triggersBounds;k.push({name:Z,type:ce,triggersBounds:ye})})},{});var B=Dn.properties=[].concat(v,w,y,b,_,L,g,m,d,u,f,S,D,T,O,A,F,P,k,C),z=Dn.propertyGroups={behavior:v,transition:w,visibility:y,overlay:b,underlay:_,ghost:L,commonLabel:g,labelDimensions:m,mainLabel:d,sourceLabel:u,targetLabel:f,nodeBody:S,nodeBorder:D,nodeOutline:T,backgroundImage:O,pie:A,compound:F,edgeLine:P,edgeArrow:k,core:C},W=Dn.propertyGroupNames={},$=Dn.propertyGroupKeys=Object.keys(z);$.forEach(function(se){W[se]=z[se].map(function(ee){return ee.name}),z[se].forEach(function(ee){return ee.groupKey=se})});var G=Dn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Dn.propertyNames=B.map(function(se){return se.name});for(var K=0;K<B.length;K++){var oe=B[K];B[oe.name]=oe}for(var te=0;te<G.length;te++){var le=G[te],re=B[le.pointsTo],Q={name:le.name,alias:!0,pointsTo:re};B.push(Q),B[le.name]=Q}})();Dn.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};Dn.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var t=Ot({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,c){for(var d=1;d<=Dn.pieBackgroundN;d++){var u=c.name.replace("{{i}}",d),f=c.value;l[u]=f}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(l,c){return Dn.arrowPrefixes.forEach(function(d){var u=d+"-"+c.name,f=c.value;l[u]=f}),l},{})),e={},i=0;i<this.properties.length;i++){var n=this.properties[i];if(!n.pointsTo){var a=n.name,o=t[a],s=this.parse(a,o);e[a]=s}}return r.defaultProperties=e,r.defaultProperties};Dn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var b0={};b0.parse=function(r,t,e,i){var n=this;if(Di(t))return n.parseImplWarn(r,t,e,i);var a=i==="mapping"||i===!0||i===!1||i==null?"dontcare":i,o=e?"t":"f",s=""+t,l=hz(r,s,o,a),c=n.propCache=n.propCache||[],d;return(d=c[l])||(d=c[l]=n.parseImplWarn(r,t,e,i)),(e||i==="mapping")&&(d=es(d),d&&(d.value=es(d.value))),d};b0.parseImplWarn=function(r,t,e,i){var n=this.parseImpl(r,t,e,i);return!n&&t!=null&&jr("The style property `".concat(r,": ").concat(t,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&t==="label"&&jr("The style value of `label` is deprecated for `"+n.name+"`"),n};b0.parseImpl=function(r,t,e,i){var n=this;r=WM(r);var a=n.properties[r],o=t,s=n.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,r=a.name);var l=Tt(t);l&&(t=t.trim());var c=a.type;if(!c)return null;if(e&&(t===""||t===null))return{name:r,value:t,bypass:!0,deleteBypass:!0};if(Di(t))return{name:r,value:t,strValue:"fn",mapped:s.fn,bypass:e};var d,u;if(!(!l||i||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(s.data.regex).exec(t))){if(e)return!1;var f=s.data;return{name:r,value:d,strValue:""+t,mapped:f,field:d[1],bypass:e}}else if(t.length>=10&&t[0]==="m"&&(u=new RegExp(s.mapData.regex).exec(t))){if(e||c.multiple)return!1;var m=s.mapData;if(!(c.color||c.number))return!1;var g=this.parse(r,u[4]);if(!g||g.mapped)return!1;var v=this.parse(r,u[5]);if(!v||v.mapped)return!1;if(g.pfValue===v.pfValue||g.strValue===v.strValue)return jr("`"+r+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+g.strValue+"`"),this.parse(r,g.strValue);if(c.color){var y=g.value,b=v.value,_=y[0]===b[0]&&y[1]===b[1]&&y[2]===b[2]&&(y[3]===b[3]||(y[3]==null||y[3]===1)&&(b[3]==null||b[3]===1));if(_)return!1}return{name:r,value:u,strValue:""+t,mapped:m,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:g.value,valueMax:v.value,bypass:e}}}if(c.multiple&&i!=="multiple"){var w;if(l?w=t.split(/\s+/):ii(t)?w=t:w=[t],c.evenMultiple&&w.length%2!==0)return null;for(var E=[],S=[],D=[],T="",O=!1,F=0;F<w.length;F++){var P=n.parse(r,w[F],e,"multiple");O=O||Tt(P.value),E.push(P.value),D.push(P.pfValue!=null?P.pfValue:P.value),S.push(P.units),T+=(F>0?" ":"")+P.strValue}return c.validate&&!c.validate(E,S)?null:c.singleEnum&&O?E.length===1&&Tt(E[0])?{name:r,value:E[0],strValue:E[0],bypass:e}:null:{name:r,value:E,pfValue:D,strValue:T,bypass:e,units:S}}var L=function(){for(var ee=0;ee<c.enums.length;ee++){var Z=c.enums[ee];if(Z===t)return{name:r,value:t,strValue:""+t,bypass:e}}return null};if(c.number){var C,A="px";if(c.units&&(C=c.units),c.implicitUnits&&(A=c.implicitUnits),!c.unitless)if(l){var R="px|em"+(c.allowPercent?"|\\%":"");C&&(R=C);var k=t.match("^("+on+")("+R+")?$");k&&(t=k[1],C=k[2]||A)}else(!C||c.implicitUnits)&&(C=A);if(t=parseFloat(t),isNaN(t)&&c.enums===void 0)return null;if(isNaN(t)&&c.enums!==void 0)return t=o,L();if(c.integer&&!ide(t)||c.min!==void 0&&(t<c.min||c.strictMin&&t===c.min)||c.max!==void 0&&(t>c.max||c.strictMax&&t===c.max))return null;var I={name:r,value:t,strValue:""+t+(C||""),units:C,bypass:e};return c.unitless||C!=="px"&&C!=="em"?I.pfValue=t:I.pfValue=C==="px"||!C?t:this.getEmSizeInPixels()*t,(C==="ms"||C==="s")&&(I.pfValue=C==="ms"?t:1e3*t),(C==="deg"||C==="rad")&&(I.pfValue=C==="rad"?t:uue(t)),C==="%"&&(I.pfValue=t/100),I}else if(c.propList){var B=[],z=""+t;if(z!=="none"){for(var W=z.split(/\s*,\s*|\s+/),$=0;$<W.length;$++){var G=W[$].trim();n.properties[G]?B.push(G):jr("`"+G+"` is not a valid property name")}if(B.length===0)return null}return{name:r,value:B,strValue:B.length===0?"none":B.join(" "),bypass:e}}else if(c.color){var K=az(t);return K?{name:r,value:K,pfValue:K,strValue:"rgb("+K[0]+","+K[1]+","+K[2]+")",bypass:e}:null}else if(c.regex||c.regexes){if(c.enums){var oe=L();if(oe)return oe}for(var te=c.regexes?c.regexes:[c.regex],le=0;le<te.length;le++){var re=new RegExp(te[le]),Q=re.exec(t);if(Q)return{name:r,value:c.singleRegexMatchValue?Q[1]:Q,strValue:""+t,bypass:e}}return null}else return c.string?{name:r,value:""+t,strValue:""+t,bypass:e}:c.enums?L():null};var xn=function(t){if(!(this instanceof xn))return new xn(t);if(!GM(t)){Mi("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Un=xn.prototype;Un.instanceString=function(){return"style"};Un.clear=function(){for(var r=this._private,t=r.cy,e=t.elements(),i=0;i<this.length;i++)this[i]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(e,!0),e.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};Un.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Un.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};Un.selector=function(r){var t=r==="core"?null:new Zl(r),e=this.length++;return this[e]={selector:t,properties:[],mappedProperties:[],index:e},this};Un.css=function(){var r=this,t=arguments;if(t.length===1)for(var e=t[0],i=0;i<r.properties.length;i++){var n=r.properties[i],a=e[n.name];a===void 0&&(a=e[a0(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Un.style=Un.css;Un.cssRule=function(r,t){var e=this.parse(r,t);if(e){var i=this.length-1;this[i].properties.push(e),this[i].properties[e.name]=e,e.name.match(/pie-(\d+)-background-size/)&&e.value&&(this._private.hasPie=!0),e.mapped&&this[i].mappedProperties.push(e);var n=!this[i].selector;n&&(this._private.coreStyle[e.name]=e)}return this};Un.append=function(r){return rz(r)?r.appendToStyle(this):ii(r)?this.appendFromJson(r):Tt(r)&&this.appendFromString(r),this};xn.fromJson=function(r,t){var e=new xn(r);return e.fromJson(t),e};xn.fromString=function(r,t){return new xn(r).fromString(t)};[wn,Ep,aD,ts,y0,oD,Dn,b0].forEach(function(r){Ot(Un,r)});xn.types=Un.types;xn.properties=Un.properties;xn.propertyGroups=Un.propertyGroups;xn.propertyGroupNames=Un.propertyGroupNames;xn.propertyGroupKeys=Un.propertyGroupKeys;var fme={style:function(t){if(t){var e=this.setStyle(t);e.update()}return this._private.style},setStyle:function(t){var e=this._private;return rz(t)?e.style=t.generateStyle(this):ii(t)?e.style=xn.fromJson(this,t):Tt(t)?e.style=xn.fromString(this,t):e.style=xn(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},mme="single",Cd={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var e=this._private;if(e.selectionType==null&&(e.selectionType=mme),t!==void 0)(t==="additive"||t==="single")&&(e.selectionType=t);else return e.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,e=this._private.pan,i,n,a,o,s;switch(t.length){case 0:return e;case 1:if(Tt(t[0]))return i=t[0],e[i];if(kr(t[0])){if(!this._private.panningEnabled)return this;a=t[0],o=a.x,s=a.y,Qe(o)&&(e.x=o),Qe(s)&&(e.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;i=t[0],n=t[1],(i==="x"||i==="y")&&Qe(n)&&(e[i]=n),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,e){var i=arguments,n=this._private.pan,a,o,s,l,c;if(!this._private.panningEnabled)return this;switch(i.length){case 1:kr(t)&&(s=i[0],l=s.x,c=s.y,Qe(l)&&(n.x+=l),Qe(c)&&(n.y+=c),this.emit("pan viewport"));break;case 2:a=t,o=e,(a==="x"||a==="y")&&Qe(o)&&(n[a]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(t,e){var i=this.getFitViewport(t,e);if(i){var n=this._private;n.zoom=i.zoom,n.pan=i.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){if(Qe(t)&&e===void 0&&(e=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var i;if(Tt(t)){var n=t;t=this.$(n)}else if(ode(t)){var a=t;i={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},i.w=i.x2-i.x1,i.h=i.y2-i.y1}else ka(t)||(t=this.mutableElements());if(!(ka(t)&&t.empty())){i=i||t.boundingBox();var o=this.width(),s=this.height(),l;if(e=Qe(e)?e:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(i.w)&&!isNaN(i.h)&&i.w>0&&i.h>0){l=Math.min((o-2*e)/i.w,(s-2*e)/i.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var c={x:(o-l*(i.x1+i.x2))/2,y:(s-l*(i.y1+i.y2))/2};return{zoom:l,pan:c}}}}},zoomRange:function(t,e){var i=this._private;if(e==null){var n=t;t=n.min,e=n.max}return Qe(t)&&Qe(e)&&t<=e?(i.minZoom=t,i.maxZoom=e):Qe(t)&&e===void 0&&t<=i.maxZoom?i.minZoom=t:Qe(e)&&t===void 0&&e>=i.minZoom&&(i.maxZoom=e),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e=this._private,i=e.pan,n=e.zoom,a,o,s=!1;if(e.zoomingEnabled||(s=!0),Qe(t)?o=t:kr(t)&&(o=t.level,t.position!=null?a=l0(t.position,n,i):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!e.panningEnabled&&(s=!0)),o=o>e.maxZoom?e.maxZoom:o,o=o<e.minZoom?e.minZoom:o,s||!Qe(o)||o===n||a!=null&&(!Qe(a.x)||!Qe(a.y)))return null;if(a!=null){var l=i,c=n,d=o,u={x:-d/c*(a.x-l.x)+a.x,y:-d/c*(a.y-l.y)+a.y};return{zoomed:!0,panned:!0,zoom:d,pan:u}}else return{zoomed:!0,panned:!1,zoom:o,pan:i}},zoom:function(t){if(t===void 0)return this._private.zoom;var e=this.getZoomedViewport(t),i=this._private;return e==null||!e.zoomed?this:(i.zoom=e.zoom,e.panned&&(i.pan.x=e.pan.x,i.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var e=this._private,i=!0,n=!0,a=[],o=!1,s=!1;if(!t)return this;if(Qe(t.zoom)||(i=!1),kr(t.pan)||(n=!1),!i&&!n)return this;if(i){var l=t.zoom;l<e.minZoom||l>e.maxZoom||!e.zoomingEnabled?o=!0:(e.zoom=l,a.push("zoom"))}if(n&&(!o||!t.cancelOnFailedZoom)&&e.panningEnabled){var c=t.pan;Qe(c.x)&&(e.pan.x=c.x,s=!1),Qe(c.y)&&(e.pan.y=c.y,s=!1),s||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(Tt(t)){var i=t;t=this.mutableElements().filter(i)}else ka(t)||(t=this.mutableElements());if(t.length!==0){var n=t.boundingBox(),a=this.width(),o=this.height();e=e===void 0?this._private.zoom:e;var s={x:(a-e*(n.x1+n.x2))/2,y:(o-e*(n.y1+n.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,e=t.container,i=this;return t.sizeCache=t.sizeCache||(e?function(){var n=i.window().getComputedStyle(e),a=function(s){return parseFloat(n.getPropertyValue(s))};return{width:e.clientWidth-a("padding-left")-a("padding-right"),height:e.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,i=this.renderedExtent(),n={x1:(i.x1-t.x)/e,x2:(i.x2-t.x)/e,y1:(i.y1-t.y)/e,y2:(i.y2-t.y)/e};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};Cd.centre=Cd.center;Cd.autolockNodes=Cd.autolock;Cd.autoungrabifyNodes=Cd.autoungrabify;var mp={data:Wr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Wr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Wr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Wr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};mp.attr=mp.data;mp.removeAttr=mp.removeData;var pp=function(t){var e=this;t=Ot({},t);var i=t.container;i&&!jb(i)&&jb(i[0])&&(i=i[0]);var n=i?i._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var a=n.readies=n.readies||[];i&&(i._cyreg=n),n.cy=e;var o=an!==void 0&&i!==void 0&&!t.headless,s=t;s.layout=Ot({name:o?"grid":"null"},s.layout),s.renderer=Ot({name:o?"canvas":"null"},s.renderer);var l=function(g,v,y){return v!==void 0?v:y!==void 0?y:g},c=this._private={container:i,ready:!1,options:s,elements:new An(this),listeners:[],aniEles:new An(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Qe(s.zoom)?s.zoom:1,pan:{x:kr(s.pan)&&Qe(s.pan.x)?s.pan.x:0,y:kr(s.pan)&&Qe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var d=function(g,v){var y=g.some(sde);if(y)return Mh.all(g).then(v);v(g)};c.styleEnabled&&e.setStyle([]);var u=Ot({},s,s.renderer);e.initRenderer(u);var f=function(g,v,y){e.notifications(!1);var b=e.mutableElements();b.length>0&&b.remove(),g!=null&&(kr(g)||ii(g))&&e.add(g),e.one("layoutready",function(w){e.notifications(!0),e.emit(w),e.one("load",v),e.emitAndNotify("load")}).one("layoutstop",function(){e.one("done",y),e.emit("done")});var _=Ot({},e._private.options.layout);_.eles=e.elements(),e.layout(_).run()};d([s.style,s.elements],function(m){var g=m[0],v=m[1];c.styleEnabled&&e.style().append(g),f(v,function(){e.startAnimationLoop(),c.ready=!0,Di(s.ready)&&e.on("ready",s.ready);for(var y=0;y<a.length;y++){var b=a[y];e.on("ready",b)}n&&(n.readies=[]),e.emit("ready")},s.done)})},Jb=pp.prototype;Ot(Jb,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return an;var e=this._private.container.ownerDocument;return e===void 0||e==null?an:e.defaultView||an},mount:function(t){if(t!=null){var e=this,i=e._private,n=i.options;return!jb(t)&&jb(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),i.container=t,i.styleEnabled=!0,e.invalidateSize(),e.initRenderer(Ot({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),e.startAnimationLoop(),e.style(n.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return es(this._private.options)},json:function(t){var e=this,i=e._private,n=e.mutableElements(),a=function(E){return e.getElementById(E.id())};if(kr(t)){if(e.startBatch(),t.elements){var o={},s=function(E,S){for(var D=[],T=[],O=0;O<E.length;O++){var F=E[O];if(!F.data.id){jr("cy.json() cannot handle elements without an ID attribute");continue}var P=""+F.data.id,L=e.getElementById(P);o[P]=!0,L.length!==0?T.push({ele:L,json:F}):(S&&(F.group=S),D.push(F))}e.add(D);for(var C=0;C<T.length;C++){var A=T[C],R=A.ele,k=A.json;R.json(k)}};if(ii(t.elements))s(t.elements);else for(var l=["nodes","edges"],c=0;c<l.length;c++){var d=l[c],u=t.elements[d];ii(u)&&s(u,d)}var f=e.collection();n.filter(function(w){return!o[w.id()]}).forEach(function(w){w.isParent()?f.merge(w):w.remove()}),f.forEach(function(w){return w.children().move({parent:null})}),f.forEach(function(w){return a(w).remove()})}t.style&&e.style(t.style),t.zoom!=null&&t.zoom!==i.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x!==i.pan.x||t.pan.y!==i.pan.y)&&e.pan(t.pan),t.data&&e.data(t.data);for(var m=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<m.length;g++){var v=m[g];t[v]!=null&&e[v](t[v])}return e.endBatch(),this}else{var y=!!t,b={};y?b.elements=this.elements().map(function(w){return w.json()}):(b.elements={},n.forEach(function(w){var E=w.group();b.elements[E]||(b.elements[E]=[]),b.elements[E].push(w.json())})),this._private.styleEnabled&&(b.style=e.style().json()),b.data=es(e.data());var _=i.options;return b.zoomingEnabled=i.zoomingEnabled,b.userZoomingEnabled=i.userZoomingEnabled,b.zoom=i.zoom,b.minZoom=i.minZoom,b.maxZoom=i.maxZoom,b.panningEnabled=i.panningEnabled,b.userPanningEnabled=i.userPanningEnabled,b.pan=es(i.pan),b.boxSelectionEnabled=i.boxSelectionEnabled,b.renderer=es(_.renderer),b.hideEdgesOnViewport=_.hideEdgesOnViewport,b.textureOnViewport=_.textureOnViewport,b.wheelSensitivity=_.wheelSensitivity,b.motionBlur=_.motionBlur,b.multiClickDebounceTime=_.multiClickDebounceTime,b}}});Jb.$id=Jb.getElementById;[ime,lme,rq,kM,qb,dme,PM,Ub,fme,Cd,mp].forEach(function(r){Ot(Jb,r)});var pme={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},gme={maximal:!1,acyclic:!1},dh=function(t){return t.scratch("breadthfirst")},CV=function(t,e){return t.scratch("breadthfirst",e)};function iq(r){this.options=Ot({},pme,gme,r)}iq.prototype.run=function(){var r=this.options,t=r.cy,e=r.eles,i=e.nodes().filter(function(xe){return xe.isChildless()}),n=e,a=r.directed,o=r.acyclic||r.maximal||r.maximalAdjustments>0,s=!!r.boundingBox,l=t.extent(),c=ha(s?r.boundingBox:{x1:l.x1,y1:l.y1,w:l.w,h:l.h}),d;if(ka(r.roots))d=r.roots;else if(ii(r.roots)){for(var u=[],f=0;f<r.roots.length;f++){var m=r.roots[f],g=t.getElementById(m);u.push(g)}d=t.collection(u)}else if(Tt(r.roots))d=t.$(r.roots);else if(a)d=i.roots();else{var v=e.components();d=t.collection();for(var y=function(){var Me=v[b],Ve=Me.maxDegree(!1),Ke=Me.filter(function(Ge){return Ge.degree(!1)===Ve});d=d.add(Ke)},b=0;b<v.length;b++)y()}var _=[],w={},E=function(Me,Ve){_[Ve]==null&&(_[Ve]=[]);var Ke=_[Ve].length;_[Ve].push(Me),CV(Me,{index:Ke,depth:Ve})},S=function(Me,Ve){var Ke=dh(Me),Ge=Ke.depth,We=Ke.index;_[Ge][We]=null,Me.isChildless()&&E(Me,Ve)};n.bfs({roots:d,directed:r.directed,visit:function(Me,Ve,Ke,Ge,We){var it=Me[0],ct=it.id();it.isChildless()&&E(it,We),w[ct]=!0}});for(var D=[],T=0;T<i.length;T++){var O=i[T];w[O.id()]||D.push(O)}var F=function(Me){for(var Ve=_[Me],Ke=0;Ke<Ve.length;Ke++){var Ge=Ve[Ke];if(Ge==null){Ve.splice(Ke,1),Ke--;continue}CV(Ge,{depth:Me,index:Ke})}},P=function(Me,Ve){for(var Ke=dh(Me),Ge=Me.incomers().filter(function(ve){return ve.isNode()&&e.has(ve)}),We=-1,it=Me.id(),ct=0;ct<Ge.length;ct++){var Se=Ge[ct],U=dh(Se);We=Math.max(We,U.depth)}if(Ke.depth<=We){if(!r.acyclic&&Ve[it])return null;var de=We+1;return S(Me,de),Ve[it]=de,!0}return!1};if(a&&o){var L=[],C={},A=function(Me){return L.push(Me)},R=function(){return L.shift()};for(i.forEach(function(xe){return L.push(xe)});L.length>0;){var k=R(),I=P(k,C);if(I)k.outgoers().filter(function(xe){return xe.isNode()&&e.has(xe)}).forEach(A);else if(I===null){jr("Detected double maximal shift for node `"+k.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var B=0;if(r.avoidOverlap)for(var z=0;z<i.length;z++){var W=i[z],$=W.layoutDimensions(r),G=$.w,K=$.h;B=Math.max(B,G,K)}var oe={},te=function(Me){if(oe[Me.id()])return oe[Me.id()];for(var Ve=dh(Me).depth,Ke=Me.neighborhood(),Ge=0,We=0,it=0;it<Ke.length;it++){var ct=Ke[it];if(!(ct.isEdge()||ct.isParent()||!i.has(ct))){var Se=dh(ct);if(Se!=null){var U=Se.index,de=Se.depth;if(!(U==null||de==null)){var ve=_[de].length;de<Ve&&(Ge+=U/ve,We++)}}}}return We=Math.max(1,We),Ge=Ge/We,We===0&&(Ge=0),oe[Me.id()]=Ge,Ge},le=function(Me,Ve){var Ke=te(Me),Ge=te(Ve),We=Ke-Ge;return We===0?nz(Me.id(),Ve.id()):We};r.depthSort!==void 0&&(le=r.depthSort);for(var re=_.length,Q=0;Q<re;Q++)_[Q].sort(le),F(Q);for(var se=[],ee=0;ee<D.length;ee++)se.push(D[ee]);var Z=function(){for(var Me=0;Me<re;Me++)F(Me)};se.length&&(_.unshift(se),re=_.length,Z());for(var ce=0,ye=0;ye<re;ye++)ce=Math.max(_[ye].length,ce);var Te={x:c.x1+c.w/2,y:c.y1+c.h/2},be=i.reduce(function(xe,Me){return function(Ve){return{w:xe.w===-1?Ve.w:(xe.w+Ve.w)/2,h:xe.h===-1?Ve.h:(xe.h+Ve.h)/2}}(Me.boundingBox({includeLabels:r.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),at=Math.max(re===1?0:s?(c.h-r.padding*2-be.h)/(re-1):(c.h-r.padding*2-be.h)/(re+1),B),wt=_.reduce(function(xe,Me){return Math.max(xe,Me.length)},0),$e=function(Me){var Ve=dh(Me),Ke=Ve.depth,Ge=Ve.index;if(r.circle){var We=Math.min(c.w/2/re,c.h/2/re);We=Math.max(We,B);var it=We*Ke+We-(re>0&&_[0].length<=3?We/2:0),ct=2*Math.PI/_[Ke].length*Ge;return Ke===0&&_[0].length===1&&(it=1),{x:Te.x+it*Math.cos(ct),y:Te.y+it*Math.sin(ct)}}else{var Se=_[Ke].length,U=Math.max(Se===1?0:s?(c.w-r.padding*2-be.w)/((r.grid?wt:Se)-1):(c.w-r.padding*2-be.w)/((r.grid?wt:Se)+1),B),de={x:Te.x+(Ge+1-(Se+1)/2)*U,y:Te.y+(Ke+1-(re+1)/2)*at};return de}};return e.nodes().layoutPositions(this,r,$e),this};var vme={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function nq(r){this.options=Ot({},vme,r)}nq.prototype.run=function(){var r=this.options,t=r,e=r.cy,i=t.eles,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=i.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o=ha(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,c=l/Math.max(1,a.length-1),d,u=0,f=0;f<a.length;f++){var m=a[f],g=m.layoutDimensions(t),v=g.w,y=g.h;u=Math.max(u,v,y)}if(Qe(t.radius)?d=t.radius:a.length<=1?d=0:d=Math.min(o.h,o.w)/2-u,a.length>1&&t.avoidOverlap){u*=1.75;var b=Math.cos(c)-Math.cos(0),_=Math.sin(c)-Math.sin(0),w=Math.sqrt(u*u/(b*b+_*_));d=Math.max(w,d)}var E=function(D,T){var O=t.startAngle+T*c*(n?1:-1),F=d*Math.cos(O),P=d*Math.sin(O),L={x:s.x+F,y:s.y+P};return L};return i.nodes().layoutPositions(this,t,E),this};var yme={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function aq(r){this.options=Ot({},yme,r)}aq.prototype.run=function(){for(var r=this.options,t=r,e=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=r.cy,n=t.eles,a=n.nodes().not(":parent"),o=ha(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],c=0,d=0;d<a.length;d++){var u=a[d],f=void 0;f=t.concentric(u),l.push({value:f,node:u}),u._private.scratch.concentric=f}a.updateStyle();for(var m=0;m<a.length;m++){var g=a[m],v=g.layoutDimensions(t);c=Math.max(c,v.w,v.h)}l.sort(function(be,at){return at.value-be.value});for(var y=t.levelWidth(a),b=[[]],_=b[0],w=0;w<l.length;w++){var E=l[w];if(_.length>0){var S=Math.abs(_[0].value-E.value);S>=y&&(_=[],b.push(_))}_.push(E)}var D=c+t.minNodeSpacing;if(!t.avoidOverlap){var T=b.length>0&&b[0].length>1,O=Math.min(o.w,o.h)/2-D,F=O/(b.length+T?1:0);D=Math.min(D,F)}for(var P=0,L=0;L<b.length;L++){var C=b[L],A=t.sweep===void 0?2*Math.PI-2*Math.PI/C.length:t.sweep,R=C.dTheta=A/Math.max(1,C.length-1);if(C.length>1&&t.avoidOverlap){var k=Math.cos(R)-Math.cos(0),I=Math.sin(R)-Math.sin(0),B=Math.sqrt(D*D/(k*k+I*I));P=Math.max(B,P)}C.r=P,P+=D}if(t.equidistant){for(var z=0,W=0,$=0;$<b.length;$++){var G=b[$],K=G.r-W;z=Math.max(z,K)}W=0;for(var oe=0;oe<b.length;oe++){var te=b[oe];oe===0&&(W=te.r),te.r=W,W+=z}}for(var le={},re=0;re<b.length;re++)for(var Q=b[re],se=Q.dTheta,ee=Q.r,Z=0;Z<Q.length;Z++){var ce=Q[Z],ye=t.startAngle+(e?1:-1)*se*Z,Te={x:s.x+ee*Math.cos(ye),y:s.y+ee*Math.sin(ye)};le[ce.node.id()]=Te}return n.nodes().layoutPositions(this,t,function(be){var at=be.id();return le[at]}),this};var yM,bme={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function _0(r){this.options=Ot({},bme,r),this.options.layout=this;var t=this.options.eles.nodes(),e=this.options.eles.edges(),i=e.filter(function(n){var a=n.source().data("id"),o=n.target().data("id"),s=t.some(function(c){return c.data("id")===a}),l=t.some(function(c){return c.data("id")===o});return!s||!l});this.options.eles=this.options.eles.not(i)}_0.prototype.run=function(){var r=this.options,t=r.cy,e=this;e.stopped=!1,(r.animate===!0||r.animate===!1)&&e.emit({type:"layoutstart",layout:e}),r.debug===!0?yM=!0:yM=!1;var i=_me(t,e,r);yM&&wme(i),r.randomize&&Cme(i);var n=qs(),a=function(){Eme(i,t,r),r.fit===!0&&t.fit(r.padding)},o=function(f){return!(e.stopped||f>=r.numIter||(Sme(i,r),i.temperature=i.temperature*r.coolingFactor,i.temperature<r.minTemp))},s=function(){if(r.animate===!0||r.animate===!1)a(),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});else{var f=r.eles.nodes(),m=sq(i,r,f);f.layoutPositions(e,r,m)}},l=0,c=!0;if(r.animate===!0){var d=function(){for(var f=0;c&&f<r.refresh;)c=o(l),l++,f++;if(!c)SV(i,r),s();else{var m=qs();m-n>=r.animationThreshold&&a(),$b(d)}};d()}else{for(;c;)c=o(l),l++;SV(i,r),s()}return this};_0.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};_0.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var _me=function(t,e,i){for(var n=i.eles.edges(),a=i.eles.nodes(),o=ha(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:i.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=i.eles.components(),c={},d=0;d<l.length;d++)for(var u=l[d],f=0;f<u.length;f++){var m=u[f];c[m.id()]=d}for(var d=0;d<s.nodeSize;d++){var g=a[d],v=g.layoutDimensions(i),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=c[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=v.w,y.width=v.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=Di(i.nodeRepulsion)?i.nodeRepulsion(g):i.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=d}for(var b=[],_=0,w=-1,E=[],d=0;d<s.nodeSize;d++){var g=s.layoutNodes[d],S=g.parentId;S!=null?s.layoutNodes[s.idToIndex[S]].children.push(g.id):(b[++w]=g.id,E.push(g.id))}for(s.graphSet.push(E);_<=w;){var D=b[_++],T=s.idToIndex[D],m=s.layoutNodes[T],O=m.children;if(O.length>0){s.graphSet.push(O);for(var d=0;d<O.length;d++)b[++w]=O[d]}}for(var d=0;d<s.graphSet.length;d++)for(var F=s.graphSet[d],f=0;f<F.length;f++){var P=s.idToIndex[F[f]];s.indexToGraph[P]=d}for(var d=0;d<s.edgeSize;d++){var L=n[d],C={};C.id=L.data("id"),C.sourceId=L.data("source"),C.targetId=L.data("target");var A=Di(i.idealEdgeLength)?i.idealEdgeLength(L):i.idealEdgeLength,R=Di(i.edgeElasticity)?i.edgeElasticity(L):i.edgeElasticity,k=s.idToIndex[C.sourceId],I=s.idToIndex[C.targetId],B=s.indexToGraph[k],z=s.indexToGraph[I];if(B!=z){for(var W=xme(C.sourceId,C.targetId,s),$=s.graphSet[W],G=0,y=s.layoutNodes[k];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],G++;for(y=s.layoutNodes[I];$.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],G++;A*=G*i.nestingFactor}C.idealLength=A,C.elasticity=R,s.layoutEdges.push(C)}return s},xme=function(t,e,i){var n=oq(t,e,0,i);return 2>n.count?0:n.graph},oq=function(t,e,i,n){var a=n.graphSet[i];if(-1<a.indexOf(t)&&-1<a.indexOf(e))return{count:2,graph:i};for(var o=0,s=0;s<a.length;s++){var l=a[s],c=n.idToIndex[l],d=n.layoutNodes[c].children;if(d.length!==0){var u=n.indexToGraph[n.idToIndex[d[0]]],f=oq(t,e,u,n);if(f.count!==0)if(f.count===1){if(o++,o===2)break}else return f}}return{count:o,graph:i}},wme,Cme=function(t,e){for(var i=t.clientWidth,n=t.clientHeight,a=0;a<t.nodeSize;a++){var o=t.layoutNodes[a];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*i,o.positionY=Math.random()*n)}},sq=function(t,e,i){var n=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(i.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];a.x1=Math.min(a.x1,s.positionX),a.x2=Math.max(a.x2,s.positionX),a.y1=Math.min(a.y1,s.positionY),a.y2=Math.max(a.y2,s.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(o,s){var l=t.layoutNodes[t.idToIndex[o.data("id")]];if(e.boundingBox){var c=(l.positionX-a.x1)/a.w,d=(l.positionY-a.y1)/a.h;return{x:n.x1+c*n.w,y:n.y1+d*n.h}}else return{x:l.positionX,y:l.positionY}}},Eme=function(t,e,i){var n=i.layout,a=i.eles.nodes(),o=sq(t,i,a);a.positions(o),t.ready!==!0&&(t.ready=!0,n.one("layoutready",i.ready),n.emit({type:"layoutready",layout:this}))},Sme=function(t,e,i){Mme(t,e),Ame(t),Rme(t,e),Ime(t),Ome(t)},Mme=function(t,e){for(var i=0;i<t.graphSet.length;i++)for(var n=t.graphSet[i],a=n.length,o=0;o<a;o++)for(var s=t.layoutNodes[t.idToIndex[n[o]]],l=o+1;l<a;l++){var c=t.layoutNodes[t.idToIndex[n[l]]];Dme(s,c,t,e)}},EV=function(t){return-1+2*t*Math.random()},Dme=function(t,e,i,n){var a=t.cmptId,o=e.cmptId;if(!(a!==o&&!i.isCompound)){var s=e.positionX-t.positionX,l=e.positionY-t.positionY,c=1;s===0&&l===0&&(s=EV(c),l=EV(c));var d=Tme(t,e,s,l);if(d>0)var u=n.nodeOverlap*d,f=Math.sqrt(s*s+l*l),m=u*s/f,g=u*l/f;else var v=e0(t,s,l),y=e0(e,-1*s,-1*l),b=y.x-v.x,_=y.y-v.y,w=b*b+_*_,f=Math.sqrt(w),u=(t.nodeRepulsion+e.nodeRepulsion)/w,m=u*b/f,g=u*_/f;t.isLocked||(t.offsetX-=m,t.offsetY-=g),e.isLocked||(e.offsetX+=m,e.offsetY+=g)}},Tme=function(t,e,i,n){if(i>0)var a=t.maxX-e.minX;else var a=e.maxX-t.minX;if(n>0)var o=t.maxY-e.minY;else var o=e.maxY-t.minY;return a>=0&&o>=0?Math.sqrt(a*a+o*o):0},e0=function(t,e,i){var n=t.positionX,a=t.positionY,o=t.height||1,s=t.width||1,l=i/e,c=o/s,d={};return e===0&&0<i||e===0&&0>i?(d.x=n,d.y=a+o/2,d):0<e&&-1*c<=l&&l<=c?(d.x=n+s/2,d.y=a+s*i/2/e,d):0>e&&-1*c<=l&&l<=c?(d.x=n-s/2,d.y=a-s*i/2/e,d):0<i&&(l<=-1*c||l>=c)?(d.x=n+o*e/2/i,d.y=a+o/2,d):(0>i&&(l<=-1*c||l>=c)&&(d.x=n-o*e/2/i,d.y=a-o/2),d)},Ame=function(t,e){for(var i=0;i<t.edgeSize;i++){var n=t.layoutEdges[i],a=t.idToIndex[n.sourceId],o=t.layoutNodes[a],s=t.idToIndex[n.targetId],l=t.layoutNodes[s],c=l.positionX-o.positionX,d=l.positionY-o.positionY;if(!(c===0&&d===0)){var u=e0(o,c,d),f=e0(l,-1*c,-1*d),m=f.x-u.x,g=f.y-u.y,v=Math.sqrt(m*m+g*g),y=Math.pow(n.idealLength-v,2)/n.elasticity;if(v!==0)var b=y*m/v,_=y*g/v;else var b=0,_=0;o.isLocked||(o.offsetX+=b,o.offsetY+=_),l.isLocked||(l.offsetX-=b,l.offsetY-=_)}}},Rme=function(t,e){if(e.gravity!==0)for(var i=1,n=0;n<t.graphSet.length;n++){var a=t.graphSet[n],o=a.length;if(n===0)var s=t.clientHeight/2,l=t.clientWidth/2;else var c=t.layoutNodes[t.idToIndex[a[0]]],d=t.layoutNodes[t.idToIndex[c.parentId]],s=d.positionX,l=d.positionY;for(var u=0;u<o;u++){var f=t.layoutNodes[t.idToIndex[a[u]]];if(!f.isLocked){var m=s-f.positionX,g=l-f.positionY,v=Math.sqrt(m*m+g*g);if(v>i){var y=e.gravity*m/v,b=e.gravity*g/v;f.offsetX+=y,f.offsetY+=b}}}}},Ime=function(t,e){var i=[],n=0,a=-1;for(i.push.apply(i,t.graphSet[0]),a+=t.graphSet[0].length;n<=a;){var o=i[n++],s=t.idToIndex[o],l=t.layoutNodes[s],c=l.children;if(0<c.length&&!l.isLocked){for(var d=l.offsetX,u=l.offsetY,f=0;f<c.length;f++){var m=t.layoutNodes[t.idToIndex[c[f]]];m.offsetX+=d,m.offsetY+=u,i[++a]=c[f]}l.offsetX=0,l.offsetY=0}}},Ome=function(t,e){for(var i=0;i<t.nodeSize;i++){var n=t.layoutNodes[i];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var i=0;i<t.nodeSize;i++){var n=t.layoutNodes[i];if(!(0<n.children.length||n.isLocked)){var a=kme(n.offsetX,n.offsetY,t.temperature);n.positionX+=a.x,n.positionY+=a.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,lq(n,t)}}for(var i=0;i<t.nodeSize;i++){var n=t.layoutNodes[i];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},kme=function(t,e,i){var n=Math.sqrt(t*t+e*e);if(n>i)var a={x:i*t/n,y:i*e/n};else var a={x:t,y:e};return a},lq=function(t,e){var i=t.parentId;if(i!=null){var n=e.layoutNodes[e.idToIndex[i]],a=!1;if((n.maxX==null||t.maxX+n.padRight>n.maxX)&&(n.maxX=t.maxX+n.padRight,a=!0),(n.minX==null||t.minX-n.padLeft<n.minX)&&(n.minX=t.minX-n.padLeft,a=!0),(n.maxY==null||t.maxY+n.padBottom>n.maxY)&&(n.maxY=t.maxY+n.padBottom,a=!0),(n.minY==null||t.minY-n.padTop<n.minY)&&(n.minY=t.minY-n.padTop,a=!0),a)return lq(n,e)}},SV=function(t,e){for(var i=t.layoutNodes,n=[],a=0;a<i.length;a++){var o=i[a],s=o.cmptId,l=n[s]=n[s]||[];l.push(o)}for(var c=0,a=0;a<n.length;a++){var d=n[a];if(d){d.x1=1/0,d.x2=-1/0,d.y1=1/0,d.y2=-1/0;for(var u=0;u<d.length;u++){var f=d[u];d.x1=Math.min(d.x1,f.positionX-f.width/2),d.x2=Math.max(d.x2,f.positionX+f.width/2),d.y1=Math.min(d.y1,f.positionY-f.height/2),d.y2=Math.max(d.y2,f.positionY+f.height/2)}d.w=d.x2-d.x1,d.h=d.y2-d.y1,c+=d.w*d.h}}n.sort(function(_,w){return w.w*w.h-_.w*_.h});for(var m=0,g=0,v=0,y=0,b=Math.sqrt(c)*t.clientWidth/t.clientHeight,a=0;a<n.length;a++){var d=n[a];if(d){for(var u=0;u<d.length;u++){var f=d[u];f.isLocked||(f.positionX+=m-d.x1,f.positionY+=g-d.y1)}m+=d.w+e.componentSpacing,v+=d.w+e.componentSpacing,y=Math.max(y,d.h),v>b&&(g+=y+e.componentSpacing,m=0,v=0,y=0)}}},Pme={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function cq(r){this.options=Ot({},Pme,r)}cq.prototype.run=function(){var r=this.options,t=r,e=r.cy,i=t.eles,n=i.nodes().not(":parent");t.sort&&(n=n.sort(t.sort));var a=ha(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});if(a.h===0||a.w===0)i.nodes().layoutPositions(this,t,function(oe){return{x:a.x1,y:a.y1}});else{var o=n.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),c=Math.round(a.w/a.h*s),d=function(te){if(te==null)return Math.min(l,c);var le=Math.min(l,c);le==l?l=te:c=te},u=function(te){if(te==null)return Math.max(l,c);var le=Math.max(l,c);le==l?l=te:c=te},f=t.rows,m=t.cols!=null?t.cols:t.columns;if(f!=null&&m!=null)l=f,c=m;else if(f!=null&&m==null)l=f,c=Math.ceil(o/l);else if(f==null&&m!=null)c=m,l=Math.ceil(o/c);else if(c*l>o){var g=d(),v=u();(g-1)*v>=o?d(g-1):(v-1)*g>=o&&u(v-1)}else for(;c*l<o;){var y=d(),b=u();(b+1)*y>=o?u(b+1):d(y+1)}var _=a.w/c,w=a.h/l;if(t.condense&&(_=0,w=0),t.avoidOverlap)for(var E=0;E<n.length;E++){var S=n[E],D=S._private.position;(D.x==null||D.y==null)&&(D.x=0,D.y=0);var T=S.layoutDimensions(t),O=t.avoidOverlapPadding,F=T.w+O,P=T.h+O;_=Math.max(_,F),w=Math.max(w,P)}for(var L={},C=function(te,le){return!!L["c-"+te+"-"+le]},A=function(te,le){L["c-"+te+"-"+le]=!0},R=0,k=0,I=function(){k++,k>=c&&(k=0,R++)},B={},z=0;z<n.length;z++){var W=n[z],$=t.position(W);if($&&($.row!==void 0||$.col!==void 0)){var G={row:$.row,col:$.col};if(G.col===void 0)for(G.col=0;C(G.row,G.col);)G.col++;else if(G.row===void 0)for(G.row=0;C(G.row,G.col);)G.row++;B[W.id()]=G,A(G.row,G.col)}}var K=function(te,le){var re,Q;if(te.locked()||te.isParent())return!1;var se=B[te.id()];if(se)re=se.col*_+_/2+a.x1,Q=se.row*w+w/2+a.y1;else{for(;C(R,k);)I();re=k*_+_/2+a.x1,Q=R*w+w/2+a.y1,A(R,k),I()}return{x:re,y:Q}};n.layoutPositions(this,t,K)}return this};var Lme={ready:function(){},stop:function(){}};function sD(r){this.options=Ot({},Lme,r)}sD.prototype.run=function(){var r=this.options,t=r.eles,e=this;return r.cy,e.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),e.one("layoutready",r.ready),e.emit("layoutready"),e.one("layoutstop",r.stop),e.emit("layoutstop"),this};sD.prototype.stop=function(){return this};var Fme={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function dq(r){this.options=Ot({},Fme,r)}dq.prototype.run=function(){var r=this.options,t=r.eles,e=t.nodes(),i=Di(r.positions);function n(a){if(r.positions==null)return oue(a.position());if(i)return r.positions(a);var o=r.positions[a._private.data.id];return o??null}return e.layoutPositions(this,r,function(a,o){var s=n(a);return a.locked()||s==null?!1:s}),this};var Nme={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function uq(r){this.options=Ot({},Nme,r)}uq.prototype.run=function(){var r=this.options,t=r.cy,e=r.eles,i=ha(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),n=function(o,s){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}};return e.nodes().layoutPositions(this,r,n),this};var Bme=[{name:"breadthfirst",impl:iq},{name:"circle",impl:nq},{name:"concentric",impl:aq},{name:"cose",impl:_0},{name:"grid",impl:cq},{name:"null",impl:sD},{name:"preset",impl:dq},{name:"random",impl:uq}];function hq(r){this.options=r,this.notifications=0}var MV=function(){},DV=function(){throw new Error("A headless instance can not render images")};hq.prototype={recalculateRenderedStyle:MV,notify:function(){this.notifications++},init:MV,isHeadless:function(){return!0},png:DV,jpg:DV};var lD={};lD.arrowShapeWidth=.3;lD.registerArrowShapes=function(){var r=this.arrowShapes={},t=this,e=function(c,d,u,f,m,g,v){var y=m.x-u/2-v,b=m.x+u/2+v,_=m.y-u/2-v,w=m.y+u/2+v,E=y<=c&&c<=b&&_<=d&&d<=w;return E},i=function(c,d,u,f,m){var g=c*Math.cos(f)-d*Math.sin(f),v=c*Math.sin(f)+d*Math.cos(f),y=g*u,b=v*u,_=y+m.x,w=b+m.y;return{x:_,y:w}},n=function(c,d,u,f){for(var m=[],g=0;g<c.length;g+=2){var v=c[g],y=c[g+1];m.push(i(v,y,d,u,f))}return m},a=function(c){for(var d=[],u=0;u<c.length;u++){var f=c[u];d.push(f.x,f.y)}return d},o=function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").pfValue*2},s=function(c,d){Tt(d)&&(d=r[d]),r[c]=Ot({name:c,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(f,m,g,v,y,b){var _=a(n(this.points,g+2*b,v,y)),w=ua(f,m,_);return w},roughCollide:e,draw:function(f,m,g,v){var y=n(this.points,m,g,v);t.arrowShapeImpl("polygon")(f,y)},spacing:function(f){return 0},gap:o},d)};s("none",{collide:Yb,roughCollide:Yb,draw:YM,spacing:H2,gap:H2}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:e,draw:function(c,d,u,f,m){var g=n(this.points,d,u,f),v=this.controlPoint,y=i(v[0],v[1],d,u,f);t.arrowShapeImpl(this.name)(c,g,y)},gap:function(c){return o(c)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(c,d,u,f,m,g,v){var y=a(n(this.points,u+2*v,f,m)),b=a(n(this.pointsTee,u+2*v,f,m)),_=ua(c,d,y)||ua(c,d,b);return _},draw:function(c,d,u,f,m){var g=n(this.points,d,u,f),v=n(this.pointsTee,d,u,f);t.arrowShapeImpl(this.name)(c,g,v)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(c,d,u,f,m,g,v){var y=m,b=Math.pow(y.x-c,2)+Math.pow(y.y-d,2)<=Math.pow((u+2*v)*this.radius,2),_=a(n(this.points,u+2*v,f,m));return ua(c,d,_)||b},draw:function(c,d,u,f,m){var g=n(this.pointsTr,d,u,f);t.arrowShapeImpl(this.name)(c,g,f.x,f.y,this.radius*d)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(c,d){var u=this.baseCrossLinePts.slice(),f=d/c,m=3,g=5;return u[m]=u[m]-f,u[g]=u[g]-f,u},collide:function(c,d,u,f,m,g,v){var y=a(n(this.points,u+2*v,f,m)),b=a(n(this.crossLinePts(u,g),u+2*v,f,m)),_=ua(c,d,y)||ua(c,d,b);return _},draw:function(c,d,u,f,m){var g=n(this.points,d,u,f),v=n(this.crossLinePts(d,m),d,u,f);t.arrowShapeImpl(this.name)(c,g,v)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(c){return o(c)*.525}}),s("circle",{radius:.15,collide:function(c,d,u,f,m,g,v){var y=m,b=Math.pow(y.x-c,2)+Math.pow(y.y-d,2)<=Math.pow((u+2*v)*this.radius,2);return b},draw:function(c,d,u,f,m){t.arrowShapeImpl(this.name)(c,f.x,f.y,this.radius*d)},spacing:function(c){return t.getArrowWidth(c.pstyle("width").pfValue,c.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(c){return 1},gap:function(c){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(c){return c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(c){return .95*c.pstyle("width").pfValue*c.pstyle("arrow-scale").value}})};var Sd={};Sd.projectIntoViewport=function(r,t){var e=this.cy,i=this.findContainerClientCoords(),n=i[0],a=i[1],o=i[4],s=e.pan(),l=e.zoom(),c=((r-n)/o-s.x)/l,d=((t-a)/o-s.y)/l;return[c,d]};Sd.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,t=r.getBoundingClientRect(),e=this.cy.window().getComputedStyle(r),i=function(b){return parseFloat(e.getPropertyValue(b))},n={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},o=r.clientWidth,s=r.clientHeight,l=n.left+n.right,c=n.top+n.bottom,d=a.left+a.right,u=t.width/(o+d),f=o-l,m=s-c,g=t.left+n.left+a.left,v=t.top+n.top+a.top;return this.containerBB=[g,v,f,m,u]};Sd.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Sd.findNearestElement=function(r,t,e,i){return this.findNearestElements(r,t,e,i)[0]};Sd.findNearestElements=function(r,t,e,i){var n=this,a=this,o=a.getCachedZSortedEles(),s=[],l=a.cy.zoom(),c=a.cy.hasCompoundNodes(),d=(i?24:8)/l,u=(i?8:2)/l,f=(i?8:2)/l,m=1/0,g,v;e&&(o=o.interactive);function y(T,O){if(T.isNode()){if(v)return;v=T,s.push(T)}if(T.isEdge()&&(O==null||O<m))if(g){if(g.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value&&g.pstyle("z-compound-depth").value===T.pstyle("z-compound-depth").value){for(var F=0;F<s.length;F++)if(s[F].isEdge()){s[F]=T,g=T,m=O??m;break}}}else s.push(T),g=T,m=O??m}function b(T){var O=T.outerWidth()+2*u,F=T.outerHeight()+2*u,P=O/2,L=F/2,C=T.position(),A=T.pstyle("corner-radius").value==="auto"?"auto":T.pstyle("corner-radius").pfValue,R=T._private.rscratch;if(C.x-P<=r&&r<=C.x+P&&C.y-L<=t&&t<=C.y+L){var k=a.nodeShapes[n.getNodeShape(T)];if(k.checkPoint(r,t,0,O,F,C.x,C.y,A,R))return y(T,0),!0}}function _(T){var O=T._private,F=O.rscratch,P=T.pstyle("width").pfValue,L=T.pstyle("arrow-scale").value,C=P/2+d,A=C*C,R=C*2,z=O.source,W=O.target,k;if(F.edgeType==="segments"||F.edgeType==="straight"||F.edgeType==="haystack"){for(var I=F.allpts,B=0;B+3<I.length;B+=2)if(bue(r,t,I[B],I[B+1],I[B+2],I[B+3],R)&&A>(k=Eue(r,t,I[B],I[B+1],I[B+2],I[B+3])))return y(T,k),!0}else if(F.edgeType==="bezier"||F.edgeType==="multibezier"||F.edgeType==="self"||F.edgeType==="compound"){for(var I=F.allpts,B=0;B+5<F.allpts.length;B+=4)if(_ue(r,t,I[B],I[B+1],I[B+2],I[B+3],I[B+4],I[B+5],R)&&A>(k=Cue(r,t,I[B],I[B+1],I[B+2],I[B+3],I[B+4],I[B+5])))return y(T,k),!0}for(var z=z||O.source,W=W||O.target,$=n.getArrowWidth(P,L),G=[{name:"source",x:F.arrowStartX,y:F.arrowStartY,angle:F.srcArrowAngle},{name:"target",x:F.arrowEndX,y:F.arrowEndY,angle:F.tgtArrowAngle},{name:"mid-source",x:F.midX,y:F.midY,angle:F.midsrcArrowAngle},{name:"mid-target",x:F.midX,y:F.midY,angle:F.midtgtArrowAngle}],B=0;B<G.length;B++){var K=G[B],oe=a.arrowShapes[T.pstyle(K.name+"-arrow-shape").value],te=T.pstyle("width").pfValue;if(oe.roughCollide(r,t,$,K.angle,{x:K.x,y:K.y},te,d)&&oe.collide(r,t,$,K.angle,{x:K.x,y:K.y},te,d))return y(T),!0}c&&s.length>0&&(b(z),b(W))}function w(T,O,F){return Io(T,O,F)}function E(T,O){var F=T._private,P=f,L;O?L=O+"-":L="",T.boundingBox();var C=F.labelBounds[O||"main"],A=T.pstyle(L+"label").value,R=T.pstyle("text-events").strValue==="yes";if(!(!R||!A)){var k=w(F.rscratch,"labelX",O),I=w(F.rscratch,"labelY",O),B=w(F.rscratch,"labelAngle",O),z=T.pstyle(L+"text-margin-x").pfValue,W=T.pstyle(L+"text-margin-y").pfValue,$=C.x1-P-z,G=C.x2+P-z,K=C.y1-P-W,oe=C.y2+P-W;if(B){var te=Math.cos(B),le=Math.sin(B),re=function(Te,be){return Te=Te-k,be=be-I,{x:Te*te-be*le+k,y:Te*le+be*te+I}},Q=re($,K),se=re($,oe),ee=re(G,K),Z=re(G,oe),ce=[Q.x+z,Q.y+W,ee.x+z,ee.y+W,Z.x+z,Z.y+W,se.x+z,se.y+W];if(ua(r,t,ce))return y(T),!0}else if(wh(C,r,t))return y(T),!0}}for(var S=o.length-1;S>=0;S--){var D=o[S];D.isNode()?b(D)||E(D):_(D)||E(D)||E(D,"source")||E(D,"target")}return s};Sd.getAllInBox=function(r,t,e,i){var n=this.getCachedZSortedEles().interactive,a=[],o=Math.min(r,e),s=Math.max(r,e),l=Math.min(t,i),c=Math.max(t,i);r=o,e=s,t=l,i=c;for(var d=ha({x1:r,y1:t,x2:e,y2:i}),u=0;u<n.length;u++){var f=n[u];if(f.isNode()){var m=f,g=m.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ZM(d,g)&&!_z(g,d)&&a.push(m)}else{var v=f,y=v._private,b=y.rscratch;if(b.startX!=null&&b.startY!=null&&!wh(d,b.startX,b.startY)||b.endX!=null&&b.endY!=null&&!wh(d,b.endX,b.endY))continue;if(b.edgeType==="bezier"||b.edgeType==="multibezier"||b.edgeType==="self"||b.edgeType==="compound"||b.edgeType==="segments"||b.edgeType==="haystack"){for(var _=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,w=!0,E=0;E<_.length;E++)if(!yue(d,_[E])){w=!1;break}w&&a.push(v)}else(b.edgeType==="haystack"||b.edgeType==="straight")&&a.push(v)}}return a};var t0={};t0.calculateArrowAngles=function(r){var t=r._private.rscratch,e=t.edgeType==="haystack",i=t.edgeType==="bezier",n=t.edgeType==="multibezier",a=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",l,c,d,u,f,m,b,_;if(e?(d=t.haystackPts[0],u=t.haystackPts[1],f=t.haystackPts[2],m=t.haystackPts[3]):(d=t.arrowStartX,u=t.arrowStartY,f=t.arrowEndX,m=t.arrowEndY),b=t.midX,_=t.midY,a)l=d-t.segpts[0],c=u-t.segpts[1];else if(n||o||s||i){var g=t.allpts,v=bn(g[0],g[2],g[4],.1),y=bn(g[1],g[3],g[5],.1);l=d-v,c=u-y}else l=d-b,c=u-_;t.srcArrowAngle=Eb(l,c);var b=t.midX,_=t.midY;if(e&&(b=(d+f)/2,_=(u+m)/2),l=f-d,c=m-u,a){var g=t.allpts;if(g.length/2%2===0){var w=g.length/2,E=w-2;l=g[w]-g[E],c=g[w+1]-g[E+1]}else if(t.isRound)l=t.midVector[1],c=-t.midVector[0];else{var w=g.length/2-1,E=w-2;l=g[w]-g[E],c=g[w+1]-g[E+1]}}else if(n||o||s){var g=t.allpts,S=t.ctrlpts,D,T,O,F;if(S.length/2%2===0){var P=g.length/2-1,L=P+2,C=L+2;D=bn(g[P],g[L],g[C],0),T=bn(g[P+1],g[L+1],g[C+1],0),O=bn(g[P],g[L],g[C],1e-4),F=bn(g[P+1],g[L+1],g[C+1],1e-4)}else{var L=g.length/2-1,P=L-2,C=L+2;D=bn(g[P],g[L],g[C],.4999),T=bn(g[P+1],g[L+1],g[C+1],.4999),O=bn(g[P],g[L],g[C],.5),F=bn(g[P+1],g[L+1],g[C+1],.5)}l=O-D,c=F-T}if(t.midtgtArrowAngle=Eb(l,c),t.midDispX=l,t.midDispY=c,l*=-1,c*=-1,a){var g=t.allpts;if(g.length/2%2!==0){if(!t.isRound){var w=g.length/2-1,A=w+2;l=-(g[A]-g[w]),c=-(g[A+1]-g[w+1])}}}if(t.midsrcArrowAngle=Eb(l,c),a)l=f-t.segpts[t.segpts.length-2],c=m-t.segpts[t.segpts.length-1];else if(n||o||s||i){var g=t.allpts,R=g.length,v=bn(g[R-6],g[R-4],g[R-2],.9),y=bn(g[R-5],g[R-3],g[R-1],.9);l=f-v,c=m-y}else l=f-b,c=m-_;t.tgtArrowAngle=Eb(l,c)};t0.getArrowWidth=t0.getArrowHeight=function(r,t){var e=this.arrowWidthCache=this.arrowWidthCache||{},i=e[r+", "+t];return i||(i=Math.max(Math.pow(r*13.37,.9),29)*t,e[r+", "+t]=i,i)};var LM,FM,Jo={},so={},TV,AV,yd,Hb,Vs,fd,vd,Qo,uh,Ob,fq,mq,NM,BM,RV,IV=function(t,e,i){i.x=e.x-t.x,i.y=e.y-t.y,i.len=Math.sqrt(i.x*i.x+i.y*i.y),i.nx=i.x/i.len,i.ny=i.y/i.len,i.ang=Math.atan2(i.ny,i.nx)},Vme=function(t,e){e.x=t.x*-1,e.y=t.y*-1,e.nx=t.nx*-1,e.ny=t.ny*-1,e.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},zme=function(t,e,i,n,a){if(t!==RV?IV(e,t,Jo):Vme(so,Jo),IV(e,i,so),TV=Jo.nx*so.ny-Jo.ny*so.nx,AV=Jo.nx*so.nx-Jo.ny*-so.ny,Vs=Math.asin(Math.max(-1,Math.min(1,TV))),Math.abs(Vs)<1e-6){LM=e.x,FM=e.y,vd=uh=0;return}yd=1,Hb=!1,AV<0?Vs<0?Vs=Math.PI+Vs:(Vs=Math.PI-Vs,yd=-1,Hb=!0):Vs>0&&(yd=-1,Hb=!0),e.radius!==void 0?uh=e.radius:uh=n,fd=Vs/2,Ob=Math.min(Jo.len/2,so.len/2),a?(Qo=Math.abs(Math.cos(fd)*uh/Math.sin(fd)),Qo>Ob?(Qo=Ob,vd=Math.abs(Qo*Math.sin(fd)/Math.cos(fd))):vd=uh):(Qo=Math.min(Ob,uh),vd=Math.abs(Qo*Math.sin(fd)/Math.cos(fd))),NM=e.x+so.nx*Qo,BM=e.y+so.ny*Qo,LM=NM-so.ny*vd*yd,FM=BM+so.nx*vd*yd,fq=e.x+Jo.nx*Qo,mq=e.y+Jo.ny*Qo,RV=e};function pq(r,t){t.radius===0?r.lineTo(t.cx,t.cy):r.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function cD(r,t,e,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return i===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(zme(r,t,e,i,n),{cx:LM,cy:FM,radius:vd,startX:fq,startY:mq,stopX:NM,stopY:BM,startAngle:Jo.ang+Math.PI/2*yd,endAngle:so.ang-Math.PI/2*yd,counterClockwise:Hb})}var Hn={};Hn.findMidptPtsEtc=function(r,t){var e=t.posPts,i=t.intersectionPts,n=t.vectorNormInverse,a,o=r.pstyle("source-endpoint"),s=r.pstyle("target-endpoint"),l=o.units!=null&&s.units!=null,c=function(S,D,T,O){var F=O-D,P=T-S,L=Math.sqrt(P*P+F*F);return{x:-F/L,y:P/L}},d=r.pstyle("edge-distances").value;switch(d){case"node-position":a=e;break;case"intersection":a=i;break;case"endpoints":{if(l){var u=this.manualEndptToPx(r.source()[0],o),f=_n(u,2),m=f[0],g=f[1],v=this.manualEndptToPx(r.target()[0],s),y=_n(v,2),b=y[0],_=y[1],w={x1:m,y1:g,x2:b,y2:_};n=c(m,g,b,_),a=w}else jr("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=i;break}}return{midptPts:a,vectorNormInverse:n}};Hn.findHaystackPoints=function(r){for(var t=0;t<r.length;t++){var e=r[t],i=e._private,n=i.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var o=i.source,s=i.target,l=o.position(),c=s.position(),d=o.width(),u=s.width(),f=o.height(),m=s.height(),g=e.pstyle("haystack-radius").value,v=g/2;n.haystackPts=n.allpts=[n.source.x*d*v+l.x,n.source.y*f*v+l.y,n.target.x*u*v+c.x,n.target.y*m*v+c.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(e),this.calculateArrowAngles(e),this.recalculateEdgeLabelProjections(e),this.calculateLabelAngles(e)}};Hn.findSegmentsPoints=function(r,t){var e=r._private.rscratch,i=r.pstyle("segment-weights"),n=r.pstyle("segment-distances"),a=r.pstyle("segment-radii"),o=r.pstyle("radius-type"),s=Math.min(i.pfValue.length,n.pfValue.length),l=a.pfValue[a.pfValue.length-1],c=o.pfValue[o.pfValue.length-1];e.edgeType="segments",e.segpts=[],e.radii=[],e.isArcRadius=[];for(var d=0;d<s;d++){var u=i.pfValue[d],f=n.pfValue[d],m=1-u,g=u,v=this.findMidptPtsEtc(r,t),y=v.midptPts,b=v.vectorNormInverse,_={x:y.x1*m+y.x2*g,y:y.y1*m+y.y2*g};e.segpts.push(_.x+b.x*f,_.y+b.y*f),e.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:l),e.isArcRadius.push((o.pfValue[d]!==void 0?o.pfValue[d]:c)==="arc-radius")}};Hn.findLoopPoints=function(r,t,e,i){var n=r._private.rscratch,a=t.dirCounts,o=t.srcPos,s=r.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,c=r.pstyle("loop-direction").pfValue,d=r.pstyle("loop-sweep").pfValue,u=r.pstyle("control-point-step-size").pfValue;n.edgeType="self";var f=e,m=u;i&&(f=0,m=l);var g=c-Math.PI/2,v=g-d/2,y=g+d/2,b=c+"_"+d;f=a[b]===void 0?a[b]=0:++a[b],n.ctrlpts=[o.x+Math.cos(v)*1.4*m*(f/3+1),o.y+Math.sin(v)*1.4*m*(f/3+1),o.x+Math.cos(y)*1.4*m*(f/3+1),o.y+Math.sin(y)*1.4*m*(f/3+1)]};Hn.findCompoundLoopPoints=function(r,t,e,i){var n=r._private.rscratch;n.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,c=t.tgtW,d=t.tgtH,u=r.pstyle("control-point-step-size").pfValue,f=r.pstyle("control-point-distances"),m=f?f.pfValue[0]:void 0,g=e,v=u;i&&(g=0,v=m);var y=50,b={x:a.x-s/2,y:a.y-l/2},_={x:o.x-c/2,y:o.y-d/2},w={x:Math.min(b.x,_.x),y:Math.min(b.y,_.y)},E=.5,S=Math.max(E,Math.log(s*.01)),D=Math.max(E,Math.log(c*.01));n.ctrlpts=[w.x,w.y-(1+Math.pow(y,1.12)/100)*v*(g/3+1)*S,w.x-(1+Math.pow(y,1.12)/100)*v*(g/3+1)*D,w.y]};Hn.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};Hn.findBezierPoints=function(r,t,e,i,n){var a=r._private.rscratch,o=r.pstyle("control-point-step-size").pfValue,s=r.pstyle("control-point-distances"),l=r.pstyle("control-point-weights"),c=s&&l?Math.min(s.value.length,l.value.length):1,d=s?s.pfValue[0]:void 0,u=l.value[0],f=i;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var m=0;m<c;m++){var g=(.5-t.eles.length/2+e)*o*(n?-1:1),v=void 0,y=yz(g);f&&(d=s?s.pfValue[m]:o,u=l.value[m]),i?v=d:v=d!==void 0?y*d:void 0;var b=v!==void 0?v:g,_=1-u,w=u,E=this.findMidptPtsEtc(r,t),S=E.midptPts,D=E.vectorNormInverse,T={x:S.x1*_+S.x2*w,y:S.y1*_+S.y2*w};a.ctrlpts.push(T.x+D.x*b,T.y+D.y*b)}};Hn.findTaxiPoints=function(r,t){var e=r._private.rscratch;e.edgeType="segments";var i="vertical",n="horizontal",a="leftward",o="rightward",s="downward",l="upward",c="auto",d=t.posPts,u=t.srcW,f=t.srcH,m=t.tgtW,g=t.tgtH,v=r.pstyle("edge-distances").value,y=v!=="node-position",b=r.pstyle("taxi-direction").value,_=b,w=r.pstyle("taxi-turn"),E=w.units==="%",S=w.pfValue,D=S<0,T=r.pstyle("taxi-turn-min-distance").pfValue,O=y?(u+m)/2:0,F=y?(f+g)/2:0,P=d.x2-d.x1,L=d.y2-d.y1,C=function(ne,pe){return ne>0?Math.max(ne-pe,0):Math.min(ne+pe,0)},A=C(P,O),R=C(L,F),k=!1;_===c?b=Math.abs(A)>Math.abs(R)?n:i:_===l||_===s?(b=i,k=!0):(_===a||_===o)&&(b=n,k=!0);var I=b===i,B=I?R:A,z=I?L:P,W=yz(z),$=!1;!(k&&(E||D))&&(_===s&&z<0||_===l&&z>0||_===a&&z>0||_===o&&z<0)&&(W*=-1,B=W*Math.abs(B),$=!0);var G;if(E){var K=S<0?1+S:S;G=K*B}else{var oe=S<0?B:0;G=oe+S*W}var te=function(ne){return Math.abs(ne)<T||Math.abs(ne)>=Math.abs(B)},le=te(G),re=te(Math.abs(B)-Math.abs(G)),Q=le||re;if(Q&&!$)if(I){var se=Math.abs(z)<=f/2,ee=Math.abs(P)<=m/2;if(se){var Z=(d.x1+d.x2)/2,ce=d.y1,ye=d.y2;e.segpts=[Z,ce,Z,ye]}else if(ee){var Te=(d.y1+d.y2)/2,be=d.x1,at=d.x2;e.segpts=[be,Te,at,Te]}else e.segpts=[d.x1,d.y2]}else{var wt=Math.abs(z)<=u/2,$e=Math.abs(L)<=g/2;if(wt){var xe=(d.y1+d.y2)/2,Me=d.x1,Ve=d.x2;e.segpts=[Me,xe,Ve,xe]}else if($e){var Ke=(d.x1+d.x2)/2,Ge=d.y1,We=d.y2;e.segpts=[Ke,Ge,Ke,We]}else e.segpts=[d.x2,d.y1]}else if(I){var it=d.y1+G+(y?f/2*W:0),ct=d.x1,Se=d.x2;e.segpts=[ct,it,Se,it]}else{var U=d.x1+G+(y?u/2*W:0),de=d.y1,ve=d.y2;e.segpts=[U,de,U,ve]}if(e.isRound){var Y=r.pstyle("taxi-radius").value,X=r.pstyle("radius-type").value[0]==="arc-radius";e.radii=new Array(e.segpts.length/2).fill(Y),e.isArcRadius=new Array(e.segpts.length/2).fill(X)}};Hn.tryToCorrectInvalidPoints=function(r,t){var e=r._private.rscratch;if(e.edgeType==="bezier"){var i=t.srcPos,n=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,c=t.srcShape,d=t.tgtShape,u=t.srcCornerRadius,f=t.tgtCornerRadius,m=t.srcRs,g=t.tgtRs,v=!Qe(e.startX)||!Qe(e.startY),y=!Qe(e.arrowStartX)||!Qe(e.arrowStartY),b=!Qe(e.endX)||!Qe(e.endY),_=!Qe(e.arrowEndX)||!Qe(e.arrowEndY),w=3,E=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,S=w*E,D=_d({x:e.ctrlpts[0],y:e.ctrlpts[1]},{x:e.startX,y:e.startY}),T=D<S,O=_d({x:e.ctrlpts[0],y:e.ctrlpts[1]},{x:e.endX,y:e.endY}),F=O<S,P=!1;if(v||y||T){P=!0;var L={x:e.ctrlpts[0]-i.x,y:e.ctrlpts[1]-i.y},C=Math.sqrt(L.x*L.x+L.y*L.y),A={x:L.x/C,y:L.y/C},R=Math.max(a,o),k={x:e.ctrlpts[0]+A.x*2*R,y:e.ctrlpts[1]+A.y*2*R},I=c.intersectLine(i.x,i.y,a,o,k.x,k.y,0,u,m);T?(e.ctrlpts[0]=e.ctrlpts[0]+A.x*(S-D),e.ctrlpts[1]=e.ctrlpts[1]+A.y*(S-D)):(e.ctrlpts[0]=I[0]+A.x*S,e.ctrlpts[1]=I[1]+A.y*S)}if(b||_||F){P=!0;var B={x:e.ctrlpts[0]-n.x,y:e.ctrlpts[1]-n.y},z=Math.sqrt(B.x*B.x+B.y*B.y),W={x:B.x/z,y:B.y/z},$=Math.max(a,o),G={x:e.ctrlpts[0]+W.x*2*$,y:e.ctrlpts[1]+W.y*2*$},K=d.intersectLine(n.x,n.y,s,l,G.x,G.y,0,f,g);F?(e.ctrlpts[0]=e.ctrlpts[0]+W.x*(S-O),e.ctrlpts[1]=e.ctrlpts[1]+W.y*(S-O)):(e.ctrlpts[0]=K[0]+W.x*S,e.ctrlpts[1]=K[1]+W.y*S)}P&&this.findEndpoints(r)}};Hn.storeAllpts=function(r){var t=r._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var e=0;e+1<t.ctrlpts.length;e+=2)t.allpts.push(t.ctrlpts[e],t.ctrlpts[e+1]),e+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[e]+t.ctrlpts[e+2])/2,(t.ctrlpts[e+1]+t.ctrlpts[e+3])/2);t.allpts.push(t.endX,t.endY);var i,n;t.ctrlpts.length/2%2===0?(i=t.allpts.length/2-1,t.midX=t.allpts[i],t.midY=t.allpts[i+1]):(i=t.allpts.length/2-3,n=.5,t.midX=bn(t.allpts[i],t.allpts[i+2],t.allpts[i+4],n),t.midY=bn(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],n))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var o=t.radii[a/2-1],s=t.isArcRadius[a/2-1];t.roundCorners.push(cD({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:o},{x:t.allpts[a+2],y:t.allpts[a+3]},o,s))}}if(t.segpts.length%4===0){var l=t.segpts.length/2,c=l-2;t.midX=(t.segpts[c]+t.segpts[l])/2,t.midY=(t.segpts[c+1]+t.segpts[l+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var u={x:t.segpts[d],y:t.segpts[d+1]},f=t.roundCorners[d/2];if(f.radius===0){var m={x:t.segpts[d+2],y:t.segpts[d+3]};t.midX=u.x,t.midY=u.y,t.midVector=[u.y-m.y,m.x-u.x]}else{var g=[u.x-f.cx,u.y-f.cy],v=f.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*v}),t.midX=f.cx+g[0],t.midY=f.cy+g[1],t.midVector=g}}}}};Hn.checkForInvalidEdgeWarning=function(r){var t=r[0]._private.rscratch;t.nodesOverlap||Qe(t.startX)&&Qe(t.startY)&&Qe(t.endX)&&Qe(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,jr("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Hn.findEdgeControlPoints=function(r){var t=this;if(!(!r||r.length===0)){for(var e=this,i=e.cy,n=i.hasCompoundNodes(),a=new zs,o=function(F,P){return[].concat(QV(F),[P?1:0]).join("-")},s=[],l=[],c=0;c<r.length;c++){var d=r[c],u=d._private,f=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(f==="haystack"){l.push(d);continue}var m=f==="unbundled-bezier"||f.endsWith("segments")||f==="straight"||f==="straight-triangle"||f.endsWith("taxi"),g=f==="unbundled-bezier"||f==="bezier",v=u.source,y=u.target,b=v.poolIndex(),_=y.poolIndex(),w=[b,_].sort(),E=o(w,m),S=a.get(E);S==null&&(S={eles:[]},s.push({pairId:w,edgeIsUnbundled:m}),a.set(E,S)),S.eles.push(d),m&&(S.hasUnbundled=!0),g&&(S.hasBezier=!0)}}for(var D=function(){var F=s[T],P=F.pairId,L=F.edgeIsUnbundled,C=o(P,L),A=a.get(C),R;if(!A.hasUnbundled){var k=A.eles[0].parallelEdges().filter(function(X){return X.isBundledBezier()});XM(A.eles),k.forEach(function(X){return A.eles.push(X)}),A.eles.sort(function(X,me){return X.poolIndex()-me.poolIndex()})}var I=A.eles[0],B=I.source(),z=I.target();if(B.poolIndex()>z.poolIndex()){var W=B;B=z,z=W}var $=A.srcPos=B.position(),G=A.tgtPos=z.position(),K=A.srcW=B.outerWidth(),oe=A.srcH=B.outerHeight(),te=A.tgtW=z.outerWidth(),le=A.tgtH=z.outerHeight(),re=A.srcShape=e.nodeShapes[t.getNodeShape(B)],Q=A.tgtShape=e.nodeShapes[t.getNodeShape(z)],se=A.srcCornerRadius=B.pstyle("corner-radius").value==="auto"?"auto":B.pstyle("corner-radius").pfValue,ee=A.tgtCornerRadius=z.pstyle("corner-radius").value==="auto"?"auto":z.pstyle("corner-radius").pfValue,Z=A.tgtRs=z._private.rscratch,ce=A.srcRs=B._private.rscratch;A.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ye=0;ye<A.eles.length;ye++){var Te=A.eles[ye],be=Te[0]._private.rscratch,at=Te.pstyle("curve-style").value,wt=at==="unbundled-bezier"||at.endsWith("segments")||at.endsWith("taxi"),$e=!B.same(Te.source());if(!A.calculatedIntersection&&B!==z&&(A.hasBezier||A.hasUnbundled)){A.calculatedIntersection=!0;var xe=re.intersectLine($.x,$.y,K,oe,G.x,G.y,0,se,ce),Me=A.srcIntn=xe,Ve=Q.intersectLine(G.x,G.y,te,le,$.x,$.y,0,ee,Z),Ke=A.tgtIntn=Ve,Ge=A.intersectionPts={x1:xe[0],x2:Ve[0],y1:xe[1],y2:Ve[1]},We=A.posPts={x1:$.x,x2:G.x,y1:$.y,y2:G.y},it=Ve[1]-xe[1],ct=Ve[0]-xe[0],Se=Math.sqrt(ct*ct+it*it),U=A.vector={x:ct,y:it},de=A.vectorNorm={x:U.x/Se,y:U.y/Se},ve={x:-de.y,y:de.x};A.nodesOverlap=!Qe(Se)||Q.checkPoint(xe[0],xe[1],0,te,le,G.x,G.y,ee,Z)||re.checkPoint(Ve[0],Ve[1],0,K,oe,$.x,$.y,se,ce),A.vectorNormInverse=ve,R={nodesOverlap:A.nodesOverlap,dirCounts:A.dirCounts,calculatedIntersection:!0,hasBezier:A.hasBezier,hasUnbundled:A.hasUnbundled,eles:A.eles,srcPos:G,srcRs:Z,tgtPos:$,tgtRs:ce,srcW:te,srcH:le,tgtW:K,tgtH:oe,srcIntn:Ke,tgtIntn:Me,srcShape:Q,tgtShape:re,posPts:{x1:We.x2,y1:We.y2,x2:We.x1,y2:We.y1},intersectionPts:{x1:Ge.x2,y1:Ge.y2,x2:Ge.x1,y2:Ge.y1},vector:{x:-U.x,y:-U.y},vectorNorm:{x:-de.x,y:-de.y},vectorNormInverse:{x:-ve.x,y:-ve.y}}}var Y=$e?R:A;be.nodesOverlap=Y.nodesOverlap,be.srcIntn=Y.srcIntn,be.tgtIntn=Y.tgtIntn,be.isRound=at.startsWith("round"),n&&(B.isParent()||B.isChild()||z.isParent()||z.isChild())&&(B.parents().anySame(z)||z.parents().anySame(B)||B.same(z)&&B.isParent())?t.findCompoundLoopPoints(Te,Y,ye,wt):B===z?t.findLoopPoints(Te,Y,ye,wt):at.endsWith("segments")?t.findSegmentsPoints(Te,Y):at.endsWith("taxi")?t.findTaxiPoints(Te,Y):at==="straight"||!wt&&A.eles.length%2===1&&ye===Math.floor(A.eles.length/2)?t.findStraightEdgePoints(Te):t.findBezierPoints(Te,Y,ye,wt,$e),t.findEndpoints(Te),t.tryToCorrectInvalidPoints(Te,Y),t.checkForInvalidEdgeWarning(Te),t.storeAllpts(Te),t.storeEdgeProjections(Te),t.calculateArrowAngles(Te),t.recalculateEdgeLabelProjections(Te),t.calculateLabelAngles(Te)}},T=0;T<s.length;T++)D();this.findHaystackPoints(l)}};function gq(r){var t=[];if(r!=null){for(var e=0;e<r.length;e+=2){var i=r[e],n=r[e+1];t.push({x:i,y:n})}return t}}Hn.getSegmentPoints=function(r){var t=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var e=t.edgeType;if(e==="segments")return gq(t.segpts)};Hn.getControlPoints=function(r){var t=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var e=t.edgeType;if(e==="bezier"||e==="multibezier"||e==="self"||e==="compound")return gq(t.ctrlpts)};Hn.getEdgeMidpoint=function(r){var t=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:t.midX,y:t.midY}};var Sp={};Sp.manualEndptToPx=function(r,t){var e=this,i=r.position(),n=r.outerWidth(),a=r.outerHeight(),o=r._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*n),t.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=i.x,s[1]+=i.y,s}else{var l=t.pfValue[0];l=-Math.PI/2+l;var c=2*Math.max(n,a),d=[i.x+Math.cos(l)*c,i.y+Math.sin(l)*c];return e.nodeShapes[this.getNodeShape(r)].intersectLine(i.x,i.y,n,a,d[0],d[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,o)}};Sp.findEndpoints=function(r){var t=this,e,i=r.source()[0],n=r.target()[0],a=i.position(),o=n.position(),s=r.pstyle("target-arrow-shape").value,l=r.pstyle("source-arrow-shape").value,c=r.pstyle("target-distance-from-node").pfValue,d=r.pstyle("source-distance-from-node").pfValue,u=i._private.rscratch,f=n._private.rscratch,m=r.pstyle("curve-style").value,g=r._private.rscratch,v=g.edgeType,y=m==="taxi",b=v==="self"||v==="compound",_=v==="bezier"||v==="multibezier"||b,w=v!=="bezier",E=v==="straight"||v==="segments",S=v==="segments",D=_||w||E,T=b||y,O=r.pstyle("source-endpoint"),F=T?"outside-to-node":O.value,P=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue,L=r.pstyle("target-endpoint"),C=T?"outside-to-node":L.value,A=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue;g.srcManEndpt=O,g.tgtManEndpt=L;var R,k,I,B;if(_){var z=[g.ctrlpts[0],g.ctrlpts[1]],W=w?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:z;R=W,k=z}else if(E){var $=S?g.segpts.slice(0,2):[o.x,o.y],G=S?g.segpts.slice(g.segpts.length-2):[a.x,a.y];R=G,k=$}if(C==="inside-to-node")e=[o.x,o.y];else if(L.units)e=this.manualEndptToPx(n,L);else if(C==="outside-to-line")e=g.tgtIntn;else if(C==="outside-to-node"||C==="outside-to-node-or-label"?I=R:(C==="outside-to-line"||C==="outside-to-line-or-label")&&(I=[a.x,a.y]),e=t.nodeShapes[this.getNodeShape(n)].intersectLine(o.x,o.y,n.outerWidth(),n.outerHeight(),I[0],I[1],0,A,f),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var K=n._private.rscratch,oe=K.labelWidth,te=K.labelHeight,le=K.labelX,re=K.labelY,Q=oe/2,se=te/2,ee=n.pstyle("text-valign").value;ee==="top"?re-=se:ee==="bottom"&&(re+=se);var Z=n.pstyle("text-halign").value;Z==="left"?le-=Q:Z==="right"&&(le+=Q);var ce=up(I[0],I[1],[le-Q,re-se,le+Q,re-se,le+Q,re+se,le-Q,re+se],o.x,o.y);if(ce.length>0){var ye=a,Te=pd(ye,ph(e)),be=pd(ye,ph(ce)),at=Te;if(be<Te&&(e=ce,at=be),ce.length>2){var wt=pd(ye,{x:ce[2],y:ce[3]});wt<at&&(e=[ce[2],ce[3]])}}}var $e=Sb(e,R,t.arrowShapes[s].spacing(r)+c),xe=Sb(e,R,t.arrowShapes[s].gap(r)+c);if(g.endX=xe[0],g.endY=xe[1],g.arrowEndX=$e[0],g.arrowEndY=$e[1],F==="inside-to-node")e=[a.x,a.y];else if(O.units)e=this.manualEndptToPx(i,O);else if(F==="outside-to-line")e=g.srcIntn;else if(F==="outside-to-node"||F==="outside-to-node-or-label"?B=k:(F==="outside-to-line"||F==="outside-to-line-or-label")&&(B=[o.x,o.y]),e=t.nodeShapes[this.getNodeShape(i)].intersectLine(a.x,a.y,i.outerWidth(),i.outerHeight(),B[0],B[1],0,P,u),F==="outside-to-node-or-label"||F==="outside-to-line-or-label"){var Me=i._private.rscratch,Ve=Me.labelWidth,Ke=Me.labelHeight,Ge=Me.labelX,We=Me.labelY,it=Ve/2,ct=Ke/2,Se=i.pstyle("text-valign").value;Se==="top"?We-=ct:Se==="bottom"&&(We+=ct);var U=i.pstyle("text-halign").value;U==="left"?Ge-=it:U==="right"&&(Ge+=it);var de=up(B[0],B[1],[Ge-it,We-ct,Ge+it,We-ct,Ge+it,We+ct,Ge-it,We+ct],a.x,a.y);if(de.length>0){var ve=o,Y=pd(ve,ph(e)),X=pd(ve,ph(de)),me=Y;if(X<Y&&(e=[de[0],de[1]],me=X),de.length>2){var ne=pd(ve,{x:de[2],y:de[3]});ne<me&&(e=[de[2],de[3]])}}}var pe=Sb(e,k,t.arrowShapes[l].spacing(r)+d),we=Sb(e,k,t.arrowShapes[l].gap(r)+d);g.startX=we[0],g.startY=we[1],g.arrowStartX=pe[0],g.arrowStartY=pe[1],D&&(!Qe(g.startX)||!Qe(g.startY)||!Qe(g.endX)||!Qe(g.endY)?g.badLine=!0:g.badLine=!1)};Sp.getSourceEndpoint=function(r){var t=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Sp.getTargetEndpoint=function(r){var t=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var dD={};function qme(r,t,e){for(var i=function(c,d,u,f){return bn(c,d,u,f)},n=t._private,a=n.rstyle.bezierPts,o=0;o<r.bezierProjPcts.length;o++){var s=r.bezierProjPcts[o];a.push({x:i(e[0],e[2],e[4],s),y:i(e[1],e[3],e[5],s)})}}dD.storeEdgeProjections=function(r){var t=r._private,e=t.rscratch,i=e.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,i==="multibezier"||i==="bezier"||i==="self"||i==="compound"){t.rstyle.bezierPts=[];for(var n=0;n+5<e.allpts.length;n+=4)qme(this,r,e.allpts.slice(n,n+6))}else if(i==="segments")for(var a=t.rstyle.linePts=[],n=0;n+1<e.allpts.length;n+=2)a.push({x:e.allpts[n],y:e.allpts[n+1]});else if(i==="haystack"){var o=e.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};dD.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var is={};is.recalculateNodeLabelProjection=function(r){var t=r.pstyle("label").strValue;if(!Yl(t)){var e,i,n=r._private,a=r.width(),o=r.height(),s=r.padding(),l=r.position(),c=r.pstyle("text-halign").strValue,d=r.pstyle("text-valign").strValue,u=n.rscratch,f=n.rstyle;switch(c){case"left":e=l.x-a/2-s;break;case"right":e=l.x+a/2+s;break;default:e=l.x}switch(d){case"top":i=l.y-o/2-s;break;case"bottom":i=l.y+o/2+s;break;default:i=l.y}u.labelX=e,u.labelY=i,f.labelX=e,f.labelY=i,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var vq=function(t,e){var i=Math.atan(e/t);return t===0&&i<0&&(i=i*-1),i},yq=function(t,e){var i=e.x-t.x,n=e.y-t.y;return vq(i,n)},Ume=function(t,e,i,n){var a=dp(0,n-.001,1),o=dp(0,n+.001,1),s=yh(t,e,i,a),l=yh(t,e,i,o);return yq(s,l)};is.recalculateEdgeLabelProjections=function(r){var t,e=r._private,i=e.rscratch,n=this,a={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:i.midX,y:i.midY};var o=function(u,f,m){Gl(e.rscratch,u,f,m),Gl(e.rstyle,u,f,m)};o("labelX",null,t.x),o("labelY",null,t.y);var s=vq(i.midDispX,i.midDispY);o("labelAutoAngle",null,s);var l=function(){if(l.cache)return l.cache;for(var u=[],f=0;f+5<i.allpts.length;f+=4){var m={x:i.allpts[f],y:i.allpts[f+1]},g={x:i.allpts[f+2],y:i.allpts[f+3]},v={x:i.allpts[f+4],y:i.allpts[f+5]};u.push({p0:m,p1:g,p2:v,startDist:0,length:0,segments:[]})}var y=e.rstyle.bezierPts,b=n.bezierProjPcts.length;function _(T,O,F,P,L){var C=_d(O,F),A=T.segments[T.segments.length-1],R={p0:O,p1:F,t0:P,t1:L,startDist:A?A.startDist+A.length:0,length:C};T.segments.push(R),T.length+=C}for(var w=0;w<u.length;w++){var E=u[w],S=u[w-1];S&&(E.startDist=S.startDist+S.length),_(E,E.p0,y[w*b],0,n.bezierProjPcts[0]);for(var D=0;D<b-1;D++)_(E,y[w*b+D],y[w*b+D+1],n.bezierProjPcts[D],n.bezierProjPcts[D+1]);_(E,y[w*b+b-1],E.p2,n.bezierProjPcts[b-1],1)}return l.cache=u},c=function(u){var f,m=u==="source";if(a[u]){var g=r.pstyle(u+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var v=l(),y,b=0,_=0,w=0;w<v.length;w++){for(var E=v[m?w:v.length-1-w],S=0;S<E.segments.length;S++){var D=E.segments[m?S:E.segments.length-1-S],T=w===v.length-1&&S===E.segments.length-1;if(b=_,_+=D.length,_>=g||T){y={cp:E,segment:D};break}}if(y)break}var O=y.cp,F=y.segment,P=(g-b)/F.length,L=F.t1-F.t0,C=m?F.t0+L*P:F.t1-L*P;C=dp(0,C,1),t=yh(O.p0,O.p1,O.p2,C),f=Ume(O.p0,O.p1,O.p2,C);break}case"straight":case"segments":case"haystack":{for(var A=0,R,k,I,B,z=i.allpts.length,W=0;W+3<z&&(m?(I={x:i.allpts[W],y:i.allpts[W+1]},B={x:i.allpts[W+2],y:i.allpts[W+3]}):(I={x:i.allpts[z-2-W],y:i.allpts[z-1-W]},B={x:i.allpts[z-4-W],y:i.allpts[z-3-W]}),R=_d(I,B),k=A,A+=R,!(A>=g));W+=2);var $=g-k,G=$/R;G=dp(0,G,1),t=fue(I,B,G),f=yq(I,B);break}}o("labelX",u,t.x),o("labelY",u,t.y),o("labelAutoAngle",u,f)}};c("source"),c("target"),this.applyLabelDimensions(r)}};is.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};is.applyPrefixedLabelDimensions=function(r,t){var e=r._private,i=this.getLabelText(r,t),n=this.calculateLabelDimensions(r,i),a=r.pstyle("line-height").pfValue,o=r.pstyle("text-wrap").strValue,s=Io(e.rscratch,"labelWrapCachedLines",t)||[],l=o!=="wrap"?1:Math.max(s.length,1),c=n.height/l,d=c*a,u=n.width,f=n.height+(l-1)*(a-1)*c;Gl(e.rstyle,"labelWidth",t,u),Gl(e.rscratch,"labelWidth",t,u),Gl(e.rstyle,"labelHeight",t,f),Gl(e.rscratch,"labelHeight",t,f),Gl(e.rscratch,"labelLineHeight",t,d)};is.getLabelText=function(r,t){var e=r._private,i=t?t+"-":"",n=r.pstyle(i+"label").strValue,a=r.pstyle("text-transform").value,o=function(oe,te){return te?(Gl(e.rscratch,oe,t,te),te):Io(e.rscratch,oe,t)};if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var s=r.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var c="\u200B",d=n.split(`
`),u=r.pstyle("text-max-width").pfValue,f=r.pstyle("text-overflow-wrap").value,m=f==="anywhere",g=[],v=/[\s\u200b]+|$/g,y=0;y<d.length;y++){var b=d[y],_=this.calculateLabelDimensions(r,b),w=_.width;if(m){var E=b.split("").join(c);b=E}if(w>u){var S=b.matchAll(v),D="",T=0,O=Oo(S),F;try{for(O.s();!(F=O.n()).done;){var P=F.value,L=P[0],C=b.substring(T,P.index);T=P.index+L.length;var A=D.length===0?C:D+C+L,R=this.calculateLabelDimensions(r,A),k=R.width;k<=u?D+=C+L:(D&&g.push(D),D=C+L)}}catch(K){O.e(K)}finally{O.f()}D.match(/^[\s\u200b]+$/)||g.push(D)}else g.push(b)}o("labelWrapCachedLines",g),n=o("labelWrapCachedText",g.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var I=r.pstyle("text-max-width").pfValue,B="",z="\u2026",W=!1;if(this.calculateLabelDimensions(r,n).width<I)return n;for(var $=0;$<n.length;$++){var G=this.calculateLabelDimensions(r,B+n[$]+z).width;if(G>I)break;B+=n[$],$===n.length-1&&(W=!0)}return W||(B+=z),B}return n};is.getLabelJustification=function(r){var t=r.pstyle("text-justification").strValue,e=r.pstyle("text-halign").strValue;if(t==="auto")if(r.isNode())switch(e){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};is.calculateLabelDimensions=function(r,t){var e=this,i=e.cy.window(),n=i.document,a=Xl(t,r._private.labelDimsKey),o=e.labelDimCache||(e.labelDimCache=[]),s=o[a];if(s!=null)return s;var l=0,c=r.pstyle("font-style").strValue,d=r.pstyle("font-size").pfValue,u=r.pstyle("font-family").strValue,f=r.pstyle("font-weight").strValue,m=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!m){m=this.labelCalcCanvas=n.createElement("canvas"),g=this.labelCalcCanvasContext=m.getContext("2d");var v=m.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}g.font="".concat(c," ").concat(f," ").concat(d,"px ").concat(u);for(var y=0,b=0,_=t.split(`
`),w=0;w<_.length;w++){var E=_[w],S=g.measureText(E),D=Math.ceil(S.width),T=d;y=Math.max(D,y),b+=T}return y+=l,b+=l,o[a]={width:y,height:b}};is.calculateLabelAngle=function(r,t){var e=r._private,i=e.rscratch,n=r.isEdge(),a=t?t+"-":"",o=r.pstyle(a+"text-rotation"),s=o.strValue;return s==="none"?0:n&&s==="autorotate"?i.labelAutoAngle:s==="autorotate"?0:o.pfValue};is.calculateLabelAngles=function(r){var t=this,e=r.isEdge(),i=r._private,n=i.rscratch;n.labelAngle=t.calculateLabelAngle(r),e&&(n.sourceLabelAngle=t.calculateLabelAngle(r,"source"),n.targetLabelAngle=t.calculateLabelAngle(r,"target"))};var bq={},OV=28,kV=!1;bq.getNodeShape=function(r){var t=this,e=r.pstyle("shape").value;if(e==="cutrectangle"&&(r.width()<OV||r.height()<OV))return kV||(jr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),kV=!0),"rectangle";if(r.isParent())return e==="rectangle"||e==="roundrectangle"||e==="round-rectangle"||e==="cutrectangle"||e==="cut-rectangle"||e==="barrel"?e:"rectangle";if(e==="polygon"){var i=r.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(i).name}return e};var x0={};x0.registerCalculationListeners=function(){var r=this.cy,t=r.collection(),e=this,i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var l=0;l<o.length;l++){var c=o[l],d=c._private,u=d.rstyle;u.clean=!1,u.cleanConnected=!1}};e.binder(r).on("bounds.* dirty.*",function(o){var s=o.target;i(s)}).on("style.* background.*",function(o){var s=o.target;i(s,!1)});var n=function(o){if(o){var s=e.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var c=t[l],d=c._private.rstyle;c.isNode()&&!d.cleanConnected&&(i(c.connectedEdges()),d.cleanConnected=!0)}if(s)for(var u=0;u<s.length;u++){var f=s[u];f(o,t)}e.recalculateRenderedStyle(t),t=r.collection()}};e.flushRenderedStyleQueue=function(){n(!0)},e.beforeRender(n,e.beforeRenderPriorities.eleCalcs)};x0.onUpdateEleCalcs=function(r){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(r)};x0.recalculateRenderedStyle=function(r,t){var e=function(E){return E._private.rstyle.cleanConnected};if(r.length!==0){var i=[],n=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<r.length;a++){var o=r[a],s=o._private,l=s.rstyle;o.isEdge()&&(!e(o.source())||!e(o.target()))&&(l.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(w){return!w._private.rstyle.clean&&w.isBundledBezier()})&&(l.clean=!1),!(t&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?n.push(o):i.push(o),l.clean=!0)}for(var c=0;c<n.length;c++){var d=n[c],u=d._private,f=u.rstyle,m=d.position();this.recalculateNodeLabelProjection(d),f.nodeX=m.x,f.nodeY=m.y,f.nodeW=d.pstyle("width").pfValue,f.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var g=0;g<i.length;g++){var v=i[g],y=v._private,b=y.rstyle,_=y.rscratch;b.srcX=_.arrowStartX,b.srcY=_.arrowStartY,b.tgtX=_.arrowEndX,b.tgtY=_.arrowEndY,b.midX=_.midX,b.midY=_.midY,b.labelAngle=_.labelAngle,b.sourceLabelAngle=_.sourceLabelAngle,b.targetLabelAngle=_.targetLabelAngle}}}};var w0={};w0.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var t=[],e=0;e<r.length;e++){var i=r[e],n=i._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?r.drag.push(i):r.nondrag.push(i)}for(var e=0;e<t.length;e++){var i=t[e];r.drag.push(i)}}};w0.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};w0.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(eq),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var _q={};[Sd,t0,Hn,Sp,dD,is,bq,x0,w0].forEach(function(r){Ot(_q,r)});var xq={};xq.getCachedImage=function(r,t,e){var i=this,n=i.imageCache=i.imageCache||{},a=n[r];if(a)return a.image.complete||a.image.addEventListener("load",e),a.image;a=n[r]=n[r]||{};var o=a.image=new Image;o.addEventListener("load",e),o.addEventListener("error",function(){o.error=!0});var s="data:",l=r.substring(0,s.length).toLowerCase()===s;return l||(t=t==="null"?null:t,o.crossOrigin=t),o.src=r,o};var Ah={};Ah.registerBinding=function(r,t,e,i){var n=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(r)){for(var a=[],o=0;o<r.length;o++){var s=r[o];if(s!==void 0){var l=this.binder(s);a.push(l.on.apply(l,n))}}return a}var l=this.binder(r);return l.on.apply(l,n)};Ah.binder=function(r){var t=this,e=t.cy.window(),i=r===e||r===e.document||r===e.document.body||ade(r);if(t.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});e.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=n}var o=function(l,c,d){var u=Array.prototype.slice.call(arguments);return i&&t.supportsPassiveEvents&&(u[2]={capture:d??!1,passive:!1,once:!1}),t.bindings.push({target:r,args:u}),(r.addEventListener||r.on).apply(r,u),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Ah.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};Ah.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};Ah.load=function(){var r=this,t=r.cy.window(),e=function(U){return U.selected()},i=function(U){var de=U.getRootNode();if(de&&de.nodeType===11&&de.host!==void 0)return de},n=function(U,de,ve,Y){U==null&&(U=r.cy);for(var X=0;X<de.length;X++){var me=de[X];U.emit({originalEvent:ve,type:me,position:Y})}},a=function(U){return U.shiftKey||U.metaKey||U.ctrlKey},o=function(U,de){var ve=!0;if(r.cy.hasCompoundNodes()&&U&&U.pannable())for(var Y=0;de&&Y<de.length;Y++){var U=de[Y];if(U.isNode()&&U.isParent()&&!U.pannable()){ve=!1;break}}else ve=!0;return ve},s=function(U){U[0]._private.grabbed=!0},l=function(U){U[0]._private.grabbed=!1},c=function(U){U[0]._private.rscratch.inDragLayer=!0},d=function(U){U[0]._private.rscratch.inDragLayer=!1},u=function(U){U[0]._private.rscratch.isGrabTarget=!0},f=function(U){U[0]._private.rscratch.isGrabTarget=!1},m=function(U,de){var ve=de.addToList,Y=ve.has(U);!Y&&U.grabbable()&&!U.locked()&&(ve.merge(U),s(U))},g=function(U,de){if(U.cy().hasCompoundNodes()&&!(de.inDragLayer==null&&de.addToList==null)){var ve=U.descendants();de.inDragLayer&&(ve.forEach(c),ve.connectedEdges().forEach(c)),de.addToList&&m(ve,de)}},v=function(U,de){de=de||{};var ve=U.cy().hasCompoundNodes();de.inDragLayer&&(U.forEach(c),U.neighborhood().stdFilter(function(Y){return!ve||Y.isEdge()}).forEach(c)),de.addToList&&U.forEach(function(Y){m(Y,de)}),g(U,de),_(U,{inDragLayer:de.inDragLayer}),r.updateCachedGrabbedEles()},y=v,b=function(U){U&&(r.getCachedZSortedEles().forEach(function(de){l(de),d(de),f(de)}),r.updateCachedGrabbedEles())},_=function(U,de){if(!(de.inDragLayer==null&&de.addToList==null)&&U.cy().hasCompoundNodes()){var ve=U.ancestors().orphans();if(!ve.same(U)){var Y=ve.descendants().spawnSelf().merge(ve).unmerge(U).unmerge(U.descendants()),X=Y.connectedEdges();de.inDragLayer&&(X.forEach(c),Y.forEach(c)),de.addToList&&Y.forEach(function(me){m(me,de)})}}},w=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},E=typeof MutationObserver<"u",S=typeof ResizeObserver<"u";E?(r.removeObserver=new MutationObserver(function(Se){for(var U=0;U<Se.length;U++){var de=Se[U],ve=de.removedNodes;if(ve)for(var Y=0;Y<ve.length;Y++){var X=ve[Y];if(X===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(Se){r.destroy()});var D=xp(function(){r.cy.resize()},100);E&&(r.styleObserver=new MutationObserver(D),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(t,"resize",D),S&&(r.resizeObserver=new ResizeObserver(D),r.resizeObserver.observe(r.container));var T=function(U,de){for(;U!=null;)de(U),U=U.parentNode},O=function(){r.invalidateContainerClientCoordsCache()};T(r.container,function(Se){r.registerBinding(Se,"transitionend",O),r.registerBinding(Se,"animationend",O),r.registerBinding(Se,"scroll",O)}),r.registerBinding(r.container,"contextmenu",function(Se){Se.preventDefault()});var F=function(){return r.selection[4]!==0},P=function(U){for(var de=r.findContainerClientCoords(),ve=de[0],Y=de[1],X=de[2],me=de[3],ne=U.touches?U.touches:[U],pe=!1,we=0;we<ne.length;we++){var ze=ne[we];if(ve<=ze.clientX&&ze.clientX<=ve+X&&Y<=ze.clientY&&ze.clientY<=Y+me){pe=!0;break}}if(!pe)return!1;for(var ke=r.container,Ce=U.target,Fe=Ce.parentNode,Be=!1;Fe;){if(Fe===ke){Be=!0;break}Fe=Fe.parentNode}return!!Be};r.registerBinding(r.container,"mousedown",function(U){if(P(U)&&!(r.hoverData.which===1&&U.which!==1)){U.preventDefault(),w(),r.hoverData.capture=!0,r.hoverData.which=U.which;var de=r.cy,ve=[U.clientX,U.clientY],Y=r.projectIntoViewport(ve[0],ve[1]),X=r.selection,me=r.findNearestElements(Y[0],Y[1],!0,!1),ne=me[0],pe=r.dragData.possibleDragElements;r.hoverData.mdownPos=Y,r.hoverData.mdownGPos=ve;var we=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var qe=r.hoverData.down;qe?qe.emit({originalEvent:U,type:"taphold",position:{x:Y[0],y:Y[1]}}):de.emit({originalEvent:U,type:"taphold",position:{x:Y[0],y:Y[1]}})}},r.tapholdDuration)};if(U.which==3){r.hoverData.cxtStarted=!0;var ze={originalEvent:U,type:"cxttapstart",position:{x:Y[0],y:Y[1]}};ne?(ne.activate(),ne.emit(ze),r.hoverData.down=ne):de.emit(ze),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(U.which==1){ne&&ne.activate();{if(ne!=null&&r.nodeIsGrabbable(ne)){var ke=function(qe){return{originalEvent:U,type:qe,position:{x:Y[0],y:Y[1]}}},Ce=function(qe){qe.emit(ke("grab"))};if(u(ne),!ne.selected())pe=r.dragData.possibleDragElements=de.collection(),y(ne,{addToList:pe}),ne.emit(ke("grabon")).emit(ke("grab"));else{pe=r.dragData.possibleDragElements=de.collection();var Fe=de.$(function(Be){return Be.isNode()&&Be.selected()&&r.nodeIsGrabbable(Be)});v(Fe,{addToList:pe}),ne.emit(ke("grabon")),Fe.forEach(Ce)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=ne,r.hoverData.downs=me,r.hoverData.downTime=new Date().getTime()}n(ne,["mousedown","tapstart","vmousedown"],U,{x:Y[0],y:Y[1]}),ne==null?(X[4]=1,r.data.bgActivePosistion={x:Y[0],y:Y[1]},r.redrawHint("select",!0),r.redraw()):ne.pannable()&&(X[4]=1),we()}X[0]=X[2]=Y[0],X[1]=X[3]=Y[1]}},!1);var L=i(r.container);r.registerBinding([t,L],"mousemove",function(U){var de=r.hoverData.capture;if(!(!de&&!P(U))){var ve=!1,Y=r.cy,X=Y.zoom(),me=[U.clientX,U.clientY],ne=r.projectIntoViewport(me[0],me[1]),pe=r.hoverData.mdownPos,we=r.hoverData.mdownGPos,ze=r.selection,ke=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(ke=r.findNearestElement(ne[0],ne[1],!0,!1));var Ce=r.hoverData.last,Fe=r.hoverData.down,Be=[ne[0]-ze[2],ne[1]-ze[3]],qe=r.dragData.possibleDragElements,ot;if(we){var Ut=me[0]-we[0],st=Ut*Ut,Ye=me[1]-we[1],mt=Ye*Ye,tt=st+mt;r.hoverData.isOverThresholdDrag=ot=tt>=r.desktopTapThreshold2}var lt=a(U);ot&&(r.hoverData.tapholdCancelled=!0);var ar=function(){var Gi=r.hoverData.dragDelta=r.hoverData.dragDelta||[];Gi.length===0?(Gi.push(Be[0]),Gi.push(Be[1])):(Gi[0]+=Be[0],Gi[1]+=Be[1])};ve=!0,n(ke,["mousemove","vmousemove","tapdrag"],U,{x:ne[0],y:ne[1]});var vr=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||Y.emit({originalEvent:U,type:"boxstart",position:{x:ne[0],y:ne[1]}}),ze[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(ot){var zr={originalEvent:U,type:"cxtdrag",position:{x:ne[0],y:ne[1]}};Fe?Fe.emit(zr):Y.emit(zr),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||ke!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:ne[0],y:ne[1]}}),r.hoverData.cxtOver=ke,ke&&ke.emit({originalEvent:U,type:"cxtdragover",position:{x:ne[0],y:ne[1]}}))}}else if(r.hoverData.dragging){if(ve=!0,Y.panningEnabled()&&Y.userPanningEnabled()){var or;if(r.hoverData.justStartedPan){var Ht=r.hoverData.mdownPos;or={x:(ne[0]-Ht[0])*X,y:(ne[1]-Ht[1])*X},r.hoverData.justStartedPan=!1}else or={x:Be[0]*X,y:Be[1]*X};Y.panBy(or),Y.emit("dragpan"),r.hoverData.dragged=!0}ne=r.projectIntoViewport(U.clientX,U.clientY)}else if(ze[4]==1&&(Fe==null||Fe.pannable())){if(ot){if(!r.hoverData.dragging&&Y.boxSelectionEnabled()&&(lt||!Y.panningEnabled()||!Y.userPanningEnabled()))vr();else if(!r.hoverData.selecting&&Y.panningEnabled()&&Y.userPanningEnabled()){var Ei=o(Fe,r.hoverData.downs);Ei&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,ze[4]=0,r.data.bgActivePosistion=ph(pe),r.redrawHint("select",!0),r.redraw())}Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate()}}else{if(Fe&&Fe.pannable()&&Fe.active()&&Fe.unactivate(),(!Fe||!Fe.grabbed())&&ke!=Ce&&(Ce&&n(Ce,["mouseout","tapdragout"],U,{x:ne[0],y:ne[1]}),ke&&n(ke,["mouseover","tapdragover"],U,{x:ne[0],y:ne[1]}),r.hoverData.last=ke),Fe)if(ot){if(Y.boxSelectionEnabled()&&lt)Fe&&Fe.grabbed()&&(b(qe),Fe.emit("freeon"),qe.emit("free"),r.dragData.didDrag&&(Fe.emit("dragfreeon"),qe.emit("dragfree"))),vr();else if(Fe&&Fe.grabbed()&&r.nodeIsDraggable(Fe)){var rr=!r.dragData.didDrag;rr&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||v(qe,{inDragLayer:!0});var xr={x:0,y:0};if(Qe(Be[0])&&Qe(Be[1])&&(xr.x+=Be[0],xr.y+=Be[1],rr)){var Yr=r.hoverData.dragDelta;Yr&&Qe(Yr[0])&&Qe(Yr[1])&&(xr.x+=Yr[0],xr.y+=Yr[1])}r.hoverData.draggingEles=!0,qe.silentShift(xr).emit("position drag"),r.redrawHint("drag",!0),r.redraw()}}else ar();ve=!0}if(ze[2]=ne[0],ze[3]=ne[1],ve)return U.stopPropagation&&U.stopPropagation(),U.preventDefault&&U.preventDefault(),!1}},!1);var C,A,R;r.registerBinding(t,"mouseup",function(U){if(!(r.hoverData.which===1&&U.which!==1&&r.hoverData.capture)){var de=r.hoverData.capture;if(de){r.hoverData.capture=!1;var ve=r.cy,Y=r.projectIntoViewport(U.clientX,U.clientY),X=r.selection,me=r.findNearestElement(Y[0],Y[1],!0,!1),ne=r.dragData.possibleDragElements,pe=r.hoverData.down,we=a(U);if(r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,pe&&pe.unactivate(),r.hoverData.which===3){var ze={originalEvent:U,type:"cxttapend",position:{x:Y[0],y:Y[1]}};if(pe?pe.emit(ze):ve.emit(ze),!r.hoverData.cxtDragged){var ke={originalEvent:U,type:"cxttap",position:{x:Y[0],y:Y[1]}};pe?pe.emit(ke):ve.emit(ke)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(n(me,["mouseup","tapend","vmouseup"],U,{x:Y[0],y:Y[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(n(pe,["click","tap","vclick"],U,{x:Y[0],y:Y[1]}),A=!1,U.timeStamp-R<=ve.multiClickDebounceTime()?(C&&clearTimeout(C),A=!0,R=null,n(pe,["dblclick","dbltap","vdblclick"],U,{x:Y[0],y:Y[1]})):(C=setTimeout(function(){A||n(pe,["oneclick","onetap","voneclick"],U,{x:Y[0],y:Y[1]})},ve.multiClickDebounceTime()),R=U.timeStamp)),pe==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!a(U)&&(ve.$(e).unselect(["tapunselect"]),ne.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=ne=ve.collection()),me==pe&&!r.dragData.didDrag&&!r.hoverData.selecting&&me!=null&&me._private.selectable&&(r.hoverData.dragging||(ve.selectionType()==="additive"||we?me.selected()?me.unselect(["tapunselect"]):me.select(["tapselect"]):we||(ve.$(e).unmerge(me).unselect(["tapunselect"]),me.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var Ce=ve.collection(r.getAllInBox(X[0],X[1],X[2],X[3]));r.redrawHint("select",!0),Ce.length>0&&r.redrawHint("eles",!0),ve.emit({type:"boxend",originalEvent:U,position:{x:Y[0],y:Y[1]}});var Fe=function(ot){return ot.selectable()&&!ot.selected()};ve.selectionType()==="additive"||we||ve.$(e).unmerge(Ce).unselect(),Ce.emit("box").stdFilter(Fe).select().emit("boxselect"),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!X[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var Be=pe&&pe.grabbed();b(ne),Be&&(pe.emit("freeon"),ne.emit("free"),r.dragData.didDrag&&(pe.emit("dragfreeon"),ne.emit("dragfree")))}}X[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null,r.hoverData.which=null}}},!1);var k=function(U){if(!r.scrollingPage){var de=r.cy,ve=de.zoom(),Y=de.pan(),X=r.projectIntoViewport(U.clientX,U.clientY),me=[X[0]*ve+Y.x,X[1]*ve+Y.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||F()){U.preventDefault();return}if(de.panningEnabled()&&de.userPanningEnabled()&&de.zoomingEnabled()&&de.userZoomingEnabled()){U.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var ne;U.deltaY!=null?ne=U.deltaY/-250:U.wheelDeltaY!=null?ne=U.wheelDeltaY/1e3:ne=U.wheelDelta/1e3,ne=ne*r.wheelSensitivity;var pe=U.deltaMode===1;pe&&(ne*=33);var we=de.zoom()*Math.pow(10,ne);U.type==="gesturechange"&&(we=r.gestureStartZoom*U.scale),de.zoom({level:we,renderedPosition:{x:me[0],y:me[1]}}),de.emit(U.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};r.registerBinding(r.container,"wheel",k,!0),r.registerBinding(t,"scroll",function(U){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(U){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||U.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(Se){r.hasTouchStarted||k(Se)},!0),r.registerBinding(r.container,"mouseout",function(U){var de=r.projectIntoViewport(U.clientX,U.clientY);r.cy.emit({originalEvent:U,type:"mouseout",position:{x:de[0],y:de[1]}})},!1),r.registerBinding(r.container,"mouseover",function(U){var de=r.projectIntoViewport(U.clientX,U.clientY);r.cy.emit({originalEvent:U,type:"mouseover",position:{x:de[0],y:de[1]}})},!1);var I,B,z,W,$,G,K,oe,te,le,re,Q,se,ee=function(U,de,ve,Y){return Math.sqrt((ve-U)*(ve-U)+(Y-de)*(Y-de))},Z=function(U,de,ve,Y){return(ve-U)*(ve-U)+(Y-de)*(Y-de)},ce;r.registerBinding(r.container,"touchstart",ce=function(U){if(r.hasTouchStarted=!0,!!P(U)){w(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var de=r.cy,ve=r.touchData.now,Y=r.touchData.earlier;if(U.touches[0]){var X=r.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ve[0]=X[0],ve[1]=X[1]}if(U.touches[1]){var X=r.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ve[2]=X[0],ve[3]=X[1]}if(U.touches[2]){var X=r.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ve[4]=X[0],ve[5]=X[1]}if(U.touches[1]){r.touchData.singleTouchMoved=!0,b(r.dragData.touchDragEles);var me=r.findContainerClientCoords();te=me[0],le=me[1],re=me[2],Q=me[3],I=U.touches[0].clientX-te,B=U.touches[0].clientY-le,z=U.touches[1].clientX-te,W=U.touches[1].clientY-le,se=0<=I&&I<=re&&0<=z&&z<=re&&0<=B&&B<=Q&&0<=W&&W<=Q;var ne=de.pan(),pe=de.zoom();$=ee(I,B,z,W),G=Z(I,B,z,W),K=[(I+z)/2,(B+W)/2],oe=[(K[0]-ne.x)/pe,(K[1]-ne.y)/pe];var we=200,ze=we*we;if(G<ze&&!U.touches[2]){var ke=r.findNearestElement(ve[0],ve[1],!0,!0),Ce=r.findNearestElement(ve[2],ve[3],!0,!0);ke&&ke.isNode()?(ke.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),r.touchData.start=ke):Ce&&Ce.isNode()?(Ce.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),r.touchData.start=Ce):de.emit({originalEvent:U,type:"cxttapstart",position:{x:ve[0],y:ve[1]}}),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(U.touches[2])de.boxSelectionEnabled()&&U.preventDefault();else if(!U.touches[1]){if(U.touches[0]){var Fe=r.findNearestElements(ve[0],ve[1],!0,!0),Be=Fe[0];if(Be!=null&&(Be.activate(),r.touchData.start=Be,r.touchData.starts=Fe,r.nodeIsGrabbable(Be))){var qe=r.dragData.touchDragEles=de.collection(),ot=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),Be.selected()?(ot=de.$(function(tt){return tt.selected()&&r.nodeIsGrabbable(tt)}),v(ot,{addToList:qe})):y(Be,{addToList:qe}),u(Be);var Ut=function(lt){return{originalEvent:U,type:lt,position:{x:ve[0],y:ve[1]}}};Be.emit(Ut("grabon")),ot?ot.forEach(function(tt){tt.emit(Ut("grab"))}):Be.emit(Ut("grab"))}n(Be,["touchstart","tapstart","vmousedown"],U,{x:ve[0],y:ve[1]}),Be==null&&(r.data.bgActivePosistion={x:X[0],y:X[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&n(r.touchData.start,["taphold"],U,{x:ve[0],y:ve[1]})},r.tapholdDuration)}}if(U.touches.length>=1){for(var st=r.touchData.startPosition=[null,null,null,null,null,null],Ye=0;Ye<ve.length;Ye++)st[Ye]=Y[Ye]=ve[Ye];var mt=U.touches[0];r.touchData.startGPosition=[mt.clientX,mt.clientY]}}},!1);var ye;r.registerBinding(t,"touchmove",ye=function(U){var de=r.touchData.capture;if(!(!de&&!P(U))){var ve=r.selection,Y=r.cy,X=r.touchData.now,me=r.touchData.earlier,ne=Y.zoom();if(U.touches[0]){var pe=r.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);X[0]=pe[0],X[1]=pe[1]}if(U.touches[1]){var pe=r.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);X[2]=pe[0],X[3]=pe[1]}if(U.touches[2]){var pe=r.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);X[4]=pe[0],X[5]=pe[1]}var we=r.touchData.startGPosition,ze;if(de&&U.touches[0]&&we){for(var ke=[],Ce=0;Ce<X.length;Ce++)ke[Ce]=X[Ce]-me[Ce];var Fe=U.touches[0].clientX-we[0],Be=Fe*Fe,qe=U.touches[0].clientY-we[1],ot=qe*qe,Ut=Be+ot;ze=Ut>=r.touchTapThreshold2}if(de&&r.touchData.cxt){U.preventDefault();var st=U.touches[0].clientX-te,Ye=U.touches[0].clientY-le,mt=U.touches[1].clientX-te,tt=U.touches[1].clientY-le,lt=Z(st,Ye,mt,tt),ar=lt/G,vr=150,zr=vr*vr,or=1.5,Ht=or*or;if(ar>=Ht||lt>=zr){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Ei={originalEvent:U,type:"cxttapend",position:{x:X[0],y:X[1]}};r.touchData.start?(r.touchData.start.unactivate().emit(Ei),r.touchData.start=null):Y.emit(Ei)}}if(de&&r.touchData.cxt){var Ei={originalEvent:U,type:"cxtdrag",position:{x:X[0],y:X[1]}};r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(Ei):Y.emit(Ei),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var rr=r.findNearestElement(X[0],X[1],!0,!0);(!r.touchData.cxtOver||rr!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:X[0],y:X[1]}}),r.touchData.cxtOver=rr,rr&&rr.emit({originalEvent:U,type:"cxtdragover",position:{x:X[0],y:X[1]}}))}else if(de&&U.touches[2]&&Y.boxSelectionEnabled())U.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||Y.emit({originalEvent:U,type:"boxstart",position:{x:X[0],y:X[1]}}),r.touchData.selecting=!0,r.touchData.didSelect=!0,ve[4]=1,!ve||ve.length===0||ve[0]===void 0?(ve[0]=(X[0]+X[2]+X[4])/3,ve[1]=(X[1]+X[3]+X[5])/3,ve[2]=(X[0]+X[2]+X[4])/3+1,ve[3]=(X[1]+X[3]+X[5])/3+1):(ve[2]=(X[0]+X[2]+X[4])/3,ve[3]=(X[1]+X[3]+X[5])/3),r.redrawHint("select",!0),r.redraw();else if(de&&U.touches[1]&&!r.touchData.didSelect&&Y.zoomingEnabled()&&Y.panningEnabled()&&Y.userZoomingEnabled()&&Y.userPanningEnabled()){U.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var xr=r.dragData.touchDragEles;if(xr){r.redrawHint("drag",!0);for(var Yr=0;Yr<xr.length;Yr++){var Vo=xr[Yr]._private;Vo.grabbed=!1,Vo.rscratch.inDragLayer=!1}}var Gi=r.touchData.start,st=U.touches[0].clientX-te,Ye=U.touches[0].clientY-le,mt=U.touches[1].clientX-te,tt=U.touches[1].clientY-le,Na=ee(st,Ye,mt,tt),zo=Na/$;if(se){var go=st-I,nl=Ye-B,qo=mt-z,Uo=tt-W,Wd=(go+qo)/2,Ho=(nl+Uo)/2,Go=Y.zoom(),Ba=Go*zo,al=Y.pan(),ol=oe[0]*Go+al.x,wc=oe[1]*Go+al.y,Cc={x:-Ba/Go*(ol-al.x-Wd)+ol,y:-Ba/Go*(wc-al.y-Ho)+wc};if(Gi&&Gi.active()){var xr=r.dragData.touchDragEles;b(xr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Gi.unactivate().emit("freeon"),xr.emit("free"),r.dragData.didDrag&&(Gi.emit("dragfreeon"),xr.emit("dragfree"))}Y.viewport({zoom:Ba,pan:Cc,cancelOnFailedZoom:!0}),Y.emit("pinchzoom"),$=Na,I=st,B=Ye,z=mt,W=tt,r.pinching=!0}if(U.touches[0]){var pe=r.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);X[0]=pe[0],X[1]=pe[1]}if(U.touches[1]){var pe=r.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);X[2]=pe[0],X[3]=pe[1]}if(U.touches[2]){var pe=r.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);X[4]=pe[0],X[5]=pe[1]}}else if(U.touches[0]&&!r.touchData.didSelect){var un=r.touchData.start,gs=r.touchData.last,rr;if(!r.hoverData.draggingEles&&!r.swipePanning&&(rr=r.findNearestElement(X[0],X[1],!0,!0)),de&&un!=null&&U.preventDefault(),de&&un!=null&&r.nodeIsDraggable(un))if(ze){var xr=r.dragData.touchDragEles,Ai=!r.dragData.didDrag;Ai&&v(xr,{inDragLayer:!0}),r.dragData.didDrag=!0;var Ft={x:0,y:0};if(Qe(ke[0])&&Qe(ke[1])&&(Ft.x+=ke[0],Ft.y+=ke[1],Ai)){r.redrawHint("eles",!0);var Zt=r.touchData.dragDelta;Zt&&Qe(Zt[0])&&Qe(Zt[1])&&(Ft.x+=Zt[0],Ft.y+=Zt[1])}r.hoverData.draggingEles=!0,xr.silentShift(Ft).emit("position drag"),r.redrawHint("drag",!0),r.touchData.startPosition[0]==me[0]&&r.touchData.startPosition[1]==me[1]&&r.redrawHint("eles",!0),r.redraw()}else{var Zt=r.touchData.dragDelta=r.touchData.dragDelta||[];Zt.length===0?(Zt.push(ke[0]),Zt.push(ke[1])):(Zt[0]+=ke[0],Zt[1]+=ke[1])}if(n(un||rr,["touchmove","tapdrag","vmousemove"],U,{x:X[0],y:X[1]}),(!un||!un.grabbed())&&rr!=gs&&(gs&&gs.emit({originalEvent:U,type:"tapdragout",position:{x:X[0],y:X[1]}}),rr&&rr.emit({originalEvent:U,type:"tapdragover",position:{x:X[0],y:X[1]}})),r.touchData.last=rr,de)for(var Yr=0;Yr<X.length;Yr++)X[Yr]&&r.touchData.startPosition[Yr]&&ze&&(r.touchData.singleTouchMoved=!0);if(de&&(un==null||un.pannable())&&Y.panningEnabled()&&Y.userPanningEnabled()){var Va=o(un,r.touchData.starts);Va&&(U.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=ph(r.touchData.startPosition)),r.swipePanning?(Y.panBy({x:ke[0]*ne,y:ke[1]*ne}),Y.emit("dragpan")):ze&&(r.swipePanning=!0,Y.panBy({x:Fe*ne,y:qe*ne}),Y.emit("dragpan"),un&&(un.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var pe=r.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);X[0]=pe[0],X[1]=pe[1]}}for(var Ce=0;Ce<X.length;Ce++)me[Ce]=X[Ce];de&&U.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var Te;r.registerBinding(t,"touchcancel",Te=function(U){var de=r.touchData.start;r.touchData.capture=!1,de&&de.unactivate()});var be,at,wt,$e;if(r.registerBinding(t,"touchend",be=function(U){var de=r.touchData.start,ve=r.touchData.capture;if(ve)U.touches.length===0&&(r.touchData.capture=!1),U.preventDefault();else return;var Y=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var X=r.cy,me=X.zoom(),ne=r.touchData.now,pe=r.touchData.earlier;if(U.touches[0]){var we=r.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ne[0]=we[0],ne[1]=we[1]}if(U.touches[1]){var we=r.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ne[2]=we[0],ne[3]=we[1]}if(U.touches[2]){var we=r.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ne[4]=we[0],ne[5]=we[1]}de&&de.unactivate();var ze;if(r.touchData.cxt){if(ze={originalEvent:U,type:"cxttapend",position:{x:ne[0],y:ne[1]}},de?de.emit(ze):X.emit(ze),!r.touchData.cxtDragged){var ke={originalEvent:U,type:"cxttap",position:{x:ne[0],y:ne[1]}};de?de.emit(ke):X.emit(ke)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!U.touches[2]&&X.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var Ce=X.collection(r.getAllInBox(Y[0],Y[1],Y[2],Y[3]));Y[0]=void 0,Y[1]=void 0,Y[2]=void 0,Y[3]=void 0,Y[4]=0,r.redrawHint("select",!0),X.emit({type:"boxend",originalEvent:U,position:{x:ne[0],y:ne[1]}});var Fe=function(zr){return zr.selectable()&&!zr.selected()};Ce.emit("box").stdFilter(Fe).select().emit("boxselect"),Ce.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(de?.unactivate(),U.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!U.touches[1]){if(!U.touches[0]){if(!U.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var Be=r.dragData.touchDragEles;if(de!=null){var qe=de._private.grabbed;b(Be),r.redrawHint("drag",!0),r.redrawHint("eles",!0),qe&&(de.emit("freeon"),Be.emit("free"),r.dragData.didDrag&&(de.emit("dragfreeon"),Be.emit("dragfree"))),n(de,["touchend","tapend","vmouseup","tapdragout"],U,{x:ne[0],y:ne[1]}),de.unactivate(),r.touchData.start=null}else{var ot=r.findNearestElement(ne[0],ne[1],!0,!0);n(ot,["touchend","tapend","vmouseup","tapdragout"],U,{x:ne[0],y:ne[1]})}var Ut=r.touchData.startPosition[0]-ne[0],st=Ut*Ut,Ye=r.touchData.startPosition[1]-ne[1],mt=Ye*Ye,tt=st+mt,lt=tt*me*me;r.touchData.singleTouchMoved||(de||X.$(":selected").unselect(["tapunselect"]),n(de,["tap","vclick"],U,{x:ne[0],y:ne[1]}),at=!1,U.timeStamp-$e<=X.multiClickDebounceTime()?(wt&&clearTimeout(wt),at=!0,$e=null,n(de,["dbltap","vdblclick"],U,{x:ne[0],y:ne[1]})):(wt=setTimeout(function(){at||n(de,["onetap","voneclick"],U,{x:ne[0],y:ne[1]})},X.multiClickDebounceTime()),$e=U.timeStamp)),de!=null&&!r.dragData.didDrag&&de._private.selectable&&lt<r.touchTapThreshold2&&!r.pinching&&(X.selectionType()==="single"?(X.$(e).unmerge(de).unselect(["tapunselect"]),de.select(["tapselect"])):de.selected()?de.unselect(["tapunselect"]):de.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var ar=0;ar<ne.length;ar++)pe[ar]=ne[ar];r.dragData.didDrag=!1,U.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),U.touches.length<2&&(U.touches.length===1&&(r.touchData.startGPosition=[U.touches[0].clientX,U.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var xe=[],Me=function(U){return{clientX:U.clientX,clientY:U.clientY,force:1,identifier:U.pointerId,pageX:U.pageX,pageY:U.pageY,radiusX:U.width/2,radiusY:U.height/2,screenX:U.screenX,screenY:U.screenY,target:U.target}},Ve=function(U){return{event:U,touch:Me(U)}},Ke=function(U){xe.push(Ve(U))},Ge=function(U){for(var de=0;de<xe.length;de++){var ve=xe[de];if(ve.event.pointerId===U.pointerId){xe.splice(de,1);return}}},We=function(U){var de=xe.filter(function(ve){return ve.event.pointerId===U.pointerId})[0];de.event=U,de.touch=Me(U)},it=function(U){U.touches=xe.map(function(de){return de.touch})},ct=function(U){return U.pointerType==="mouse"||U.pointerType===4};r.registerBinding(r.container,"pointerdown",function(Se){ct(Se)||(Se.preventDefault(),Ke(Se),it(Se),ce(Se))}),r.registerBinding(r.container,"pointerup",function(Se){ct(Se)||(Ge(Se),it(Se),be(Se))}),r.registerBinding(r.container,"pointercancel",function(Se){ct(Se)||(Ge(Se),it(Se),Te(Se))}),r.registerBinding(r.container,"pointermove",function(Se){ct(Se)||(Se.preventDefault(),We(Se),it(Se),ye(Se))})}};var Hs={};Hs.generatePolygon=function(r,t){return this.nodeShapes[r]={renderer:this,name:r,points:t,draw:function(i,n,a,o,s,l){this.renderer.nodeShapeImpl("polygon",i,n,a,o,s,this.points)},intersectLine:function(i,n,a,o,s,l,c,d){return up(s,l,this.points,i,n,a/2,o/2,c)},checkPoint:function(i,n,a,o,s,l,c,d){return Us(i,n,this.points,l,c,o,s,[0,-1],a)}}};Hs.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,i,n,a,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,a)},intersectLine:function(t,e,i,n,a,o,s,l){return Mue(a,o,t,e,i/2+s,n/2+s)},checkPoint:function(t,e,i,n,a,o,s,l){return bd(t,e,n,a,o,s,i)}}};Hs.generateRoundPolygon=function(r,t){return this.nodeShapes[r]={renderer:this,name:r,points:t,getOrCreateCorners:function(i,n,a,o,s,l,c){if(l[c]!==void 0&&l[c+"-cx"]===i&&l[c+"-cy"]===n)return l[c];l[c]=new Array(t.length/2),l[c+"-cx"]=i,l[c+"-cy"]=n;var d=a/2,u=o/2;s=s==="auto"?Cz(a,o):s;for(var f=new Array(t.length/2),m=0;m<t.length/2;m++)f[m]={x:i+d*t[m*2],y:n+u*t[m*2+1]};var g,v,y,b,_=f.length;for(v=f[_-1],g=0;g<_;g++)y=f[g%_],b=f[(g+1)%_],l[c][g]=cD(v,y,b,s),v=y,y=b;return l[c]},draw:function(i,n,a,o,s,l,c){this.renderer.nodeShapeImpl("round-polygon",i,n,a,o,s,this.points,this.getOrCreateCorners(n,a,o,s,l,c,"drawCorners"))},intersectLine:function(i,n,a,o,s,l,c,d,u){return Due(s,l,this.points,i,n,a,o,c,this.getOrCreateCorners(i,n,a,o,d,u,"corners"))},checkPoint:function(i,n,a,o,s,l,c,d,u){return Sue(i,n,this.points,l,c,o,s,this.getOrCreateCorners(l,c,o,s,d,u,"corners"))}}};Hs.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ta(4,0),draw:function(t,e,i,n,a,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,a,this.points,o)},intersectLine:function(t,e,i,n,a,o,s,l){return xz(a,o,t,e,i,n,s,l)},checkPoint:function(t,e,i,n,a,o,s,l){var c=n/2,d=a/2;l=l==="auto"?xd(n,a):l,l=Math.min(c,d,l);var u=l*2;return!!(Us(t,e,this.points,o,s,n,a-u,[0,-1],i)||Us(t,e,this.points,o,s,n-u,a,[0,-1],i)||bd(t,e,u,u,o-c+l,s-d+l,i)||bd(t,e,u,u,o+c-l,s-d+l,i)||bd(t,e,u,u,o+c-l,s+d-l,i)||bd(t,e,u,u,o-c+l,s+d-l,i))}}};Hs.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:QM(),points:ta(4,0),draw:function(t,e,i,n,a,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,a,null,o)},generateCutTrianglePts:function(t,e,i,n,a){var o=a==="auto"?this.cornerLength:a,s=e/2,l=t/2,c=i-l,d=i+l,u=n-s,f=n+s;return{topLeft:[c,u+o,c+o,u,c+o,u+o],topRight:[d-o,u,d,u+o,d-o,u+o],bottomRight:[d,f-o,d-o,f,d-o,f-o],bottomLeft:[c+o,f,c,f-o,c+o,f-o]}},intersectLine:function(t,e,i,n,a,o,s,l){var c=this.generateCutTrianglePts(i+2*s,n+2*s,t,e,l),d=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return up(a,o,d,t,e)},checkPoint:function(t,e,i,n,a,o,s,l){var c=l==="auto"?this.cornerLength:l;if(Us(t,e,this.points,o,s,n,a-2*c,[0,-1],i)||Us(t,e,this.points,o,s,n-2*c,a,[0,-1],i))return!0;var d=this.generateCutTrianglePts(n,a,o,s);return ua(t,e,d.topLeft)||ua(t,e,d.topRight)||ua(t,e,d.bottomRight)||ua(t,e,d.bottomLeft)}}};Hs.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ta(4,0),draw:function(t,e,i,n,a,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,a)},intersectLine:function(t,e,i,n,a,o,s,l){var c=.15,d=.5,u=.85,f=this.generateBarrelBezierPts(i+2*s,n+2*s,t,e),m=function(y){var b=yh({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},c),_=yh({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},d),w=yh({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},u);return[y[0],y[1],b.x,b.y,_.x,_.y,w.x,w.y,y[4],y[5]]},g=[].concat(m(f.topLeft),m(f.topRight),m(f.bottomRight),m(f.bottomLeft));return up(a,o,g,t,e)},generateBarrelBezierPts:function(t,e,i,n){var a=e/2,o=t/2,s=i-o,l=i+o,c=n-a,d=n+a,u=MM(t,e),f=u.heightOffset,m=u.widthOffset,g=u.ctrlPtOffsetPct*t,v={topLeft:[s,c+f,s+g,c,s+m,c],topRight:[l-m,c,l-g,c,l,c+f],bottomRight:[l,d-f,l-g,d,l-m,d],bottomLeft:[s+m,d,s+g,d,s,d-f]};return v.topLeft.isTop=!0,v.topRight.isTop=!0,v.bottomLeft.isBottom=!0,v.bottomRight.isBottom=!0,v},checkPoint:function(t,e,i,n,a,o,s,l){var c=MM(n,a),d=c.heightOffset,u=c.widthOffset;if(Us(t,e,this.points,o,s,n,a-2*d,[0,-1],i)||Us(t,e,this.points,o,s,n-2*u,a,[0,-1],i))return!0;for(var f=this.generateBarrelBezierPts(n,a,o,s),m=function(O,F,P){var L=P[4],C=P[2],A=P[0],R=P[5],k=P[1],I=Math.min(L,A),B=Math.max(L,A),z=Math.min(R,k),W=Math.max(R,k);if(I<=O&&O<=B&&z<=F&&F<=W){var $=Tue(L,C,A),G=xue($[0],$[1],$[2],O),K=G.filter(function(oe){return 0<=oe&&oe<=1});if(K.length>0)return K[0]}return null},g=Object.keys(f),v=0;v<g.length;v++){var y=g[v],b=f[y],_=m(t,e,b);if(_!=null){var w=b[5],E=b[3],S=b[1],D=bn(w,E,S,_);if(b.isTop&&D<=e||b.isBottom&&e<=D)return!0}}return!1}}};Hs.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ta(4,0),draw:function(t,e,i,n,a,o){this.renderer.nodeShapeImpl(this.name,t,e,i,n,a,this.points,o)},intersectLine:function(t,e,i,n,a,o,s,l){var c=t-(i/2+s),d=e-(n/2+s),u=d,f=t+(i/2+s),m=Wl(a,o,t,e,c,d,f,u,!1);return m.length>0?m:xz(a,o,t,e,i,n,s,l)},checkPoint:function(t,e,i,n,a,o,s,l){l=l==="auto"?xd(n,a):l;var c=2*l;if(Us(t,e,this.points,o,s,n,a-c,[0,-1],i)||Us(t,e,this.points,o,s,n-c,a,[0,-1],i))return!0;var d=n/2+2*i,u=a/2+2*i,f=[o-d,s-u,o-d,s,o+d,s,o+d,s-u];return!!(ua(t,e,f)||bd(t,e,c,c,o+n/2-l,s+a/2-l,i)||bd(t,e,c,c,o-n/2+l,s+a/2-l,i))}}};Hs.registerNodeShapes=function(){var r=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",ta(3,0)),this.generateRoundPolygon("round-triangle",ta(3,0)),this.generatePolygon("rectangle",ta(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var e=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",e),this.generateRoundPolygon("round-diamond",e)}this.generatePolygon("pentagon",ta(5,0)),this.generateRoundPolygon("round-pentagon",ta(5,0)),this.generatePolygon("hexagon",ta(6,0)),this.generateRoundPolygon("round-hexagon",ta(6,0)),this.generatePolygon("heptagon",ta(7,0)),this.generateRoundPolygon("round-heptagon",ta(7,0)),this.generatePolygon("octagon",ta(8,0)),this.generateRoundPolygon("round-octagon",ta(8,0));var i=new Array(20);{var n=SM(5,0),a=SM(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[s*2]*=o,a[s*2+1]*=o;for(var s=0;s<20/4;s++)i[s*4]=n[s*2],i[s*4+1]=n[s*2+1],i[s*4+2]=a[s*2],i[s*4+3]=a[s*2+1]}i=wz(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}r.makePolygon=function(c){var d=c.join("$"),u="polygon-"+d,f;return(f=this[u])?f:t.generatePolygon(u,c)}};var Mp={};Mp.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Mp.redraw=function(r){r=r||gz();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=r};Mp.beforeRender=function(r,t){if(!this.destroyed){t==null&&Mi("Priority is not optional for beforeRender");var e=this.beforeRenderCallbacks;e.push({fn:r,priority:t}),e.sort(function(i,n){return n.priority-i.priority})}};var PV=function(t,e,i){for(var n=t.beforeRenderCallbacks,a=0;a<n.length;a++)n[a].fn(e,i)};Mp.startRenderLoop=function(){var r=this,t=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var e=function(n){if(!r.destroyed){if(!t.batching())if(r.requestedFrame&&!r.skipFrame){PV(r,!0,n);var a=qs();r.render(r.renderOptions);var o=r.lastDrawTime=qs();r.averageRedrawTime===void 0&&(r.averageRedrawTime=o-a),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var s=o-a;r.redrawTotalTime+=s,r.lastRedrawTime=s,r.averageRedrawTime=r.averageRedrawTime/2+s/2,r.requestedFrame=!1}else PV(r,!1,n);r.skipFrame=!1,$b(e)}};$b(e)}};var Hme=function(t){this.init(t)},wq=Hme,Rh=wq.prototype;Rh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Rh.init=function(r){var t=this;t.options=r,t.cy=r.cy;var e=t.container=r.cy.container(),i=t.cy.window();if(i){var n=i.document,a=n.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=n.getElementById(o)!=null;if(e.className.indexOf(s)<0&&(e.className=(e.className||"")+" "+s),!l){var c=n.createElement("style");c.id=o,c.textContent="."+s+" { position: relative; }",a.insertBefore(c,a.children[0])}var d=i.getComputedStyle(e),u=d.getPropertyValue("position");u==="static"&&jr("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=r.showFps,t.debug=r.debug,t.webgl=r.webgl,t.hideEdgesOnViewport=r.hideEdgesOnViewport,t.textureOnViewport=r.textureOnViewport,t.wheelSensitivity=r.wheelSensitivity,t.motionBlurEnabled=r.motionBlur,t.forcedPixelRatio=Qe(r.pixelRatio)?r.pixelRatio:null,t.motionBlur=r.motionBlur,t.motionBlurOpacity=r.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=r.desktopTapThreshold,t.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,t.touchTapThreshold=r.touchTapThreshold,t.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Rh.notify=function(r,t){var e=this,i=e.cy;if(!this.destroyed){if(r==="init"){e.load();return}if(r==="destroy"){e.destroy();return}(r==="add"||r==="remove"||r==="move"&&i.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&e.invalidateCachedZSortedEles(),r==="viewport"&&e.redrawHint("select",!0),r==="gc"&&e.redrawHint("gc",!0),(r==="load"||r==="resize"||r==="mount")&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container)),e.redrawHint("eles",!0),e.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Rh.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var t=0;t<r.bindings.length;t++){var e=r.bindings[t],i=e,n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};Rh.isHeadless=function(){return!1};[lD,_q,xq,Ah,Hs,Mp].forEach(function(r){Ot(Rh,r)});var bM=1e3/60,Cq={setupDequeueing:function(t){return function(){var i=this,n=this.renderer;if(!i.dequeueingSetup){i.dequeueingSetup=!0;var a=xp(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},t.deqRedrawThreshold),o=function(c,d){var u=qs(),f=n.averageRedrawTime,m=n.lastRedrawTime,g=[],v=n.cy.extent(),y=n.getPixelRatio();for(c||n.flushRenderedStyleQueue();;){var b=qs(),_=b-u,w=b-d;if(m<bM){var E=bM-(c?f:0);if(w>=t.deqFastCost*E)break}else if(c){if(_>=t.deqCost*m||_>=t.deqAvgCost*f)break}else if(w>=t.deqNoDrawCost*bM)break;var S=t.deq(i,y,v);if(S.length>0)for(var D=0;D<S.length;D++)g.push(S[D]);else break}g.length>0&&(t.onDeqd(i,g),!c&&t.shouldRedraw(i,g,y,v)&&a())},s=t.priority||YM;n.beforeRender(o,s(i))}}}},Gme=function(){function r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yb;ec(this,r),this.idsByKey=new zs,this.keyForId=new zs,this.cachesByLvl=new zs,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=e}return tc(r,[{key:"getIdsFor",value:function(e){e==null&&Mi("Can not get id list for null key");var i=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Sh,i.set(e,n)),n}},{key:"addIdForKey",value:function(e,i){e!=null&&this.getIdsFor(e).add(i)}},{key:"deleteIdForKey",value:function(e,i){e!=null&&this.getIdsFor(e).delete(i)}},{key:"getNumberOfIdsForKey",value:function(e){return e==null?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var i=e.id(),n=this.keyForId.get(i),a=this.getKey(e);this.deleteIdForKey(n,i),this.addIdForKey(a,i),this.keyForId.set(i,a)}},{key:"deleteKeyMappingFor",value:function(e){var i=e.id(),n=this.keyForId.get(i);this.deleteIdForKey(n,i),this.keyForId.delete(i)}},{key:"keyHasChangedFor",value:function(e){var i=e.id(),n=this.keyForId.get(i),a=this.getKey(e);return n!==a}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var i=this.cachesByLvl,n=this.lvls,a=i.get(e);return a||(a=new zs,i.set(e,a),n.push(e)),a}},{key:"getCache",value:function(e,i){return this.getCachesAt(i).get(e)}},{key:"get",value:function(e,i){var n=this.getKey(e),a=this.getCache(n,i);return a!=null&&this.updateKeyMappingFor(e),a}},{key:"getForCachedKey",value:function(e,i){var n=this.keyForId.get(e.id()),a=this.getCache(n,i);return a}},{key:"hasCache",value:function(e,i){return this.getCachesAt(i).has(e)}},{key:"has",value:function(e,i){var n=this.getKey(e);return this.hasCache(n,i)}},{key:"setCache",value:function(e,i,n){n.key=e,this.getCachesAt(i).set(e,n)}},{key:"set",value:function(e,i,n){var a=this.getKey(e);this.setCache(a,i,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,i){this.getCachesAt(i).delete(e)}},{key:"delete",value:function(e,i){var n=this.getKey(e);this.deleteCache(n,i)}},{key:"invalidateKey",value:function(e){var i=this;this.lvls.forEach(function(n){return i.deleteCache(e,n)})}},{key:"invalidate",value:function(e){var i=e.id(),n=this.keyForId.get(i);this.deleteKeyMappingFor(e);var a=this.doesEleInvalidateKey(e);return a&&this.invalidateKey(n),a||this.getNumberOfIdsForKey(n)===0}}])}(),LV=25,kb=50,Gb=-4,VM=3,Eq=7.99,Wme=8,jme=1024,$me=1024,Yme=1024,Xme=.2,Kme=.8,Zme=10,Qme=.15,Jme=.1,epe=.9,tpe=.9,rpe=100,ipe=1,vh={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},npe=ln({getKey:null,doesEleInvalidateKey:Yb,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:fz,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),rp=function(t,e){var i=this;i.renderer=t,i.onDequeues=[];var n=npe(e);Ot(i,n),i.lookup=new Gme(n.getKey,n.doesEleInvalidateKey),i.setupDequeueing()},cn=rp.prototype;cn.reasons=vh;cn.getTextureQueue=function(r){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[r]=t.eleImgCaches[r]||[]};cn.getRetiredTextureQueue=function(r){var t=this,e=t.eleImgCaches.retired=t.eleImgCaches.retired||{},i=e[r]=e[r]||[];return i};cn.getElementQueue=function(){var r=this,t=r.eleCacheQueue=r.eleCacheQueue||new wp(function(e,i){return i.reqs-e.reqs});return t};cn.getElementKeyToQueue=function(){var r=this,t=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return t};cn.getElement=function(r,t,e,i,n){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!r.visible()||r.removed()||!a.allowEdgeTxrCaching&&r.isEdge()||!a.allowParentTxrCaching&&r.isParent())return null;if(i==null&&(i=Math.ceil(KM(s*e))),i<Gb)i=Gb;else if(s>=Eq||i>VM)return null;var c=Math.pow(2,i),d=t.h*c,u=t.w*c,f=o.eleTextBiggerThanMin(r,c);if(!this.isVisible(r,f))return null;var m=l.get(r,i);if(m&&m.invalidated&&(m.invalidated=!1,m.texture.invalidatedWidth-=m.width),m)return m;var g;if(d<=LV?g=LV:d<=kb?g=kb:g=Math.ceil(d/kb)*kb,d>Yme||u>$me)return null;var v=a.getTextureQueue(g),y=v[v.length-2],b=function(){return a.recycleTexture(g,u)||a.addTexture(g,u)};y||(y=v[v.length-1]),y||(y=b()),y.width-y.usedWidth<u&&(y=b());for(var _=function(I){return I&&I.scaledLabelShown===f},w=n&&n===vh.dequeue,E=n&&n===vh.highQuality,S=n&&n===vh.downscale,D,T=i+1;T<=VM;T++){var O=l.get(r,T);if(O){D=O;break}}var F=D&&D.level===i+1?D:null,P=function(){y.context.drawImage(F.texture.canvas,F.x,0,F.width,F.height,y.usedWidth,0,u,d)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,u,g),_(F))P();else if(_(D))if(E){for(var L=D.level;L>i;L--)F=a.getElement(r,t,e,L,vh.downscale);P()}else return a.queueElement(r,D.level-1),D;else{var C;if(!w&&!E&&!S)for(var A=i-1;A>=Gb;A--){var R=l.get(r,A);if(R){C=R;break}}if(_(C))return a.queueElement(r,i),C;y.context.translate(y.usedWidth,0),y.context.scale(c,c),this.drawElement(y.context,r,t,f,!1),y.context.scale(1/c,1/c),y.context.translate(-y.usedWidth,0)}return m={x:y.usedWidth,texture:y,level:i,scale:c,width:u,height:d,scaledLabelShown:f},y.usedWidth+=Math.ceil(u+Wme),y.eleCaches.push(m),l.set(r,i,m),a.checkTextureFullness(y),m};cn.invalidateElements=function(r){for(var t=0;t<r.length;t++)this.invalidateElement(r[t])};cn.invalidateElement=function(r){var t=this,e=t.lookup,i=[],n=e.isInvalid(r);if(n){for(var a=Gb;a<=VM;a++){var o=e.getForCachedKey(r,a);o&&i.push(o)}var s=e.invalidate(r);if(s)for(var l=0;l<i.length;l++){var c=i[l],d=c.texture;d.invalidatedWidth+=c.width,c.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(r)}};cn.checkTextureUtility=function(r){r.invalidatedWidth>=Xme*r.width&&this.retireTexture(r)};cn.checkTextureFullness=function(r){var t=this,e=t.getTextureQueue(r.height);r.usedWidth/r.width>Kme&&r.fullnessChecks>=Zme?Kl(e,r):r.fullnessChecks++};cn.retireTexture=function(r){var t=this,e=r.height,i=t.getTextureQueue(e),n=this.lookup;Kl(i,r),r.retired=!0;for(var a=r.eleCaches,o=0;o<a.length;o++){var s=a[o];n.deleteCache(s.key,s.level)}XM(a);var l=t.getRetiredTextureQueue(e);l.push(r)};cn.addTexture=function(r,t){var e=this,i=e.getTextureQueue(r),n={};return i.push(n),n.eleCaches=[],n.height=r,n.width=Math.max(jme,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=e.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n};cn.recycleTexture=function(r,t){for(var e=this,i=e.getTextureQueue(r),n=e.getRetiredTextureQueue(r),a=0;a<n.length;a++){var o=n[a];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,XM(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Kl(n,o),i.push(o),o}};cn.queueElement=function(r,t){var e=this,i=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(r),o=n[a];if(o)o.level=Math.max(o.level,t),o.eles.merge(r),o.reqs++,i.updateItem(o);else{var s={eles:r.spawn().merge(r),level:t,reqs:1,key:a};i.push(s),n[a]=s}};cn.dequeue=function(r){for(var t=this,e=t.getElementQueue(),i=t.getElementKeyToQueue(),n=[],a=t.lookup,o=0;o<ipe&&e.size()>0;o++){var s=e.pop(),l=s.key,c=s.eles[0],d=a.hasCache(c,s.level);if(i[l]=null,d)continue;n.push(s);var u=t.getBoundingBox(c);t.getElement(c,u,r,s.level,vh.dequeue)}return n};cn.removeFromQueue=function(r){var t=this,e=t.getElementQueue(),i=t.getElementKeyToQueue(),n=this.getKey(r),a=i[n];a!=null&&(a.eles.length===1?(a.reqs=$M,e.updateItem(a),e.pop(),i[n]=null):a.eles.unmerge(r))};cn.onDequeue=function(r){this.onDequeues.push(r)};cn.offDequeue=function(r){Kl(this.onDequeues,r)};cn.setupDequeueing=Cq.setupDequeueing({deqRedrawThreshold:rpe,deqCost:Qme,deqAvgCost:Jme,deqNoDrawCost:epe,deqFastCost:tpe,deq:function(t,e,i){return t.dequeue(e,i)},onDeqd:function(t,e){for(var i=0;i<t.onDequeues.length;i++){var n=t.onDequeues[i];n(e)}},shouldRedraw:function(t,e,i,n){for(var a=0;a<e.length;a++)for(var o=e[a].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(ZM(l,n))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var ape=1,np=-4,r0=2,ope=3.99,spe=50,lpe=50,cpe=.15,dpe=.1,upe=.9,hpe=.9,fpe=1,FV=250,mpe=4e3*4e3,NV=32767,ppe=!0,Sq=function(t){var e=this,i=e.renderer=t,n=i.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=qs()-2*FV,e.skipping=!1,e.eleTxrDeqs=n.collection(),e.scheduleElementRefinement=xp(function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)},lpe),i.beforeRender(function(o,s){s-e.lastInvalidationTime<=FV?e.skipping=!0:e.skipping=!1},i.beforeRenderPriorities.lyrTxrSkip);var a=function(s,l){return l.reqs-s.reqs};e.layersQueue=new wp(a),e.setupDequeueing()},Rn=Sq.prototype,BV=0,gpe=Math.pow(2,53)-1;Rn.makeLayer=function(r,t){var e=Math.pow(2,t),i=Math.ceil(r.w*e),n=Math.ceil(r.h*e),a=this.renderer.makeOffscreenCanvas(i,n),o={id:BV=++BV%gpe,bb:r,level:t,width:i,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,c=-o.bb.y1;return s.scale(e,e),s.translate(l,c),o};Rn.getLayers=function(r,t,e){var i=this,n=i.renderer,a=n.cy,o=a.zoom(),s=i.firstGet;if(i.firstGet=!1,e==null){if(e=Math.ceil(KM(o*t)),e<np)e=np;else if(o>=ope||e>r0)return null}i.validateLayersElesOrdering(e,r);var l=i.layersByLevel,c=Math.pow(2,e),d=l[e]=l[e]||[],u,f=i.levelIsComplete(e,r),m,g=function(){var P=function(k){if(i.validateLayersElesOrdering(k,r),i.levelIsComplete(k,r))return m=l[k],!0},L=function(k){if(!m)for(var I=e+k;np<=I&&I<=r0&&!P(I);I+=k);};L(1),L(-1);for(var C=d.length-1;C>=0;C--){var A=d[C];A.invalid&&Kl(d,A)}};if(!f)g();else return d;var v=function(){if(!u){u=ha();for(var P=0;P<r.length;P++)bz(u,r[P].boundingBox())}return u},y=function(P){P=P||{};var L=P.after;v();var C=Math.ceil(u.w*c),A=Math.ceil(u.h*c);if(C>NV||A>NV)return null;var R=C*A;if(R>mpe)return null;var k=i.makeLayer(u,e);if(L!=null){var I=d.indexOf(L)+1;d.splice(I,0,k)}else(P.insert===void 0||P.insert)&&d.unshift(k);return k};if(i.skipping&&!s)return null;for(var b=null,_=r.length/ape,w=!s,E=0;E<r.length;E++){var S=r[E],D=S._private.rscratch,T=D.imgLayerCaches=D.imgLayerCaches||{},O=T[e];if(O){b=O;continue}if((!b||b.eles.length>=_||!_z(b.bb,S.boundingBox()))&&(b=y({insert:!0,after:b}),!b))return null;m||w?i.queueLayer(b,S):i.drawEleInLayer(b,S,e,t),b.eles.push(S),T[e]=b}return m||(w?null:d)};Rn.getEleLevelForLayerLevel=function(r,t){return r};Rn.drawEleInLayer=function(r,t,e,i){var n=this,a=this.renderer,o=r.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(e=n.getEleLevelForLayerLevel(e,i),a.setImgSmoothing(o,!1),a.drawCachedElement(o,t,null,null,e,ppe),a.setImgSmoothing(o,!0))};Rn.levelIsComplete=function(r,t){var e=this,i=e.layersByLevel[r];if(!i||i.length===0)return!1;for(var n=0,a=0;a<i.length;a++){var o=i[a];if(o.reqs>0||o.invalid)return!1;n+=o.eles.length}return n===t.length};Rn.validateLayersElesOrdering=function(r,t){var e=this.layersByLevel[r];if(e)for(var i=0;i<e.length;i++){for(var n=e[i],a=-1,o=0;o<t.length;o++)if(n.eles[0]===t[o]){a=o;break}if(a<0){this.invalidateLayer(n);continue}for(var s=a,o=0;o<n.eles.length;o++)if(n.eles[o]!==t[s+o]){this.invalidateLayer(n);break}}};Rn.updateElementsInLayers=function(r,t){for(var e=this,i=vp(r[0]),n=0;n<r.length;n++)for(var a=i?null:r[n],o=i?r[n]:r[n].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},c=np;c<=r0;c++){var d=l[c];d&&(a&&e.getEleLevelForLayerLevel(d.level)!==a.level||t(d,o,a))}};Rn.haveLayers=function(){for(var r=this,t=!1,e=np;e<=r0;e++){var i=r.layersByLevel[e];if(i&&i.length>0){t=!0;break}}return t};Rn.invalidateElements=function(r){var t=this;r.length!==0&&(t.lastInvalidationTime=qs(),!(r.length===0||!t.haveLayers())&&t.updateElementsInLayers(r,function(i,n,a){t.invalidateLayer(i)}))};Rn.invalidateLayer=function(r){if(this.lastInvalidationTime=qs(),!r.invalid){var t=r.level,e=r.eles,i=this.layersByLevel[t];Kl(i,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var n=0;n<e.length;n++){var a=e[n]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};Rn.refineElementTextures=function(r){var t=this;t.updateElementsInLayers(r,function(i,n,a){var o=i.replacement;if(o||(o=i.replacement=t.makeLayer(i.bb,i.level),o.replaces=i,o.eles=i.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};Rn.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};Rn.queueLayer=function(r,t){var e=this,i=e.layersQueue,n=r.elesQueue,a=n.hasId=n.hasId||{};if(!r.replacement){if(t){if(a[t.id()])return;n.push(t),a[t.id()]=!0}r.reqs?(r.reqs++,i.updateItem(r)):(r.reqs=1,i.push(r))}};Rn.dequeue=function(r){for(var t=this,e=t.layersQueue,i=[],n=0;n<fpe&&e.size()!==0;){var a=e.peek();if(a.replacement){e.pop();continue}if(a.replaces&&a!==a.replaces.replacement){e.pop();continue}if(a.invalid){e.pop();continue}var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,r),n++),i.length===0&&i.push(!0),a.elesQueue.length===0&&(e.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return i};Rn.applyLayerReplacement=function(r){var t=this,e=t.layersByLevel[r.level],i=r.replaces,n=e.indexOf(i);if(!(n<0||i.invalid)){e[n]=r;for(var a=0;a<r.eles.length;a++){var o=r.eles[a]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[r.level]=r)}t.requestRedraw()}};Rn.requestRedraw=xp(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);Rn.setupDequeueing=Cq.setupDequeueing({deqRedrawThreshold:spe,deqCost:cpe,deqAvgCost:dpe,deqNoDrawCost:upe,deqFastCost:hpe,deq:function(t,e){return t.dequeue(e)},onDeqd:YM,shouldRedraw:fz,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Mq={},VV;function vpe(r,t){for(var e=0;e<t.length;e++){var i=t[e];r.lineTo(i.x,i.y)}}function ype(r,t,e){for(var i,n=0;n<t.length;n++){var a=t[n];n===0&&(i=a),r.lineTo(a.x,a.y)}r.quadraticCurveTo(e.x,e.y,i.x,i.y)}function zV(r,t,e){r.beginPath&&r.beginPath();for(var i=t,n=0;n<i.length;n++){var a=i[n];r.lineTo(a.x,a.y)}var o=e,s=e[0];r.moveTo(s.x,s.y);for(var n=1;n<o.length;n++){var a=o[n];r.lineTo(a.x,a.y)}r.closePath&&r.closePath()}function bpe(r,t,e,i,n){r.beginPath&&r.beginPath(),r.arc(e,i,n,0,Math.PI*2,!1);var a=t,o=a[0];r.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];r.lineTo(l.x,l.y)}r.closePath&&r.closePath()}function _pe(r,t,e,i){r.arc(t,e,i,0,Math.PI*2,!1)}Mq.arrowShapeImpl=function(r){return(VV||(VV={polygon:vpe,"triangle-backcurve":ype,"triangle-tee":zV,"circle-triangle":bpe,"triangle-cross":zV,circle:_pe}))[r]};var ns={};ns.drawElement=function(r,t,e,i,n,a){var o=this;t.isNode()?o.drawNode(r,t,e,i,n,a):o.drawEdge(r,t,e,i,n,a)};ns.drawElementOverlay=function(r,t){var e=this;t.isNode()?e.drawNodeOverlay(r,t):e.drawEdgeOverlay(r,t)};ns.drawElementUnderlay=function(r,t){var e=this;t.isNode()?e.drawNodeUnderlay(r,t):e.drawEdgeUnderlay(r,t)};ns.drawCachedElementPortion=function(r,t,e,i,n,a,o,s){var l=this,c=e.getBoundingBox(t);if(!(c.w===0||c.h===0)){var d=e.getElement(t,c,i,n,a);if(d!=null){var u=s(l,t);if(u===0)return;var f=o(l,t),m=c.x1,g=c.y1,v=c.w,y=c.h,b,_,w,E,S;if(f!==0){var D=e.getRotationPoint(t);w=D.x,E=D.y,r.translate(w,E),r.rotate(f),S=l.getImgSmoothing(r),S||l.setImgSmoothing(r,!0);var T=e.getRotationOffset(t);b=T.x,_=T.y}else b=m,_=g;var O;u!==1&&(O=r.globalAlpha,r.globalAlpha=O*u),r.drawImage(d.texture.canvas,d.x,0,d.width,d.height,b,_,v,y),u!==1&&(r.globalAlpha=O),f!==0&&(r.rotate(-f),r.translate(-w,-E),S||l.setImgSmoothing(r,!1))}else e.drawElement(r,t)}};var xpe=function(){return 0},wpe=function(t,e){return t.getTextAngle(e,null)},Cpe=function(t,e){return t.getTextAngle(e,"source")},Epe=function(t,e){return t.getTextAngle(e,"target")},Spe=function(t,e){return e.effectiveOpacity()},_M=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};ns.drawCachedElement=function(r,t,e,i,n,a){var o=this,s=o.data,l=s.eleTxrCache,c=s.lblTxrCache,d=s.slbTxrCache,u=s.tlbTxrCache,f=t.boundingBox(),m=a===!0?l.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!i||ZM(f,i))){var g=t.isEdge(),v=t.element()._private.rscratch.badLine;o.drawElementUnderlay(r,t),o.drawCachedElementPortion(r,t,l,e,n,m,xpe,Spe),(!g||!v)&&o.drawCachedElementPortion(r,t,c,e,n,m,wpe,_M),g&&!v&&(o.drawCachedElementPortion(r,t,d,e,n,m,Cpe,_M),o.drawCachedElementPortion(r,t,u,e,n,m,Epe,_M)),o.drawElementOverlay(r,t)}};ns.drawElements=function(r,t){for(var e=this,i=0;i<t.length;i++){var n=t[i];e.drawElement(r,n)}};ns.drawCachedElements=function(r,t,e,i){for(var n=this,a=0;a<t.length;a++){var o=t[a];n.drawCachedElement(r,o,e,i)}};ns.drawCachedNodes=function(r,t,e,i){for(var n=this,a=0;a<t.length;a++){var o=t[a];o.isNode()&&n.drawCachedElement(r,o,e,i)}};ns.drawLayeredElements=function(r,t,e,i){var n=this,a=n.data.lyrTxrCache.getLayers(t,e);if(a)for(var o=0;o<a.length;o++){var s=a[o],l=s.bb;l.w===0||l.h===0||r.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else n.drawCachedElements(r,t,e,i)};var Gs={};Gs.drawEdge=function(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(a&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;e&&(l=e,r.translate(-l.x1,-l.y1));var c=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,u=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,m=t.pstyle("width").pfValue,g=t.pstyle("line-cap").value,v=t.pstyle("line-outline-width").value,y=t.pstyle("line-outline-color").value,b=c*d,_=c*d,w=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;u==="straight-triangle"?(o.eleStrokeStyle(r,t,k),o.drawEdgeTrianglePath(t,r,s.allpts)):(r.lineWidth=m,r.lineCap=g,o.eleStrokeStyle(r,t,k),o.drawEdgePath(t,r,s.allpts,f),r.lineCap="butt")},E=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;if(r.lineWidth=m+v,r.lineCap=g,v>0)o.colorStrokeStyle(r,y[0],y[1],y[2],k);else{r.lineCap="butt";return}u==="straight-triangle"?o.drawEdgeTrianglePath(t,r,s.allpts):(o.drawEdgePath(t,r,s.allpts,f),r.lineCap="butt")},S=function(){n&&o.drawEdgeOverlay(r,t)},D=function(){n&&o.drawEdgeUnderlay(r,t)},T=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_;o.drawArrowheads(r,t,k)},O=function(){o.drawElementText(r,t,null,i)};r.lineJoin="round";var F=t.pstyle("ghost").value==="yes";if(F){var P=t.pstyle("ghost-offset-x").pfValue,L=t.pstyle("ghost-offset-y").pfValue,C=t.pstyle("ghost-opacity").value,A=b*C;r.translate(P,L),w(A),T(A),r.translate(-P,-L)}else E();D(),w(),T(),S(),O(),e&&r.translate(l.x1,l.y1)}};var Dq=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,i){if(i.visible()){var n=i.pstyle("".concat(t,"-opacity")).value;if(n!==0){var a=this,o=a.usePaths(),s=i._private.rscratch,l=i.pstyle("".concat(t,"-padding")).pfValue,c=2*l,d=i.pstyle("".concat(t,"-color")).value;e.lineWidth=c,s.edgeType==="self"&&!o?e.lineCap="butt":e.lineCap="round",a.colorStrokeStyle(e,d[0],d[1],d[2],n),a.drawEdgePath(i,e,s.allpts,"solid")}}}};Gs.drawEdgeOverlay=Dq("overlay");Gs.drawEdgeUnderlay=Dq("underlay");Gs.drawEdgePath=function(r,t,e,i){var n=r._private.rscratch,a=t,o,s=!1,l=this.usePaths(),c=r.pstyle("line-dash-pattern").pfValue,d=r.pstyle("line-dash-offset").pfValue;if(l){var u=e.join("$"),f=n.pathCacheKey&&n.pathCacheKey===u;f?(o=t=n.pathCache,s=!0):(o=t=new Path2D,n.pathCacheKey=u,n.pathCache=o)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(c),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!s&&!n.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(e[0],e[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var m=2;m+3<e.length;m+=4)t.quadraticCurveTo(e[m],e[m+1],e[m+2],e[m+3]);break;case"straight":case"haystack":for(var g=2;g+1<e.length;g+=2)t.lineTo(e[g],e[g+1]);break;case"segments":if(n.isRound){var v=Oo(n.roundCorners),y;try{for(v.s();!(y=v.n()).done;){var b=y.value;pq(t,b)}}catch(w){v.e(w)}finally{v.f()}t.lineTo(e[e.length-2],e[e.length-1])}else for(var _=2;_+1<e.length;_+=2)t.lineTo(e[_],e[_+1]);break}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};Gs.drawEdgeTrianglePath=function(r,t,e){t.fillStyle=t.strokeStyle;for(var i=r.pstyle("width").pfValue,n=0;n+1<e.length;n+=2){var a=[e[n+2]-e[n],e[n+3]-e[n+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*i/2,s[1]*i/2];t.beginPath(),t.moveTo(e[n]-l[0],e[n+1]-l[1]),t.lineTo(e[n]+l[0],e[n+1]+l[1]),t.lineTo(e[n+2],e[n+3]),t.closePath(),t.fill()}};Gs.drawArrowheads=function(r,t,e){var i=t._private.rscratch,n=i.edgeType==="haystack";n||this.drawArrowhead(r,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,e),this.drawArrowhead(r,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,e),this.drawArrowhead(r,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,e),n||this.drawArrowhead(r,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,e)};Gs.drawArrowhead=function(r,t,e,i,n,a,o){if(!(isNaN(i)||i==null||isNaN(n)||n==null||isNaN(a)||a==null)){var s=this,l=t.pstyle(e+"-arrow-shape").value;if(l!=="none"){var c=t.pstyle(e+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(e+"-arrow-fill").value,u=t.pstyle("width").pfValue,f=t.pstyle(e+"-arrow-width"),m=f.value==="match-line"?u:f.pfValue;f.units==="%"&&(m*=u);var g=t.pstyle("opacity").value;o===void 0&&(o=g);var v=r.globalCompositeOperation;(o!==1||d==="hollow")&&(r.globalCompositeOperation="destination-out",s.colorFillStyle(r,255,255,255,1),s.colorStrokeStyle(r,255,255,255,1),s.drawArrowShape(t,r,c,u,l,m,i,n,a),r.globalCompositeOperation=v);var y=t.pstyle(e+"-arrow-color").value;s.colorFillStyle(r,y[0],y[1],y[2],o),s.colorStrokeStyle(r,y[0],y[1],y[2],o),s.drawArrowShape(t,r,d,u,l,m,i,n,a)}}};Gs.drawArrowShape=function(r,t,e,i,n,a,o,s,l){var c=this,d=this.usePaths()&&n!=="triangle-cross",u=!1,f,m=t,g={x:o,y:s},v=r.pstyle("arrow-scale").value,y=this.getArrowWidth(i,v),b=c.arrowShapes[n];if(d){var _=c.arrowPathCache=c.arrowPathCache||[],w=Xl(n),E=_[w];E!=null?(f=t=E,u=!0):(f=t=new Path2D,_[w]=f)}u||(t.beginPath&&t.beginPath(),d?b.draw(t,1,0,{x:0,y:0},1):b.draw(t,y,l,g,i),t.closePath&&t.closePath()),t=m,d&&(t.translate(o,s),t.rotate(l),t.scale(y,y)),(e==="filled"||e==="both")&&(d?t.fill(f):t.fill()),(e==="hollow"||e==="both")&&(t.lineWidth=a/(d?y:1),t.lineJoin="miter",d?t.stroke(f):t.stroke()),d&&(t.scale(1/y,1/y),t.rotate(-l),t.translate(-o,-s))};var uD={};uD.safeDrawImage=function(r,t,e,i,n,a,o,s,l,c){if(!(n<=0||a<=0||l<=0||c<=0))try{r.drawImage(t,e,i,n,a,o,s,l,c)}catch(d){jr(d)}};uD.drawInscribedImage=function(r,t,e,i,n){var a=this,o=e.position(),s=o.x,l=o.y,c=e.cy().style(),d=c.getIndexedStyle.bind(c),u=d(e,"background-fit","value",i),f=d(e,"background-repeat","value",i),m=e.width(),g=e.height(),v=e.padding()*2,y=m+(d(e,"background-width-relative-to","value",i)==="inner"?0:v),b=g+(d(e,"background-height-relative-to","value",i)==="inner"?0:v),_=e._private.rscratch,w=d(e,"background-clip","value",i),E=w==="node",S=d(e,"background-image-opacity","value",i)*n,D=d(e,"background-image-smoothing","value",i),T=e.pstyle("corner-radius").value;T!=="auto"&&(T=e.pstyle("corner-radius").pfValue);var O=t.width||t.cachedW,F=t.height||t.cachedH;(O==null||F==null)&&(document.body.appendChild(t),O=t.cachedW=t.width||t.offsetWidth,F=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var P=O,L=F;if(d(e,"background-width","value",i)!=="auto"&&(d(e,"background-width","units",i)==="%"?P=d(e,"background-width","pfValue",i)*y:P=d(e,"background-width","pfValue",i)),d(e,"background-height","value",i)!=="auto"&&(d(e,"background-height","units",i)==="%"?L=d(e,"background-height","pfValue",i)*b:L=d(e,"background-height","pfValue",i)),!(P===0||L===0)){if(u==="contain"){var C=Math.min(y/P,b/L);P*=C,L*=C}else if(u==="cover"){var C=Math.max(y/P,b/L);P*=C,L*=C}var A=s-y/2,R=d(e,"background-position-x","units",i),k=d(e,"background-position-x","pfValue",i);R==="%"?A+=(y-P)*k:A+=k;var I=d(e,"background-offset-x","units",i),B=d(e,"background-offset-x","pfValue",i);I==="%"?A+=(y-P)*B:A+=B;var z=l-b/2,W=d(e,"background-position-y","units",i),$=d(e,"background-position-y","pfValue",i);W==="%"?z+=(b-L)*$:z+=$;var G=d(e,"background-offset-y","units",i),K=d(e,"background-offset-y","pfValue",i);G==="%"?z+=(b-L)*K:z+=K,_.pathCache&&(A-=s,z-=l,s=0,l=0);var oe=r.globalAlpha;r.globalAlpha=S;var te=a.getImgSmoothing(r),le=!1;if(D==="no"&&te?(a.setImgSmoothing(r,!1),le=!0):D==="yes"&&!te&&(a.setImgSmoothing(r,!0),le=!0),f==="no-repeat")E&&(r.save(),_.pathCache?r.clip(_.pathCache):(a.nodeShapes[a.getNodeShape(e)].draw(r,s,l,y,b,T,_),r.clip())),a.safeDrawImage(r,t,0,0,O,F,A,z,P,L),E&&r.restore();else{var re=r.createPattern(t,f);r.fillStyle=re,a.nodeShapes[a.getNodeShape(e)].draw(r,s,l,y,b,T,_),r.translate(A,z),r.fill(),r.translate(-A,-z)}r.globalAlpha=oe,le&&a.setImgSmoothing(r,te)}};var Md={};Md.eleTextBiggerThanMin=function(r,t){if(!t){var e=r.cy().zoom(),i=this.getPixelRatio(),n=Math.ceil(KM(e*i));t=Math.pow(2,n)}var a=r.pstyle("font-size").pfValue*t,o=r.pstyle("min-zoomed-font-size").pfValue;return!(a<o)};Md.drawElementText=function(r,t,e,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(i==null){if(a&&!o.eleTextBiggerThanMin(t))return}else if(i===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);r.textAlign=l,r.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,d=t.pstyle("label"),u=t.pstyle("source-label"),f=t.pstyle("target-label");if(c||(!d||!d.value)&&(!u||!u.value)&&(!f||!f.value))return;r.textAlign="center",r.textBaseline="bottom"}var m=!e,g;e&&(g=e,r.translate(-g.x1,-g.y1)),n==null?(o.drawText(r,t,null,m,a),t.isEdge()&&(o.drawText(r,t,"source",m,a),o.drawText(r,t,"target",m,a))):o.drawText(r,t,n,m,a),e&&r.translate(g.x1,g.y1)};Md.getFontCache=function(r){var t;this.fontCaches=this.fontCaches||[];for(var e=0;e<this.fontCaches.length;e++)if(t=this.fontCaches[e],t.context===r)return t;return t={context:r},this.fontCaches.push(t),t};Md.setupTextStyle=function(r,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=t.pstyle("font-style").strValue,n=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=e?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,c=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;r.font=i+" "+o+" "+n+" "+a,r.lineJoin="round",this.colorFillStyle(r,c[0],c[1],c[2],s),this.colorStrokeStyle(r,d[0],d[1],d[2],l)};function xM(r,t,e,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;r.beginPath(),r.moveTo(t+a,e),r.lineTo(t+i-a,e),r.quadraticCurveTo(t+i,e,t+i,e+a),r.lineTo(t+i,e+n-a),r.quadraticCurveTo(t+i,e+n,t+i-a,e+n),r.lineTo(t+a,e+n),r.quadraticCurveTo(t,e+n,t,e+n-a),r.lineTo(t,e+a),r.quadraticCurveTo(t,e,t+a,e),r.closePath(),o?r.stroke():r.fill()}Md.getTextAngle=function(r,t){var e,i=r._private,n=i.rscratch,a=t?t+"-":"",o=r.pstyle(a+"text-rotation");if(o.strValue==="autorotate"){var s=Io(n,"labelAngle",t);e=r.isEdge()?s:0}else o.strValue==="none"?e=0:e=o.pfValue;return e};Md.drawText=function(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,o=a.rscratch,s=n?t.effectiveOpacity():1;if(!(n&&(s===0||t.pstyle("text-opacity").value===0))){e==="main"&&(e=null);var l=Io(o,"labelX",e),c=Io(o,"labelY",e),d,u,f=this.getLabelText(t,e);if(f!=null&&f!==""&&!isNaN(l)&&!isNaN(c)){this.setupTextStyle(r,t,n);var m=e?e+"-":"",g=Io(o,"labelWidth",e),v=Io(o,"labelHeight",e),y=t.pstyle(m+"text-margin-x").pfValue,b=t.pstyle(m+"text-margin-y").pfValue,_=t.isEdge(),w=t.pstyle("text-halign").value,E=t.pstyle("text-valign").value;_&&(w="center",E="center"),l+=y,c+=b;var S;switch(i?S=this.getTextAngle(t,e):S=0,S!==0&&(d=l,u=c,r.translate(d,u),r.rotate(S),l=0,c=0),E){case"top":break;case"center":c+=v/2;break;case"bottom":c+=v;break}var D=t.pstyle("text-background-opacity").value,T=t.pstyle("text-border-opacity").value,O=t.pstyle("text-border-width").pfValue,F=t.pstyle("text-background-padding").pfValue,P=t.pstyle("text-background-shape").strValue,L=P.indexOf("round")===0,C=2;if(D>0||O>0&&T>0){var A=l-F;switch(w){case"left":A-=g;break;case"center":A-=g/2;break}var R=c-v-F,k=g+2*F,I=v+2*F;if(D>0){var B=r.fillStyle,z=t.pstyle("text-background-color").value;r.fillStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+D*s+")",L?xM(r,A,R,k,I,C):r.fillRect(A,R,k,I),r.fillStyle=B}if(O>0&&T>0){var W=r.strokeStyle,$=r.lineWidth,G=t.pstyle("text-border-color").value,K=t.pstyle("text-border-style").value;if(r.strokeStyle="rgba("+G[0]+","+G[1]+","+G[2]+","+T*s+")",r.lineWidth=O,r.setLineDash)switch(K){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=O/4,r.setLineDash([]);break;case"solid":r.setLineDash([]);break}if(L?xM(r,A,R,k,I,C,"stroke"):r.strokeRect(A,R,k,I),K==="double"){var oe=O/2;L?xM(r,A+oe,R+oe,k-oe*2,I-oe*2,C,"stroke"):r.strokeRect(A+oe,R+oe,k-oe*2,I-oe*2)}r.setLineDash&&r.setLineDash([]),r.lineWidth=$,r.strokeStyle=W}}var te=2*t.pstyle("text-outline-width").pfValue;if(te>0&&(r.lineWidth=te),t.pstyle("text-wrap").value==="wrap"){var le=Io(o,"labelWrapCachedLines",e),re=Io(o,"labelLineHeight",e),Q=g/2,se=this.getLabelJustification(t);switch(se==="auto"||(w==="left"?se==="left"?l+=-g:se==="center"&&(l+=-Q):w==="center"?se==="left"?l+=-Q:se==="right"&&(l+=Q):w==="right"&&(se==="center"?l+=Q:se==="right"&&(l+=g))),E){case"top":c-=(le.length-1)*re;break;case"center":case"bottom":c-=(le.length-1)*re;break}for(var ee=0;ee<le.length;ee++)te>0&&r.strokeText(le[ee],l,c),r.fillText(le[ee],l,c),c+=re}else te>0&&r.strokeText(f,l,c),r.fillText(f,l,c);S!==0&&(r.rotate(-S),r.translate(-d,-u))}}};var Ih={};Ih.drawNode=function(r,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,c=t._private,d=c.rscratch,u=t.position();if(!(!Qe(u.x)||!Qe(u.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,m=o.usePaths(),g,v=!1,y=t.padding();s=t.width()+2*y,l=t.height()+2*y;var b;e&&(b=e,r.translate(-b.x1,-b.y1));for(var _=t.pstyle("background-image"),w=_.value,E=new Array(w.length),S=new Array(w.length),D=0,T=0;T<w.length;T++){var O=w[T],F=E[T]=O!=null&&O!=="none";if(F){var P=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",T);D++,S[T]=o.getCachedImage(O,P,function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var L=t.pstyle("background-blacken").value,C=t.pstyle("border-width").pfValue,A=t.pstyle("background-opacity").value*f,R=t.pstyle("border-color").value,k=t.pstyle("border-style").value,I=t.pstyle("border-join").value,B=t.pstyle("border-cap").value,z=t.pstyle("border-position").value,W=t.pstyle("border-dash-pattern").pfValue,$=t.pstyle("border-dash-offset").pfValue,G=t.pstyle("border-opacity").value*f,K=t.pstyle("outline-width").pfValue,oe=t.pstyle("outline-color").value,te=t.pstyle("outline-style").value,le=t.pstyle("outline-opacity").value*f,re=t.pstyle("outline-offset").value,Q=t.pstyle("corner-radius").value;Q!=="auto"&&(Q=t.pstyle("corner-radius").pfValue);var se=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;o.eleFillStyle(r,t,Y)},ee=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;o.colorStrokeStyle(r,R[0],R[1],R[2],Y)},Z=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:le;o.colorStrokeStyle(r,oe[0],oe[1],oe[2],Y)},ce=function(Y,X,me,ne){var pe=o.nodePathCache=o.nodePathCache||[],we=hz(me==="polygon"?me+","+ne.join(","):me,""+X,""+Y,""+Q),ze=pe[we],ke,Ce=!1;return ze!=null?(ke=ze,Ce=!0,d.pathCache=ke):(ke=new Path2D,pe[we]=d.pathCache=ke),{path:ke,cacheHit:Ce}},ye=t.pstyle("shape").strValue,Te=t.pstyle("shape-polygon-points").pfValue;if(m){r.translate(u.x,u.y);var be=ce(s,l,ye,Te);g=be.path,v=be.cacheHit}var at=function(){if(!v){var Y=u;m&&(Y={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(g||r,Y.x,Y.y,s,l,Q,d)}m?r.fill(g):r.fill()},wt=function(){for(var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,me=c.backgrounding,ne=0,pe=0;pe<S.length;pe++){var we=t.cy().style().getIndexedStyle(t,"background-image-containment","value",pe);if(X&&we==="over"||!X&&we==="inside"){ne++;continue}E[pe]&&S[pe].complete&&!S[pe].error&&(ne++,o.drawInscribedImage(r,S[pe],t,pe,Y))}c.backgrounding=ne!==D,me!==c.backgrounding&&t.updateStyle(!1)},$e=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;o.hasPie(t)&&(o.drawPie(r,t,X),Y&&(m||o.nodeShapes[o.getNodeShape(t)].draw(r,u.x,u.y,s,l,Q,d)))},xe=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,X=(L>0?L:-L)*Y,me=L>0?0:255;L!==0&&(o.colorFillStyle(r,me,me,me,X),m?r.fill(g):r.fill())},Me=function(){if(C>0){if(r.lineWidth=C,r.lineCap=B,r.lineJoin=I,r.setLineDash)switch(k){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(W),r.lineDashOffset=$;break;case"solid":case"double":r.setLineDash([]);break}if(z!=="center"){if(r.save(),r.lineWidth*=2,z==="inside")m?r.clip(g):r.clip();else{var Y=new Path2D;Y.rect(-s/2-C,-l/2-C,s+2*C,l+2*C),Y.addPath(g),r.clip(Y,"evenodd")}m?r.stroke(g):r.stroke(),r.restore()}else m?r.stroke(g):r.stroke();if(k==="double"){r.lineWidth=C/3;var X=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",m?r.stroke(g):r.stroke(),r.globalCompositeOperation=X}r.setLineDash&&r.setLineDash([])}},Ve=function(){if(K>0){if(r.lineWidth=K,r.lineCap="butt",r.setLineDash)switch(te){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var Y=u;m&&(Y={x:0,y:0});var X=o.getNodeShape(t),me=C;z==="inside"&&(me=0),z==="outside"&&(me*=2);var ne=(s+me+(K+re))/s,pe=(l+me+(K+re))/l,we=s*ne,ze=l*pe,ke=o.nodeShapes[X].points,Ce;if(m){var Fe=ce(we,ze,X,ke);Ce=Fe.path}if(X==="ellipse")o.drawEllipsePath(Ce||r,Y.x,Y.y,we,ze);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(X)){var Be=0,qe=0,ot=0;X==="round-diamond"?Be=(me+re+K)*1.4:X==="round-heptagon"?(Be=(me+re+K)*1.075,ot=-(me/2+re+K)/35):X==="round-hexagon"?Be=(me+re+K)*1.12:X==="round-pentagon"?(Be=(me+re+K)*1.13,ot=-(me/2+re+K)/15):X==="round-tag"?(Be=(me+re+K)*1.12,qe=(me/2+K+re)*.07):X==="round-triangle"&&(Be=(me+re+K)*(Math.PI/2),ot=-(me+re/2+K)/Math.PI),Be!==0&&(ne=(s+Be)/s,we=s*ne,["round-hexagon","round-tag"].includes(X)||(pe=(l+Be)/l,ze=l*pe)),Q=Q==="auto"?Cz(we,ze):Q;for(var Ut=we/2,st=ze/2,Ye=Q+(me+K+re)/2,mt=new Array(ke.length/2),tt=new Array(ke.length/2),lt=0;lt<ke.length/2;lt++)mt[lt]={x:Y.x+qe+Ut*ke[lt*2],y:Y.y+ot+st*ke[lt*2+1]};var ar,vr,zr,or,Ht=mt.length;for(vr=mt[Ht-1],ar=0;ar<Ht;ar++)zr=mt[ar%Ht],or=mt[(ar+1)%Ht],tt[ar]=cD(vr,zr,or,Ye),vr=zr,zr=or;o.drawRoundPolygonPath(Ce||r,Y.x+qe,Y.y+ot,s*ne,l*pe,ke,tt)}else if(["roundrectangle","round-rectangle"].includes(X))Q=Q==="auto"?xd(we,ze):Q,o.drawRoundRectanglePath(Ce||r,Y.x,Y.y,we,ze,Q+(me+K+re)/2);else if(["cutrectangle","cut-rectangle"].includes(X))Q=Q==="auto"?QM():Q,o.drawCutRectanglePath(Ce||r,Y.x,Y.y,we,ze,null,Q+(me+K+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(X))Q=Q==="auto"?xd(we,ze):Q,o.drawBottomRoundRectanglePath(Ce||r,Y.x,Y.y,we,ze,Q+(me+K+re)/2);else if(X==="barrel")o.drawBarrelPath(Ce||r,Y.x,Y.y,we,ze);else if(X.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(X)){var Ei=(me+K+re)/s;ke=Xb(Kb(ke,Ei)),o.drawPolygonPath(Ce||r,Y.x,Y.y,s,l,ke)}else{var rr=(me+K+re)/s;ke=Xb(Kb(ke,-rr)),o.drawPolygonPath(Ce||r,Y.x,Y.y,s,l,ke)}if(m?r.stroke(Ce):r.stroke(),te==="double"){r.lineWidth=me/3;var xr=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",m?r.stroke(Ce):r.stroke(),r.globalCompositeOperation=xr}r.setLineDash&&r.setLineDash([])}},Ke=function(){n&&o.drawNodeOverlay(r,t,u,s,l)},Ge=function(){n&&o.drawNodeUnderlay(r,t,u,s,l)},We=function(){o.drawElementText(r,t,null,i)},it=t.pstyle("ghost").value==="yes";if(it){var ct=t.pstyle("ghost-offset-x").pfValue,Se=t.pstyle("ghost-offset-y").pfValue,U=t.pstyle("ghost-opacity").value,de=U*f;r.translate(ct,Se),Z(),Ve(),se(U*A),at(),wt(de,!0),ee(U*G),Me(),$e(L!==0||C!==0),wt(de,!1),xe(de),r.translate(-ct,-Se)}m&&r.translate(-u.x,-u.y),Ge(),m&&r.translate(u.x,u.y),Z(),Ve(),se(),at(),wt(f,!0),ee(),Me(),$e(L!==0||C!==0),wt(f,!1),xe(),m&&r.translate(-u.x,-u.y),We(),Ke(),e&&r.translate(b.x1,b.y1)}};var Tq=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,i,n,a,o){var s=this;if(i.visible()){var l=i.pstyle("".concat(t,"-padding")).pfValue,c=i.pstyle("".concat(t,"-opacity")).value,d=i.pstyle("".concat(t,"-color")).value,u=i.pstyle("".concat(t,"-shape")).value,f=i.pstyle("".concat(t,"-corner-radius")).value;if(c>0){if(n=n||i.position(),a==null||o==null){var m=i.padding();a=i.width()+2*m,o=i.height()+2*m}s.colorFillStyle(e,d[0],d[1],d[2],c),s.nodeShapes[u].draw(e,n.x,n.y,a+l*2,o+l*2,f),e.fill()}}}};Ih.drawNodeOverlay=Tq("overlay");Ih.drawNodeUnderlay=Tq("underlay");Ih.hasPie=function(r){return r=r[0],r._private.hasPie};Ih.drawPie=function(r,t,e,i){t=t[0],i=i||t.position();var n=t.cy().style(),a=t.pstyle("pie-size"),o=i.x,s=i.y,l=t.width(),c=t.height(),d=Math.min(l,c)/2,u=0,f=this.usePaths();f&&(o=0,s=0),a.units==="%"?d=d*a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var m=1;m<=n.pieBackgroundN;m++){var g=t.pstyle("pie-"+m+"-background-size").value,v=t.pstyle("pie-"+m+"-background-color").value,y=t.pstyle("pie-"+m+"-background-opacity").value*e,b=g/100;b+u>1&&(b=1-u);var _=1.5*Math.PI+2*Math.PI*u,w=2*Math.PI*b,E=_+w;g===0||u>=1||u+b>1||(r.beginPath(),r.moveTo(o,s),r.arc(o,s,d,_,E),r.closePath(),this.colorFillStyle(r,v[0],v[1],v[2],y),r.fill(),u+=b)}};var ra={},Mpe=100;ra.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),e=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/e};ra.paintCache=function(r){for(var t=this.paintCaches=this.paintCaches||[],e=!0,i,n=0;n<t.length;n++)if(i=t[n],i.context===r){e=!1;break}return e&&(i={context:r},t.push(i)),i};ra.createGradientStyleFor=function(r,t,e,i,n){var a,o=this.usePaths(),s=e.pstyle(t+"-gradient-stop-colors").value,l=e.pstyle(t+"-gradient-stop-positions").pfValue;if(i==="radial-gradient")if(e.isEdge()){var c=e.sourceEndpoint(),d=e.targetEndpoint(),u=e.midpoint(),f=_d(c,u),m=_d(d,u);a=r.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(f,m))}else{var g=o?{x:0,y:0}:e.position(),v=e.paddedWidth(),y=e.paddedHeight();a=r.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(v,y))}else if(e.isEdge()){var b=e.sourceEndpoint(),_=e.targetEndpoint();a=r.createLinearGradient(b.x,b.y,_.x,_.y)}else{var w=o?{x:0,y:0}:e.position(),E=e.paddedWidth(),S=e.paddedHeight(),D=E/2,T=S/2,O=e.pstyle("background-gradient-direction").value;switch(O){case"to-bottom":a=r.createLinearGradient(w.x,w.y-T,w.x,w.y+T);break;case"to-top":a=r.createLinearGradient(w.x,w.y+T,w.x,w.y-T);break;case"to-left":a=r.createLinearGradient(w.x+D,w.y,w.x-D,w.y);break;case"to-right":a=r.createLinearGradient(w.x-D,w.y,w.x+D,w.y);break;case"to-bottom-right":case"to-right-bottom":a=r.createLinearGradient(w.x-D,w.y-T,w.x+D,w.y+T);break;case"to-top-right":case"to-right-top":a=r.createLinearGradient(w.x-D,w.y+T,w.x+D,w.y-T);break;case"to-bottom-left":case"to-left-bottom":a=r.createLinearGradient(w.x+D,w.y-T,w.x-D,w.y+T);break;case"to-top-left":case"to-left-top":a=r.createLinearGradient(w.x+D,w.y+T,w.x-D,w.y-T);break}}if(!a)return null;for(var F=l.length===s.length,P=s.length,L=0;L<P;L++)a.addColorStop(F?l[L]:L/(P-1),"rgba("+s[L][0]+","+s[L][1]+","+s[L][2]+","+n+")");return a};ra.gradientFillStyle=function(r,t,e,i){var n=this.createGradientStyleFor(r,"background",t,e,i);if(!n)return null;r.fillStyle=n};ra.colorFillStyle=function(r,t,e,i,n){r.fillStyle="rgba("+t+","+e+","+i+","+n+")"};ra.eleFillStyle=function(r,t,e){var i=t.pstyle("background-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientFillStyle(r,t,i,e);else{var n=t.pstyle("background-color").value;this.colorFillStyle(r,n[0],n[1],n[2],e)}};ra.gradientStrokeStyle=function(r,t,e,i){var n=this.createGradientStyleFor(r,"line",t,e,i);if(!n)return null;r.strokeStyle=n};ra.colorStrokeStyle=function(r,t,e,i,n){r.strokeStyle="rgba("+t+","+e+","+i+","+n+")"};ra.eleStrokeStyle=function(r,t,e){var i=t.pstyle("line-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientStrokeStyle(r,t,i,e);else{var n=t.pstyle("line-color").value;this.colorStrokeStyle(r,n[0],n[1],n[2],e)}};ra.matchCanvasSize=function(r){var t=this,e=t.data,i=t.findContainerClientCoords(),n=i[2],a=i[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(r===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||r===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=n*o,c=a*o,d;if(!(l===t.canvasWidth&&c===t.canvasHeight)){t.fontCaches=null;var u=e.canvasContainer;u.style.width=n+"px",u.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)d=e.canvases[f],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)d=e.bufferCanvases[f],d.width=l,d.height=c,d.style.width=n+"px",d.style.height=a+"px";t.textureMult=1,o<=1&&(d=e.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=l*t.textureMult,d.height=c*t.textureMult),t.canvasWidth=l,t.canvasHeight=c,t.pixelRatio=o}};ra.renderTo=function(r,t,e,i){this.render({forcedContext:r,forcedZoom:t,forcedPan:e,drawAllLayers:!0,forcedPxRatio:i})};ra.clearCanvas=function(){var r=this,t=r.data;function e(i){i.clearRect(0,0,r.canvasWidth,r.canvasHeight)}e(t.contexts[r.NODE]),e(t.contexts[r.DRAG])};ra.render=function(r){var t=this;r=r||gz();var e=t.cy,i=r.forcedContext,n=r.drawAllLayers,a=r.drawOnlyNodeLayer,o=r.forcedZoom,s=r.forcedPan,l=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,c=t.data,d=c.canvasNeedsRedraw,u=t.textureOnViewport&&!i&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),f=r.motionBlur!==void 0?r.motionBlur:t.motionBlur,m=t.motionBlurPxRatio,g=e.hasCompoundNodes(),v=t.hoverData.draggingEles,y=!!(t.hoverData.selecting||t.touchData.selecting);f=f&&!i&&t.motionBlurEnabled&&!y;var b=f;i||(t.prevPxRatio!==l&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=l),!i&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),f&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(b=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!u&&(d[t.NODE]=!0,d[t.SELECT_BOX]=!0);var _=e.style(),w=e.zoom(),E=o!==void 0?o:w,S=e.pan(),D={x:S.x,y:S.y},T={zoom:w,pan:{x:S.x,y:S.y}},O=t.prevViewport,F=O===void 0||T.zoom!==O.zoom||T.pan.x!==O.pan.x||T.pan.y!==O.pan.y;!F&&!(v&&!g)&&(t.motionBlurPxRatio=1),s&&(D=s),E*=l,D.x*=l,D.y*=l;var P=t.getCachedZSortedEles();function L(ee,Z,ce,ye,Te){var be=ee.globalCompositeOperation;ee.globalCompositeOperation="destination-out",t.colorFillStyle(ee,255,255,255,t.motionBlurTransparency),ee.fillRect(Z,ce,ye,Te),ee.globalCompositeOperation=be}function C(ee,Z){var ce,ye,Te,be;!t.clearingMotionBlur&&(ee===c.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||ee===c.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(ce={x:S.x*m,y:S.y*m},ye=w*m,Te=t.canvasWidth*m,be=t.canvasHeight*m):(ce=D,ye=E,Te=t.canvasWidth,be=t.canvasHeight),ee.setTransform(1,0,0,1,0,0),Z==="motionBlur"?L(ee,0,0,Te,be):!i&&(Z===void 0||Z)&&ee.clearRect(0,0,Te,be),n||(ee.translate(ce.x,ce.y),ee.scale(ye,ye)),s&&ee.translate(s.x,s.y),o&&ee.scale(o,o)}if(u||(t.textureDrawLastFrame=!1),u){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=e.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var A=t.data.bufferContexts[t.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:l*t.textureMult});var T=t.textureCache.viewport={zoom:e.zoom(),pan:e.pan(),width:t.canvasWidth,height:t.canvasHeight};T.mpan={x:(0-T.pan.x)/T.zoom,y:(0-T.pan.y)/T.zoom}}d[t.DRAG]=!1,d[t.NODE]=!1;var R=c.contexts[t.NODE],k=t.textureCache.texture,T=t.textureCache.viewport;R.setTransform(1,0,0,1,0,0),f?L(R,0,0,T.width,T.height):R.clearRect(0,0,T.width,T.height);var I=_.core("outside-texture-bg-color").value,B=_.core("outside-texture-bg-opacity").value;t.colorFillStyle(R,I[0],I[1],I[2],B),R.fillRect(0,0,T.width,T.height);var w=e.zoom();C(R,!1),R.clearRect(T.mpan.x,T.mpan.y,T.width/T.zoom/l,T.height/T.zoom/l),R.drawImage(k,T.mpan.x,T.mpan.y,T.width/T.zoom/l,T.height/T.zoom/l)}else t.textureOnViewport&&!i&&(t.textureCache=null);var z=e.extent(),W=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),$=t.hideEdgesOnViewport&&W,G=[];if(G[t.NODE]=!d[t.NODE]&&f&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,G[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),G[t.DRAG]=!d[t.DRAG]&&f&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,G[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),d[t.NODE]||n||a||G[t.NODE]){var K=f&&!G[t.NODE]&&m!==1,R=i||(K?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:c.contexts[t.NODE]),oe=f&&!K?"motionBlur":void 0;C(R,oe),$?t.drawCachedNodes(R,P.nondrag,l,z):t.drawLayeredElements(R,P.nondrag,l,z),t.debug&&t.drawDebugPoints(R,P.nondrag),!n&&!f&&(d[t.NODE]=!1)}if(!a&&(d[t.DRAG]||n||G[t.DRAG])){var K=f&&!G[t.DRAG]&&m!==1,R=i||(K?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:c.contexts[t.DRAG]);C(R,f&&!K?"motionBlur":void 0),$?t.drawCachedNodes(R,P.drag,l,z):t.drawCachedElements(R,P.drag,l,z),t.debug&&t.drawDebugPoints(R,P.drag),!n&&!f&&(d[t.DRAG]=!1)}if(this.drawSelectionRectangle(r,C),f&&m!==1){var te=c.contexts[t.NODE],le=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],re=c.contexts[t.DRAG],Q=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],se=function(Z,ce,ye){Z.setTransform(1,0,0,1,0,0),ye||!b?Z.clearRect(0,0,t.canvasWidth,t.canvasHeight):L(Z,0,0,t.canvasWidth,t.canvasHeight);var Te=m;Z.drawImage(ce,0,0,t.canvasWidth*Te,t.canvasHeight*Te,0,0,t.canvasWidth,t.canvasHeight)};(d[t.NODE]||G[t.NODE])&&(se(te,le,G[t.NODE]),d[t.NODE]=!1),(d[t.DRAG]||G[t.DRAG])&&(se(re,Q,G[t.DRAG]),d[t.DRAG]=!1)}t.prevViewport=T,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),f&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!u,t.mbFrames=0,d[t.NODE]=!0,d[t.DRAG]=!0,t.redraw()},Mpe)),i||e.emit("render")};var Zm;ra.drawSelectionRectangle=function(r,t){var e=this,i=e.cy,n=e.data,a=i.style(),o=r.drawOnlyNodeLayer,s=r.drawAllLayers,l=n.canvasNeedsRedraw,c=r.forcedContext;if(e.showFps||!o&&l[e.SELECT_BOX]&&!s){var d=c||n.contexts[e.SELECT_BOX];if(t(d),e.selection[4]==1&&(e.hoverData.selecting||e.touchData.selecting)){var u=e.cy.zoom(),f=a.core("selection-box-border-width").value/u;d.lineWidth=f,d.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",d.fillRect(e.selection[0],e.selection[1],e.selection[2]-e.selection[0],e.selection[3]-e.selection[1]),f>0&&(d.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",d.strokeRect(e.selection[0],e.selection[1],e.selection[2]-e.selection[0],e.selection[3]-e.selection[1]))}if(n.bgActivePosistion&&!e.hoverData.selecting){var u=e.cy.zoom(),m=n.bgActivePosistion;d.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",d.beginPath(),d.arc(m.x,m.y,a.core("active-bg-size").pfValue/u,0,2*Math.PI),d.fill()}var g=e.lastRedrawTime;if(e.showFps&&g){g=Math.round(g);var v=Math.round(1e3/g),y="1 frame = "+g+" ms = "+v+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!Zm){var b=d.measureText(y);Zm=b.actualBoundingBoxAscent}d.fillText(y,0,Zm);var _=60;d.strokeRect(0,Zm+10,250,20),d.fillRect(0,Zm+10,250*Math.min(v/_,1),20)}s||(l[e.SELECT_BOX]=!1)}};function qV(r,t,e){var i=r.createShader(t);if(r.shaderSource(i,e),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(i));return i}function Dpe(r,t,e){var i=qV(r,r.VERTEX_SHADER,t),n=qV(r,r.FRAGMENT_SHADER,e),a=r.createProgram();if(r.attachShader(a,i),r.attachShader(a,n),r.linkProgram(a),!r.getProgramParameter(a,r.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function Tpe(r,t,e){e===void 0&&(e=t);var i=r.makeOffscreenCanvas(t,e),n=i.context=i.getContext("2d");return i.clear=function(){return n.clearRect(0,0,i.width,i.height)},i.clear(),i}function hD(r){var t=r.pixelRatio,e=r.cy.zoom(),i=r.cy.pan();return{zoom:e*t,pan:{x:i.x*t,y:i.y*t}}}function Ape(r,t,e,i,n){var a=i*e+t.x,o=n*e+t.y;return o=Math.round(r.canvasHeight-o),[a,o]}function Qm(r,t,e){var i=r[0]/255,n=r[1]/255,a=r[2]/255,o=t,s=e||new Array(4);return s[0]=i*o,s[1]=n*o,s[2]=a*o,s[3]=o,s}function hh(r,t){var e=t||new Array(4);return e[0]=(r>>0&255)/255,e[1]=(r>>8&255)/255,e[2]=(r>>16&255)/255,e[3]=(r>>24&255)/255,e}function Rpe(r){return r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)}function Ipe(r,t){var e=r.createTexture();return e.buffer=function(i){r.bindTexture(r.TEXTURE_2D,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)},e.deleteTexture=function(){r.deleteTexture(e)},e}function Aq(r,t){switch(t){case"float":return[1,r.FLOAT,4];case"vec2":return[2,r.FLOAT,4];case"vec3":return[3,r.FLOAT,4];case"vec4":return[4,r.FLOAT,4];case"int":return[1,r.INT,4];case"ivec2":return[2,r.INT,4]}}function Rq(r,t,e){switch(t){case r.FLOAT:return new Float32Array(e);case r.INT:return new Int32Array(e)}}function Ope(r,t,e,i,n,a){switch(t){case r.FLOAT:return new Float32Array(e.buffer,a*i,n);case r.INT:return new Int32Array(e.buffer,a*i,n)}}function kpe(r,t,e,i){var n=Aq(r,t),a=_n(n,2),o=a[0],s=a[1],l=Rq(r,s,i),c=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,c),r.bufferData(r.ARRAY_BUFFER,l,r.STATIC_DRAW),s===r.FLOAT?r.vertexAttribPointer(e,o,s,!1,0,0):s===r.INT&&r.vertexAttribIPointer(e,o,s,0,0),r.enableVertexAttribArray(e),r.bindBuffer(r.ARRAY_BUFFER,null),c}function Hl(r,t,e,i){var n=Aq(r,e),a=_n(n,3),o=a[0],s=a[1],l=a[2],c=Rq(r,s,t*o),d=o*l,u=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,t*d,r.DYNAMIC_DRAW),r.enableVertexAttribArray(i),s===r.FLOAT?r.vertexAttribPointer(i,o,s,!1,d,0):s===r.INT&&r.vertexAttribIPointer(i,o,s,d,0),r.vertexAttribDivisor(i,1),r.bindBuffer(r.ARRAY_BUFFER,null);for(var f=new Array(t),m=0;m<t;m++)f[m]=Ope(r,s,c,d,o,m);return u.dataArray=c,u.stride=d,u.size=o,u.getView=function(g){return f[g]},u.setPoint=function(g,v,y){var b=f[g];b[0]=v,b[1]=y},u.bufferSubData=function(g){r.bindBuffer(r.ARRAY_BUFFER,u),g?r.bufferSubData(r.ARRAY_BUFFER,0,c,0,g*o):r.bufferSubData(r.ARRAY_BUFFER,0,c)},u}function Ppe(r,t,e){for(var i=9,n=new Float32Array(t*i),a=new Array(t),o=0;o<t;o++){var s=o*i*4;a[o]=new Float32Array(n.buffer,s,i)}var l=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,n.byteLength,r.DYNAMIC_DRAW);for(var c=0;c<3;c++){var d=e+c;r.enableVertexAttribArray(d),r.vertexAttribPointer(d,3,r.FLOAT,!1,3*12,c*12),r.vertexAttribDivisor(d,1)}return r.bindBuffer(r.ARRAY_BUFFER,null),l.getMatrixView=function(u){return a[u]},l.setData=function(u,f){a[f].set(u,0)},l.bufferSubData=function(){r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferSubData(r.ARRAY_BUFFER,0,n)},l}function Lpe(r){var t=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,t);var e=r.createTexture();return r.bindTexture(r.TEXTURE_2D,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),r.bindFramebuffer(r.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(i,n){r.bindTexture(r.TEXTURE_2D,e),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i,n,0,r.RGBA,r.UNSIGNED_BYTE,null)},t}var UV=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});function Wb(){var r=new UV(9);return UV!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Iq(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Fpe(r,t,e){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],d=t[7],u=t[8],f=e[0],m=e[1],g=e[2],v=e[3],y=e[4],b=e[5],_=e[6],w=e[7],E=e[8];return r[0]=f*i+m*o+g*c,r[1]=f*n+m*s+g*d,r[2]=f*a+m*l+g*u,r[3]=v*i+y*o+b*c,r[4]=v*n+y*s+b*d,r[5]=v*a+y*l+b*u,r[6]=_*i+w*o+E*c,r[7]=_*n+w*s+E*d,r[8]=_*a+w*l+E*u,r}function i0(r,t,e){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],d=t[7],u=t[8],f=e[0],m=e[1];return r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=f*i+m*o+c,r[7]=f*n+m*s+d,r[8]=f*a+m*l+u,r}function Oq(r,t,e){var i=t[0],n=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],d=t[7],u=t[8],f=Math.sin(e),m=Math.cos(e);return r[0]=m*i+f*o,r[1]=m*n+f*s,r[2]=m*a+f*l,r[3]=m*o-f*i,r[4]=m*s-f*n,r[5]=m*l-f*a,r[6]=c,r[7]=d,r[8]=u,r}function fD(r,t,e){var i=e[0],n=e[1];return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=n*t[3],r[4]=n*t[4],r[5]=n*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function Npe(r,t,e){return r[0]=2/t,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/e,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var ap={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},HV=ln({texRows:24}),fh=ln({collection:"default",getKey:null,drawElement:null,getBoundingBox:null,getRotation:null,getRotationPoint:null,getRotationOffset:null,isVisible:function(){return!0},getPadding:0}),Bpe=function(){function r(t,e,i,n){ec(this,r),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=e,this.texRows=i,this.texHeight=Math.floor(e/i),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n(t,e,e),this.scratch=n(t,e,this.texHeight,"scratch")}return tc(r,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var i=e.w,n=e.h,a=this.texHeight,o=this.texSize,s=a/n,l=i*s,c=n*s;return l>o&&(s=o/i,l=i*s,c=n*s),{scale:s,texW:l,texH:c}}},{key:"draw",value:function(e,i,n){var a=this;if(this.locked)throw new Error("can't draw, atlas is locked");var o=this.texSize,s=this.texRows,l=this.texHeight,c=this.getScale(i),d=c.scale,u=c.texW,f=c.texH,m=[null,null],g=function(w,E){if(n&&E){var S=E.context,D=w.x,T=w.row,O=D,F=l*T;S.save(),S.translate(O,F),S.scale(d,d),n(S,i),S.restore()}},v=function(){g(a.freePointer,a.canvas),m[0]={x:a.freePointer.x,y:a.freePointer.row*l,w:u,h:f},m[1]={x:a.freePointer.x+u,y:a.freePointer.row*l,w:0,h:f},a.freePointer.x+=u,a.freePointer.x==o&&(a.freePointer.x=0,a.freePointer.row++)},y=function(){var w=a.scratch,E=a.canvas;w.clear(),g({x:0,row:0},w);var S=o-a.freePointer.x,D=u-S,T=l;{var O=a.freePointer.x,F=a.freePointer.row*l,P=S;E.context.drawImage(w,0,0,P,T,O,F,P,T),m[0]={x:O,y:F,w:P,h:f}}{var L=S,C=(a.freePointer.row+1)*l,A=D;E&&E.context.drawImage(w,L,0,A,T,0,C,A,T),m[1]={x:0,y:C,w:A,h:f}}a.freePointer.x=D,a.freePointer.row++},b=function(){a.freePointer.x=0,a.freePointer.row++};if(this.freePointer.x+u<=o)v();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===o?(b(),v()):this.enableWrapping?y():(b(),v())}return this.keyToLocation.set(e,m),this.needsBuffer=!0,m}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(e){if(this.locked)return!1;var i=this.texSize,n=this.texRows,a=this.getScale(e),o=a.texW;return this.freePointer.x+o>i?this.freePointer.row<n-1:!0}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=Ipe(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),Vpe=function(){function r(t,e,i,n){ec(this,r),this.r=t,this.texSize=e,this.texRows=i,this.createTextureCanvas=n,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return tc(r,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,i=this.texSize,n=this.texRows,a=this.createTextureCanvas;return new Bpe(e,i,n,a)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,i=this.texSize,n=this.texRows,a=this.createTextureCanvas,o=Math.floor(i/n);this.scratch=a(e,i,o,"scratch")}return this.scratch}},{key:"draw",value:function(e,i,n){var a=this.styleKeyToAtlas.get(e);return a||(a=this.atlases[this.atlases.length-1],(!a||!a.canFit(i))&&(a&&a.lock(),a=this._createAtlas(),this.atlases.push(a)),a.draw(e,i,n),this.styleKeyToAtlas.set(e,a)),a}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,i=this.markedKeys;if(i.size===0){console.log("nothing to garbage collect");return}var n=[],a=new Map,o=null,s=Oo(this.atlases),l;try{var c=function(){var u=l.value,f=u.getKeys(),m=zpe(i,f);if(m.size===0)return n.push(u),f.forEach(function(S){return a.set(S,u)}),1;o||(o=e._createAtlas(),n.push(o));var g=Oo(f),v;try{for(g.s();!(v=g.n()).done;){var y=v.value;if(!m.has(y)){var b=u.getOffsets(y),_=_n(b,2),w=_[0],E=_[1];o.canFit({w:w.w+E.w,h:w.h})||(o.lock(),o=e._createAtlas(),n.push(o)),e._copyTextureToNewAtlas(y,u,o),a.set(y,o)}}}catch(S){g.e(S)}finally{g.f()}u.dispose()};for(s.s();!(l=s.n()).done;)c()}catch(d){s.e(d)}finally{s.f()}this.atlases=n,this.styleKeyToAtlas=a,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(e,i,n){var a=i.getOffsets(e),o=_n(a,2),s=o[0],l=o[1];if(l.w===0)n.draw(e,s,function(f){f.drawImage(i.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var c=this._getScratchCanvas();c.clear(),c.context.drawImage(i.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),c.context.drawImage(i.canvas,l.x,l.y,l.w,l.h,s.w,0,l.w,l.h);var d=s.w+l.w,u=s.h;n.draw(e,{w:d,h:u},function(f){f.drawImage(c,0,0,d,u,0,0,d,u)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function zpe(r,t){return r.intersection?r.intersection(t):new Set(QV(r).filter(function(e){return t.has(e)}))}var qpe=function(){function r(t,e){ec(this,r),this.r=t,this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map,this.batchAtlases=[]}return tc(r,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"addAtlasCollection",value:function(e,i){var n=this.globalOptions,a=n.webglTexSize,o=n.createTextureCanvas,s=i.texRows,l=this._cacheScratchCanvas(o),c=new Vpe(this.r,a,s,l);this.collections.set(e,c)}},{key:"addRenderType",value:function(e,i){var n=i.collection;if(!this.collections.has(n))throw new Error("invalid atlas collection name '".concat(n,"'"));var a=this.collections.get(n),o=Ot({type:e,atlasCollection:a},i);this.renderTypes.set(e,o)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var i=-1,n=-1,a=null;return function(o,s,l,c){return c?((!a||s!=i||l!=n)&&(i=s,n=l,a=e(o,s,l)),a):e(o,s,l)}}},{key:"_key",value:function(e,i){return"".concat(e,"-").concat(i)}},{key:"invalidate",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.forceRedraw,a=n===void 0?!1:n,o=i.filterEle,s=o===void 0?function(){return!0}:o,l=i.filterType,c=l===void 0?function(){return!0}:l,d=!1,u=!1,f=Oo(e),m;try{for(f.s();!(m=f.n()).done;){var g=m.value;if(s(g)){var v=Oo(this.renderTypes.values()),y;try{for(v.s();!(y=v.n()).done;){var b=y.value,_=b.type;if(c(_)){var w=b.getKey(g),E=this.collections.get(b.collection);if(a)E.markKeyForGC(w),u=!0;else{var S=b.getID?b.getID(g):g.id(),D=this._key(_,S),T=this.typeAndIdToKey.get(D);T!==void 0&&T!==w&&(this.typeAndIdToKey.delete(D),E.markKeyForGC(T),d=!0)}}}}catch(O){v.e(O)}finally{v.f()}}}}catch(O){f.e(O)}finally{f.f()}return u&&(this.gc(),d=!1),d}},{key:"gc",value:function(){var e=Oo(this.collections.values()),i;try{for(e.s();!(i=e.n()).done;){var n=i.value;n.gc()}}catch(a){e.e(a)}finally{e.f()}}},{key:"getOrCreateAtlas",value:function(e,i,n){var a=this.renderTypes.get(i),o=a.getKey(e);n||(n=a.getBoundingBox(e));var s=this.collections.get(a.collection),l=!1,c=s.draw(o,n,function(f){a.drawElement(f,e,n,!0,!0),l=!0});if(l){var d=a.getID?a.getID(e):e.id(),u=this._key(i,d);this.typeAndIdToKey.set(u,o)}return c}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e,i){if(this.batchAtlases.length===this.maxAtlasesPerBatch){var n=this.renderTypes.get(i),a=n.getKey(e),o=this.collections.get(n.collection),s=o.getAtlas(a);return!!s&&this.batchAtlases.includes(s)}return!0}},{key:"getAtlasIndexForBatch",value:function(e){var i=this.batchAtlases.indexOf(e);if(i<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)return;this.batchAtlases.push(e),i=this.batchAtlases.length-1}return i}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,i){return i})}},{key:"getAtlasInfo",value:function(e,i){var n=this.renderTypes.get(i),a=n.getBoundingBox(e),o=this.getOrCreateAtlas(e,i,a),s=this.getAtlasIndexForBatch(o);if(s!==void 0){var l=n.getKey(e),c=o.getOffsets(l),d=_n(c,2),u=d[0],f=d[1];return{index:s,tex1:u,tex2:f,bb:a}}}},{key:"setTransformMatrix",value:function(e,i,n,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=this.getRenderTypeOpts(n),l=s.getPadding?s.getPadding(e):0;if(a){var c=a.bb,d=a.tex1,u=a.tex2,f=d.w/(d.w+u.w);o||(f=1-f);var m=this.getAdjustedBB(c,l,o,f);this._applyTransformMatrix(i,m,s,e)}else{var g=s.getBoundingBox(e),v=this.getAdjustedBB(g,l,!0,1);this._applyTransformMatrix(i,v,s,e)}}},{key:"_applyTransformMatrix",value:function(e,i,n,a){var o,s;Iq(e);var l=n.getRotation?n.getRotation(a):0;if(l!==0){var c=n.getRotationPoint(a),d=c.x,u=c.y;i0(e,e,[d,u]),Oq(e,e,l);var f=n.getRotationOffset(a);o=f.x+i.xOffset,s=f.y}else o=i.x1,s=i.y1;i0(e,e,[o,s]),fD(e,e,[i.w,i.h])}},{key:"getAdjustedBB",value:function(e,i,n,a){var o=e.x1,s=e.y1,l=e.w,c=e.h;i&&(o-=i,s-=i,l+=2*i,c+=2*i);var d=0,u=l*a;return n&&a<1?l=u:!n&&a<1&&(d=l-u,o+=d,l=u),{x1:o,y1:s,w:l,h:c,xOffset:d}}},{key:"getDebugInfo",value:function(){var e=[],i=Oo(this.collections),n;try{for(i.s();!(n=i.n()).done;){var a=_n(n.value,2),o=a[0],s=a[1],l=s.getCounts(),c=l.keyCount,d=l.atlasCount;e.push({type:o,keyCount:c,atlasCount:d})}}catch(u){i.e(u)}finally{i.f()}return e}}])}(),Pb=0,GV=1,WV=2,wM=3,jV=4,Upe=function(){function r(t,e,i){ec(this,r),this.r=t,this.gl=e,this.maxInstances=i.webglBatchSize,this.atlasSize=i.webglTexSize,this.bgColor=i.bgColor,this.debug=i.webglDebug,this.batchDebugInfo=[],i.enableWrapping=!0,i.createTextureCanvas=Tpe,this.atlasManager=new qpe(t,i),this.program=this.createShaderProgram(ap.SCREEN),this.pickingProgram=this.createShaderProgram(ap.PICKING),this.vao=this.createVAO()}return tc(r,[{key:"addAtlasCollection",value:function(e,i){this.atlasManager.addAtlasCollection(e,i)}},{key:"addAtlasRenderType",value:function(e,i){this.atlasManager.addRenderType(e,i)}},{key:"invalidate",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.type,a=this.atlasManager;return n?a.invalidate(e,{filterType:function(s){return s===n},forceRedraw:!0}):a.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"createShaderProgram",value:function(e){var i=this.gl,n=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; 

      in mat3 aTransform;

      // what are we rendering?
      in int aVertType;

      // for picking
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in float aLineWidth;
      in vec4 aColor;

      out vec2 vTexCoord;
      out vec4 vColor;
      flat out int vAtlasId;
      flat out vec4 vIndex;
      flat out int vVertType;

      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition;

        if(aVertType == `.concat(Pb,`) {
          float texX = aTex.x;
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          int vid = gl_VertexID;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(jV,`) {
          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else if(aVertType == `).concat(GV,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(WV,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0 = pointA;
          vec2 p1 = pointB;
          vec2 p2 = pointC;
          vec2 pos = position;
          if(position.x == 1.0) {
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth;

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(wM,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2( 0.0,   0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vIndex = aIndex;
        vVertType = aVertType;
      }
    `),a=this.atlasManager.getIndexArray(),o=`#version 300 es
      precision highp float;

      // define texture unit for each node in the batch
      `.concat(a.map(function(c){return"uniform sampler2D uTexture".concat(c,";")}).join(`
	`),`

      uniform vec4 uBGColor;

      in vec2 vTexCoord;
      in vec4 vColor;
      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;

      out vec4 outColor;

      void main(void) {
        if(vVertType == `).concat(Pb,`) {
          `).concat(a.map(function(c){return"if(vAtlasId == ".concat(c,") outColor = texture(uTexture").concat(c,", vTexCoord);")}).join(`
	else `),`
        } else if(vVertType == `).concat(wM,`) {
          // blend arrow color with background (using premultiplied alpha)
          outColor.rgb = vColor.rgb + (uBGColor.rgb * (1.0 - vColor.a)); 
          outColor.a = 1.0; // make opaque, masks out line under arrow
        } else {
          outColor = vColor;
        }

        `).concat(e.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=Dpe(i,n,o);s.aPosition=i.getAttribLocation(s,"aPosition"),s.aIndex=i.getAttribLocation(s,"aIndex"),s.aVertType=i.getAttribLocation(s,"aVertType"),s.aTransform=i.getAttribLocation(s,"aTransform"),s.aAtlasId=i.getAttribLocation(s,"aAtlasId"),s.aTex=i.getAttribLocation(s,"aTex"),s.aPointAPointB=i.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=i.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=i.getAttribLocation(s,"aLineWidth"),s.aColor=i.getAttribLocation(s,"aColor"),s.uPanZoomMatrix=i.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=i.getUniformLocation(s,"uAtlasSize"),s.uBGColor=i.getUniformLocation(s,"uBGColor"),s.uTextures=[];for(var l=0;l<this.atlasManager.getMaxAtlasesPerBatch();l++)s.uTextures.push(i.getUniformLocation(s,"uTexture".concat(l)));return s}},{key:"createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var i=this.maxInstances,n=this.gl,a=this.program,o=n.createVertexArray();return n.bindVertexArray(o),kpe(n,"vec2",a.aPosition,e),this.transformBuffer=Ppe(n,i,a.aTransform),this.indexBuffer=Hl(n,i,"vec4",a.aIndex),this.vertTypeBuffer=Hl(n,i,"int",a.aVertType),this.atlasIdBuffer=Hl(n,i,"int",a.aAtlasId),this.texBuffer=Hl(n,i,"vec4",a.aTex),this.pointAPointBBuffer=Hl(n,i,"vec4",a.aPointAPointB),this.pointCPointDBuffer=Hl(n,i,"vec4",a.aPointCPointD),this.lineWidthBuffer=Hl(n,i,"float",a.aLineWidth),this.colorBuffer=Hl(n,i,"vec4",a.aColor),n.bindVertexArray(null),o}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(i){return i.endsWith("Buffer")}).map(function(i){return e[i]})),this._buffers}},{key:"startFrame",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ap.SCREEN;this.panZoomMatrix=e,this.renderTarget=i,this.batchDebugInfo=[],this.wrappedCount=0,this.rectangleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.atlasManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"getTempMatrix",value:function(){return this.tempMatrix=this.tempMatrix||Wb()}},{key:"drawTexture",value:function(e,i,n){var a=this.atlasManager;if(e.visible()&&a.getRenderTypeOpts(n).isVisible(e)){a.canAddToCurrentBatch(e,n)||this.endBatch(),this.instanceCount+1>=this.maxInstances&&this.endBatch();var o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=Pb;var s=this.indexBuffer.getView(o);hh(i,s);var l=a.getAtlasInfo(e,n),c=l.index,d=l.tex1,u=l.tex2;u.w>0&&this.wrappedCount++;for(var f=!0,m=0,g=[d,u];m<g.length;m++){var v=g[m];if(v.w!=0){var y=this.instanceCount;this.vertTypeBuffer.getView(y)[0]=Pb;var b=this.indexBuffer.getView(y);hh(i,b);var _=this.atlasIdBuffer.getView(y);_[0]=c;var w=this.texBuffer.getView(y);w[0]=v.x,w[1]=v.y,w[2]=v.w,w[3]=v.h;var E=this.transformBuffer.getMatrixView(y);a.setTransformMatrix(e,E,n,l,f),this.instanceCount++}f=!1}this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawSimpleRectangle",value:function(e,i,n){if(e.visible()){var a=this.atlasManager,o=this.instanceCount;this.vertTypeBuffer.getView(o)[0]=jV;var s=this.indexBuffer.getView(o);hh(i,s);var l=e.pstyle("background-color").value,c=e.pstyle("background-opacity").value,d=this.colorBuffer.getView(o);Qm(l,c,d);var u=this.transformBuffer.getMatrixView(o);a.setTransformMatrix(e,u,n),this.rectangleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"drawEdgeArrow",value:function(e,i,n){if(e.visible()){var a=e._private.rscratch,o,s,l;if(n==="source"?(o=a.arrowStartX,s=a.arrowStartY,l=a.srcArrowAngle):(o=a.arrowEndX,s=a.arrowEndY,l=a.tgtArrowAngle),!(isNaN(o)||o==null||isNaN(s)||s==null||isNaN(l)||l==null)){var c=e.pstyle(n+"-arrow-shape").value;if(c!=="none"){var d=e.pstyle(n+"-arrow-color").value,u=e.pstyle("opacity").value,f=e.pstyle("line-opacity").value,m=u*f,g=e.pstyle("width").pfValue,v=e.pstyle("arrow-scale").value,y=this.r.getArrowWidth(g,v),b=this.instanceCount,_=this.transformBuffer.getMatrixView(b);Iq(_),i0(_,_,[o,s]),fD(_,_,[y,y]),Oq(_,_,l),this.vertTypeBuffer.getView(b)[0]=wM;var w=this.indexBuffer.getView(b);hh(i,w);var E=this.colorBuffer.getView(b);Qm(d,m,E),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(e,i){if(e.visible()){var n=this.getEdgePoints(e);if(n){var a=e.pstyle("opacity").value,o=e.pstyle("line-opacity").value,s=e.pstyle("width").pfValue,l=e.pstyle("line-color").value,c=a*o;if(n.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),n.length==4){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=GV;var u=this.indexBuffer.getView(d);hh(i,u);var f=this.colorBuffer.getView(d);Qm(l,c,f);var m=this.lineWidthBuffer.getView(d);m[0]=s;var g=this.pointAPointBBuffer.getView(d);g[0]=n[0],g[1]=n[1],g[2]=n[2],g[3]=n[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var v=0;v<n.length-2;v+=2){var y=this.instanceCount;this.vertTypeBuffer.getView(y)[0]=WV;var b=this.indexBuffer.getView(y);hh(i,b);var _=this.colorBuffer.getView(y);Qm(l,c,_);var w=this.lineWidthBuffer.getView(y);w[0]=s;var E=n[v-2],S=n[v-1],D=n[v],T=n[v+1],O=n[v+2],F=n[v+3],P=n[v+4],L=n[v+5];v==0&&(E=2*D-O+.001,S=2*T-F+.001),v==n.length-4&&(P=2*O-D+.001,L=2*F-T+.001);var C=this.pointAPointBBuffer.getView(y);C[0]=E,C[1]=S,C[2]=D,C[3]=T;var A=this.pointCPointDBuffer.getView(y);A[0]=O,A[1]=F,A[2]=P,A[3]=L,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"getEdgePoints",value:function(e){var i=e._private.rscratch;if(!(i.badLine||i.allpts==null||isNaN(i.allpts[0]))){var n=i.allpts;if(n.length==4)return n;var a=this.getNumSegments(e);return this.getCurveSegmentPoints(n,a)}}},{key:"getNumSegments",value:function(e){var i=15;return Math.min(Math.max(i,5),this.maxInstances)}},{key:"getCurveSegmentPoints",value:function(e,i){if(e.length==4)return e;for(var n=Array((i+1)*2),a=0;a<=i;a++)if(a==0)n[0]=e[0],n[1]=e[1];else if(a==i)n[a*2]=e[e.length-2],n[a*2+1]=e[e.length-1];else{var o=a/i;this.setCurvePoint(e,o,n,a*2)}return n}},{key:"setCurvePoint",value:function(e,i,n,a){if(e.length<=2)n[a]=e[0],n[a+1]=e[1];else{for(var o=Array(e.length-2),s=0;s<o.length;s+=2){var l=(1-i)*e[s]+i*e[s+2],c=(1-i)*e[s+1]+i*e[s+3];o[s]=l,o[s+1]=c}return this.setCurvePoint(o,i,n,a)}}},{key:"endBatch",value:function(){var e=this.gl,i=this.vao,n=this.vertexCount,a=this.instanceCount;if(a!==0){var o=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(o),e.bindVertexArray(i);var s=Oo(this.buffers),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.bufferSubData(a)}}catch(g){s.e(g)}finally{s.f()}for(var d=this.atlasManager.getAtlases(),u=0;u<d.length;u++)d[u].bufferIfNeeded(e);for(var f=0;f<d.length;f++)e.activeTexture(e.TEXTURE0+f),e.bindTexture(e.TEXTURE_2D,d[f].texture),e.uniform1i(o.uTextures[f],f);e.uniformMatrix3fv(o.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(o.uAtlasSize,this.atlasManager.getAtlasSize());var m=Qm(this.bgColor,1);e.uniform4fv(o.uBGColor,m),e.drawArraysInstanced(e.TRIANGLES,0,n,a),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:a,atlasCount:d.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),i=e.reduce(function(o,s){return o+s.atlasCount},0),n=this.batchDebugInfo,a=n.reduce(function(o,s){return o+s.count},0);return{atlasInfo:e,totalAtlases:i,wrappedCount:this.wrappedCount,rectangleCount:this.rectangleCount,batchCount:n.length,batchInfo:n,totalInstances:a}}}])}();function $V(r,t){return"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(t,")")}var Hpe=function(){function r(t){ec(this,r),this.r=t}return tc(r,[{key:"getStyleKey",value:function(e,i){var n=this.getStyle(e,i),a=n.shape,o=n.opacity,s=n.color;if(!a)return null;var l=i.width(),c=i.height(),d=$V(s,o);return Xl("".concat(a,"-").concat(l,"-").concat(c,"-").concat(d))}},{key:"isVisible",value:function(e,i){var n=i.pstyle("".concat(e,"-opacity")).value;return n>0}},{key:"getStyle",value:function(e,i){var n=i.pstyle("".concat(e,"-opacity")).value,a=i.pstyle("".concat(e,"-color")).value,o=i.pstyle("".concat(e,"-shape")).value;return{opacity:n,color:a,shape:o}}},{key:"getPadding",value:function(e,i){return i.pstyle("".concat(e,"-padding")).pfValue}},{key:"draw",value:function(e,i,n,a){if(this.isVisible(e,n)){var o=this.r,s=a.w,l=a.h,c=s/2,d=l/2,u=this.getStyle(e,n),f=u.shape,m=u.color,g=u.opacity;i.save(),i.fillStyle=$V(m,g),f==="round-rectangle"||f==="roundrectangle"?o.drawRoundRectanglePath(i,c,d,s,l,"auto"):f==="ellipse"&&o.drawEllipsePath(i,c,d,s,l),i.fill(),i.restore()}}}])}(),kq={};kq.initWebgl=function(r,t){var e=this,i=e.data.contexts[e.WEBGL];r.bgColor=Gpe(e),r.webglTexSize=Math.min(r.webglTexSize,i.getParameter(i.MAX_TEXTURE_SIZE)),r.webglTexRows=Math.min(r.webglTexRows,54),r.webglTexRowsNodes=Math.min(r.webglTexRowsNodes,54),r.webglBatchSize=Math.min(r.webglBatchSize,16384),r.webglTexPerBatch=Math.min(r.webglTexPerBatch,i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),e.webglDebug=r.webglDebug,e.webglDebugShowAtlases=r.webglDebugShowAtlases,e.pickingFrameBuffer=Lpe(i),e.pickingFrameBuffer.needsDraw=!0;var n=function(c){return function(d){return e.getTextAngle(d,c)}},a=function(c){return function(d){var u=d.pstyle(c);return u&&u.value}};e.drawing=new Upe(e,i,r);var o=new Hpe(e);e.drawing.addAtlasCollection("node",HV({texRows:r.webglTexRowsNodes})),e.drawing.addAtlasCollection("label",HV({texRows:r.webglTexRows})),e.drawing.addAtlasRenderType("node-body",fh({collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement})),e.drawing.addAtlasRenderType("label",fh({collection:"label",getKey:t.getLabelKey,getBoundingBox:t.getLabelBox,drawElement:t.drawLabel,getRotation:n(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")})),e.drawing.addAtlasRenderType("node-overlay",fh({collection:"node",getBoundingBox:t.getElementBox,getKey:function(c){return o.getStyleKey("overlay",c)},drawElement:function(c,d,u){return o.draw("overlay",c,d,u)},isVisible:function(c){return o.isVisible("overlay",c)},getPadding:function(c){return o.getPadding("overlay",c)}})),e.drawing.addAtlasRenderType("node-underlay",fh({collection:"node",getBoundingBox:t.getElementBox,getKey:function(c){return o.getStyleKey("underlay",c)},drawElement:function(c,d,u){return o.draw("underlay",c,d,u)},isVisible:function(c){return o.isVisible("underlay",c)},getPadding:function(c){return o.getPadding("underlay",c)}})),e.drawing.addAtlasRenderType("edge-source-label",fh({collection:"label",getKey:t.getSourceLabelKey,getBoundingBox:t.getSourceLabelBox,drawElement:t.drawSourceLabel,getRotation:n("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")})),e.drawing.addAtlasRenderType("edge-target-label",fh({collection:"label",getKey:t.getTargetLabelKey,getBoundingBox:t.getTargetLabelBox,drawElement:t.drawTargetLabel,getRotation:n("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")}));var s=xp(function(){console.log("garbage collect flag set"),e.data.gc=!0},1e4);e.onUpdateEleCalcs(function(l,c){var d=!1;c&&c.length>0&&(d|=e.drawing.invalidate(c)),d&&s()}),Wpe(e)};function Gpe(r){var t=r.cy.container(),e=t&&t.style&&t.style.backgroundColor||"white";return az(e)}function Wpe(r){{var t=r.render;r.render=function(a){a=a||{};var o=r.cy;r.webgl&&(o.zoom()>Eq?(jpe(r),t.call(r,a)):($pe(r),Lq(r,a,ap.SCREEN)))}}{var e=r.matchCanvasSize;r.matchCanvasSize=function(a){e.call(r,a),r.pickingFrameBuffer.setFramebufferAttachmentSizes(r.canvasWidth,r.canvasHeight),r.pickingFrameBuffer.needsDraw=!0}}r.findNearestElements=function(a,o,s,l){return Jpe(r,a,o)};{var i=r.invalidateCachedZSortedEles;r.invalidateCachedZSortedEles=function(){i.call(r),r.pickingFrameBuffer.needsDraw=!0}}{var n=r.notify;r.notify=function(a,o){n.call(r,a,o),a==="viewport"||a==="bounds"?r.pickingFrameBuffer.needsDraw=!0:a==="background"&&r.drawing.invalidate(o,{type:"node-body"})}}}function jpe(r){var t=r.data.contexts[r.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function $pe(r){var t=function(i){i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,r.canvasWidth,r.canvasHeight),i.restore()};t(r.data.contexts[r.NODE]),t(r.data.contexts[r.DRAG])}function Ype(r){var t=r.canvasWidth,e=r.canvasHeight,i=hD(r),n=i.pan,a=i.zoom,o=Wb();i0(o,o,[n.x,n.y]),fD(o,o,[a,a]);var s=Wb();Npe(s,t,e);var l=Wb();return Fpe(l,s,o),l}function Pq(r,t){var e=r.canvasWidth,i=r.canvasHeight,n=hD(r),a=n.pan,o=n.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e,i),t.translate(a.x,a.y),t.scale(o,o)}function Xpe(r,t){r.drawSelectionRectangle(t,function(e){return Pq(r,e)})}function Kpe(r){var t=r.data.contexts[r.NODE];t.save(),Pq(r,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function Zpe(r){var t=function(n,a,o){for(var s=n.atlasManager.getAtlasCollection(a),l=r.data.contexts[r.NODE],c=.125,d=s.atlases,u=0;u<d.length;u++){var f=d[u],m=f.canvas;if(m){var g=m.width,v=m.height,y=g*u,b=m.height*o;l.save(),l.scale(c,c),l.drawImage(m,y,b),l.strokeStyle="black",l.rect(y,b,g,v),l.stroke(),l.restore()}}},e=0;t(r.drawing,"node",e++),t(r.drawing,"label",e++)}function Qpe(r,t,e,i,n){var a,o,s,l,c=hD(r),d=c.pan,u=c.zoom;{var f=Ape(r,d,u,t,e),m=_n(f,2),g=m[0],v=m[1],y=6;a=g-y/2,o=v-y/2,s=y,l=y}if(s===0||l===0)return[];var b=r.data.contexts[r.WEBGL];b.bindFramebuffer(b.FRAMEBUFFER,r.pickingFrameBuffer),r.pickingFrameBuffer.needsDraw&&(b.viewport(0,0,b.canvas.width,b.canvas.height),Lq(r,null,ap.PICKING),r.pickingFrameBuffer.needsDraw=!1);var _=s*l,w=new Uint8Array(_*4);b.readPixels(a,o,s,l,b.RGBA,b.UNSIGNED_BYTE,w),b.bindFramebuffer(b.FRAMEBUFFER,null);for(var E=new Set,S=0;S<_;S++){var D=w.slice(S*4,S*4+4),T=Rpe(D)-1;T>=0&&E.add(T)}return E}function Jpe(r,t,e){var i=Qpe(r,t,e),n=r.getCachedZSortedEles(),a,o,s=Oo(i),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,d=n[c];if(!a&&d.isNode()&&(a=d),!o&&d.isEdge()&&(o=d),a&&o)break}}catch(u){s.e(u)}finally{s.f()}return[a,o].filter(Boolean)}function ege(r){return r.pstyle("shape").value==="rectangle"&&r.pstyle("background-fill").value==="solid"&&r.pstyle("border-width").pfValue===0&&r.pstyle("background-image").strValue==="none"}function CM(r,t,e){var i=r.drawing;t+=1,e.isNode()?(i.drawTexture(e,t,"node-underlay"),ege(e)?i.drawSimpleRectangle(e,t,"node-body"):i.drawTexture(e,t,"node-body"),i.drawTexture(e,t,"label"),i.drawTexture(e,t,"node-overlay")):(i.drawEdgeLine(e,t),i.drawEdgeArrow(e,t,"source"),i.drawEdgeArrow(e,t,"target"),i.drawTexture(e,t,"label"),i.drawTexture(e,t,"edge-source-label"),i.drawTexture(e,t,"edge-target-label"))}function Lq(r,t,e){var i;r.webglDebug&&(i=performance.now());var n=r.drawing,a=0;if(e.screen&&r.data.canvasNeedsRedraw[r.SELECT_BOX]&&Xpe(r,t),r.data.canvasNeedsRedraw[r.NODE]||e.picking){var o=r.data.contexts[r.WEBGL];e.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=Ype(r),l=r.getCachedZSortedEles();if(a=l.length,n.startFrame(s,e),e.screen){for(var c=0;c<l.nondrag.length;c++)CM(r,c,l.nondrag[c]);for(var d=0;d<l.drag.length;d++)CM(r,d,l.drag[d])}else if(e.picking)for(var u=0;u<l.length;u++)CM(r,u,l[u]);n.endFrame(),e.screen&&r.webglDebugShowAtlases&&(Kpe(r),Zpe(r)),r.data.canvasNeedsRedraw[r.NODE]=!1,r.data.canvasNeedsRedraw[r.DRAG]=!1}if(r.webglDebug){var f=performance.now(),m=!1,g=Math.ceil(f-i),v=n.getDebugInfo(),y=["".concat(a," elements"),"".concat(v.totalInstances," instances"),"".concat(v.batchCount," batches"),"".concat(v.totalAtlases," atlases"),"".concat(v.wrappedCount," wrapped textures"),"".concat(v.rectangleCount," simple rectangles")].join(", ");if(m)console.log("WebGL (".concat(e.name,") - time ").concat(g,"ms, ").concat(y));else{console.log("WebGL (".concat(e.name,") - frame time ").concat(g,"ms")),console.log("Totals:"),console.log("  ".concat(y)),console.log("Texture Atlases Used:");var b=v.atlasInfo,_=Oo(b),w;try{for(_.s();!(w=_.n()).done;){var E=w.value;console.log("  ".concat(E.type,": ").concat(E.keyCount," keys, ").concat(E.atlasCount," atlases"))}}catch(S){_.e(S)}finally{_.f()}console.log("")}}r.data.gc&&(console.log("Garbage Collect!"),r.data.gc=!1,n.gc())}var ic={};ic.drawPolygonPath=function(r,t,e,i,n,a){var o=i/2,s=n/2;r.beginPath&&r.beginPath(),r.moveTo(t+o*a[0],e+s*a[1]);for(var l=1;l<a.length/2;l++)r.lineTo(t+o*a[l*2],e+s*a[l*2+1]);r.closePath()};ic.drawRoundPolygonPath=function(r,t,e,i,n,a,o){o.forEach(function(s){return pq(r,s)}),r.closePath()};ic.drawRoundRectanglePath=function(r,t,e,i,n,a){var o=i/2,s=n/2,l=a==="auto"?xd(i,n):Math.min(a,s,o);r.beginPath&&r.beginPath(),r.moveTo(t,e-s),r.arcTo(t+o,e-s,t+o,e,l),r.arcTo(t+o,e+s,t,e+s,l),r.arcTo(t-o,e+s,t-o,e,l),r.arcTo(t-o,e-s,t,e-s,l),r.lineTo(t,e-s),r.closePath()};ic.drawBottomRoundRectanglePath=function(r,t,e,i,n,a){var o=i/2,s=n/2,l=a==="auto"?xd(i,n):a;r.beginPath&&r.beginPath(),r.moveTo(t,e-s),r.lineTo(t+o,e-s),r.lineTo(t+o,e),r.arcTo(t+o,e+s,t,e+s,l),r.arcTo(t-o,e+s,t-o,e,l),r.lineTo(t-o,e-s),r.lineTo(t,e-s),r.closePath()};ic.drawCutRectanglePath=function(r,t,e,i,n,a,o){var s=i/2,l=n/2,c=o==="auto"?QM():o;r.beginPath&&r.beginPath(),r.moveTo(t-s+c,e-l),r.lineTo(t+s-c,e-l),r.lineTo(t+s,e-l+c),r.lineTo(t+s,e+l-c),r.lineTo(t+s-c,e+l),r.lineTo(t-s+c,e+l),r.lineTo(t-s,e+l-c),r.lineTo(t-s,e-l+c),r.closePath()};ic.drawBarrelPath=function(r,t,e,i,n){var a=i/2,o=n/2,s=t-a,l=t+a,c=e-o,d=e+o,u=MM(i,n),f=u.widthOffset,m=u.heightOffset,g=u.ctrlPtOffsetPct*f;r.beginPath&&r.beginPath(),r.moveTo(s,c+m),r.lineTo(s,d-m),r.quadraticCurveTo(s+g,d,s+f,d),r.lineTo(l-f,d),r.quadraticCurveTo(l-g,d,l,d-m),r.lineTo(l,c+m),r.quadraticCurveTo(l-g,c,l-f,c),r.lineTo(s+f,c),r.quadraticCurveTo(s+g,c,s,c+m),r.closePath()};var YV=Math.sin(0),XV=Math.cos(0),zM={},qM={},Fq=Math.PI/40;for(md=0*Math.PI;md<2*Math.PI;md+=Fq)zM[md]=Math.sin(md),qM[md]=Math.cos(md);var md;ic.drawEllipsePath=function(r,t,e,i,n){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(t,e,i/2,n/2,0,0,2*Math.PI);else for(var a,o,s=i/2,l=n/2,c=0*Math.PI;c<2*Math.PI;c+=Fq)a=t-s*zM[c]*YV+s*qM[c]*XV,o=e+l*qM[c]*YV+l*zM[c]*XV,c===0?r.moveTo(a,o):r.lineTo(a,o);r.closePath()};var Dp={};Dp.createBuffer=function(r,t){var e=document.createElement("canvas");return e.width=r,e.height=t,[e,e.getContext("2d")]};Dp.bufferCanvasImage=function(r){var t=this.cy,e=t.mutableElements(),i=e.boundingBox(),n=this.findContainerClientCoords(),a=r.full?Math.ceil(i.w):n[2],o=r.full?Math.ceil(i.h):n[3],s=Qe(r.maxWidth)||Qe(r.maxHeight),l=this.getPixelRatio(),c=1;if(r.scale!==void 0)a*=r.scale,o*=r.scale,c=r.scale;else if(s){var d=1/0,u=1/0;Qe(r.maxWidth)&&(d=c*r.maxWidth/a),Qe(r.maxHeight)&&(u=c*r.maxHeight/o),c=Math.min(d,u),a*=c,o*=c}s||(a*=l,o*=l,c*=l);var f=document.createElement("canvas");f.width=a,f.height=o,f.style.width=a+"px",f.style.height=o+"px";var m=f.getContext("2d");if(a>0&&o>0){m.clearRect(0,0,a,o),m.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(r.full)m.translate(-i.x1*c,-i.y1*c),m.scale(c,c),this.drawElements(m,g),m.scale(1/c,1/c),m.translate(i.x1*c,i.y1*c);else{var v=t.pan(),y={x:v.x*c,y:v.y*c};c*=t.zoom(),m.translate(y.x,y.y),m.scale(c,c),this.drawElements(m,g),m.scale(1/c,1/c),m.translate(-y.x,-y.y)}r.bg&&(m.globalCompositeOperation="destination-over",m.fillStyle=r.bg,m.rect(0,0,a,o),m.fill())}return f};function tge(r,t){for(var e=atob(r),i=new ArrayBuffer(e.length),n=new Uint8Array(i),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);return new Blob([i],{type:t})}function KV(r){var t=r.indexOf(",");return r.substr(t+1)}function Nq(r,t,e){var i=function(){return t.toDataURL(e,r.quality)};switch(r.output){case"blob-promise":return new Mh(function(n,a){try{t.toBlob(function(o){o!=null?n(o):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},e,r.quality)}catch(o){a(o)}});case"blob":return tge(KV(i()),e);case"base64":return KV(i());case"base64uri":default:return i()}}Dp.png=function(r){return Nq(r,this.bufferCanvasImage(r),"image/png")};Dp.jpg=function(r){return Nq(r,this.bufferCanvasImage(r),"image/jpeg")};var Bq={};Bq.nodeShapeImpl=function(r,t,e,i,n,a,o,s){switch(r){case"ellipse":return this.drawEllipsePath(t,e,i,n,a);case"polygon":return this.drawPolygonPath(t,e,i,n,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,e,i,n,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,e,i,n,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,e,i,n,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,e,i,n,a,s);case"barrel":return this.drawBarrelPath(t,e,i,n,a)}};var rge=Vq,pr=Vq.prototype;pr.CANVAS_LAYERS=3;pr.SELECT_BOX=0;pr.DRAG=1;pr.NODE=2;pr.WEBGL=3;pr.CANVAS_TYPES=["2d","2d","2d","webgl2"];pr.BUFFER_COUNT=3;pr.TEXTURE_BUFFER=0;pr.MOTIONBLUR_BUFFER_NODE=1;pr.MOTIONBLUR_BUFFER_DRAG=2;function Vq(r){var t=this,e=t.cy.window(),i=e.document;r.webgl&&(pr.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(pr.CANVAS_LAYERS),contexts:new Array(pr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(pr.CANVAS_LAYERS),bufferCanvases:new Array(pr.BUFFER_COUNT),bufferContexts:new Array(pr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=i.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=a,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=r.cy.container();s.appendChild(t.data.canvasContainer),s.style[n]=a;var l={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};lde()&&(l["-ms-touch-action"]="none",l["touch-action"]="none");for(var c=0;c<pr.CANVAS_LAYERS;c++){var d=t.data.canvases[c]=i.createElement("canvas"),u=pr.CANVAS_TYPES[c];t.data.contexts[c]=d.getContext(u),t.data.contexts[c]||Mi("Could not create canvas of type "+u),Object.keys(l).forEach(function(ee){d.style[ee]=l[ee]}),d.style.position="absolute",d.setAttribute("data-id","layer"+c),d.style.zIndex=String(pr.CANVAS_LAYERS-c),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[c]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[pr.NODE].setAttribute("data-id","layer"+pr.NODE+"-node"),t.data.canvases[pr.SELECT_BOX].setAttribute("data-id","layer"+pr.SELECT_BOX+"-selectbox"),t.data.canvases[pr.DRAG].setAttribute("data-id","layer"+pr.DRAG+"-drag"),t.data.canvases[pr.WEBGL]&&t.data.canvases[pr.WEBGL].setAttribute("data-id","layer"+pr.WEBGL+"-webgl");for(var c=0;c<pr.BUFFER_COUNT;c++)t.data.bufferCanvases[c]=i.createElement("canvas"),t.data.bufferContexts[c]=t.data.bufferCanvases[c].getContext("2d"),t.data.bufferCanvases[c].style.position="absolute",t.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),t.data.bufferCanvases[c].style.zIndex=String(-c-1),t.data.bufferCanvases[c].style.visibility="hidden";t.pathsEnabled=!0;var f=ha(),m=function(Z){return{x:(Z.x1+Z.x2)/2,y:(Z.y1+Z.y2)/2}},g=function(Z){return{x:-Z.w/2,y:-Z.h/2}},v=function(Z){var ce=Z[0]._private,ye=ce.oldBackgroundTimestamp===ce.backgroundTimestamp;return!ye},y=function(Z){return Z[0]._private.nodeKey},b=function(Z){return Z[0]._private.labelStyleKey},_=function(Z){return Z[0]._private.sourceLabelStyleKey},w=function(Z){return Z[0]._private.targetLabelStyleKey},E=function(Z,ce,ye,Te,be){return t.drawElement(Z,ce,ye,!1,!1,be)},S=function(Z,ce,ye,Te,be){return t.drawElementText(Z,ce,ye,Te,"main",be)},D=function(Z,ce,ye,Te,be){return t.drawElementText(Z,ce,ye,Te,"source",be)},T=function(Z,ce,ye,Te,be){return t.drawElementText(Z,ce,ye,Te,"target",be)},O=function(Z){return Z.boundingBox(),Z[0]._private.bodyBounds},F=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.main||f},P=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.source||f},L=function(Z){return Z.boundingBox(),Z[0]._private.labelBounds.target||f},C=function(Z,ce){return ce},A=function(Z){return m(O(Z))},R=function(Z,ce,ye){var Te=Z?Z+"-":"";return{x:ce.x+ye.pstyle(Te+"text-margin-x").pfValue,y:ce.y+ye.pstyle(Te+"text-margin-y").pfValue}},k=function(Z,ce,ye){var Te=Z[0]._private.rscratch;return{x:Te[ce],y:Te[ye]}},I=function(Z){return R("",k(Z,"labelX","labelY"),Z)},B=function(Z){return R("source",k(Z,"sourceLabelX","sourceLabelY"),Z)},z=function(Z){return R("target",k(Z,"targetLabelX","targetLabelY"),Z)},W=function(Z){return g(O(Z))},$=function(Z){return g(P(Z))},G=function(Z){return g(L(Z))},K=function(Z){var ce=F(Z),ye=g(F(Z));if(Z.isNode()){switch(Z.pstyle("text-halign").value){case"left":ye.x=-ce.w-(ce.leftPad||0);break;case"right":ye.x=-(ce.rightPad||0);break}switch(Z.pstyle("text-valign").value){case"top":ye.y=-ce.h-(ce.topPad||0);break;case"bottom":ye.y=-(ce.botPad||0);break}}return ye},oe=t.data.eleTxrCache=new rp(t,{getKey:y,doesEleInvalidateKey:v,drawElement:E,getBoundingBox:O,getRotationPoint:A,getRotationOffset:W,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),te=t.data.lblTxrCache=new rp(t,{getKey:b,drawElement:S,getBoundingBox:F,getRotationPoint:I,getRotationOffset:K,isVisible:C}),le=t.data.slbTxrCache=new rp(t,{getKey:_,drawElement:D,getBoundingBox:P,getRotationPoint:B,getRotationOffset:$,isVisible:C}),re=t.data.tlbTxrCache=new rp(t,{getKey:w,drawElement:T,getBoundingBox:L,getRotationPoint:z,getRotationOffset:G,isVisible:C}),Q=t.data.lyrTxrCache=new Sq(t);t.onUpdateEleCalcs(function(Z,ce){oe.invalidateElements(ce),te.invalidateElements(ce),le.invalidateElements(ce),re.invalidateElements(ce),Q.invalidateElements(ce);for(var ye=0;ye<ce.length;ye++){var Te=ce[ye]._private;Te.oldBackgroundTimestamp=Te.backgroundTimestamp}});var se=function(Z){for(var ce=0;ce<Z.length;ce++)Q.enqueueElementRefinement(Z[ce].ele)};oe.onDequeue(se),te.onDequeue(se),le.onDequeue(se),re.onDequeue(se),r.webgl&&t.initWebgl(r,{getStyleKey:y,getLabelKey:b,getSourceLabelKey:_,getTargetLabelKey:w,drawElement:E,drawLabel:S,drawSourceLabel:D,drawTargetLabel:T,getElementBox:O,getLabelBox:F,getSourceLabelBox:P,getTargetLabelBox:L,getElementRotationPoint:A,getElementRotationOffset:W,getLabelRotationPoint:I,getSourceLabelRotationPoint:B,getTargetLabelRotationPoint:z,getLabelRotationOffset:K,getSourceLabelRotationOffset:$,getTargetLabelRotationOffset:G})}pr.redrawHint=function(r,t){var e=this;switch(r){case"eles":e.data.canvasNeedsRedraw[pr.NODE]=t;break;case"drag":e.data.canvasNeedsRedraw[pr.DRAG]=t;break;case"select":e.data.canvasNeedsRedraw[pr.SELECT_BOX]=t;break;case"gc":e.data.gc=!0;break}};var ige=typeof Path2D<"u";pr.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};pr.usePaths=function(){return ige&&this.pathsEnabled};pr.setImgSmoothing=function(r,t){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=t:(r.webkitImageSmoothingEnabled=t,r.mozImageSmoothingEnabled=t,r.msImageSmoothingEnabled=t)};pr.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};pr.makeOffscreenCanvas=function(r,t){var e;if((typeof OffscreenCanvas>"u"?"undefined":sn(OffscreenCanvas))!=="undefined")e=new OffscreenCanvas(r,t);else{var i=this.cy.window(),n=i.document;e=n.createElement("canvas"),e.width=r,e.height=t}return e};[Mq,ns,Gs,uD,Md,Ih,ra,kq,ic,Dp,Bq].forEach(function(r){Ot(pr,r)});var nge=[{name:"null",impl:hq},{name:"base",impl:wq},{name:"canvas",impl:rge}],age=[{type:"layout",extensions:Bme},{type:"renderer",extensions:nge}],zq={},qq={};function Uq(r,t,e){var i=e,n=function(O){jr("Can not register `"+t+"` for `"+r+"` since `"+O+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(pp.prototype[t])return n(t);pp.prototype[t]=e}else if(r==="collection"){if(An.prototype[t])return n(t);An.prototype[t]=e}else if(r==="layout"){for(var a=function(O){this.options=O,e.call(this,O),kr(this._private)||(this._private={}),this._private.cy=O.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(e.prototype),s=[],l=0;l<s.length;l++){var c=s[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var d=e.prototype.stop;o.stop=function(){var T=this.options;if(T&&T.animate){var O=this.animations;if(O)for(var F=0;F<O.length;F++)O[F].stop()}return d?d.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var u=function(O){return O._private.cy},f={addEventFields:function(O,F){F.layout=O,F.cy=u(O),F.target=O},bubble:function(){return!0},parent:function(O){return u(O)}};Ot(o,{createEmitter:function(){return this._private.emitter=new p0(f,this),this},emitter:function(){return this._private.emitter},on:function(O,F){return this.emitter().on(O,F),this},one:function(O,F){return this.emitter().one(O,F),this},once:function(O,F){return this.emitter().one(O,F),this},removeListener:function(O,F){return this.emitter().removeListener(O,F),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(O,F){return this.emitter().emit(O,F),this}}),Wr.eventAliasesOn(o),i=a}else if(r==="renderer"&&t!=="null"&&t!=="base"){var m=Hq("renderer","base"),g=m.prototype,v=e,y=e.prototype,b=function(){m.apply(this,arguments),v.apply(this,arguments)},_=b.prototype;for(var w in g){var E=g[w],S=y[w]!=null;if(S)return n(w);_[w]=E}for(var D in y)_[D]=y[D];g.clientFunctions.forEach(function(T){_[T]=_[T]||function(){Mi("Renderer does not implement `renderer."+T+"()` on its prototype")}}),i=b}else if(r==="__proto__"||r==="constructor"||r==="prototype")return Mi(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return oz({map:zq,keys:[r,t],value:i})}function Hq(r,t){return sz({map:zq,keys:[r,t]})}function oge(r,t,e,i,n){return oz({map:qq,keys:[r,t,e,i],value:n})}function sge(r,t,e,i){return sz({map:qq,keys:[r,t,e,i]})}var UM=function(){if(arguments.length===2)return Hq.apply(null,arguments);if(arguments.length===3)return Uq.apply(null,arguments);if(arguments.length===4)return sge.apply(null,arguments);if(arguments.length===5)return oge.apply(null,arguments);Mi("Invalid extension access syntax")};pp.prototype.extension=UM;age.forEach(function(r){r.extensions.forEach(function(t){Uq(r.type,t.name,t.impl)})});var n0=function(){if(!(this instanceof n0))return new n0;this.length=0},Ed=n0.prototype;Ed.instanceString=function(){return"stylesheet"};Ed.selector=function(r){var t=this.length++;return this[t]={selector:r,properties:[]},this};Ed.css=function(r,t){var e=this.length-1;if(Tt(r))this[e].properties.push({name:r,value:t});else if(kr(r))for(var i=r,n=Object.keys(i),a=0;a<n.length;a++){var o=n[a],s=i[o];if(s!=null){var l=xn.properties[o]||xn.properties[a0(o)];if(l!=null){var c=l.name,d=s;this[e].properties.push({name:c,value:d})}}}return this};Ed.style=Ed.css;Ed.generateStyle=function(r){var t=new xn(r);return this.appendToStyle(t)};Ed.appendToStyle=function(r){for(var t=0;t<this.length;t++){var e=this[t],i=e.selector,n=e.properties;r.selector(i);for(var a=0;a<n.length;a++){var o=n[a];r.css(o.name,o.value)}}return r};var lge="3.31.1",rs=function(t){if(t===void 0&&(t={}),kr(t))return new pp(t);if(Tt(t))return UM.apply(UM,arguments)};rs.use=function(r){var t=Array.prototype.slice.call(arguments,1);return t.unshift(rs),r.apply(null,t),this};rs.warnings=function(r){return mz(r)};rs.version=lge;rs.stylesheet=rs.Stylesheet=n0;var U8=la(z8()),H8=la(q8());var wke=["canvas"];rs.use(U8.default);rs.use(H8.default);var jh=class r{sub=new rt;cy;canvas=Fn.required("canvas");graphDef=si.required();ngOnInit(){this.initGraph(),this.obData()}ngOnDestroy(){this.sub.unsubscribe()}obData(){return this.graphDef().obData().subscribe({next:t=>{t.action==="init"?(this.cy.elements().remove(),this.cy.add(t),this.cy.layout(this.graphDef().layout).run()):(this.updateNodes(t.nodes),this.updateEdges(t.edges))}})}initGraph(){this.cy=rs({container:this.canvas().nativeElement,boxSelectionEnabled:!1,autounselectify:!0,layout:this.graphDef().layout,elements:{nodes:[],edges:[]},style:[{selector:"node",style:this.graphDef().nodeStyle},{selector:"edge",style:this.graphDef().edgeStyle}]})}updateNodes(t){t.forEach(e=>{let i=this.cy.getElementById(e.data.id);i&&(i.data(e.data),i.style(this.graphDef().nodeStyle))})}updateEdges(t){t.forEach(e=>{let i=this.cy.getElementById(e.data.id);i&&(i.data(e.data),i.style(this.graphDef().edgeStyle))})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-graph"]],viewQuery:function(e,i){e&1&&Bn(i.canvas,wke,5),e&2&&mn()},inputs:{graphDef:[1,"graphDef"]},decls:4,vars:1,consts:[["canvas",""],[2,"text-align","center"],[2,"width","100%","height","100%"]],template:function(e,i){e&1&&(ae(0,"h4",1),He(1),ue(),Pe(2,"div",2,0)),e&2&&(ge(),Rr(i.graphDef().name))},encapsulation:2})};var G8=(r,t)=>t.name;function Eke(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}function Ske(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var t_=class r{sub=new rt;algoForm=new Pi([er.select("algo","Algorithm",new St("Kruskal",[Ne.required]),new ir([{label:"Kruskal",value:"Kruskal"},{label:"Prim",value:"Prim"}]))]);graphForm=new Pi([er.number("nodes","Nodes",new St(10,[Ne.required,Ne.min(1)])),er.number("edges","Edges",new St(20,[Ne.required,Ne.min(0)]))]);graphDef=new ah("",{"text-wrap":"wrap","text-halign":"center","text-valign":"center",label:t=>`${t.data("id")}`},{width:4,"line-color":t=>{switch(t.data("state")){case 2:return"red";case 1:return"lightgrey";default:return"#9dbaea"}},"target-arrow-color":"#9dbaea","curve-style":"bezier","z-index":t=>t.data("selected")?2:1,label:t=>`${t.data("weight")}`},{name:"fcose",quality:"default",animate:!0,animationDuration:1,idealEdgeLength:t=>t.data("weight")*15});graph;steps=new ir([]);ngOnInit(){this.sub.add(this.steps.pipe(nr(t=>ri(t).pipe(zi(e=>Ze(e).pipe(Xa(100),Et(i=>{this.graphDef.setData({action:"update",nodes:this.graph.nodes().map(n=>({data:n})),edges:i.map(n=>({data:n}))})})))))).subscribe())}ngOnDestroy(){this.sub.unsubscribe()}generateGraph(){let t=this.graphForm.group().value;this.graph=pb.Generate(t.nodes,t.edges),this.resetGraph("init")}generateMST(){let t=this.algoForm.control("algo")?.value,e;switch(t){case"Kruskal":e=new _b;break;case"Prim":e=new xb;break;default:console.error("unknown MST algo: "+t);return}this.graph.resetState(),this.resetGraph("update");let i=e.run(this.graph);this.steps.next(i)}resetGraph(t){this.graphDef.setData({action:t,nodes:this.graph.nodes().map(e=>({data:e})),edges:this.graph.allEdges().map(e=>({data:e}))})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-minimum-spanning-tree"]],standalone:!1,decls:14,vars:3,consts:[[3,"submit"],[3,"field"],["mat-raised-button","",3,"click","disabled"],[2,"width","100%","height","85vh"],[3,"graphDef"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,Eke,1,1,"app-form-field",1,G8),ae(3,"button",2),Xe("click",function(){return i.generateMST()}),ae(4,"span"),He(5,"Run"),ue()()(),ae(6,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(7,Ske,1,1,"app-form-field",1,G8),ae(9,"button",2),Xe("click",function(){return i.generateGraph()}),ae(10,"span"),He(11,"Generate"),ue()()(),ae(12,"div",3),Pe(13,"app-graph",4),ue()),e&2&&(ge(),mr(i.algoForm.fields()),ge(2),Re("disabled",i.algoForm.group().invalid||i.graph===void 0),ge(4),mr(i.graphForm.fields()),ge(2),Re("disabled",i.graphForm.group().invalid),ge(4),Re("graphDef",i.graphDef))},dependencies:[Gr,Hr,yn,Ki,jh],encapsulation:2})};var Q8=la(Q1());var $T=la(X8());var Zi={Uniform:Lke,Bernoulli:Fke,Normal:Nke,Exponential:Bke,Poisson:Vke};function Lke(r){return()=>Math.floor(Math.random()*r)}function Fke(r){return()=>Math.random()>r?1:0}function Nke(r,t){return()=>{let e=1-Math.random(),i=Math.random(),n=Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*i);return Math.floor(n*t+r)}}function Bke(r){return()=>{let t=Math.random();return Math.floor(-Math.log(1-t)/r)}}function Vke(r){return()=>{let t=Math.exp(-r),e=0,i=1;do e++,i*=Math.random();while(i>t);return e-1}}var zke=1,Z8=255,K8={Uniform:()=>{let r=Zi.Uniform(254);return Math.ceil(r())},Bernoulli:()=>Zi.Bernoulli(.8)()===0?zke:Z8,Normal:()=>{let r=Zi.Normal(60,100);return Math.max(1,Math.min(255,Math.ceil(r())))},Exponential:()=>{let r=Zi.Exponential(.015);return Math.max(1,Math.min(255,Math.ceil(r())))},Poisson:()=>{let r=Zi.Poisson(5);return Math.max(1,Math.min(255,Math.ceil(r())))}},r_=class{constructor(t){this.config=t;this.initGrid(),this.initDestinationCell(),this.initialGrid=this.cloneGrid()}grid=[[]];initialGrid=[[]];destinations=[];getDestinations(){return this.destinations}expand(t){let e=[{y:t.y-1,x:t.x},{y:t.y,x:t.x+1},{y:t.y+1,x:t.x},{y:t.y,x:t.x-1}],i=[];for(let n of e){let a=this.getCell(n.x,n.y);if(a&&a.state!==6){let o=Bt(Oe({},a),{parent:t,cost:t.cost+a.cost});i.push(o)}}return i}reset(){for(let t=0;t<this.config.rows;t++)for(let e=0;e<this.config.columns;e++)this.grid[t][e]=Oe({},this.initialGrid[t][e])}cloneGrid(){let t=[];for(let e=0;e<this.config.rows;e++){t[e]=[];for(let i=0;i<this.config.columns;i++)t[e][i]=Oe({},this.grid[e][i])}return t}markPath(t,e){for(;t.parent;)this.mark(t,e),t=t.parent}mark(t,e){t.state!==5&&(this.grid[t.y][t.x].state=e)}initGrid(){for(let t=0;t<this.config.rows;t++){this.grid[t]=[];for(let e=0;e<this.config.columns;e++){let i=this.randomCost();this.grid[t][e]={x:e,y:t,state:i>Z8*.85?6:0,cost:i,estimatedCost:0}}}}initDestinationCell(){for(let t=0;t<this.config.destinations;t++){let e=this.getRandomEmptyCell();e.state=5,this.destinations.push(e),this.mark(e,5)}}randomCost(){if(K8[this.config.weightDistribution])return K8[this.config.weightDistribution]();throw new Error(`Unsupported weight distribution: ${this.config.weightDistribution}`)}getRandomEmptyCell(){let t,e,i;do[t,e]=[(0,$T.default)(0,this.config.columns-1),(0,$T.default)(0,this.config.rows-1)],i=this.grid[e][t];while(i.state===5||i.state===6);return i}getCell(t,e){return 0<=t&&t<this.config.columns&&0<=e&&e<this.config.rows?this.grid[e][t]:void 0}};var ag=class r{constructor(t){this.map=t}static Name="A* Search";explored=[];toExplore=new Q8.MinPriorityQueue(t=>t.cost+t.estimatedCost);result={name:r.Name,solution:void 0,steps:[],expanded:0,pending:0};run(){if(this.map.getDestinations().length!==2)throw new Error("Expecting 2 destinations");let[t,e]=this.map.getDestinations();for(this.addToPending(t);!this.toExplore.isEmpty();){let i=this.getNextCellToExplore();if(this.foundGoal(i,e))return Bt(Oe({},this.result),{solution:i,pending:this.toExplore.size()});for(let n of this.map.expand(i)){let{x:a,y:o}=n;if(n.estimatedCost=this.estimateCost(n,e),this.getExplored(a,o)==null||this.getExplored(a,o).cost>n.cost)this.addToPending(n);else{let s=this.getExplored(a,o),l=s.cost+s.estimatedCost,c=n.cost+n.estimatedCost;l>c&&this.addToPending(n)}}this.map.markPath(i,3)}return this.result.steps.push(this.map.cloneGrid()),{name:r.Name,solution:void 0,steps:this.result.steps,expanded:this.result.expanded,pending:this.toExplore.size()}}getNextCellToExplore(){let t=this.toExplore.pop();return this.map.markPath(t,1),this.result.steps.push(this.map.cloneGrid()),t}foundGoal(t,e){return t.x===e.x&&t.y===e.y?(this.result.steps.push(this.map.cloneGrid()),this.map.markPath(t,4),!0):!1}estimateCost(t,e){return Math.abs(t.y-e.y)+Math.abs(t.x-e.x)}addToPending(t){this.toExplore.push(t),this.addToExplored(t),this.result.expanded+=1,this.map.mark(t,2)}addToExplored(t){this.explored[t.y]||(this.explored[t.y]=[]),this.explored[t.y][t.x]=t}getExplored(t,e){return this.explored?.[e]?.[t]}};var og=class r{constructor(t){this.map=t}static Name="Breadth First Search";explored=[];toExplore=[];result={name:r.Name,solution:void 0,steps:[],expanded:0,pending:0};run(){if(this.map.getDestinations().length!==2)throw new Error("Expecting 2 destinations");let[t,e]=this.map.getDestinations();for(this.addToPending(t);this.moreToExplore();){let i=this.nextToExplore();for(let n of this.map.expand(i)){if(this.foundGoal(n,e))return Bt(Oe({},this.result),{solution:n,pending:this.toExplore.length});this.getExplored(n)||this.addToPending(n)}this.map.markPath(i,3)}return this.result.steps.push(this.map.cloneGrid()),Bt(Oe({},this.result),{solution:void 0,pending:this.toExplore.length})}moreToExplore(){return this.toExplore.length>0}nextToExplore(){let t=this.toExplore.shift();return this.map.markPath(t,1),this.result.steps.push(this.map.cloneGrid()),t}foundGoal(t,e){return t.x===e.x&&t.y===e.y?(this.map.markPath(t,4),this.result.steps.push(this.map.cloneGrid()),!0):!1}addToPending(t){this.toExplore.push(t),this.map.mark(t,2),this.result.expanded+=1,this.addToExplored(t)}addToExplored(t){this.explored[t.y]||(this.explored[t.y]=[]),this.explored[t.y][t.x]=!0}getExplored(t){return this.explored?.[t.y]?.[t.x]===!0}};var sg=class r{constructor(t){this.map=t}static Name="Depth First Search";explored=[];toExplore=[];result={name:r.Name,solution:void 0,steps:[],expanded:0,pending:0};run(){if(this.map.getDestinations().length!==2)throw new Error("expecting 2 destinations");let[t,e]=this.map.getDestinations();for(this.addToPending(t);this.moreToExplore();){let i=this.nextToExplore();for(let n of this.map.expand(i)){if(this.isGoal(n,e))return Bt(Oe({},this.result),{solution:n,pending:this.toExplore.length});this.getExplored(n)||this.addToPending(n)}this.map.markPath(i,3)}return this.result.steps.push(this.map.cloneGrid()),Bt(Oe({},this.result),{solution:void 0,pending:this.toExplore.length})}moreToExplore(){return this.toExplore.length>0}nextToExplore(){let t=this.toExplore.pop();return this.map.markPath(t,1),this.result.steps.push(this.map.cloneGrid()),t}isGoal(t,e){return t.x===e.x&&t.y===e.y?(this.map.markPath(t,4),this.result.steps.push(this.map.cloneGrid()),!0):!1}addToPending(t){this.toExplore.push(t),this.result.expanded+=1,this.map.mark(t,2),this.addToExplored(t)}addToExplored(t){this.explored[t.y]||(this.explored[t.y]=[]),this.explored[t.y][t.x]=!0}getExplored(t){return this.explored?.[t.y]?.[t.x]===!0}};var $h={};$h[ag.Name]=r=>new ag(r);$h[og.Name]=r=>new og(r);$h[sg.Name]=r=>new sg(r);function qke(r,t){r&1&&Pe(0,"div",2)}var Uke=new je("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var i_=(()=>{class r{_elementRef=V(vt);_ngZone=V(_t);_changeDetectorRef=V(Kr);_renderer=V(qi);_cleanupTransitionEnd;_animationMode=V(Wi,{optional:!0});constructor(){let e=V(Uke,{optional:!0});this._isNoopAnimation=this._animationMode==="NoopAnimations",e&&(e.color&&(this.color=this._defaultColor=e.color),this.mode=e.mode||this.mode)}_isNoopAnimation=!1;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=J8(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=J8(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new gt;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,n){i&2&&(Vt("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),Sa("mat-"+n.color),It("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",Ds],bufferValue:[2,"bufferValue","bufferValue",Ds],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,n){i&1&&(ae(0,"div",0),Pe(1,"div",1),Nt(2,qke,1,0,"div",2),ue(),ae(3,"div",3),Pe(4,"span",4),ue(),ae(5,"div",5),Pe(6,"span",4),ue()),i&2&&(ge(),Co("flex-basis",n._getBufferBarFlexBasis()),ge(),$t(n.mode==="buffer"?2:-1),ge(),Co("transform",n._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height, 4px),var(--mdc-linear-progress-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height, 4px);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}`],encapsulation:2,changeDetection:0})}return r})();function J8(r,t=0,e=100){return Math.max(t,Math.min(e,r))}var eX=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt]})}return r})();var rX=()=>[],Hke=(r,t)=>t.name;function Gke(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}function Wke(r,t){if(r&1&&Pe(0,"td",4),r&2){let e=t.$index,i=nt().$index,n=nt();fk(n.cellStyle(n.grid()[i][e]))}}function jke(r,t){if(r&1&&(ae(0,"tr"),fr(1,Wke,1,2,"td",3,fu),ue()),r&2){let e=nt();ge(),mr(gu(0,rX).constructor(e.grid()[0].length))}}var n_=class r{sub=new rt;numDestinations=si.required();grids=si.required();grids$=new ir([[]]);grid=yr([[]]);generatedMap=QO();formData=new ir(void 0);form=new Pi([er.number("columns","Columns",new St(50,[Ne.required])),er.number("rows","Rows",new St(50,[Ne.required])),er.select("weightDistribution","Weight Distribution",new St("Bernoulli",[Ne.required]),new ir(Object.keys(Zi).map(t=>({label:t,value:t}))))]);constructor(){bl(()=>{this.grids$.next(this.grids())})}ngOnInit(){this.sub.add(this.obGridChanges())}ngOnDestroy(){this.sub.unsubscribe()}generate(){let t=this.form.group().value;t.destinations=this.numDestinations();let e=new r_(t);this.grids$.next([e.cloneGrid()]),this.generatedMap.emit(e)}obGridChanges(){return this.grids$.pipe(nr(t=>ri(t||[]).pipe(zi(e=>Ze(e).pipe(Xa(10)))))).subscribe({next:t=>{this.grid.set(t)}})}cellStyle(t){return[this.cellColor(t),this.cellBorder(t)].join("; ")}cellColor(t){switch(t.state){case 6:return"background-color: black";case 5:return"background-color: red";default:{let e=Math.min(255,Math.abs(255-t.cost));return`background-color: rgb(${e}, ${e}, ${e})`}}}cellBorder(t){switch(t.state){case 5:return"border: 2px solid red";case 4:return"border: 2px solid darkorange";case 1:return"border: 2px solid darkorange";case 3:return"border: 2px solid white";case 2:return"border: 2px solid darkcyan";case 6:return"border: 2px solid black";default:return"border: 2px solid silver"}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-map"]],inputs:{numDestinations:[1,"numDestinations"],grids:[1,"grids"]},outputs:{generatedMap:"generatedMap"},standalone:!1,decls:8,vars:3,consts:[[3,"submit","formGroup"],[3,"field"],["mat-raised-button","",3,"click","disabled"],[1,"problem-cell",3,"style"],[1,"problem-cell"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,Gke,1,1,"app-form-field",1,Hke),ae(3,"button",2),Xe("click",function(){return i.generate()}),He(4,"Generate"),ue()(),ae(5,"table"),fr(6,jke,3,1,"tr",null,fu),ue()),e&2&&(Re("formGroup",i.form.group()),ge(),mr(i.form.fields()),ge(2),Re("disabled",i.form.group().invalid),ge(3),mr(gu(2,rX).constructor(i.grid().length)))},dependencies:[Gr,Hr,Ia,yn,Ki],styles:["table[_ngcontent-%COMP%]{border-spacing:1px}td.problem-cell[_ngcontent-%COMP%]{height:4px;width:4px}td.problem-cell.pending[_ngcontent-%COMP%]{background-color:#00bfff}"]})};function Yke(r,t){if(r&1&&(ae(0,"table",3)(1,"tr")(2,"th"),He(3,"Algorithm"),ue(),ae(4,"th"),He(5,"Expanded"),ue(),ae(6,"th"),He(7,"Pending"),ue(),ae(8,"th"),He(9,"Cost"),ue()(),ae(10,"tr")(11,"td"),He(12),ue(),ae(13,"td"),He(14),ue(),ae(15,"td"),He(16),ue(),ae(17,"td"),He(18),ue()()()),r&2){let e,i=nt();ge(12),Rr(i.result().name),ge(2),Rr(i.result().expanded),ge(2),Rr(i.result().pending),ge(2),Rr((e=i.result().solution)==null?null:e.cost)}}function Xke(r,t){r&1&&Pe(0,"mat-progress-bar",4)}var a_=class r{sub=new rt;map=yr(void 0);selectedAlgo=er.select("algorithm","Algorithm",new St(void 0,[Ne.required]),Ze(Object.keys($h).map(t=>({label:t,value:$h[t]}))));solving=yr(!1);result=yr({name:"",solution:void 0,steps:[],expanded:0,pending:0});ngOnInit(){}ngOnDestroy(){this.sub.unsubscribe()}run(){this.solving.set(!0),setTimeout(()=>{let t=this.selectedAlgo.formControl.value,e=this.map();t&&e&&(e.reset(),this.result.set(t(e).run())),this.solving.set(!1)},1)}onNewMap(t){this.map.set(t),this.result.set({solution:void 0,steps:[t.cloneGrid()],name:"",expanded:0,pending:0})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-breadth-first-search"]],standalone:!1,features:[Yt([])],decls:11,vars:6,consts:[[3,"submit"],[3,"field"],["mat-raised-button","",3,"click","disabled"],[1,"search-result"],["mode","indeterminate"],[3,"generatedMap","grids","numDestinations"]],template:function(e,i){e&1&&(ae(0,"table")(1,"tr")(2,"td")(3,"form",0),Xe("submit",function(a){return a.preventDefault()}),Pe(4,"app-form-field-select",1),ae(5,"button",2),Xe("click",function(){return i.run()}),He(6,"Run"),ue()()(),ae(7,"td"),Nt(8,Yke,19,4,"table",3),ue()()(),Nt(9,Xke,1,0,"mat-progress-bar",4),ae(10,"app-map",5),Xe("generatedMap",function(a){return i.onNewMap(a)}),ue()),e&2&&(ge(4),Re("field",i.selectedAlgo),ge(),Re("disabled",i.selectedAlgo.formControl.invalid||i.map()===void 0),ge(3),$t(i.result().solution?8:-1),ge(),$t(i.solving()?9:-1),ge(),Re("grids",i.result().steps)("numDestinations",2))},dependencies:[i_,Gr,Hr,yn,Ll,n_],styles:["mat-toolbar[_ngcontent-%COMP%]{position:relative;box-shadow:var(--mat-sys-level1)}.config-panel[_ngcontent-%COMP%]{padding-top:1rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:left}.search-result[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:1rem}"]})};function dg(r){return r+.5|0}var hc=(r,t,e)=>Math.max(Math.min(r,e),t);function lg(r){return hc(dg(r*2.55),0,255)}function fc(r){return hc(dg(r*255),0,255)}function Ks(r){return hc(dg(r/2.55)/100,0,1)}function iX(r){return hc(dg(r*100),0,100)}var mo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},KT=[..."0123456789ABCDEF"],Kke=r=>KT[r&15],Zke=r=>KT[(r&240)>>4]+KT[r&15],o_=r=>(r&240)>>4===(r&15),Qke=r=>o_(r.r)&&o_(r.g)&&o_(r.b)&&o_(r.a);function Jke(r){var t=r.length,e;return r[0]==="#"&&(t===4||t===5?e={r:255&mo[r[1]]*17,g:255&mo[r[2]]*17,b:255&mo[r[3]]*17,a:t===5?mo[r[4]]*17:255}:(t===7||t===9)&&(e={r:mo[r[1]]<<4|mo[r[2]],g:mo[r[3]]<<4|mo[r[4]],b:mo[r[5]]<<4|mo[r[6]],a:t===9?mo[r[7]]<<4|mo[r[8]]:255})),e}var ePe=(r,t)=>r<255?t(r):"";function tPe(r){var t=Qke(r)?Kke:Zke;return r?"#"+t(r.r)+t(r.g)+t(r.b)+ePe(r.a,t):void 0}var rPe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sX(r,t,e){let i=t*Math.min(e,1-e),n=(a,o=(a+r/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function iPe(r,t,e){let i=(n,a=(n+r/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function nPe(r,t,e){let i=sX(r,1,.5),n;for(t+e>1&&(n=1/(t+e),t*=n,e*=n),n=0;n<3;n++)i[n]*=1-t-e,i[n]+=t;return i}function aPe(r,t,e,i,n){return r===n?(t-e)/i+(t<e?6:0):t===n?(e-r)/i+2:(r-t)/i+4}function ZT(r){let e=r.r/255,i=r.g/255,n=r.b/255,a=Math.max(e,i,n),o=Math.min(e,i,n),s=(a+o)/2,l,c,d;return a!==o&&(d=a-o,c=s>.5?d/(2-a-o):d/(a+o),l=aPe(e,i,n,d,a),l=l*60+.5),[l|0,c||0,s]}function QT(r,t,e,i){return(Array.isArray(t)?r(t[0],t[1],t[2]):r(t,e,i)).map(fc)}function JT(r,t,e){return QT(sX,r,t,e)}function oPe(r,t,e){return QT(nPe,r,t,e)}function sPe(r,t,e){return QT(iPe,r,t,e)}function lX(r){return(r%360+360)%360}function lPe(r){let t=rPe.exec(r),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?lg(+t[5]):fc(+t[5]));let n=lX(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=oPe(n,a,o):t[1]==="hsv"?i=sPe(n,a,o):i=JT(n,a,o),{r:i[0],g:i[1],b:i[2],a:e}}function cPe(r,t){var e=ZT(r);e[0]=lX(e[0]+t),e=JT(e),r.r=e[0],r.g=e[1],r.b=e[2]}function dPe(r){if(!r)return;let t=ZT(r),e=t[0],i=iX(t[1]),n=iX(t[2]);return r.a<255?`hsla(${e}, ${i}%, ${n}%, ${Ks(r.a)})`:`hsl(${e}, ${i}%, ${n}%)`}var nX={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},aX={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uPe(){let r={},t=Object.keys(aX),e=Object.keys(nX),i,n,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],n=0;n<e.length;n++)a=e[n],s=s.replace(a,nX[a]);a=parseInt(aX[o],16),r[s]=[a>>16&255,a>>8&255,a&255]}return r}var s_;function hPe(r){s_||(s_=uPe(),s_.transparent=[0,0,0,0]);let t=s_[r.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var fPe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mPe(r){let t=fPe.exec(r),e=255,i,n,a;if(t){if(t[7]!==i){let o=+t[7];e=t[8]?lg(o):hc(o*255,0,255)}return i=+t[1],n=+t[3],a=+t[5],i=255&(t[2]?lg(i):hc(i,0,255)),n=255&(t[4]?lg(n):hc(n,0,255)),a=255&(t[6]?lg(a):hc(a,0,255)),{r:i,g:n,b:a,a:e}}}function pPe(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Ks(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}var XT=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Yh=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function gPe(r,t,e){let i=Yh(Ks(r.r)),n=Yh(Ks(r.g)),a=Yh(Ks(r.b));return{r:fc(XT(i+e*(Yh(Ks(t.r))-i))),g:fc(XT(n+e*(Yh(Ks(t.g))-n))),b:fc(XT(a+e*(Yh(Ks(t.b))-a))),a:r.a+e*(t.a-r.a)}}function l_(r,t,e){if(r){let i=ZT(r);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=JT(i),r.r=i[0],r.g=i[1],r.b=i[2]}}function cX(r,t){return r&&Object.assign(t||{},r)}function oX(r){var t={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(t={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(t.a=fc(r[3]))):(t=cX(r,{r:0,g:0,b:0,a:1}),t.a=fc(t.a)),t}function vPe(r){return r.charAt(0)==="r"?mPe(r):lPe(r)}var cg=class r{constructor(t){if(t instanceof r)return t;let e=typeof t,i;e==="object"?i=oX(t):e==="string"&&(i=Jke(t)||hPe(t)||vPe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=cX(this._rgb);return t&&(t.a=Ks(t.a)),t}set rgb(t){this._rgb=oX(t)}rgbString(){return this._valid?pPe(this._rgb):void 0}hexString(){return this._valid?tPe(this._rgb):void 0}hslString(){return this._valid?dPe(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,n=t.rgb,a,o=e===a?.5:e,s=2*o-1,l=i.a-n.a,c=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-c,i.r=255&c*i.r+a*n.r+.5,i.g=255&c*i.g+a*n.g+.5,i.b=255&c*i.b+a*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=gPe(this._rgb,t._rgb,e)),this}clone(){return new r(this.rgb)}alpha(t){return this._rgb.a=fc(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=dg(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return l_(this._rgb,2,t),this}darken(t){return l_(this._rgb,2,-t),this}saturate(t){return l_(this._rgb,1,t),this}desaturate(t){return l_(this._rgb,1,-t),this}rotate(t){return cPe(this._rgb,t),this}};function us(){}var _X=(()=>{let r=0;return()=>r++})();function _r(r){return r==null}function hi(r){if(Array.isArray&&Array.isArray(r))return!0;let t=Object.prototype.toString.call(r);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Cr(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Ti(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function ma(r,t){return Ti(r)?r:t}function tr(r,t){return typeof r>"u"?t:r}var xX=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/t,iA=(r,t)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*t:+r;function ni(r,t,e){if(r&&typeof r.call=="function")return r.apply(e,t)}function $r(r,t,e,i){let n,a,o;if(hi(r))if(a=r.length,i)for(n=a-1;n>=0;n--)t.call(e,r[n],n);else for(n=0;n<a;n++)t.call(e,r[n],n);else if(Cr(r))for(o=Object.keys(r),a=o.length,n=0;n<a;n++)t.call(e,r[o[n]],o[n])}function fg(r,t){let e,i,n,a;if(!r||!t||r.length!==t.length)return!1;for(e=0,i=r.length;e<i;++e)if(n=r[e],a=t[e],n.datasetIndex!==a.datasetIndex||n.index!==a.index)return!1;return!0}function h_(r){if(hi(r))return r.map(h_);if(Cr(r)){let t=Object.create(null),e=Object.keys(r),i=e.length,n=0;for(;n<i;++n)t[e[n]]=h_(r[e[n]]);return t}return r}function wX(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function yPe(r,t,e,i){if(!wX(r))return;let n=t[r],a=e[r];Cr(n)&&Cr(a)?Kh(n,a,i):t[r]=h_(a)}function Kh(r,t,e){let i=hi(t)?t:[t],n=i.length;if(!Cr(r))return r;e=e||{};let a=e.merger||yPe,o;for(let s=0;s<n;++s){if(o=i[s],!Cr(o))continue;let l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)a(l[c],r,o,e)}return r}function Qh(r,t){return Kh(r,t,{merger:bPe})}function bPe(r,t,e){if(!wX(r))return;let i=t[r],n=e[r];Cr(i)&&Cr(n)?Qh(i,n):Object.prototype.hasOwnProperty.call(t,r)||(t[r]=h_(n))}var dX={"":r=>r,x:r=>r.x,y:r=>r.y};function _Pe(r){let t=r.split("."),e=[],i="";for(let n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function xPe(r){let t=_Pe(r);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function Js(r,t){return(dX[t]||(dX[t]=xPe(t)))(r)}function g_(r){return r.charAt(0).toUpperCase()+r.slice(1)}var Jh=r=>typeof r<"u",Zs=r=>typeof r=="function",nA=(r,t)=>{if(r.size!==t.size)return!1;for(let e of r)if(!t.has(e))return!1;return!0};function CX(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}var fi=Math.PI,mi=2*fi,wPe=mi+fi,f_=Number.POSITIVE_INFINITY,CPe=fi/180,Ni=fi/2,Fd=fi/4,uX=fi*2/3,Qs=Math.log10,Fo=Math.sign;function ef(r,t,e){return Math.abs(r-t)<e}function aA(r){let t=Math.round(r);r=ef(r,t,r/1e3)?t:r;let e=Math.pow(10,Math.floor(Qs(r))),i=r/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function EX(r){let t=[],e=Math.sqrt(r),i;for(i=1;i<e;i++)r%i===0&&(t.push(i),t.push(r/i));return e===(e|0)&&t.push(e),t.sort((n,a)=>n-a).pop(),t}function EPe(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function Vd(r){return!EPe(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function SX(r,t){let e=Math.round(r);return e-t<=r&&e+t>=r}function oA(r,t,e){let i,n,a;for(i=0,n=r.length;i<n;i++)a=r[i][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function po(r){return r*(fi/180)}function v_(r){return r*(180/fi)}function sA(r){if(!Ti(r))return;let t=1,e=0;for(;Math.round(r*t)/t!==r;)t*=10,e++;return e}function lA(r,t){let e=t.x-r.x,i=t.y-r.y,n=Math.sqrt(e*e+i*i),a=Math.atan2(i,e);return a<-.5*fi&&(a+=mi),{angle:a,distance:n}}function m_(r,t){return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function SPe(r,t){return(r-t+wPe)%mi-fi}function fa(r){return(r%mi+mi)%mi}function tf(r,t,e,i){let n=fa(r),a=fa(t),o=fa(e),s=fa(a-n),l=fa(o-n),c=fa(n-a),d=fa(n-o);return n===a||n===o||i&&a===o||s>l&&c<d}function dn(r,t,e){return Math.max(t,Math.min(e,r))}function MX(r){return dn(r,-32768,32767)}function hs(r,t,e,i=1e-6){return r>=Math.min(t,e)-i&&r<=Math.max(t,e)+i}function y_(r,t,e){e=e||(o=>r[o]<t);let i=r.length-1,n=0,a;for(;i-n>1;)a=n+i>>1,e(a)?n=a:i=a;return{lo:n,hi:i}}var cs=(r,t,e,i)=>y_(r,e,i?n=>{let a=r[n][t];return a<e||a===e&&r[n+1][t]===e}:n=>r[n][t]<e),DX=(r,t,e)=>y_(r,e,i=>r[i][t]>=e);function TX(r,t,e){let i=0,n=r.length;for(;i<n&&r[i]<t;)i++;for(;n>i&&r[n-1]>e;)n--;return i>0||n<r.length?r.slice(i,n):r}var AX=["push","pop","shift","splice","unshift"];function RX(r,t){if(r._chartjs){r._chartjs.listeners.push(t);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),AX.forEach(e=>{let i="_onData"+g_(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(...a){let o=n.apply(this,a);return r._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),o}})})}function cA(r,t){let e=r._chartjs;if(!e)return;let i=e.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(AX.forEach(a=>{delete r[a]}),delete r._chartjs)}function dA(r){let t=new Set(r);return t.size===r.length?r:Array.from(t)}var uA=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function hA(r,t){let e=[],i=!1;return function(...n){e=n,i||(i=!0,uA.call(window,()=>{i=!1,r.apply(t,e)}))}}function IX(r,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(r,t,i)):r.apply(this,i),t}}var b_=r=>r==="start"?"left":r==="end"?"right":"center",In=(r,t,e)=>r==="start"?t:r==="end"?e:(t+e)/2,OX=(r,t,e,i)=>r===(i?"left":"right")?e:r==="center"?(t+e)/2:t;function fA(r,t,e){let i=t.length,n=0,a=i;if(r._sorted){let{iScale:o,vScale:s,_parsed:l}=r,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,d=o.axis,{min:u,max:f,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(n=Math.min(cs(l,d,u).lo,e?i:cs(t,d,o.getPixelForValue(u)).lo),c){let v=l.slice(0,n+1).reverse().findIndex(y=>!_r(y[s.axis]));n-=Math.max(0,v)}n=dn(n,0,i-1)}if(g){let v=Math.max(cs(l,o.axis,f,!0).hi+1,e?0:cs(t,d,o.getPixelForValue(f),!0).hi+1);if(c){let y=l.slice(v-1).findIndex(b=>!_r(b[s.axis]));v+=Math.max(0,y)}a=dn(v,n,i)-n}else a=i-n}return{start:n,count:a}}function mA(r){let{xScale:t,yScale:e,_scaleRanges:i}=r,n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return r._scaleRanges=n,!0;let a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),a}var c_=r=>r===0||r===1,hX=(r,t,e)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-t)*mi/e)),fX=(r,t,e)=>Math.pow(2,-10*r)*Math.sin((r-t)*mi/e)+1,Xh={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ni)+1,easeOutSine:r=>Math.sin(r*Ni),easeInOutSine:r=>-.5*(Math.cos(fi*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>c_(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>c_(r)?r:hX(r,.075,.3),easeOutElastic:r=>c_(r)?r:fX(r,.075,.3),easeInOutElastic(r){return c_(r)?r:r<.5?.5*hX(r*2,.1125,.45):.5+.5*fX(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let t=1.70158;return(r/=.5)<1?.5*(r*r*(((t*=1.525)+1)*r-t)):.5*((r-=2)*r*(((t*=1.525)+1)*r+t)+2)},easeInBounce:r=>1-Xh.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?Xh.easeInBounce(r*2)*.5:Xh.easeOutBounce(r*2-1)*.5+.5};function pA(r){if(r&&typeof r=="object"){let t=r.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function gA(r){return pA(r)?r:new cg(r)}function eA(r){return pA(r)?r:new cg(r).saturate(.5).darken(.1).hexString()}var MPe=["x","y","borderWidth","radius","tension"],DPe=["color","borderColor","backgroundColor"];function TPe(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),r.set("animations",{colors:{type:"color",properties:DPe},numbers:{type:"number",properties:MPe}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function APe(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var mX=new Map;function RPe(r,t){t=t||{};let e=r+JSON.stringify(t),i=mX.get(e);return i||(i=new Intl.NumberFormat(r,t),mX.set(e,i)),i}function rf(r,t,e){return RPe(t,e).format(r)}var kX={values(r){return hi(r)?r:""+r},numeric(r,t,e){if(r===0)return"0";let i=this.chart.options.locale,n,a=r;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),a=IPe(r,e)}let o=Qs(Math.abs(a)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),rf(r,i,l)},logarithmic(r,t,e){if(r===0)return"0";let i=e[t].significand||r/Math.pow(10,Math.floor(Qs(r)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?kX.numeric.call(this,r,t,e):""}};function IPe(r,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&r!==Math.floor(r)&&(e=r-Math.floor(r)),e}var mg={formatters:kX};function OPe(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var pc=Object.create(null),__=Object.create(null);function ug(r,t){if(!t)return r;let e=t.split(".");for(let i=0,n=e.length;i<n;++i){let a=e[i];r=r[a]||(r[a]=Object.create(null))}return r}function tA(r,t,e){return typeof t=="string"?Kh(ug(r,t),e):Kh(ug(r,""),t)}var rA=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>eA(n.backgroundColor),this.hoverBorderColor=(i,n)=>eA(n.borderColor),this.hoverColor=(i,n)=>eA(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return tA(this,t,e)}get(t){return ug(this,t)}describe(t,e){return tA(__,t,e)}override(t,e){return tA(pc,t,e)}route(t,e,i,n){let a=ug(this,t),o=ug(this,i),s="_"+e;Object.defineProperties(a,{[s]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[s],c=o[n];return Cr(l)?Object.assign({},c,l):tr(l,c)},set(l){this[s]=l}}})}apply(t){t.forEach(e=>e(this))}},bi=new rA({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TPe,APe,OPe]);function kPe(r){return!r||_r(r.size)||_r(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function hg(r,t,e,i,n){let a=t[n];return a||(a=t[n]=r.measureText(n).width,e.push(n)),a>i&&(i=a),i}function PX(r,t,e,i){i=i||{};let n=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},a=i.garbageCollect=[],i.font=t),r.save(),r.font=t;let o=0,s=e.length,l,c,d,u,f;for(l=0;l<s;l++)if(u=e[l],u!=null&&!hi(u))o=hg(r,n,a,o,u);else if(hi(u))for(c=0,d=u.length;c<d;c++)f=u[c],f!=null&&!hi(f)&&(o=hg(r,n,a,o,f));r.restore();let m=a.length/2;if(m>e.length){for(l=0;l<m;l++)delete n[a[l]];a.splice(0,m)}return o}function gc(r,t,e){let i=r.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*i)/i+n}function vA(r,t){!t&&!r||(t=t||r.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,r.width,r.height),t.restore())}function x_(r,t,e,i){yA(r,t,e,i,null)}function yA(r,t,e,i,n){let a,o,s,l,c,d,u,f,m=t.pointStyle,g=t.rotation,v=t.radius,y=(g||0)*CPe;if(m&&typeof m=="object"&&(a=m.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){r.save(),r.translate(e,i),r.rotate(y),r.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),r.restore();return}if(!(isNaN(v)||v<=0)){switch(r.beginPath(),m){default:n?r.ellipse(e,i,n/2,v,0,0,mi):r.arc(e,i,v,0,mi),r.closePath();break;case"triangle":d=n?n/2:v,r.moveTo(e+Math.sin(y)*d,i-Math.cos(y)*v),y+=uX,r.lineTo(e+Math.sin(y)*d,i-Math.cos(y)*v),y+=uX,r.lineTo(e+Math.sin(y)*d,i-Math.cos(y)*v),r.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(y+Fd)*l,u=Math.cos(y+Fd)*(n?n/2-c:l),s=Math.sin(y+Fd)*l,f=Math.sin(y+Fd)*(n?n/2-c:l),r.arc(e-u,i-s,c,y-fi,y-Ni),r.arc(e+f,i-o,c,y-Ni,y),r.arc(e+u,i+s,c,y,y+Ni),r.arc(e-f,i+o,c,y+Ni,y+fi),r.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*v,d=n?n/2:l,r.rect(e-d,i-l,2*d,2*l);break}y+=Fd;case"rectRot":u=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,s=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),r.moveTo(e-u,i-s),r.lineTo(e+f,i-o),r.lineTo(e+u,i+s),r.lineTo(e-f,i+o),r.closePath();break;case"crossRot":y+=Fd;case"cross":u=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,s=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),r.moveTo(e-u,i-s),r.lineTo(e+u,i+s),r.moveTo(e+f,i-o),r.lineTo(e-f,i+o);break;case"star":u=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,s=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),r.moveTo(e-u,i-s),r.lineTo(e+u,i+s),r.moveTo(e+f,i-o),r.lineTo(e-f,i+o),y+=Fd,u=Math.cos(y)*(n?n/2:v),o=Math.cos(y)*v,s=Math.sin(y)*v,f=Math.sin(y)*(n?n/2:v),r.moveTo(e-u,i-s),r.lineTo(e+u,i+s),r.moveTo(e+f,i-o),r.lineTo(e-f,i+o);break;case"line":o=n?n/2:Math.cos(y)*v,s=Math.sin(y)*v,r.moveTo(e-o,i-s),r.lineTo(e+o,i+s);break;case"dash":r.moveTo(e,i),r.lineTo(e+Math.cos(y)*(n?n/2:v),i+Math.sin(y)*v);break;case!1:r.closePath();break}r.fill(),t.borderWidth>0&&r.stroke()}}function ds(r,t,e){return e=e||.5,!t||r&&r.x>t.left-e&&r.x<t.right+e&&r.y>t.top-e&&r.y<t.bottom+e}function pg(r,t){r.save(),r.beginPath(),r.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),r.clip()}function gg(r){r.restore()}function LX(r,t,e,i,n){if(!t)return r.lineTo(e.x,e.y);if(n==="middle"){let a=(t.x+e.x)/2;r.lineTo(a,t.y),r.lineTo(a,e.y)}else n==="after"!=!!i?r.lineTo(t.x,e.y):r.lineTo(e.x,t.y);r.lineTo(e.x,e.y)}function FX(r,t,e,i){if(!t)return r.lineTo(e.x,e.y);r.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function PPe(r,t){t.translation&&r.translate(t.translation[0],t.translation[1]),_r(t.rotation)||r.rotate(t.rotation),t.color&&(r.fillStyle=t.color),t.textAlign&&(r.textAlign=t.textAlign),t.textBaseline&&(r.textBaseline=t.textBaseline)}function LPe(r,t,e,i,n){if(n.strikethrough||n.underline){let a=r.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,l=e-a.actualBoundingBoxAscent,c=e+a.actualBoundingBoxDescent,d=n.strikethrough?(l+c)/2:c;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=n.decorationWidth||2,r.moveTo(o,d),r.lineTo(s,d),r.stroke()}}function FPe(r,t){let e=r.fillStyle;r.fillStyle=t.color,r.fillRect(t.left,t.top,t.width,t.height),r.fillStyle=e}function vc(r,t,e,i,n,a={}){let o=hi(t)?t:[t],s=a.strokeWidth>0&&a.strokeColor!=="",l,c;for(r.save(),r.font=n.string,PPe(r,a),l=0;l<o.length;++l)c=o[l],a.backdrop&&FPe(r,a.backdrop),s&&(a.strokeColor&&(r.strokeStyle=a.strokeColor),_r(a.strokeWidth)||(r.lineWidth=a.strokeWidth),r.strokeText(c,e,i,a.maxWidth)),r.fillText(c,e,i,a.maxWidth),LPe(r,e,i,c,a),i+=Number(n.lineHeight);r.restore()}function nf(r,t){let{x:e,y:i,w:n,h:a,radius:o}=t;r.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*fi,fi,!0),r.lineTo(e,i+a-o.bottomLeft),r.arc(e+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,fi,Ni,!0),r.lineTo(e+n-o.bottomRight,i+a),r.arc(e+n-o.bottomRight,i+a-o.bottomRight,o.bottomRight,Ni,0,!0),r.lineTo(e+n,i+o.topRight),r.arc(e+n-o.topRight,i+o.topRight,o.topRight,0,-Ni,!0),r.lineTo(e+o.topLeft,i)}var NPe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,BPe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VPe(r,t){let e=(""+r).match(NPe);if(!e||e[1]==="normal")return t*1.2;switch(r=+e[2],e[3]){case"px":return r;case"%":r/=100;break}return t*r}var zPe=r=>+r||0;function w_(r,t){let e={},i=Cr(t),n=i?Object.keys(t):t,a=Cr(r)?i?o=>tr(r[o],r[t[o]]):o=>r[o]:()=>r;for(let o of n)e[o]=zPe(a(o));return e}function bA(r){return w_(r,{top:"y",right:"x",bottom:"y",left:"x"})}function yc(r){return w_(r,["topLeft","topRight","bottomLeft","bottomRight"])}function On(r){let t=bA(r);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Qi(r,t){r=r||{},t=t||bi.font;let e=tr(r.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=tr(r.style,t.style);i&&!(""+i).match(BPe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let n={family:tr(r.family,t.family),lineHeight:VPe(tr(r.lineHeight,t.lineHeight),e),size:e,style:i,weight:tr(r.weight,t.weight),string:""};return n.string=kPe(n),n}function af(r,t,e,i){let n=!0,a,o,s;for(a=0,o=r.length;a<o;++a)if(s=r[a],s!==void 0&&(t!==void 0&&typeof s=="function"&&(s=s(t),n=!1),e!==void 0&&hi(s)&&(s=s[e%s.length],n=!1),s!==void 0))return i&&!n&&(i.cacheable=!1),s}function NX(r,t,e){let{min:i,max:n}=r,a=iA(t,(n-i)/2),o=(s,l)=>e&&s===0?0:s+l;return{min:o(i,-Math.abs(a)),max:o(n,a)}}function el(r,t){return Object.assign(Object.create(r),t)}function C_(r,t=[""],e,i,n=()=>r[0]){let a=e||r;typeof i>"u"&&(i=zX("_fallback",r));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:a,_fallback:i,_getTarget:n,override:s=>C_([s,...r],t,a,i)};return new Proxy(o,{deleteProperty(s,l){return delete s[l],delete s._keys,delete r[0][l],!0},get(s,l){return BX(s,l,()=>YPe(l,t,r,s))},getOwnPropertyDescriptor(s,l){return Reflect.getOwnPropertyDescriptor(s._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(s,l){return gX(s).includes(l)},ownKeys(s){return gX(s)},set(s,l,c){let d=s._storage||(s._storage=n());return s[l]=d[l]=c,delete s._keys,!0}})}function Bd(r,t,e,i){let n={_cacheable:!1,_proxy:r,_context:t,_subProxy:e,_stack:new Set,_descriptors:_A(r,i),setContext:a=>Bd(r,a,e,i),override:a=>Bd(r.override(a),t,e,i)};return new Proxy(n,{deleteProperty(a,o){return delete a[o],delete r[o],!0},get(a,o,s){return BX(a,o,()=>UPe(a,o,s))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(a,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(a,o,s){return r[o]=s,delete a[o],!0}})}function _A(r,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=r;return{allKeys:n,scriptable:e,indexable:i,isScriptable:Zs(e)?e:()=>e,isIndexable:Zs(i)?i:()=>i}}var qPe=(r,t)=>r?r+g_(t):t,xA=(r,t)=>Cr(t)&&r!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function BX(r,t,e){if(Object.prototype.hasOwnProperty.call(r,t)||t==="constructor")return r[t];let i=e();return r[t]=i,i}function UPe(r,t,e){let{_proxy:i,_context:n,_subProxy:a,_descriptors:o}=r,s=i[t];return Zs(s)&&o.isScriptable(t)&&(s=HPe(t,s,r,e)),hi(s)&&s.length&&(s=GPe(t,s,r,o.isIndexable)),xA(t,s)&&(s=Bd(s,n,a&&a[t],o)),s}function HPe(r,t,e,i){let{_proxy:n,_context:a,_subProxy:o,_stack:s}=e;if(s.has(r))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+r);s.add(r);let l=t(a,o||i);return s.delete(r),xA(r,l)&&(l=wA(n._scopes,n,r,l)),l}function GPe(r,t,e,i){let{_proxy:n,_context:a,_subProxy:o,_descriptors:s}=e;if(typeof a.index<"u"&&i(r))return t[a.index%t.length];if(Cr(t[0])){let l=t,c=n._scopes.filter(d=>d!==l);t=[];for(let d of l){let u=wA(c,n,r,d);t.push(Bd(u,a,o&&o[r],s))}}return t}function VX(r,t,e){return Zs(r)?r(t,e):r}var WPe=(r,t)=>r===!0?t:typeof r=="string"?Js(t,r):void 0;function jPe(r,t,e,i,n){for(let a of t){let o=WPe(e,a);if(o){r.add(o);let s=VX(o._fallback,e,n);if(typeof s<"u"&&s!==e&&s!==i)return s}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function wA(r,t,e,i){let n=t._rootScopes,a=VX(t._fallback,e,i),o=[...r,...n],s=new Set;s.add(i);let l=pX(s,o,e,a||e,i);return l===null||typeof a<"u"&&a!==e&&(l=pX(s,o,a,l,i),l===null)?!1:C_(Array.from(s),[""],n,a,()=>$Pe(t,e,i))}function pX(r,t,e,i,n){for(;e;)e=jPe(r,t,e,i,n);return e}function $Pe(r,t,e){let i=r._getTarget();t in i||(i[t]={});let n=i[t];return hi(n)&&Cr(e)?e:n||{}}function YPe(r,t,e,i){let n;for(let a of t)if(n=zX(qPe(a,r),e),typeof n<"u")return xA(r,n)?wA(e,i,r,n):n}function zX(r,t){for(let e of t){if(!e)continue;let i=e[r];if(typeof i<"u")return i}}function gX(r){let t=r._keys;return t||(t=r._keys=XPe(r._scopes)),t}function XPe(r){let t=new Set;for(let e of r)for(let i of Object.keys(e).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function CA(r,t,e,i){let{iScale:n}=r,{key:a="r"}=this._parsing,o=new Array(i),s,l,c,d;for(s=0,l=i;s<l;++s)c=s+e,d=t[c],o[s]={r:n.parse(Js(d,a),c)};return o}var KPe=Number.EPSILON||1e-14,Zh=(r,t)=>t<r.length&&!r[t].skip&&r[t],qX=r=>r==="x"?"y":"x";function ZPe(r,t,e,i){let n=r.skip?t:r,a=t,o=e.skip?t:e,s=m_(a,n),l=m_(o,a),c=s/(s+l),d=l/(s+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=i*c,f=i*d;return{previous:{x:a.x-u*(o.x-n.x),y:a.y-u*(o.y-n.y)},next:{x:a.x+f*(o.x-n.x),y:a.y+f*(o.y-n.y)}}}function QPe(r,t,e){let i=r.length,n,a,o,s,l,c=Zh(r,0);for(let d=0;d<i-1;++d)if(l=c,c=Zh(r,d+1),!(!l||!c)){if(ef(t[d],0,KPe)){e[d]=e[d+1]=0;continue}n=e[d]/t[d],a=e[d+1]/t[d],s=Math.pow(n,2)+Math.pow(a,2),!(s<=9)&&(o=3/Math.sqrt(s),e[d]=n*o*t[d],e[d+1]=a*o*t[d])}}function JPe(r,t,e="x"){let i=qX(e),n=r.length,a,o,s,l=Zh(r,0);for(let c=0;c<n;++c){if(o=s,s=l,l=Zh(r,c+1),!s)continue;let d=s[e],u=s[i];o&&(a=(d-o[e])/3,s[`cp1${e}`]=d-a,s[`cp1${i}`]=u-a*t[c]),l&&(a=(l[e]-d)/3,s[`cp2${e}`]=d+a,s[`cp2${i}`]=u+a*t[c])}}function eLe(r,t="x"){let e=qX(t),i=r.length,n=Array(i).fill(0),a=Array(i),o,s,l,c=Zh(r,0);for(o=0;o<i;++o)if(s=l,l=c,c=Zh(r,o+1),!!l){if(c){let d=c[t]-l[t];n[o]=d!==0?(c[e]-l[e])/d:0}a[o]=s?c?Fo(n[o-1])!==Fo(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}QPe(r,n,a),JPe(r,a,t)}function d_(r,t,e){return Math.max(Math.min(r,e),t)}function tLe(r,t){let e,i,n,a,o,s=ds(r[0],t);for(e=0,i=r.length;e<i;++e)o=a,a=s,s=e<i-1&&ds(r[e+1],t),a&&(n=r[e],o&&(n.cp1x=d_(n.cp1x,t.left,t.right),n.cp1y=d_(n.cp1y,t.top,t.bottom)),s&&(n.cp2x=d_(n.cp2x,t.left,t.right),n.cp2y=d_(n.cp2y,t.top,t.bottom)))}function UX(r,t,e,i,n){let a,o,s,l;if(t.spanGaps&&(r=r.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")eLe(r,n);else{let c=i?r[r.length-1]:r[0];for(a=0,o=r.length;a<o;++a)s=r[a],l=ZPe(c,s,r[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,c=s}t.capBezierPoints&&tLe(r,e)}function E_(){return typeof window<"u"&&typeof document<"u"}function S_(r){let t=r.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function p_(r,t,e){let i;return typeof r=="string"?(i=parseInt(r,10),r.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=r,i}var M_=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function rLe(r,t){return M_(r).getPropertyValue(t)}var iLe=["top","right","bottom","left"];function Nd(r,t,e){let i={};e=e?"-"+e:"";for(let n=0;n<4;n++){let a=iLe[n];i[a]=parseFloat(r[t+"-"+a+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var nLe=(r,t,e)=>(r>0||t>0)&&(!e||!e.shadowRoot);function aLe(r,t){let e=r.touches,i=e&&e.length?e[0]:r,{offsetX:n,offsetY:a}=i,o=!1,s,l;if(nLe(n,a,r.target))s=n,l=a;else{let c=t.getBoundingClientRect();s=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:s,y:l,box:o}}function bc(r,t){if("native"in r)return r;let{canvas:e,currentDevicePixelRatio:i}=t,n=M_(e),a=n.boxSizing==="border-box",o=Nd(n,"padding"),s=Nd(n,"border","width"),{x:l,y:c,box:d}=aLe(r,e),u=o.left+(d&&s.left),f=o.top+(d&&s.top),{width:m,height:g}=t;return a&&(m-=o.width+s.width,g-=o.height+s.height),{x:Math.round((l-u)/m*e.width/i),y:Math.round((c-f)/g*e.height/i)}}function oLe(r,t,e){let i,n;if(t===void 0||e===void 0){let a=r&&S_(r);if(!a)t=r.clientWidth,e=r.clientHeight;else{let o=a.getBoundingClientRect(),s=M_(a),l=Nd(s,"border","width"),c=Nd(s,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=p_(s.maxWidth,a,"clientWidth"),n=p_(s.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:i||f_,maxHeight:n||f_}}var u_=r=>Math.round(r*10)/10;function HX(r,t,e,i){let n=M_(r),a=Nd(n,"margin"),o=p_(n.maxWidth,r,"clientWidth")||f_,s=p_(n.maxHeight,r,"clientHeight")||f_,l=oLe(r,t,e),{width:c,height:d}=l;if(n.boxSizing==="content-box"){let f=Nd(n,"border","width"),m=Nd(n,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-a.width),d=Math.max(0,i?c/i:d-a.height),c=u_(Math.min(c,o,l.maxWidth)),d=u_(Math.min(d,s,l.maxHeight)),c&&!d&&(d=u_(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=u_(Math.floor(d*i))),{width:c,height:d}}function EA(r,t,e){let i=t||1,n=Math.floor(r.height*i),a=Math.floor(r.width*i);r.height=Math.floor(r.height),r.width=Math.floor(r.width);let o=r.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==i||o.height!==n||o.width!==a?(r.currentDevicePixelRatio=i,o.height=n,o.width=a,r.ctx.setTransform(i,0,0,i,0,0),!0):!1}var GX=function(){let r=!1;try{let t={get passive(){return r=!0,!1}};E_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return r}();function SA(r,t){let e=rLe(r,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function mc(r,t,e,i){return{x:r.x+e*(t.x-r.x),y:r.y+e*(t.y-r.y)}}function WX(r,t,e,i){return{x:r.x+e*(t.x-r.x),y:i==="middle"?e<.5?r.y:t.y:i==="after"?e<1?r.y:t.y:e>0?t.y:r.y}}function jX(r,t,e,i){let n={x:r.cp2x,y:r.cp2y},a={x:t.cp1x,y:t.cp1y},o=mc(r,n,e),s=mc(n,a,e),l=mc(a,t,e),c=mc(o,s,e),d=mc(s,l,e);return mc(c,d,e)}var sLe=function(r,t){return{x(e){return r+r+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},lLe=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,t){return r+t},leftForLtr(r,t){return r}}};function zd(r,t,e){return r?sLe(t,e):lLe()}function MA(r,t){let e,i;(t==="ltr"||t==="rtl")&&(e=r.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),r.prevTextDirection=i)}function DA(r,t){t!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",t[0],t[1]))}function $X(r){return r==="angle"?{between:tf,compare:SPe,normalize:fa}:{between:hs,compare:(t,e)=>t-e,normalize:t=>t}}function vX({start:r,end:t,count:e,loop:i,style:n}){return{start:r%e,end:t%e,loop:i&&(t-r+1)%e===0,style:n}}function cLe(r,t,e){let{property:i,start:n,end:a}=e,{between:o,normalize:s}=$X(i),l=t.length,{start:c,end:d,loop:u}=r,f,m;if(u){for(c+=l,d+=l,f=0,m=l;f<m&&o(s(t[c%l][i]),n,a);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:r.style}}function TA(r,t,e){if(!e)return[r];let{property:i,start:n,end:a}=e,o=t.length,{compare:s,between:l,normalize:c}=$X(i),{start:d,end:u,loop:f,style:m}=cLe(r,t,e),g=[],v=!1,y=null,b,_,w,E=()=>l(n,w,b)&&s(n,w)!==0,S=()=>s(a,b)===0||l(a,w,b),D=()=>v||E(),T=()=>!v||S();for(let O=d,F=d;O<=u;++O)_=t[O%o],!_.skip&&(b=c(_[i]),b!==w&&(v=l(b,n,a),y===null&&D()&&(y=s(b,n)===0?O:F),y!==null&&T()&&(g.push(vX({start:y,end:O,loop:f,count:o,style:m})),y=null),F=O,w=b));return y!==null&&g.push(vX({start:y,end:u,loop:f,count:o,style:m})),g}function AA(r,t){let e=[],i=r.segments;for(let n=0;n<i.length;n++){let a=TA(i[n],r.points,t);a.length&&e.push(...a)}return e}function dLe(r,t,e,i){let n=0,a=t-1;if(e&&!i)for(;n<t&&!r[n].skip;)n++;for(;n<t&&r[n].skip;)n++;for(n%=t,e&&(a+=n);a>n&&r[a%t].skip;)a--;return a%=t,{start:n,end:a}}function uLe(r,t,e,i){let n=r.length,a=[],o=t,s=r[t],l;for(l=t+1;l<=e;++l){let c=r[l%n];c.skip||c.stop?s.skip||(i=!1,a.push({start:t%n,end:(l-1)%n,loop:i}),t=o=c.stop?l:null):(o=l,s.skip&&(t=l)),s=c}return o!==null&&a.push({start:t%n,end:o%n,loop:i}),a}function YX(r,t){let e=r.points,i=r.options.spanGaps,n=e.length;if(!n)return[];let a=!!r._loop,{start:o,end:s}=dLe(e,n,a,i);if(i===!0)return yX(r,[{start:o,end:s,loop:a}],e,t);let l=s<o?s+n:s,c=!!r._fullLoop&&o===0&&s===n-1;return yX(r,uLe(e,o,l,c),e,t)}function yX(r,t,e,i){return!i||!i.setContext||!e?t:hLe(r,t,e,i)}function hLe(r,t,e,i){let n=r._chart.getContext(),a=bX(r.options),{_datasetIndex:o,options:{spanGaps:s}}=r,l=e.length,c=[],d=a,u=t[0].start,f=u;function m(g,v,y,b){let _=s?-1:1;if(g!==v){for(g+=l;e[g%l].skip;)g-=_;for(;e[v%l].skip;)v+=_;g%l!==v%l&&(c.push({start:g%l,end:v%l,loop:y,style:b}),d=b,u=v%l)}}for(let g of t){u=s?u:g.start;let v=e[u%l],y;for(f=u+1;f<=g.end;f++){let b=e[f%l];y=bX(i.setContext(el(n,{type:"segment",p0:v,p1:b,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),fLe(y,d)&&m(u,f-1,g.loop,d),v=b,d=y}u<f-1&&m(u,f-1,g.loop,d)}return c}function bX(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function fLe(r,t){if(!t)return!1;let e=[],i=function(n,a){return pA(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(r,i)!==JSON.stringify(t,i)}var zA=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){let a=e.listeners[n],o=e.duration;a.forEach(s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=uA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;let a=i.items,o=a.length-1,s=!1,l;for(;o>=0;--o)l=a[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),s=!0):(a[o]=a[a.length-1],a.pop());s&&(n.draw(),this._notify(n,i,t,"progress")),a.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},tl=new zA,XX="transparent",mLe={boolean(r,t,e){return e>.5?t:r},color(r,t,e){let i=gA(r||XX),n=i.valid&&gA(t||XX);return n&&n.valid?n.mix(i,e).hexString():t},number(r,t,e){return r+(t-r)*e}},qA=class{constructor(t,e,i,n){let a=e[i];n=af([t.to,n,a,t.from]);let o=af([t.from,a,n]);this._active=!0,this._fn=t.fn||mLe[t.type||typeof o],this._easing=Xh[t.easing]||Xh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let n=this._target[this._prop],a=i-this._start,o=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=af([t.to,e,n,t.from]),this._from=af([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,n=this._prop,a=this._from,o=this._loop,s=this._to,l;if(this._active=a!==s&&(o||e<i),!this._active){this._target[n]=s,this._notify(!0);return}if(e<0){this._target[n]=a;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(a,s,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}},F_=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Cr(t))return;let e=Object.keys(bi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let a=t[n];if(!Cr(a))return;let o={};for(let s of e)o[s]=a[s];(hi(a.properties)&&a.properties||[n]).forEach(s=>{(s===n||!i.has(s))&&i.set(s,o)})})}_animateOptions(t,e){let i=e.options,n=gLe(t,i);if(!n)return[];let a=this._createAnimations(n,i);return i.$shared&&pLe(t.options.$animations,i).then(()=>{t.options=i},()=>{}),a}_createAnimations(t,e){let i=this._properties,n=[],a=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,e));continue}let d=e[c],u=a[c],f=i.get(c);if(u)if(f&&u.active()){u.update(f,d,s);continue}else u.cancel();if(!f||!f.duration){t[c]=d;continue}a[c]=u=new qA(f,t,c,d),n.push(u)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return tl.add(this._chart,i),!0}};function pLe(r,t){let e=[],i=Object.keys(t);for(let n=0;n<i.length;n++){let a=r[i[n]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function gLe(r,t){if(!t)return;let e=r.options;if(!e){r.options=t;return}return e.$shared&&(r.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function KX(r,t){let e=r&&r.options||{},i=e.reverse,n=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:i?a:n,end:i?n:a}}function vLe(r,t,e){if(e===!1)return!1;let i=KX(r,e),n=KX(t,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function yLe(r){let t,e,i,n;return Cr(r)?(t=r.top,e=r.right,i=r.bottom,n=r.left):t=e=i=n=r,{top:t,right:e,bottom:i,left:n,disabled:r===!1}}function X6(r,t){let e=[],i=r._getSortedDatasetMetas(t),n,a;for(n=0,a=i.length;n<a;++n)e.push(i[n].index);return e}function ZX(r,t,e,i={}){let n=r.keys,a=i.mode==="single",o,s,l,c;if(t===null)return;let d=!1;for(o=0,s=n.length;o<s;++o){if(l=+n[o],l===e){if(d=!0,i.all)continue;break}c=r.values[l],Ti(c)&&(a||t===0||Fo(t)===Fo(c))&&(t+=c)}return!d&&!i.all?0:t}function bLe(r,t){let{iScale:e,vScale:i}=t,n=e.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",o=Object.keys(r),s=new Array(o.length),l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],s[l]={[n]:d,[a]:r[d]};return s}function RA(r,t){let e=r&&r.options.stacked;return e||e===void 0&&t.stack!==void 0}function _Le(r,t,e){return`${r.id}.${t.id}.${e.stack||e.type}`}function xLe(r){let{min:t,max:e,minDefined:i,maxDefined:n}=r.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function wLe(r,t,e){let i=r[t]||(r[t]={});return i[e]||(i[e]={})}function QX(r,t,e,i){for(let n of t.getMatchingVisibleMetas(i).reverse()){let a=r[n.index];if(e&&a>0||!e&&a<0)return n.index}return null}function JX(r,t){let{chart:e,_cachedMeta:i}=r,n=e._stacks||(e._stacks={}),{iScale:a,vScale:o,index:s}=i,l=a.axis,c=o.axis,d=_Le(a,o,i),u=t.length,f;for(let m=0;m<u;++m){let g=t[m],{[l]:v,[c]:y}=g,b=g._stacks||(g._stacks={});f=b[c]=wLe(n,d,v),f[s]=y,f._top=QX(f,o,!0,i.type),f._bottom=QX(f,o,!1,i.type);let _=f._visualValues||(f._visualValues={});_[s]=y}}function IA(r,t){let e=r.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function CLe(r,t){return el(r,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ELe(r,t,e){return el(r,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function vg(r,t){let e=r.controller.index,i=r.vScale&&r.vScale.axis;if(i){t=t||r._parsed;for(let n of t){let a=n._stacks;if(!a||a[i]===void 0||a[i][e]===void 0)return;delete a[i][e],a[i]._visualValues!==void 0&&a[i]._visualValues[e]!==void 0&&delete a[i]._visualValues[e]}}}var OA=r=>r==="reset"||r==="none",e6=(r,t)=>t?r:Object.assign({},r),SLe=(r,t,e)=>r&&!t.hidden&&t._stacked&&{keys:X6(e,!0),values:null},xc=(()=>{class r{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=RA(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&vg(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,n=this.getDataset(),a=(f,m,g,v)=>f==="x"?m:f==="r"?v:g,o=i.xAxisID=tr(n.xAxisID,IA(e,"x")),s=i.yAxisID=tr(n.yAxisID,IA(e,"y")),l=i.rAxisID=tr(n.rAxisID,IA(e,"r")),c=i.indexAxis,d=i.iAxisID=a(c,o,s,l),u=i.vAxisID=a(c,s,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(s),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&cA(this._data,this),e._stacked&&vg(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),n=this._data;if(Cr(i)){let a=this._cachedMeta;this._data=bLe(i,a)}else if(n!==i){if(n){cA(n,this);let a=this._cachedMeta;vg(a),a._parsed=[]}i&&Object.isExtensible(i)&&RX(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,n=this.getDataset(),a=!1;this._dataCheck();let o=i._stacked;i._stacked=RA(i.vScale,i),i.stack!==n.stack&&(a=!0,vg(i),i.stack=n.stack),this._resyncElements(e),(a||o!==i._stacked)&&(JX(this,i._parsed),i._stacked=RA(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:s}=n,l=o.axis,c=e===0&&i===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{hi(a[e])?m=this.parseArrayData(n,a,e,i):Cr(a[e])?m=this.parseObjectData(n,a,e,i):m=this.parsePrimitiveData(n,a,e,i);let g=()=>f[l]===null||d&&f[l]<d[l];for(u=0;u<i;++u)n._parsed[u+e]=f=m[u],c&&(g()&&(c=!1),d=f);n._sorted=c}s&&JX(this,m)}parsePrimitiveData(e,i,n,a){let{iScale:o,vScale:s}=e,l=o.axis,c=s.axis,d=o.getLabels(),u=o===s,f=new Array(a),m,g,v;for(m=0,g=a;m<g;++m)v=m+n,f[m]={[l]:u||o.parse(d[v],v),[c]:s.parse(i[v],v)};return f}parseArrayData(e,i,n,a){let{xScale:o,yScale:s}=e,l=new Array(a),c,d,u,f;for(c=0,d=a;c<d;++c)u=c+n,f=i[u],l[c]={x:o.parse(f[0],u),y:s.parse(f[1],u)};return l}parseObjectData(e,i,n,a){let{xScale:o,yScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a),u,f,m,g;for(u=0,f=a;u<f;++u)m=u+n,g=i[m],d[u]={x:o.parse(Js(g,l),m),y:s.parse(Js(g,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,n){let a=this.chart,o=this._cachedMeta,s=i[e.axis],l={keys:X6(a,!0),values:i._stacks[e.axis]._visualValues};return ZX(l,s,o.index,{mode:n})}updateRangeFromParsed(e,i,n,a){let o=n[i.axis],s=o===null?NaN:o,l=a&&n._stacks[i.axis];a&&l&&(a.values=l,s=ZX(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,i){let n=this._cachedMeta,a=n._parsed,o=n._sorted&&e===n.iScale,s=a.length,l=this._getOtherScale(e),c=SLe(i,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:f}=xLe(l),m,g;function v(){g=a[m];let y=g[l.axis];return!Ti(g[e.axis])||u>y||f<y}for(m=0;m<s&&!(!v()&&(this.updateRangeFromParsed(d,e,g,c),o));++m);if(o){for(m=s-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(d,e,g,c);break}}return d}getAllParsedValues(e){let i=this._cachedMeta._parsed,n=[],a,o,s;for(a=0,o=i.length;a<o;++a)s=i[a][e.axis],Ti(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,n=i.iScale,a=i.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=yLe(tr(this.options.clip,vLe(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],o=i.chartArea,s=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop,u;for(n.dataset&&n.dataset.draw(e,o,l,c),u=l;u<l+c;++u){let f=a[u];f.hidden||(f.active&&d?s.push(f):f.draw(e,o))}for(u=0;u<s.length;++u)s[u].draw(e,o)}getStyle(e,i){let n=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,i,n){let a=this.getDataset(),o;if(e>=0&&e<this._cachedMeta.data.length){let s=this._cachedMeta.data[e];o=s.$context||(s.$context=ELe(this.getContext(),e,s)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=CLe(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",n){let a=i==="active",o=this._cachedDataOpts,s=e+"-"+i,l=o[s],c=this.enableOptionSharing&&Jh(n);if(l)return e6(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),g=Object.keys(bi.elements[e]),v=()=>this.getContext(n,a,i),y=d.resolveNamedOptions(m,g,v,f);return y.$shared&&(y.$shared=c,o[s]=Object.freeze(e6(y,c))),y}_resolveAnimations(e,i,n){let a=this.chart,o=this._cachedDataOpts,s=`animation-${i}`,l=o[s];if(l)return l;let c;if(a.options.animation!==!1){let u=this.chart.config,f=u.datasetAnimationScopeKeys(this._type,i),m=u.getOptionScopes(this.getDataset(),f);c=u.createResolver(m,this.getContext(e,n,i))}let d=new F_(a,c&&c.animations);return c&&c._cacheable&&(o[s]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||OA(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let n=this.resolveDataElementOptions(e,i),a=this._sharedOptions,o=this.getSharedOptions(n),s=this.includeOptions(i,o)||o!==a;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:s}}updateElement(e,i,n,a){OA(a)?Object.assign(e,n):this._resolveAnimations(i,a).update(e,n)}updateSharedOptions(e,i,n){e&&!OA(i)&&this._resolveAnimations(void 0,i).update(e,n)}_setStyle(e,i,n,a){e.active=a;let o=this.getStyle(i,a);this._resolveAnimations(i,n,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,i,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,n=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let a=n.length,o=i.length,s=Math.min(o,a);s&&this.parse(0,s),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,i,n=!0){let a=this._cachedMeta,o=a.data,s=e+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=s;l--)d[l]=d[l-i]};for(c(o),l=e;l<s;++l)o[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,i),n&&this.updateElements(o,e,i,"reset")}updateElements(e,i,n,a){}_removeElements(e,i){let n=this._cachedMeta;if(this._parsing){let a=n._parsed.splice(e,i);n._stacked&&vg(n,a)}n.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,n,a]=e;this[i](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return r})();function MLe(r,t){if(!r._cache.$bar){let e=r.getMatchingVisibleMetas(t),i=[];for(let n=0,a=e.length;n<a;n++)i=i.concat(e[n].controller.getAllParsedValues(r));r._cache.$bar=dA(i.sort((n,a)=>n-a))}return r._cache.$bar}function DLe(r){let t=r.iScale,e=MLe(t,r.type),i=t._length,n,a,o,s,l=()=>{o===32767||o===-32768||(Jh(s)&&(i=Math.min(i,Math.abs(o-s)||i)),s=o)};for(n=0,a=e.length;n<a;++n)o=t.getPixelForValue(e[n]),l();for(s=void 0,n=0,a=t.ticks.length;n<a;++n)o=t.getPixelForTick(n),l();return i}function TLe(r,t,e,i){let n=e.barThickness,a,o;return _r(n)?(a=t.min*e.categoryPercentage,o=e.barPercentage):(a=n*i,o=1),{chunk:a/i,ratio:o,start:t.pixels[r]-a/2}}function ALe(r,t,e,i){let n=t.pixels,a=n[r],o=r>0?n[r-1]:null,s=r<n.length-1?n[r+1]:null,l=e.categoryPercentage;o===null&&(o=a-(s===null?t.end-t.start:s-a)),s===null&&(s=a+a-o);let c=a-(a-Math.min(o,s))/2*l;return{chunk:Math.abs(s-o)/2*l/i,ratio:e.barPercentage,start:c}}function RLe(r,t,e,i){let n=e.parse(r[0],i),a=e.parse(r[1],i),o=Math.min(n,a),s=Math.max(n,a),l=o,c=s;Math.abs(o)>Math.abs(s)&&(l=s,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:a,min:o,max:s}}function K6(r,t,e,i){return hi(r)?RLe(r,t,e,i):t[e.axis]=e.parse(r,i),t}function t6(r,t,e,i){let n=r.iScale,a=r.vScale,o=n.getLabels(),s=n===a,l=[],c,d,u,f;for(c=e,d=e+i;c<d;++c)f=t[c],u={},u[n.axis]=s||n.parse(o[c],c),l.push(K6(f,u,a,c));return l}function kA(r){return r&&r.barStart!==void 0&&r.barEnd!==void 0}function ILe(r,t,e){return r!==0?Fo(r):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function OLe(r){let t,e,i,n,a;return r.horizontal?(t=r.base>r.x,e="left",i="right"):(t=r.base<r.y,e="bottom",i="top"),t?(n="end",a="start"):(n="start",a="end"),{start:e,end:i,reverse:t,top:n,bottom:a}}function kLe(r,t,e,i){let n=t.borderSkipped,a={};if(!n){r.borderSkipped=a;return}if(n===!0){r.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:s,reverse:l,top:c,bottom:d}=OLe(r);n==="middle"&&e&&(r.enableBorderRadius=!0,(e._top||0)===i?n=c:(e._bottom||0)===i?n=d:(a[r6(d,o,s,l)]=!0,n=c)),a[r6(n,o,s,l)]=!0,r.borderSkipped=a}function r6(r,t,e,i){return i?(r=PLe(r,t,e),r=i6(r,e,t)):r=i6(r,t,e),r}function PLe(r,t,e){return r===t?e:r===e?t:r}function i6(r,t,e){return r==="start"?t:r==="end"?e:r}function LLe(r,{inflateAmount:t},e){r.inflateAmount=t==="auto"?e===1?.33:0:t}var FLe=(()=>{class r extends xc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,n,a){return t6(e,i,n,a)}parseArrayData(e,i,n,a){return t6(e,i,n,a)}parseObjectData(e,i,n,a){let{iScale:o,vScale:s}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=o.axis==="x"?l:c,u=s.axis==="x"?l:c,f=[],m,g,v,y;for(m=n,g=n+a;m<g;++m)y=i[m],v={},v[o.axis]=o.parse(Js(y,d),m),f.push(K6(Js(y,u),v,s,m));return f}updateRangeFromParsed(e,i,n,a){super.updateRangeFromParsed(e,i,n,a);let o=n._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:n,vScale:a}=i,o=this.getParsed(e),s=o._custom,l=kA(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,n,a){let o=a==="reset",{index:s,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(i,a);for(let g=i;g<i+n;g++){let v=this.getParsed(g),y=o||_r(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),_=(v._stacks||{})[l.axis],w={horizontal:d,base:y.base,enableBorderRadius:!_||kA(v._custom)||s===_._top||s===_._bottom,x:d?y.head:b.center,y:d?b.center:y.head,height:d?b.size:Math.abs(y.size),width:d?Math.abs(y.size):b.size};m&&(w.options=f||this.resolveDataElementOptions(g,e[g].active?"active":a));let E=w.options||e[g].options;kLe(w,E,_,s),LLe(w,E,u.ratio),this.updateElement(e[g],g,w,a)}}_getStacks(e,i){let{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=n.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[n.axis],d=u=>{let f=u._parsed.find(g=>g[n.axis]===c),m=f&&f[u.vScale.axis];if(_r(m)||isNaN(m))return!0};for(let u of a)if(!(i!==void 0&&d(u))&&((o===!1||s.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&s.push(u.stack),u.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,n){let a=this._getStacks(e,n),o=i!==void 0?a.indexOf(i):-1;return o===-1?a.length-1:o}_getRuler(){let e=this.options,i=this._cachedMeta,n=i.iScale,a=[],o,s;for(o=0,s=i.data.length;o<s;++o)a.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));let l=e.barThickness;return{min:l||DLe(i),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:n,index:a},options:{base:o,minBarLength:s}}=this,l=o||0,c=this.getParsed(e),d=c._custom,u=kA(d),f=c[i.axis],m=0,g=n?this.applyStack(i,c,n):f,v,y;g!==f&&(m=g-f,g=f),u&&(f=d.barStart,g=d.barEnd-d.barStart,f!==0&&Fo(f)!==Fo(d.barEnd)&&(m=0),m+=f);let b=!_r(o)&&!u?o:m,_=i.getPixelForValue(b);if(this.chart.getDataVisibility(e)?v=i.getPixelForValue(m+g):v=_,y=v-_,Math.abs(y)<s){y=ILe(y,i,l)*s,f===l&&(_-=y/2);let w=i.getPixelForDecimal(0),E=i.getPixelForDecimal(1),S=Math.min(w,E),D=Math.max(w,E);_=Math.max(Math.min(_,D),S),v=_+y,n&&!u&&(c._stacks[i.axis]._visualValues[a]=i.getValueForPixel(v)-i.getValueForPixel(_))}if(_===i.getPixelForValue(l)){let w=Fo(y)*i.getLineWidthForValue(l)/2;_+=w,y-=w}return{size:y,base:_,head:v,center:v+y/2}}_calculateBarIndexPixels(e,i){let n=i.scale,a=this.options,o=a.skipNull,s=tr(a.maxBarThickness,1/0),l,c;if(i.grouped){let d=o?this._getStackCount(e):i.stackCount,u=a.barThickness==="flex"?ALe(e,i,a,d):TLe(e,i,a,d),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=u.start+u.chunk*f+u.chunk/2,c=Math.min(s,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(s,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,i=e.vScale,n=e.data,a=n.length,o=0;for(;o<a;++o)this.getParsed(o)[i.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}return r})(),NLe=(()=>{class r extends xc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,n,a){let o=super.parsePrimitiveData(e,i,n,a);for(let s=0;s<o.length;s++)o[s]._custom=this.resolveDataElementOptions(s+n).radius;return o}parseArrayData(e,i,n,a){let o=super.parseArrayData(e,i,n,a);for(let s=0;s<o.length;s++){let l=i[n+s];o[s]._custom=tr(l[2],this.resolveDataElementOptions(s+n).radius)}return o}parseObjectData(e,i,n,a){let o=super.parseObjectData(e,i,n,a);for(let s=0;s<o.length;s++){let l=i[n+s];o[s]._custom=tr(l&&l.r&&+l.r,this.resolveDataElementOptions(s+n).radius)}return o}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let n=e.length-1;n>=0;--n)i=Math.max(i,e[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=i,s=this.getParsed(e),l=a.getLabelForValue(s.x),c=o.getLabelForValue(s.y),d=s._custom;return{label:n[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,n,a){let o=a==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,a),u=s.axis,f=l.axis;for(let m=i;m<i+n;m++){let g=e[m],v=!o&&this.getParsed(m),y={},b=y[u]=o?s.getPixelForDecimal(.5):s.getPixelForValue(v[u]),_=y[f]=o?l.getBasePixel():l.getPixelForValue(v[f]);y.skip=isNaN(b)||isNaN(_),d&&(y.options=c||this.resolveDataElementOptions(m,g.active?"active":a),o&&(y.options.radius=0)),this.updateElement(g,m,y,a)}}resolveDataElementOptions(e,i){let n=this.getParsed(e),a=super.resolveDataElementOptions(e,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let o=a.radius;return i!=="active"&&(a.radius=0),a.radius+=tr(n&&n._custom,o),a}}return r})();function BLe(r,t,e){let i=1,n=1,a=0,o=0;if(t<mi){let s=r,l=s+t,c=Math.cos(s),d=Math.sin(s),u=Math.cos(l),f=Math.sin(l),m=(w,E,S)=>tf(w,s,l,!0)?1:Math.max(E,E*e,S,S*e),g=(w,E,S)=>tf(w,s,l,!0)?-1:Math.min(E,E*e,S,S*e),v=m(0,c,u),y=m(Ni,d,f),b=g(fi,c,u),_=g(fi+Ni,d,f);i=(v-b)/2,n=(y-_)/2,a=-(v+b)/2,o=-(y+_)/2}return{ratioX:i,ratioY:n,offsetX:a,offsetY:o}}var sR=(()=>{class r extends xc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((o,s)=>{let c=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let o=c=>+n[c];if(Cr(n[e])){let{key:c="value"}=this._parsing;o=d=>+Js(n[d],c)}let s,l;for(s=e,l=e+i;s<l;++s)a._parsed[s]=o(s)}}_getRotation(){return po(this.options.rotation-90)}_getCircumference(){return po(this.options.circumference)}_getRotationExtents(){let e=mi,i=-mi;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){let a=this.chart.getDatasetMeta(n).controller,o=a._getRotation(),s=a._getCircumference();e=Math.min(e,o),i=Math.max(i,o+s)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:n}=i,a=this._cachedMeta,o=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-s)/2,0),c=Math.min(xX(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:v,offsetY:y}=BLe(f,u,c),b=(n.width-s)/m,_=(n.height-s)/g,w=Math.max(Math.min(b,_)/2,0),E=iA(this.options.radius,w),S=Math.max(E*c,0),D=(E-S)/this._getVisibleDatasetWeightTotal();this.offsetX=v*E,this.offsetY=y*E,a.total=this.calculateTotal(),this.outerRadius=E-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){let n=this.options,a=this._cachedMeta,o=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/mi)}updateElements(e,i,n,a){let o=a==="reset",s=this.chart,l=s.chartArea,d=s.options.animation,u=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=o&&d.animateScale,g=m?0:this.innerRadius,v=m?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(i,a),_=this._getRotation(),w;for(w=0;w<i;++w)_+=this._circumference(w,o);for(w=i;w<i+n;++w){let E=this._circumference(w,o),S=e[w],D={x:u+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+E,circumference:E,outerRadius:v,innerRadius:g};b&&(D.options=y||this.resolveDataElementOptions(w,S.active?"active":a)),_+=E,this.updateElement(S,w,D,a)}}calculateTotal(){let e=this._cachedMeta,i=e.data,n=0,a;for(a=0;a<i.length;a++){let o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?mi*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=rf(i._parsed[e],n.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let i=0,n=this.chart,a,o,s,l,c;if(!e){for(a=0,o=n.data.datasets.length;a<o;++a)if(n.isDatasetVisible(a)){s=n.getDatasetMeta(a),e=s.data,l=s.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let n=0,a=e.length;n<a;++n){let o=this.resolveDataElementOptions(n);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(e){return Math.max(tr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return r})(),VLe=(()=>{class r extends xc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:n,data:a=[],_dataset:o}=i,s=this.chart._animationsDisabled,{start:l,count:c}=fA(i,a,s);this._drawStart=l,this._drawCount=c,mA(i)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=a;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,i,n,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,a),m=s.axis,g=l.axis,{spanGaps:v,segment:y}=this.options,b=Vd(v)?v:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||a==="none",w=i+n,E=e.length,S=i>0&&this.getParsed(i-1);for(let D=0;D<E;++D){let T=e[D],O=_?T:{};if(D<i||D>=w){O.skip=!0;continue}let F=this.getParsed(D),P=_r(F[g]),L=O[m]=s.getPixelForValue(F[m],D),C=O[g]=o||P?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[g],D);O.skip=isNaN(L)||isNaN(C)||P,O.stop=D>0&&Math.abs(F[m]-S[m])>b,y&&(O.parsed=F,O.raw=d.data[D]),f&&(O.options=u||this.resolveDataElementOptions(D,T.active?"active":a)),_||this.updateElement(T,D,O,a),S=F}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,n=i.options&&i.options.borderWidth||0,a=e.data||[];if(!a.length)return n;let o=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,o,s)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return r})(),Z6=(()=>{class r extends xc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:n,color:a}}=e.legend.options;return i.labels.map((o,s)=>{let c=e.getDatasetMeta(0).controller.getStyle(s);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,n=this.chart,a=n.data.labels||[],o=rf(i._parsed[e].r,n.options.locale);return{label:a[e]||"",value:o}}parseObjectData(e,i,n,a){return CA.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{let o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,n=e.options,a=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(a/2,0),s=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),l=(o-s)/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,n,a){let o=a==="reset",s=this.chart,c=s.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,f=d.yCenter,m=d.getIndexAngle(0)-.5*fi,g=m,v,y=360/this.countVisibleElements();for(v=0;v<i;++v)g+=this._computeAngle(v,a,y);for(v=i;v<i+n;v++){let b=e[v],_=g,w=g+this._computeAngle(v,a,y),E=s.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;g=w,o&&(c.animateScale&&(E=0),c.animateRotate&&(_=w=m));let S={x:u,y:f,innerRadius:0,outerRadius:E,startAngle:_,endAngle:w,options:this.resolveDataElementOptions(v,b.active?"active":a)};this.updateElement(b,v,S,a)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(e,i,n){return this.chart.getDataVisibility(e)?po(this.resolveDataElementOptions(e,i).angle||n):0}}return r})(),zLe=(()=>{class r extends sR{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return r})(),qLe=(()=>{class r extends xc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,n=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(e,i,n,a){return CA.bind(this)(e,i,n,a)}update(e){let i=this._cachedMeta,n=i.dataset,a=i.data||[],o=i.iScale.getLabels();if(n.points=a,e!=="resize"){let s=this.resolveDatasetElementOptions(e);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===a.length,options:s};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,i,n,a){let o=this._cachedMeta.rScale,s=a==="reset";for(let l=i;l<i+n;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":a),u=o.getPointPositionForValue(l,this.getParsed(l).r),f=s?o.xCenter:u.x,m=s?o.yCenter:u.y,g={x:f,y:m,angle:u.angle,skip:isNaN(f)||isNaN(m),options:d};this.updateElement(c,l,g,a)}}}return r})(),ULe=(()=>{class r extends xc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:o}=i,s=this.getParsed(e),l=a.getLabelForValue(s.x),c=o.getLabelForValue(s.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){let i=this._cachedMeta,{data:n=[]}=i,a=this.chart._animationsDisabled,{start:o,count:s}=fA(i,n,a);if(this._drawStart=o,this._drawCount=s,mA(i)&&(o=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:d},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,o,s,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,n,a){let o=a==="reset",{iScale:s,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,a),f=this.getSharedOptions(u),m=this.includeOptions(a,f),g=s.axis,v=l.axis,{spanGaps:y,segment:b}=this.options,_=Vd(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||a==="none",E=i>0&&this.getParsed(i-1);for(let S=i;S<i+n;++S){let D=e[S],T=this.getParsed(S),O=w?D:{},F=_r(T[v]),P=O[g]=s.getPixelForValue(T[g],S),L=O[v]=o||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[v],S);O.skip=isNaN(P)||isNaN(L)||F,O.stop=S>0&&Math.abs(T[g]-E[g])>_,b&&(O.parsed=T,O.raw=d.data[S]),m&&(O.options=f||this.resolveDataElementOptions(S,D.active?"active":a)),w||this.updateElement(D,S,O,a),E=T}this.updateSharedOptions(f,a,u)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!i.length)return a;let o=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,o,s)/2}}return r})(),HLe=Object.freeze({__proto__:null,BarController:FLe,BubbleController:NLe,DoughnutController:sR,LineController:VLe,PieController:zLe,PolarAreaController:Z6,RadarController:qLe,ScatterController:ULe});function qd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var UA=class r{static override(t){Object.assign(r.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qd()}parse(){return qd()}format(){return qd()}add(){return qd()}diff(){return qd()}startOf(){return qd()}endOf(){return qd()}},GLe={_date:UA};function WLe(r,t,e,i){let{controller:n,data:a,_sorted:o}=r,s=n._cachedMeta.iScale,l=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(s&&t===s.axis&&t!=="r"&&o&&a.length){let c=s._reversePixels?DX:cs;if(i){if(n._sharedOptions){let d=a[0],u=typeof d.getRange=="function"&&d.getRange(t);if(u){let f=c(a,t,e-u),m=c(a,t,e+u);return{lo:f.lo,hi:m.hi}}}}else{let d=c(a,t,e);if(l){let{vScale:u}=n._cachedMeta,{_parsed:f}=r,m=f.slice(0,d.lo+1).reverse().findIndex(v=>!_r(v[u.axis]));d.lo-=Math.max(0,m);let g=f.slice(d.hi).findIndex(v=>!_r(v[u.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:a.length-1}}function Dg(r,t,e,i,n){let a=r.getSortedVisibleDatasetMetas(),o=e[t];for(let s=0,l=a.length;s<l;++s){let{index:c,data:d}=a[s],{lo:u,hi:f}=WLe(a[s],t,o,n);for(let m=u;m<=f;++m){let g=d[m];g.skip||i(g,c,m)}}}function jLe(r){let t=r.indexOf("x")!==-1,e=r.indexOf("y")!==-1;return function(i,n){let a=t?Math.abs(i.x-n.x):0,o=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function PA(r,t,e,i,n){let a=[];return!n&&!r.isPointInArea(t)||Dg(r,e,t,function(s,l,c){!n&&!ds(s,r.chartArea,0)||s.inRange(t.x,t.y,i)&&a.push({element:s,datasetIndex:l,index:c})},!0),a}function $Le(r,t,e,i){let n=[];function a(o,s,l){let{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:u}=lA(o,{x:t.x,y:t.y});tf(u,c,d)&&n.push({element:o,datasetIndex:s,index:l})}return Dg(r,e,t,a),n}function YLe(r,t,e,i,n,a){let o=[],s=jLe(e),l=Number.POSITIVE_INFINITY;function c(d,u,f){let m=d.inRange(t.x,t.y,n);if(i&&!m)return;let g=d.getCenterPoint(n);if(!(!!a||r.isPointInArea(g))&&!m)return;let y=s(t,g);y<l?(o=[{element:d,datasetIndex:u,index:f}],l=y):y===l&&o.push({element:d,datasetIndex:u,index:f})}return Dg(r,e,t,c),o}function LA(r,t,e,i,n,a){return!a&&!r.isPointInArea(t)?[]:e==="r"&&!i?$Le(r,t,e,n):YLe(r,t,e,i,n,a)}function n6(r,t,e,i,n){let a=[],o=e==="x"?"inXRange":"inYRange",s=!1;return Dg(r,e,t,(l,c,d)=>{l[o]&&l[o](t[e],n)&&(a.push({element:l,datasetIndex:c,index:d}),s=s||l.inRange(t.x,t.y,n))}),i&&!s?[]:a}var XLe={evaluateInteractionItems:Dg,modes:{index(r,t,e,i){let n=bc(t,r),a=e.axis||"x",o=e.includeInvisible||!1,s=e.intersect?PA(r,n,a,i,o):LA(r,n,a,!1,i,o),l=[];return s.length?(r.getSortedVisibleDatasetMetas().forEach(c=>{let d=s[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(r,t,e,i){let n=bc(t,r),a=e.axis||"xy",o=e.includeInvisible||!1,s=e.intersect?PA(r,n,a,i,o):LA(r,n,a,!1,i,o);if(s.length>0){let l=s[0].datasetIndex,c=r.getDatasetMeta(l).data;s=[];for(let d=0;d<c.length;++d)s.push({element:c[d],datasetIndex:l,index:d})}return s},point(r,t,e,i){let n=bc(t,r),a=e.axis||"xy",o=e.includeInvisible||!1;return PA(r,n,a,i,o)},nearest(r,t,e,i){let n=bc(t,r),a=e.axis||"xy",o=e.includeInvisible||!1;return LA(r,n,a,e.intersect,i,o)},x(r,t,e,i){let n=bc(t,r);return n6(r,n,"x",e.intersect,i)},y(r,t,e,i){let n=bc(t,r);return n6(r,n,"y",e.intersect,i)}}},Q6=["left","top","right","bottom"];function yg(r,t){return r.filter(e=>e.pos===t)}function a6(r,t){return r.filter(e=>Q6.indexOf(e.pos)===-1&&e.box.axis===t)}function bg(r,t){return r.sort((e,i)=>{let n=t?i:e,a=t?e:i;return n.weight===a.weight?n.index-a.index:n.weight-a.weight})}function KLe(r){let t=[],e,i,n,a,o,s;for(e=0,i=(r||[]).length;e<i;++e)n=r[e],{position:a,options:{stack:o,stackWeight:s=1}}=n,t.push({index:e,box:n,pos:a,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&a+o,stackWeight:s});return t}function ZLe(r){let t={};for(let e of r){let{stack:i,pos:n,stackWeight:a}=e;if(!i||!Q6.includes(n))continue;let o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function QLe(r,t){let e=ZLe(r),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t,a,o,s;for(a=0,o=r.length;a<o;++a){s=r[a];let{fullSize:l}=s.box,c=e[s.stack],d=c&&s.stackWeight/c.weight;s.horizontal?(s.width=d?d*i:l&&t.availableWidth,s.height=n):(s.width=i,s.height=d?d*n:l&&t.availableHeight)}return e}function JLe(r){let t=KLe(r),e=bg(t.filter(c=>c.box.fullSize),!0),i=bg(yg(t,"left"),!0),n=bg(yg(t,"right")),a=bg(yg(t,"top"),!0),o=bg(yg(t,"bottom")),s=a6(t,"x"),l=a6(t,"y");return{fullSize:e,leftAndTop:i.concat(a),rightAndBottom:n.concat(l).concat(o).concat(s),chartArea:yg(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:a.concat(o).concat(s)}}function o6(r,t,e,i){return Math.max(r[e],t[e])+Math.max(r[i],t[i])}function J6(r,t){r.top=Math.max(r.top,t.top),r.left=Math.max(r.left,t.left),r.bottom=Math.max(r.bottom,t.bottom),r.right=Math.max(r.right,t.right)}function eFe(r,t,e,i){let{pos:n,box:a}=e,o=r.maxPadding;if(!Cr(n)){e.size&&(r[n]-=e.size);let u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?a.height:a.width),e.size=u.size/u.count,r[n]+=e.size}a.getPadding&&J6(o,a.getPadding());let s=Math.max(0,t.outerWidth-o6(o,r,"left","right")),l=Math.max(0,t.outerHeight-o6(o,r,"top","bottom")),c=s!==r.w,d=l!==r.h;return r.w=s,r.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function tFe(r){let t=r.maxPadding;function e(i){let n=Math.max(t[i]-r[i],0);return r[i]+=n,n}r.y+=e("top"),r.x+=e("left"),e("right"),e("bottom")}function rFe(r,t){let e=t.maxPadding;function i(n){let a={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{a[o]=Math.max(t[o],e[o])}),a}return i(r?["left","right"]:["top","bottom"])}function wg(r,t,e,i){let n=[],a,o,s,l,c,d;for(a=0,o=r.length,c=0;a<o;++a){s=r[a],l=s.box,l.update(s.width||t.w,s.height||t.h,rFe(s.horizontal,t));let{same:u,other:f}=eFe(t,e,s,i);c|=u&&n.length,d=d||f,l.fullSize||n.push(s)}return c&&wg(n,t,e,i)||d}function D_(r,t,e,i,n){r.top=e,r.left=t,r.right=t+i,r.bottom=e+n,r.width=i,r.height=n}function s6(r,t,e,i){let n=e.padding,{x:a,y:o}=t;for(let s of r){let l=s.box,c=i[s.stack]||{count:1,placed:0,weight:1},d=s.stackWeight/c.weight||1;if(s.horizontal){let u=t.w*d,f=c.size||l.height;Jh(c.start)&&(o=c.start),l.fullSize?D_(l,n.left,o,e.outerWidth-n.right-n.left,f):D_(l,t.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{let u=t.h*d,f=c.size||l.width;Jh(c.start)&&(a=c.start),l.fullSize?D_(l,a,n.top,f,e.outerHeight-n.bottom-n.top):D_(l,a,t.top+c.placed,f,u),c.start=a,c.placed+=u,a=l.right}}t.x=a,t.y=o}var Gn={addBox(r,t){r.boxes||(r.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},r.boxes.push(t)},removeBox(r,t){let e=r.boxes?r.boxes.indexOf(t):-1;e!==-1&&r.boxes.splice(e,1)},configure(r,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(r,t,e,i){if(!r)return;let n=On(r.options.layout.padding),a=Math.max(t-n.width,0),o=Math.max(e-n.height,0),s=JLe(r.boxes),l=s.vertical,c=s.horizontal;$r(r.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let d=l.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},n);J6(f,On(i));let m=Object.assign({maxPadding:f,w:a,h:o,x:n.left,y:n.top},n),g=QLe(l.concat(c),u);wg(s.fullSize,m,u,g),wg(l,m,u,g),wg(c,m,u,g)&&wg(l,m,u,g),tFe(m),s6(s.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,s6(s.rightAndBottom,m,u,g),r.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},$r(s.chartArea,v=>{let y=v.box;Object.assign(y,r.chartArea),y.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},N_=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}},HA=class extends N_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},P_="$chartjs",iFe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},l6=r=>r===null||r==="";function nFe(r,t){let e=r.style,i=r.getAttribute("height"),n=r.getAttribute("width");if(r[P_]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",l6(n)){let a=SA(r,"width");a!==void 0&&(r.width=a)}if(l6(i))if(r.style.height==="")r.height=r.width/(t||2);else{let a=SA(r,"height");a!==void 0&&(r.height=a)}return r}var e9=GX?{passive:!0}:!1;function aFe(r,t,e){r&&r.addEventListener(t,e,e9)}function oFe(r,t,e){r&&r.canvas&&r.canvas.removeEventListener(t,e,e9)}function sFe(r,t){let e=iFe[r.type]||r.type,{x:i,y:n}=bc(r,t);return{type:e,chart:t,native:r,x:i!==void 0?i:null,y:n!==void 0?n:null}}function B_(r,t){for(let e of r)if(e===t||e.contains(t))return!0}function lFe(r,t,e){let i=r.canvas,n=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||B_(s.addedNodes,i),o=o&&!B_(s.removedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function cFe(r,t,e){let i=r.canvas,n=new MutationObserver(a=>{let o=!1;for(let s of a)o=o||B_(s.removedNodes,i),o=o&&!B_(s.addedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}var Eg=new Map,c6=0;function t9(){let r=window.devicePixelRatio;r!==c6&&(c6=r,Eg.forEach((t,e)=>{e.currentDevicePixelRatio!==r&&t()}))}function dFe(r,t){Eg.size||window.addEventListener("resize",t9),Eg.set(r,t)}function uFe(r){Eg.delete(r),Eg.size||window.removeEventListener("resize",t9)}function hFe(r,t,e){let i=r.canvas,n=i&&S_(i);if(!n)return;let a=hA((s,l)=>{let c=n.clientWidth;e(s,l),c<n.clientWidth&&e()},window),o=new ResizeObserver(s=>{let l=s[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||a(c,d)});return o.observe(n),dFe(r,a),o}function FA(r,t,e){e&&e.disconnect(),t==="resize"&&uFe(r)}function fFe(r,t,e){let i=r.canvas,n=hA(a=>{r.ctx!==null&&e(sFe(a,r))},r);return aFe(i,t,n),n}var GA=class extends N_{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(nFe(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[P_])return!1;let i=e[P_].initial;["height","width"].forEach(a=>{let o=i[a];_r(o)?e.removeAttribute(a):e.setAttribute(a,o)});let n=i.style||{};return Object.keys(n).forEach(a=>{e.style[a]=n[a]}),e.width=e.width,delete e[P_],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let n=t.$proxies||(t.$proxies={}),o={attach:lFe,detach:cFe,resize:hFe}[e]||fFe;n[e]=o(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:FA,detach:FA,resize:FA}[e]||oFe)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return HX(t,e,i,n)}isAttached(t){let e=t&&S_(t);return!!(e&&e.isConnected)}};function mFe(r){return!E_()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?HA:GA}var No=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Vd(this.x)&&Vd(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let n={};return t.forEach(a=>{n[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),n}};function pFe(r,t){let e=r.options.ticks,i=gFe(r),n=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?yFe(t):[],o=a.length,s=a[0],l=a[o-1],c=[];if(o>n)return bFe(t,c,a,o/n),c;let d=vFe(a,t,n);if(o>0){let u,f,m=o>1?Math.round((l-s)/(o-1)):null;for(T_(t,c,d,_r(m)?0:s-m,s),u=0,f=o-1;u<f;u++)T_(t,c,d,a[u],a[u+1]);return T_(t,c,d,l,_r(m)?t.length:l+m),c}return T_(t,c,d),c}function gFe(r){let t=r.options.offset,e=r._tickSize(),i=r._length/e+(t?0:1),n=r._maxLength/e;return Math.floor(Math.min(i,n))}function vFe(r,t,e){let i=_Fe(r),n=t.length/e;if(!i)return Math.max(n,1);let a=EX(i);for(let o=0,s=a.length-1;o<s;o++){let l=a[o];if(l>n)return l}return Math.max(n,1)}function yFe(r){let t=[],e,i;for(e=0,i=r.length;e<i;e++)r[e].major&&t.push(e);return t}function bFe(r,t,e,i){let n=0,a=e[0],o;for(i=Math.ceil(i),o=0;o<r.length;o++)o===a&&(t.push(r[o]),n++,a=e[n*i])}function T_(r,t,e,i,n){let a=tr(i,0),o=Math.min(tr(n,r.length),r.length),s=0,l,c,d;for(e=Math.ceil(e),n&&(l=n-i,e=l/Math.floor(l/e)),d=a;d<0;)s++,d=Math.round(a+s*e);for(c=Math.max(a,0);c<o;c++)c===d&&(t.push(r[c]),s++,d=Math.round(a+s*e))}function _Fe(r){let t=r.length,e,i;if(t<2)return!1;for(i=r[0],e=1;e<t;++e)if(r[e]-r[e-1]!==i)return!1;return i}var xFe=r=>r==="left"?"right":r==="right"?"left":r,d6=(r,t,e)=>t==="top"||t==="left"?r[t]+e:r[t]-e,u6=(r,t)=>Math.min(t||r,r);function h6(r,t){let e=[],i=r.length/t,n=r.length,a=0;for(;a<n;a+=i)e.push(r[Math.floor(a)]);return e}function wFe(r,t,e){let i=r.ticks.length,n=Math.min(t,i-1),a=r._startPixel,o=r._endPixel,s=1e-6,l=r.getPixelForTick(n),c;if(!(e&&(i===1?c=Math.max(l-a,o-l):t===0?c=(r.getPixelForTick(1)-l)/2:c=(l-r.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<a-s||l>o+s)))return l}function CFe(r,t){$r(r,e=>{let i=e.gc,n=i.length/2,a;if(n>t){for(a=0;a<n;++a)delete e.data[i[a]];i.splice(0,n)}})}function _g(r){return r.drawTicks?r.tickLength:0}function f6(r,t){if(!r.display)return 0;let e=Qi(r.font,t),i=On(r.padding);return(hi(r.text)?r.text.length:1)*e.lineHeight+i.height}function EFe(r,t){return el(r,{scale:t,type:"scale"})}function SFe(r,t,e){return el(r,{tick:e,index:t,type:"tick"})}function MFe(r,t,e){let i=b_(r);return(e&&t!=="right"||!e&&t==="right")&&(i=xFe(i)),i}function DFe(r,t,e,i){let{top:n,left:a,bottom:o,right:s,chart:l}=r,{chartArea:c,scales:d}=l,u=0,f,m,g,v=o-n,y=s-a;if(r.isHorizontal()){if(m=In(i,a,s),Cr(e)){let b=Object.keys(e)[0],_=e[b];g=d[b].getPixelForValue(_)+v-t}else e==="center"?g=(c.bottom+c.top)/2+v-t:g=d6(r,e,t);f=s-a}else{if(Cr(e)){let b=Object.keys(e)[0],_=e[b];m=d[b].getPixelForValue(_)-y+t}else e==="center"?m=(c.left+c.right)/2-y+t:m=d6(r,e,t);g=In(i,o,n),u=e==="left"?-Ni:Ni}return{titleX:m,titleY:g,maxWidth:f,rotation:u}}var Hd=class r extends No{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=ma(t,Number.POSITIVE_INFINITY),e=ma(e,Number.NEGATIVE_INFINITY),i=ma(i,Number.POSITIVE_INFINITY),n=ma(n,Number.NEGATIVE_INFINITY),{min:ma(t,i),max:ma(e,n),minDefined:Ti(t),maxDefined:Ti(e)}}getMinMax(t){let{min:e,max:i,minDefined:n,maxDefined:a}=this.getUserBounds(),o;if(n&&a)return{min:e,max:i};let s=this.getMatchingVisibleMetas();for(let l=0,c=s.length;l<c;++l)o=s[l].controller.getMinMax(this,t),n||(e=Math.min(e,o.min)),a||(i=Math.max(i,o.max));return e=a&&e>i?i:e,i=n&&e>i?e:i,{min:ma(e,ma(i,e)),max:ma(i,ma(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ni(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:n,grace:a,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NX(this,a,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?h6(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pFe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ni(this.options.afterUpdate,[this])}beforeSetDimensions(){ni(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ni(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ni(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ni(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,n,a;for(i=0,n=t.length;i<n;i++)a=t[i],a.label=ni(e.callback,[a.value,i,t],this)}afterTickToLabelConversion(){ni(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ni(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=u6(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,a=e.maxRotation,o=n,s,l,c;if(!this._isVisible()||!e.display||n>=a||i<=1||!this.isHorizontal()){this.labelRotation=n;return}let d=this._getLabelSizes(),u=d.widest.width,f=d.highest.height,m=dn(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/i:m/(i-1),u+6>s&&(s=m/(i-(t.offset?.5:1)),l=this.maxHeight-_g(t.grid)-e.padding-f6(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=v_(Math.min(Math.asin(dn((d.highest.height+6)/s,-1,1)),Math.asin(dn(l/c,-1,1))-Math.asin(dn(f/c,-1,1)))),o=Math.max(n,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){ni(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ni(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:a}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){let l=f6(n,e.options.font);if(s?(t.width=this.maxWidth,t.height=_g(a)+l):(t.height=this.maxHeight,t.width=_g(a)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:f}=this._getLabelSizes(),m=i.padding*2,g=po(this.labelRotation),v=Math.cos(g),y=Math.sin(g);if(s){let b=i.mirror?0:y*u.width+v*f.height;t.height=Math.min(this.maxHeight,t.height+b+m)}else{let b=i.mirror?0:v*u.width+y*f.height;t.width=Math.min(this.maxWidth,t.width+b+m)}this._calculatePadding(c,d,y,v)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){let{ticks:{align:a,padding:o},position:s}=this.options,l=this.labelRotation!==0,c=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),f=0,m=0;l?c?(f=n*t.width,m=i*e.height):(f=i*t.height,m=n*e.width):a==="start"?m=e.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,m=e.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;a==="start"?(d=0,u=t.height):a==="end"&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ni(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)_r(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=h6(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:n,_longestTextCache:a}=this,o=[],s=[],l=Math.floor(e/u6(e,i)),c=0,d=0,u,f,m,g,v,y,b,_,w,E,S;for(u=0;u<e;u+=l){if(g=t[u].label,v=this._resolveTickFontOptions(u),n.font=y=v.string,b=a[y]=a[y]||{data:{},gc:[]},_=v.lineHeight,w=E=0,!_r(g)&&!hi(g))w=hg(n,b.data,b.gc,w,g),E=_;else if(hi(g))for(f=0,m=g.length;f<m;++f)S=g[f],!_r(S)&&!hi(S)&&(w=hg(n,b.data,b.gc,w,S),E+=_);o.push(w),s.push(E),c=Math.max(w,c),d=Math.max(E,d)}CFe(a,e);let D=o.indexOf(c),T=s.indexOf(d),O=F=>({width:o[F]||0,height:s[F]||0});return{first:O(0),last:O(e-1),widest:O(D),highest:O(T),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return MX(this._alignToPixels?gc(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=SFe(this.getContext(),t,i))}return this.$context||(this.$context=EFe(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=po(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,s=a?a.widest.width+o:0,l=a?a.highest.height+o:0;return this.isHorizontal()?l*i>s*n?s/i:l/n:l*n<s*i?l/i:s/n}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,n=this.options,{grid:a,position:o,border:s}=n,l=a.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),f=_g(a),m=[],g=s.setContext(this.getContext()),v=g.display?g.width:0,y=v/2,b=function(I){return gc(i,I,v)},_,w,E,S,D,T,O,F,P,L,C,A;if(o==="top")_=b(this.bottom),T=this.bottom-f,F=_-y,L=b(t.top)+y,A=t.bottom;else if(o==="bottom")_=b(this.top),L=t.top,A=b(t.bottom)-y,T=_+y,F=this.top+f;else if(o==="left")_=b(this.right),D=this.right-f,O=_-y,P=b(t.left)+y,C=t.right;else if(o==="right")_=b(this.left),P=t.left,C=b(t.right)-y,D=_+y,O=this.left+f;else if(e==="x"){if(o==="center")_=b((t.top+t.bottom)/2+.5);else if(Cr(o)){let I=Object.keys(o)[0],B=o[I];_=b(this.chart.scales[I].getPixelForValue(B))}L=t.top,A=t.bottom,T=_+y,F=T+f}else if(e==="y"){if(o==="center")_=b((t.left+t.right)/2);else if(Cr(o)){let I=Object.keys(o)[0],B=o[I];_=b(this.chart.scales[I].getPixelForValue(B))}D=_-y,O=D-f,P=t.left,C=t.right}let R=tr(n.ticks.maxTicksLimit,u),k=Math.max(1,Math.ceil(u/R));for(w=0;w<u;w+=k){let I=this.getContext(w),B=a.setContext(I),z=s.setContext(I),W=B.lineWidth,$=B.color,G=z.dash||[],K=z.dashOffset,oe=B.tickWidth,te=B.tickColor,le=B.tickBorderDash||[],re=B.tickBorderDashOffset;E=wFe(this,w,l),E!==void 0&&(S=gc(i,E,W),c?D=O=P=C=S:T=F=L=A=S,m.push({tx1:D,ty1:T,tx2:O,ty2:F,x1:P,y1:L,x2:C,y2:A,width:W,color:$,borderDash:G,borderDashOffset:K,tickWidth:oe,tickColor:te,tickBorderDash:le,tickBorderDashOffset:re}))}return this._ticksLength=u,this._borderValue=_,m}_computeLabelItems(t){let e=this.axis,i=this.options,{position:n,ticks:a}=i,o=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=a,f=_g(i.grid),m=f+d,g=u?-d:m,v=-po(this.labelRotation),y=[],b,_,w,E,S,D,T,O,F,P,L,C,A="middle";if(n==="top")D=this.bottom-g,T=this._getXAxisLabelAlignment();else if(n==="bottom")D=this.top+g,T=this._getXAxisLabelAlignment();else if(n==="left"){let k=this._getYAxisLabelAlignment(f);T=k.textAlign,S=k.x}else if(n==="right"){let k=this._getYAxisLabelAlignment(f);T=k.textAlign,S=k.x}else if(e==="x"){if(n==="center")D=(t.top+t.bottom)/2+m;else if(Cr(n)){let k=Object.keys(n)[0],I=n[k];D=this.chart.scales[k].getPixelForValue(I)+m}T=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")S=(t.left+t.right)/2-m;else if(Cr(n)){let k=Object.keys(n)[0],I=n[k];S=this.chart.scales[k].getPixelForValue(I)}T=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?A="top":l==="end"&&(A="bottom"));let R=this._getLabelSizes();for(b=0,_=s.length;b<_;++b){w=s[b],E=w.label;let k=a.setContext(this.getContext(b));O=this.getPixelForTick(b)+a.labelOffset,F=this._resolveTickFontOptions(b),P=F.lineHeight,L=hi(E)?E.length:1;let I=L/2,B=k.color,z=k.textStrokeColor,W=k.textStrokeWidth,$=T;o?(S=O,T==="inner"&&(b===_-1?$=this.options.reverse?"left":"right":b===0?$=this.options.reverse?"right":"left":$="center"),n==="top"?c==="near"||v!==0?C=-L*P+P/2:c==="center"?C=-R.highest.height/2-I*P+P:C=-R.highest.height+P/2:c==="near"||v!==0?C=P/2:c==="center"?C=R.highest.height/2-I*P:C=R.highest.height-L*P,u&&(C*=-1),v!==0&&!k.showLabelBackdrop&&(S+=P/2*Math.sin(v))):(D=O,C=(1-L)*P/2);let G;if(k.showLabelBackdrop){let K=On(k.backdropPadding),oe=R.heights[b],te=R.widths[b],le=C-K.top,re=0-K.left;switch(A){case"middle":le-=oe/2;break;case"bottom":le-=oe;break}switch(T){case"center":re-=te/2;break;case"right":re-=te;break;case"inner":b===_-1?re-=te:b>0&&(re-=te/2);break}G={left:re,top:le,width:te+K.width,height:oe+K.height,color:k.backdropColor}}y.push({label:E,font:F,textOffset:C,options:{rotation:v,color:B,strokeColor:z,strokeWidth:W,textAlign:$,textBaseline:A,translation:[S,D],backdrop:G}})}return y}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-po(this.labelRotation))return t==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:n,padding:a}}=this.options,o=this._getLabelSizes(),s=t+a,l=o.widest.width,c,d;return e==="left"?n?(d=this.right+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-s,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?n?(d=this.left+a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+s,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:n,width:a,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,a,o),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let n=this.ticks.findIndex(a=>a.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),a,o,s=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(a=0,o=n.length;a<o;++a){let l=n[a];e.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:n}}=this,a=i.setContext(this.getContext()),o=i.display?a.width:0;if(!o)return;let s=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,f;this.isHorizontal()?(c=gc(t,this.left,o)-o/2,d=gc(t,this.right,s)+s/2,u=f=l):(u=gc(t,this.top,o)-o/2,f=gc(t,this.bottom,s)+s/2,c=d=l),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(c,u),e.lineTo(d,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,n=this._computeLabelArea();n&&pg(i,n);let a=this.getLabelItems(t);for(let o of a){let s=o.options,l=o.font,c=o.label,d=o.textOffset;vc(i,c,0,d,l,s)}n&&gg(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;let a=Qi(i.font),o=On(i.padding),s=i.align,l=a.lineHeight/2;e==="bottom"||e==="center"||Cr(e)?(l+=o.bottom,hi(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:c,titleY:d,maxWidth:u,rotation:f}=DFe(this,l,e,s);vc(t,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:f,textAlign:MFe(s,e,n),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=tr(t.grid&&t.grid.z,-1),n=tr(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==r.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],a,o;for(a=0,o=e.length;a<o;++a){let s=e[a];s[i]===this.id&&(!t||s.type===t)&&n.push(s)}return n}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return Qi(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},sf=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;RFe(e)&&(i=this.register(e));let n=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in n||(n[a]=t,TFe(t,o,i),this.override&&bi.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in bi[n]&&(delete bi[n][i],this.override&&delete pc[i])}};function TFe(r,t,e){let i=Kh(Object.create(null),[e?bi.get(e):{},bi.get(t),r.defaults]);bi.set(t,i),r.defaultRoutes&&AFe(t,r.defaultRoutes),r.descriptors&&bi.describe(t,r.descriptors)}function AFe(r,t){Object.keys(t).forEach(e=>{let i=e.split("."),n=i.pop(),a=[r].concat(i).join("."),o=t[e].split("."),s=o.pop(),l=o.join(".");bi.route(a,n,l,s)})}function RFe(r){return"id"in r&&"defaults"in r}var WA=class{constructor(){this.controllers=new sf(xc,"datasets",!0),this.elements=new sf(No,"elements"),this.plugins=new sf(Object,"plugins"),this.scales=new sf(Hd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(n=>{let a=i||this._getRegistryForType(n);i||a.isForType(n)||a===this.plugins&&n.id?this._exec(t,a,n):$r(n,o=>{let s=i||this._getRegistryForType(o);this._exec(t,s,o)})})}_exec(t,e,i){let n=g_(t);ni(i["before"+n],[],i),e[t](i),ni(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let n=e.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}},ms=new WA,jA=class{constructor(){this._init=[]}notify(t,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let a=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(a,t,e,i);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,n){n=n||{};for(let a of t){let o=a.plugin,s=o[i],l=[e,n,a.options];if(ni(s,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){_r(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,n=tr(i.options&&i.options.plugins,{}),a=IFe(i);return n===!1&&!e?[]:kFe(t,a,n,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,n=(a,o)=>a.filter(s=>!o.some(l=>s.plugin.id===l.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}};function IFe(r){let t={},e=[],i=Object.keys(ms.plugins.items);for(let a=0;a<i.length;a++)e.push(ms.getPlugin(i[a]));let n=r.plugins||[];for(let a=0;a<n.length;a++){let o=n[a];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function OFe(r,t){return!t&&r===!1?null:r===!0?{}:r}function kFe(r,{plugins:t,localIds:e},i,n){let a=[],o=r.getContext();for(let s of t){let l=s.id,c=OFe(i[l],n);c!==null&&a.push({plugin:s,options:PFe(r.config,{plugin:s,local:e[l]},c,o)})}return a}function PFe(r,{plugin:t,local:e},i,n){let a=r.pluginScopeKeys(t),o=r.getOptionScopes(i,a);return e&&t.defaults&&o.push(t.defaults),r.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $A(r,t){let e=bi.datasets[r]||{};return((t.datasets||{})[r]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function LFe(r,t){let e=r;return r==="_index_"?e=t:r==="_value_"&&(e=t==="x"?"y":"x"),e}function FFe(r,t){return r===t?"_index_":"_value_"}function m6(r){if(r==="x"||r==="y"||r==="r")return r}function NFe(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function YA(r,...t){if(m6(r))return r;for(let e of t){let i=e.axis||NFe(e.position)||r.length>1&&m6(r[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function p6(r,t,e){if(e[t+"AxisID"]===r)return{axis:t}}function BFe(r,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===r||i.yAxisID===r);if(e.length)return p6(r,"x",e[0])||p6(r,"y",e[0])}return{}}function VFe(r,t){let e=pc[r.type]||{scales:{}},i=t.scales||{},n=$A(r.type,t),a=Object.create(null);return Object.keys(i).forEach(o=>{let s=i[o];if(!Cr(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=YA(o,s,BFe(o,r),bi.scales[s.type]),c=FFe(l,n),d=e.scales||{};a[o]=Qh(Object.create(null),[{axis:l},s,d[l],d[c]])}),r.data.datasets.forEach(o=>{let s=o.type||r.type,l=o.indexAxis||$A(s,t),d=(pc[s]||{}).scales||{};Object.keys(d).forEach(u=>{let f=LFe(u,l),m=o[f+"AxisID"]||f;a[m]=a[m]||Object.create(null),Qh(a[m],[{axis:f},i[m],d[u]])})}),Object.keys(a).forEach(o=>{let s=a[o];Qh(s,[bi.scales[s.type],bi.scale])}),a}function r9(r){let t=r.options||(r.options={});t.plugins=tr(t.plugins,{}),t.scales=VFe(r,t)}function i9(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function zFe(r){return r=r||{},r.data=i9(r.data),r9(r),r}var g6=new Map,n9=new Set;function A_(r,t){let e=g6.get(r);return e||(e=t(),g6.set(r,e),n9.add(e)),e}var xg=(r,t,e)=>{let i=Js(t,e);i!==void 0&&r.add(i)},XA=class{constructor(t){this._config=zFe(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=i9(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),r9(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return A_(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return A_(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return A_(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return A_(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,n=i.get(t);return(!n||e)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){let{options:n,type:a}=this,o=this._cachedScopes(t,i),s=o.get(e);if(s)return s;let l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(u=>xg(l,t,u))),d.forEach(u=>xg(l,n,u)),d.forEach(u=>xg(l,pc[a]||{},u)),d.forEach(u=>xg(l,bi,u)),d.forEach(u=>xg(l,__,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),n9.has(e)&&o.set(e,c),c}chartOptionScopes(){let{options:t,type:e}=this;return[t,pc[e]||{},bi.datasets[e]||{},{type:e},bi,__]}resolveNamedOptions(t,e,i,n=[""]){let a={$shared:!0},{resolver:o,subPrefixes:s}=v6(this._resolverCache,t,n),l=o;if(UFe(o,e)){a.$shared=!1,i=Zs(i)?i():i;let c=this.createResolver(t,i,s);l=Bd(o,i,c)}for(let c of e)a[c]=l[c];return a}createResolver(t,e,i=[""],n){let{resolver:a}=v6(this._resolverCache,t,i);return Cr(e)?Bd(a,e,void 0,n):a}};function v6(r,t,e){let i=r.get(t);i||(i=new Map,r.set(t,i));let n=e.join(),a=i.get(n);return a||(a={resolver:C_(t,e),subPrefixes:e.filter(s=>!s.toLowerCase().includes("hover"))},i.set(n,a)),a}var qFe=r=>Cr(r)&&Object.getOwnPropertyNames(r).some(t=>Zs(r[t]));function UFe(r,t){let{isScriptable:e,isIndexable:i}=_A(r);for(let n of t){let a=e(n),o=i(n),s=(o||a)&&r[n];if(a&&(Zs(s)||qFe(s))||o&&hi(s))return!0}return!1}var HFe="4.4.8",GFe=["top","bottom","left","right","chartArea"];function y6(r,t){return r==="top"||r==="bottom"||GFe.indexOf(r)===-1&&t==="x"}function b6(r,t){return function(e,i){return e[r]===i[r]?e[t]-i[t]:e[r]-i[r]}}function _6(r){let t=r.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ni(e&&e.onComplete,[r],t)}function WFe(r){let t=r.chart,e=t.options.animation;ni(e&&e.onProgress,[r],t)}function a9(r){return E_()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}var L_={},x6=r=>{let t=a9(r);return Object.values(L_).filter(e=>e.canvas===t).pop()};function jFe(r,t,e){let i=Object.keys(r);for(let n of i){let a=+n;if(a>=t){let o=r[n];delete r[n],(e>0||a>t)&&(r[a+e]=o)}}}function $Fe(r,t,e,i){return!e||r.type==="mouseout"?null:i?t:r}function R_(r,t,e){return r.options.clip?r[e]:t[e]}function YFe(r,t){let{xScale:e,yScale:i}=r;return e&&i?{left:R_(e,t,"left"),right:R_(e,t,"right"),top:R_(i,t,"top"),bottom:R_(i,t,"bottom")}:t}var Bo=(()=>{class r{static defaults=bi;static instances=L_;static overrides=pc;static registry=ms;static version=HFe;static getChart=x6;static register(...e){ms.add(...e),w6()}static unregister(...e){ms.remove(...e),w6()}constructor(e,i){let n=this.config=new XA(i),a=a9(e),o=x6(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||mFe(a)),this.platform.updateConfig(n);let l=this.platform.acquireContext(a,s.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=_X(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new jA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=IX(f=>this.update(f),s.resizeDelay||0),this._dataChanges=[],L_[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}tl.listen(this,"complete",_6),tl.listen(this,"progress",WFe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:n,height:a,_aspectRatio:o}=this;return _r(e)?i&&o?o:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():EA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vA(this.canvas,this.ctx),this}stop(){return tl.stop(this),this}resize(e,i){tl.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let n=this.options,a=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(a,e,i,o),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,EA(this,l,!0)&&(this.notifyPlugins("resize",{size:s}),ni(n.onResize,[this,s],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};$r(i,(n,a)=>{n.id=a})}buildOrUpdateScales(){let e=this.options,i=e.scales,n=this.scales,a=Object.keys(n).reduce((s,l)=>(s[l]=!1,s),{}),o=[];i&&(o=o.concat(Object.keys(i).map(s=>{let l=i[s],c=YA(s,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),$r(o,s=>{let l=s.options,c=l.id,d=YA(c,l),u=tr(l.type,s.dtype);(l.position===void 0||y6(l.position,d)!==y6(s.dposition))&&(l.position=s.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===u)f=n[c];else{let m=ms.getScale(u);f=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),$r(a,(s,l)=>{s||delete n[l]}),$r(n,s=>{Gn.configure(this,s,s.options),Gn.addBox(this,s)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,n=e.length;if(e.sort((a,o)=>a.index-o.index),n>i){for(let a=i;a<n;++a)this._destroyDatasetMeta(a);e.splice(i,n-i)}this._sortedMetasets=e.slice(0).sort(b6("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((n,a)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,n,a;for(this._removeUnreferencedMetasets(),n=0,a=i.length;n<a;n++){let o=i[n],s=this.getDatasetMeta(n),l=o.type||this.config.type;if(s.type&&s.type!==l&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=l,s.indexAxis=o.indexAxis||$A(l,this.options),s.order=o.order||0,s.index=n,s.label=""+o.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{let c=ms.getController(l),{datasetElementType:d,dataElementType:u}=bi.datasets[l];Object.assign(c,{dataElementType:ms.getElement(u),datasetElementType:d&&ms.getElement(d)}),s.controller=new c(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){$r(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:f}=this.getDatasetMeta(d),m=!a&&o.indexOf(f)===-1;f.buildOrUpdateElements(m),s=Math.max(+f.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),a||$r(o,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(b6("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){$r(this.scales,e=>{Gn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!nA(i,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:a,count:o}of i){let s=n==="_removeElements"?-o:o;jFe(e,a,s)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=o=>new Set(e.filter(s=>s[0]===o).map((s,l)=>l+","+s.splice(1).join(","))),a=n(0);for(let o=1;o<i;o++)if(!nA(a,n(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gn.update(this,this.width,this.height,e);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],$r(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Zs(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let n=this.getDatasetMeta(e),a={meta:n,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(i),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(tl.has(this)?this.attached&&!tl.running(this)&&tl.start(this):(this.draw(),_6({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,n=[],a,o;for(a=0,o=i.length;a<o;++a){let s=i[a];(!e||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,n=e._clip,a=!n.disabled,o=YFe(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&pg(i,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),e.controller.draw(),a&&gg(i),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ds(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,n,a){let o=XLe.modes[i];return typeof o=="function"?o(this,e,n,a):[]}getDatasetMeta(e){let i=this.data.datasets[e],n=this._metasets,a=n.filter(o=>o&&o._dataset===i).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=el(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(e,i){let n=this.getDatasetMeta(e);n.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,n){let a=n?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,a);Jh(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(o,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),tl.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vA(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete L_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,n=(o,s)=>{i.addEventListener(this,o,s),e[o]=s},a=(o,s,l)=>{o.offsetX=s,o.offsetY=l,this._eventHandler(o)};$r(this.options.events,o=>n(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,n=(c,d)=>{i.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(i.removeEventListener(this,c,d),delete e[c])},o=(c,d)=>{this.canvas&&this.resize(c,d)},s,l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",o),n("detach",s)};s=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),n("attach",l)},i.isAttached(this.canvas)?l():s()}unbindEvents(){$r(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},$r(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,n){let a=n?"set":"remove",o,s,l,c;for(i==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){s=e[l];let d=s&&this.getDatasetMeta(s.datasetIndex).controller;d&&d[a+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],n=e.map(({datasetIndex:o,index:s})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[s],index:s}});!fg(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(e,i,n){return this._plugins.notify(this,e,i,n)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,n){let a=this.options.hover,o=(c,d)=>c.filter(u=>!d.some(f=>u.datasetIndex===f.datasetIndex&&u.index===f.index)),s=o(i,e),l=n?e:o(e,i);s.length&&this.updateHoverStyle(s,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,i){let n={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},a=s=>(s.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;let o=this._handleEvent(e,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(o||n.changed)&&this.render(),this}_handleEvent(e,i,n){let{_active:a=[],options:o}=this,s=i,l=this._getActiveElements(e,a,n,s),c=CX(e),d=$Fe(e,this._lastEvent,n,c);n&&(this._lastEvent=null,ni(o.onHover,[e,l,this],this),c&&ni(o.onClick,[e,l,this],this));let u=!fg(l,a);return(u||i)&&(this._active=l,this._updateHoverStyles(l,a,i)),this._lastEvent=d,u}_getActiveElements(e,i,n,a){if(e.type==="mouseout")return[];if(!n)return i;let o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}}return r})();function w6(){return $r(Bo.instances,r=>r._plugins.invalidate())}function XFe(r,t,e){let{startAngle:i,pixelMargin:n,x:a,y:o,outerRadius:s,innerRadius:l}=t,c=n/s;r.beginPath(),r.arc(a,o,s,i-c,e+c),l>n?(c=n/l,r.arc(a,o,l,e+c,i-c,!0)):r.arc(a,o,n,e+Ni,i-Ni),r.closePath(),r.clip()}function KFe(r){return w_(r,["outerStart","outerEnd","innerStart","innerEnd"])}function ZFe(r,t,e,i){let n=KFe(r.options.borderRadius),a=(e-t)/2,o=Math.min(a,i*t/2),s=l=>{let c=(e-Math.min(a,l))*i/2;return dn(l,0,Math.min(a,c))};return{outerStart:s(n.outerStart),outerEnd:s(n.outerEnd),innerStart:dn(n.innerStart,0,o),innerEnd:dn(n.innerEnd,0,o)}}function of(r,t,e,i){return{x:e+r*Math.cos(t),y:i+r*Math.sin(t)}}function V_(r,t,e,i,n,a){let{x:o,y:s,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+i+e-c,0),f=d>0?d+i+e+c:0,m=0,g=n-l;if(i){let k=d>0?d-i:0,I=u>0?u-i:0,B=(k+I)/2,z=B!==0?g*B/(B+i):g;m=(g-z)/2}let v=Math.max(.001,g*u-e/fi)/u,y=(g-v)/2,b=l+y+m,_=n-y-m,{outerStart:w,outerEnd:E,innerStart:S,innerEnd:D}=ZFe(t,f,u,_-b),T=u-w,O=u-E,F=b+w/T,P=_-E/O,L=f+S,C=f+D,A=b+S/L,R=_-D/C;if(r.beginPath(),a){let k=(F+P)/2;if(r.arc(o,s,u,F,k),r.arc(o,s,u,k,P),E>0){let W=of(O,P,o,s);r.arc(W.x,W.y,E,P,_+Ni)}let I=of(C,_,o,s);if(r.lineTo(I.x,I.y),D>0){let W=of(C,R,o,s);r.arc(W.x,W.y,D,_+Ni,R+Math.PI)}let B=(_-D/f+(b+S/f))/2;if(r.arc(o,s,f,_-D/f,B,!0),r.arc(o,s,f,B,b+S/f,!0),S>0){let W=of(L,A,o,s);r.arc(W.x,W.y,S,A+Math.PI,b-Ni)}let z=of(T,b,o,s);if(r.lineTo(z.x,z.y),w>0){let W=of(T,F,o,s);r.arc(W.x,W.y,w,b-Ni,F)}}else{r.moveTo(o,s);let k=Math.cos(F)*u+o,I=Math.sin(F)*u+s;r.lineTo(k,I);let B=Math.cos(P)*u+o,z=Math.sin(P)*u+s;r.lineTo(B,z)}r.closePath()}function QFe(r,t,e,i,n){let{fullCircles:a,startAngle:o,circumference:s}=t,l=t.endAngle;if(a){V_(r,t,e,i,l,n);for(let c=0;c<a;++c)r.fill();isNaN(s)||(l=o+(s%mi||mi))}return V_(r,t,e,i,l,n),r.fill(),l}function JFe(r,t,e,i,n){let{fullCircles:a,startAngle:o,circumference:s,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!c)return;r.setLineDash(u||[]),r.lineDashOffset=f,m?(r.lineWidth=c*2,r.lineJoin=d||"round"):(r.lineWidth=c,r.lineJoin=d||"bevel");let g=t.endAngle;if(a){V_(r,t,e,i,g,n);for(let v=0;v<a;++v)r.stroke();isNaN(s)||(g=o+(s%mi||mi))}m&&XFe(r,t,g),a||(V_(r,t,e,i,g,n),r.stroke())}var KA=class extends No{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let n=this.getProps(["x","y"],i),{angle:a,distance:o}=lA(n,{x:t,y:e}),{startAngle:s,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=tr(u,l-s),g=tf(a,s,l)&&s!==l,v=m>=mi||g,y=hs(o,c+f,d+f);return v&&y}getCenterPoint(t){let{x:e,y:i,startAngle:n,endAngle:a,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:l,spacing:c}=this.options,d=(n+a)/2,u=(o+s+c+l)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,n=(e.offset||0)/4,a=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>mi?Math.floor(i/mi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*n,Math.sin(s)*n);let l=1-Math.sin(Math.min(fi,i||0)),c=n*l;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,QFe(t,this,c,a,o),JFe(t,this,c,a,o),t.restore()}};function o9(r,t,e=t){r.lineCap=tr(e.borderCapStyle,t.borderCapStyle),r.setLineDash(tr(e.borderDash,t.borderDash)),r.lineDashOffset=tr(e.borderDashOffset,t.borderDashOffset),r.lineJoin=tr(e.borderJoinStyle,t.borderJoinStyle),r.lineWidth=tr(e.borderWidth,t.borderWidth),r.strokeStyle=tr(e.borderColor,t.borderColor)}function eNe(r,t,e){r.lineTo(e.x,e.y)}function tNe(r){return r.stepped?LX:r.tension||r.cubicInterpolationMode==="monotone"?FX:eNe}function s9(r,t,e={}){let i=r.length,{start:n=0,end:a=i-1}=e,{start:o,end:s}=t,l=Math.max(n,o),c=Math.min(a,s),d=n<o&&a<o||n>s&&a>s;return{count:i,start:l,loop:t.loop,ilen:c<l&&!d?i+c-l:c-l}}function rNe(r,t,e,i){let{points:n,options:a}=t,{count:o,start:s,loop:l,ilen:c}=s9(n,e,i),d=tNe(a),{move:u=!0,reverse:f}=i||{},m,g,v;for(m=0;m<=c;++m)g=n[(s+(f?c-m:m))%o],!g.skip&&(u?(r.moveTo(g.x,g.y),u=!1):d(r,v,g,f,a.stepped),v=g);return l&&(g=n[(s+(f?c:0))%o],d(r,v,g,f,a.stepped)),!!l}function iNe(r,t,e,i){let n=t.points,{count:a,start:o,ilen:s}=s9(n,e,i),{move:l=!0,reverse:c}=i||{},d=0,u=0,f,m,g,v,y,b,_=E=>(o+(c?s-E:E))%a,w=()=>{v!==y&&(r.lineTo(d,y),r.lineTo(d,v),r.lineTo(d,b))};for(l&&(m=n[_(0)],r.moveTo(m.x,m.y)),f=0;f<=s;++f){if(m=n[_(f)],m.skip)continue;let E=m.x,S=m.y,D=E|0;D===g?(S<v?v=S:S>y&&(y=S),d=(u*d+E)/++u):(w(),r.lineTo(E,S),g=D,u=0,v=y=S),b=S}w()}function ZA(r){let t=r.options,e=t.borderDash&&t.borderDash.length;return!r._decimated&&!r._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?iNe:rNe}function nNe(r){return r.stepped?WX:r.tension||r.cubicInterpolationMode==="monotone"?jX:mc}function aNe(r,t,e,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,i)&&n.closePath()),o9(r,t.options),r.stroke(n)}function oNe(r,t,e,i){let{segments:n,options:a}=t,o=ZA(t);for(let s of n)o9(r,a,s.style),r.beginPath(),o(r,t,s,{start:e,end:e+i-1})&&r.closePath(),r.stroke()}var sNe=typeof Path2D=="function";function lNe(r,t,e,i){sNe&&!t.options.segment?aNe(r,t,e,i):oNe(r,t,e,i)}var U_=(()=>{class r extends No{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let a=n.spanGaps?this._loop:this._fullLoop;UX(this._points,n,e,a,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=YX(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,n=e.length;return n&&i[e[n-1].end]}interpolate(e,i){let n=this.options,a=e[i],o=this.points,s=AA(this,{property:i,start:a,end:a});if(!s.length)return;let l=[],c=nNe(n),d,u;for(d=0,u=s.length;d<u;++d){let{start:f,end:m}=s[d],g=o[f],v=o[m];if(g===v){l.push(g);continue}let y=Math.abs((a-g[i])/(v[i]-g[i])),b=c(g,v,y,n.stepped);b[i]=e[i],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,i,n){return ZA(this)(e,this,i,n)}path(e,i,n){let a=this.segments,o=ZA(this),s=this._loop;i=i||0,n=n||this.points.length-i;for(let l of a)s&=o(e,this,l,{start:i,end:i+n-1});return!!s}draw(e,i,n,a){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),lNe(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return r})();function C6(r,t,e,i){let n=r.options,{[e]:a}=r.getProps([e],i);return Math.abs(t-a)<n.radius+n.hitRadius}var cNe=(()=>{class r extends No{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){let a=this.options,{x:o,y:s}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(i-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,i){return C6(this,e,"x",i)}inYRange(e,i){return C6(this,e,"y",i)}getCenterPoint(e){let{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){let n=this.options;this.skip||n.radius<.1||!ds(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,x_(e,n,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return r})();function l9(r,t){let{x:e,y:i,base:n,width:a,height:o}=r.getProps(["x","y","base","width","height"],t),s,l,c,d,u;return r.horizontal?(u=o/2,s=Math.min(e,n),l=Math.max(e,n),c=i-u,d=i+u):(u=a/2,s=e-u,l=e+u,c=Math.min(i,n),d=Math.max(i,n)),{left:s,top:c,right:l,bottom:d}}function _c(r,t,e,i){return r?0:dn(t,e,i)}function dNe(r,t,e){let i=r.options.borderWidth,n=r.borderSkipped,a=bA(i);return{t:_c(n.top,a.top,0,e),r:_c(n.right,a.right,0,t),b:_c(n.bottom,a.bottom,0,e),l:_c(n.left,a.left,0,t)}}function uNe(r,t,e){let{enableBorderRadius:i}=r.getProps(["enableBorderRadius"]),n=r.options.borderRadius,a=yc(n),o=Math.min(t,e),s=r.borderSkipped,l=i||Cr(n);return{topLeft:_c(!l||s.top||s.left,a.topLeft,0,o),topRight:_c(!l||s.top||s.right,a.topRight,0,o),bottomLeft:_c(!l||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:_c(!l||s.bottom||s.right,a.bottomRight,0,o)}}function hNe(r){let t=l9(r),e=t.right-t.left,i=t.bottom-t.top,n=dNe(r,e/2,i/2),a=uNe(r,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:a},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function NA(r,t,e,i){let n=t===null,a=e===null,s=r&&!(n&&a)&&l9(r,i);return s&&(n||hs(t,s.left,s.right))&&(a||hs(e,s.top,s.bottom))}function fNe(r){return r.topLeft||r.topRight||r.bottomLeft||r.bottomRight}function mNe(r,t){r.rect(t.x,t.y,t.w,t.h)}function BA(r,t,e={}){let i=r.x!==e.x?-t:0,n=r.y!==e.y?-t:0,a=(r.x+r.w!==e.x+e.w?t:0)-i,o=(r.y+r.h!==e.y+e.h?t:0)-n;return{x:r.x+i,y:r.y+n,w:r.w+a,h:r.h+o,radius:r.radius}}var QA=class extends No{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:a,outer:o}=hNe(this),s=fNe(o.radius)?nf:mNe;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),s(t,BA(o,e,a)),t.clip(),s(t,BA(a,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),s(t,BA(a,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return NA(this,t,e,i)}inXRange(t,e){return NA(this,t,null,e)}inYRange(t,e){return NA(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:n,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+n)/2:e,y:a?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},pNe=Object.freeze({__proto__:null,ArcElement:KA,BarElement:QA,LineElement:U_,PointElement:cNe}),JA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],E6=JA.map(r=>r.replace("rgb(","rgba(").replace(")",", 0.5)"));function c9(r){return JA[r%JA.length]}function d9(r){return E6[r%E6.length]}function gNe(r,t){return r.borderColor=c9(t),r.backgroundColor=d9(t),++t}function vNe(r,t){return r.backgroundColor=r.data.map(()=>c9(t++)),t}function yNe(r,t){return r.backgroundColor=r.data.map(()=>d9(t++)),t}function bNe(r){let t=0;return(e,i)=>{let n=r.getDatasetMeta(i).controller;n instanceof sR?t=vNe(e,t):n instanceof Z6?t=yNe(e,t):n&&(t=gNe(e,t))}}function S6(r){let t;for(t in r)if(r[t].borderColor||r[t].backgroundColor)return!0;return!1}function _Ne(r){return r&&(r.borderColor||r.backgroundColor)}function xNe(){return bi.borderColor!=="rgba(0,0,0,0.1)"||bi.backgroundColor!=="rgba(0,0,0,0.1)"}var wNe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(r,t,e){if(!e.enabled)return;let{data:{datasets:i},options:n}=r.config,{elements:a}=n,o=S6(i)||_Ne(n)||a&&S6(a)||xNe();if(!e.forceOverride&&o)return;let s=bNe(r);i.forEach(s)}};function CNe(r,t,e,i,n){let a=n.samples||i;if(a>=e)return r.slice(t,t+e);let o=[],s=(e-2)/(a-2),l=0,c=t+e-1,d=t,u,f,m,g,v;for(o[l++]=r[d],u=0;u<a-2;u++){let y=0,b=0,_,w=Math.floor((u+1)*s)+1+t,E=Math.min(Math.floor((u+2)*s)+1,e)+t,S=E-w;for(_=w;_<E;_++)y+=r[_].x,b+=r[_].y;y/=S,b/=S;let D=Math.floor(u*s)+1+t,T=Math.min(Math.floor((u+1)*s)+1,e)+t,{x:O,y:F}=r[d];for(m=g=-1,_=D;_<T;_++)g=.5*Math.abs((O-y)*(r[_].y-F)-(O-r[_].x)*(b-F)),g>m&&(m=g,f=r[_],v=_);o[l++]=f,d=v}return o[l++]=r[c],o}function ENe(r,t,e,i){let n=0,a=0,o,s,l,c,d,u,f,m,g,v,y=[],b=t+e-1,_=r[t].x,E=r[b].x-_;for(o=t;o<t+e;++o){s=r[o],l=(s.x-_)/E*i,c=s.y;let S=l|0;if(S===d)c<g?(g=c,u=o):c>v&&(v=c,f=o),n=(a*n+s.x)/++a;else{let D=o-1;if(!_r(u)&&!_r(f)){let T=Math.min(u,f),O=Math.max(u,f);T!==m&&T!==D&&y.push(Bt(Oe({},r[T]),{x:n})),O!==m&&O!==D&&y.push(Bt(Oe({},r[O]),{x:n}))}o>0&&D!==m&&y.push(r[D]),y.push(s),d=S,a=0,g=v=c,u=f=m=o}}return y}function u9(r){if(r._decimated){let t=r._data;delete r._decimated,delete r._data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function M6(r){r.data.datasets.forEach(t=>{u9(t)})}function SNe(r,t){let e=t.length,i=0,n,{iScale:a}=r,{min:o,max:s,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(i=dn(cs(t,a.axis,o).lo,0,e-1)),c?n=dn(cs(t,a.axis,s).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var MNe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(r,t,e)=>{if(!e.enabled){M6(r);return}let i=r.width;r.data.datasets.forEach((n,a)=>{let{_data:o,indexAxis:s}=n,l=r.getDatasetMeta(a),c=o||n.data;if(af([s,r.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=r.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||r.options.parsing)return;let{start:u,count:f}=SNe(l,c),m=e.threshold||4*i;if(f<=m){u9(n);return}_r(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let g;switch(e.algorithm){case"lttb":g=CNe(c,u,f,i,e);break;case"min-max":g=ENe(c,u,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=g})},destroy(r){M6(r)}};function DNe(r,t,e){let i=r.segments,n=r.points,a=t.points,o=[];for(let s of i){let{start:l,end:c}=s;c=lR(l,c,n);let d=eR(e,n[l],n[c],s.loop);if(!t.segments){o.push({source:s,target:d,start:n[l],end:n[c]});continue}let u=AA(t,d);for(let f of u){let m=eR(e,a[f.start],a[f.end],f.loop),g=TA(s,n,m);for(let v of g)o.push({source:v,target:f,start:{[e]:D6(d,m,"start",Math.max)},end:{[e]:D6(d,m,"end",Math.min)}})}}return o}function eR(r,t,e,i){if(i)return;let n=t[r],a=e[r];return r==="angle"&&(n=fa(n),a=fa(a)),{property:r,start:n,end:a}}function TNe(r,t){let{x:e=null,y:i=null}=r||{},n=t.points,a=[];return t.segments.forEach(({start:o,end:s})=>{s=lR(o,s,n);let l=n[o],c=n[s];i!==null?(a.push({x:l.x,y:i}),a.push({x:c.x,y:i})):e!==null&&(a.push({x:e,y:l.y}),a.push({x:e,y:c.y}))}),a}function lR(r,t,e){for(;t>r;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function D6(r,t,e,i){return r&&t?i(r[e],t[e]):r?r[e]:t?t[e]:0}function h9(r,t){let e=[],i=!1;return hi(r)?(i=!0,e=r):e=TNe(r,t),e.length?new U_({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function T6(r){return r&&r.fill!==!1}function ANe(r,t,e){let n=r[t].fill,a=[t],o;if(!e)return n;for(;n!==!1&&a.indexOf(n)===-1;){if(!Ti(n))return n;if(o=r[n],!o)return!1;if(o.visible)return n;a.push(n),n=o.fill}return!1}function RNe(r,t,e){let i=PNe(r);if(Cr(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return Ti(n)&&Math.floor(n)===n?INe(i[0],t,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function INe(r,t,e,i){return(r==="-"||r==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function ONe(r,t){let e=null;return r==="start"?e=t.bottom:r==="end"?e=t.top:Cr(r)?e=t.getPixelForValue(r.value):t.getBasePixel&&(e=t.getBasePixel()),e}function kNe(r,t,e){let i;return r==="start"?i=e:r==="end"?i=t.options.reverse?t.min:t.max:Cr(r)?i=r.value:i=t.getBaseValue(),i}function PNe(r){let t=r.options,e=t.fill,i=tr(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function LNe(r){let{scale:t,index:e,line:i}=r,n=[],a=i.segments,o=i.points,s=FNe(t,e);s.push(h9({x:null,y:t.bottom},i));for(let l=0;l<a.length;l++){let c=a[l];for(let d=c.start;d<=c.end;d++)NNe(n,o[d],s)}return new U_({points:n,options:{}})}function FNe(r,t){let e=[],i=r.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){let a=i[n];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function NNe(r,t,e){let i=[];for(let n=0;n<e.length;n++){let a=e[n],{first:o,last:s,point:l}=BNe(a,t,"x");if(!(!l||o&&s)){if(o)i.unshift(l);else if(r.push(l),!s)break}}r.push(...i)}function BNe(r,t,e){let i=r.interpolate(t,e);if(!i)return{};let n=i[e],a=r.segments,o=r.points,s=!1,l=!1;for(let c=0;c<a.length;c++){let d=a[c],u=o[d.start][e],f=o[d.end][e];if(hs(n,u,f)){s=n===u,l=n===f;break}}return{first:s,last:l,point:i}}var z_=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:n,y:a,radius:o}=this;return e=e||{start:0,end:mi},t.arc(n,a,o,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:n}=this,a=t.angle;return{x:e+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}};function VNe(r){let{chart:t,fill:e,line:i}=r;if(Ti(e))return zNe(t,e);if(e==="stack")return LNe(r);if(e==="shape")return!0;let n=qNe(r);return n instanceof z_?n:h9(n,i)}function zNe(r,t){let e=r.getDatasetMeta(t);return e&&r.isDatasetVisible(t)?e.dataset:null}function qNe(r){return(r.scale||{}).getPointPositionForValue?HNe(r):UNe(r)}function UNe(r){let{scale:t={},fill:e}=r,i=ONe(e,t);if(Ti(i)){let n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function HNe(r){let{scale:t,fill:e}=r,i=t.options,n=t.getLabels().length,a=i.reverse?t.max:t.min,o=kNe(e,t,a),s=[];if(i.grid.circular){let l=t.getPointPositionForValue(0,a);return new z_({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)s.push(t.getPointPositionForValue(l,o));return s}function VA(r,t,e){let i=VNe(t),{line:n,scale:a,axis:o}=t,s=n.options,l=s.fill,c=s.backgroundColor,{above:d=c,below:u=c}=l||{};i&&n.points.length&&(pg(r,e),GNe(r,{line:n,target:i,above:d,below:u,area:e,scale:a,axis:o}),gg(r))}function GNe(r,t){let{line:e,target:i,above:n,below:a,area:o,scale:s}=t,l=e._loop?"angle":t.axis;r.save(),l==="x"&&a!==n&&(A6(r,i,o.top),R6(r,{line:e,target:i,color:n,scale:s,property:l}),r.restore(),r.save(),A6(r,i,o.bottom)),R6(r,{line:e,target:i,color:a,scale:s,property:l}),r.restore()}function A6(r,t,e){let{segments:i,points:n}=t,a=!0,o=!1;r.beginPath();for(let s of i){let{start:l,end:c}=s,d=n[l],u=n[lR(l,c,n)];a?(r.moveTo(d.x,d.y),a=!1):(r.lineTo(d.x,e),r.lineTo(d.x,d.y)),o=!!t.pathSegment(r,s,{move:o}),o?r.closePath():r.lineTo(u.x,e)}r.lineTo(t.first().x,e),r.closePath(),r.clip()}function R6(r,t){let{line:e,target:i,property:n,color:a,scale:o}=t,s=DNe(e,i,n);for(let{source:l,target:c,start:d,end:u}of s){let{style:{backgroundColor:f=a}={}}=l,m=i!==!0;r.save(),r.fillStyle=f,WNe(r,o,m&&eR(n,d,u)),r.beginPath();let g=!!e.pathSegment(r,l),v;if(m){g?r.closePath():I6(r,i,u,n);let y=!!i.pathSegment(r,c,{move:g,reverse:!0});v=g&&y,v||I6(r,i,d,n)}r.closePath(),r.fill(v?"evenodd":"nonzero"),r.restore()}}function WNe(r,t,e){let{top:i,bottom:n}=t.chart.chartArea,{property:a,start:o,end:s}=e||{};a==="x"&&(r.beginPath(),r.rect(o,i,s-o,n-i),r.clip())}function I6(r,t,e,i){let n=t.interpolate(e,i);n&&r.lineTo(n.x,n.y)}var jNe={id:"filler",afterDatasetsUpdate(r,t,e){let i=(r.data.datasets||[]).length,n=[],a,o,s,l;for(o=0;o<i;++o)a=r.getDatasetMeta(o),s=a.dataset,l=null,s&&s.options&&s instanceof U_&&(l={visible:r.isDatasetVisible(o),index:o,fill:RNe(s,o,i),chart:r,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=ANe(n,o,e.propagate))},beforeDraw(r,t,e){let i=e.drawTime==="beforeDraw",n=r.getSortedVisibleDatasetMetas(),a=r.chartArea;for(let o=n.length-1;o>=0;--o){let s=n[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),i&&s.fill&&VA(r.ctx,s,a))}},beforeDatasetsDraw(r,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=r.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){let a=i[n].$filler;T6(a)&&VA(r.ctx,a,r.chartArea)}},beforeDatasetDraw(r,t,e){let i=t.meta.$filler;!T6(i)||e.drawTime!=="beforeDatasetDraw"||VA(r.ctx,i,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},O6=(r,t)=>{let{boxHeight:e=t,boxWidth:i=t}=r;return r.usePointStyle&&(e=Math.min(e,t),i=r.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},$Ne=(r,t)=>r!==null&&t!==null&&r.datasetIndex===t.datasetIndex&&r.index===t.index,q_=class extends No{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=ni(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,n=Qi(i.font),a=n.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=O6(i,a),c,d;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,a,s,l)+10):(d=this.maxHeight,c=this._fitCols(o,n,s,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){let{ctx:a,maxWidth:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=n+s,u=t;a.textAlign="left",a.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((g,v)=>{let y=i+e/2+a.measureText(g.text).width;(v===0||c[c.length-1]+y+2*s>o)&&(u+=d,c[c.length-(v>0?0:1)]=0,m+=d,f++),l[v]={left:0,top:m,row:f,width:y,height:n},c[c.length-1]+=y+s}),u}_fitCols(t,e,i,n){let{ctx:a,maxHeight:o,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t,u=s,f=0,m=0,g=0,v=0;return this.legendItems.forEach((y,b)=>{let{itemWidth:_,itemHeight:w}=YNe(i,e,a,y,n);b>0&&m+w+2*s>d&&(u+=f+s,c.push({width:f,height:m}),g+=f+s,v++,f=m=0),l[b]={left:g,top:m,col:v,width:_,height:w},f=Math.max(f,_),m+=w+s}),u+=f,c.push({width:f,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:a}}=this,o=zd(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=In(i,this.left+n,this.right-this.lineWidths[s]);for(let c of e)s!==c.row&&(s=c.row,l=In(i,this.left+n,this.right-this.lineWidths[s])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let s=0,l=In(i,this.top+t+n,this.bottom-this.columnSizes[s].height);for(let c of e)c.col!==s&&(s=c.col,l=In(i,this.top+t+n,this.bottom-this.columnSizes[s].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;pg(t,this),this._draw(),gg(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:a,labels:o}=t,s=bi.color,l=zd(t.rtl,this.left,this.width),c=Qi(o.font),{padding:d}=o,u=c.size,f=u/2,m;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;let{boxWidth:g,boxHeight:v,itemHeight:y}=O6(o,u),b=function(D,T,O){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;n.save();let F=tr(O.lineWidth,1);if(n.fillStyle=tr(O.fillStyle,s),n.lineCap=tr(O.lineCap,"butt"),n.lineDashOffset=tr(O.lineDashOffset,0),n.lineJoin=tr(O.lineJoin,"miter"),n.lineWidth=F,n.strokeStyle=tr(O.strokeStyle,s),n.setLineDash(tr(O.lineDash,[])),o.usePointStyle){let P={radius:v*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:F},L=l.xPlus(D,g/2),C=T+f;yA(n,P,L,C,o.pointStyleWidth&&g)}else{let P=T+Math.max((u-v)/2,0),L=l.leftForLtr(D,g),C=yc(O.borderRadius);n.beginPath(),Object.values(C).some(A=>A!==0)?nf(n,{x:L,y:P,w:g,h:v,radius:C}):n.rect(L,P,g,v),n.fill(),F!==0&&n.stroke()}n.restore()},_=function(D,T,O){vc(n,O.text,D,T+y/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},w=this.isHorizontal(),E=this._computeTitleHeight();w?m={x:In(a,this.left+d,this.right-i[0]),y:this.top+d+E,line:0}:m={x:this.left+d,y:In(a,this.top+E+d,this.bottom-e[0].height),line:0},MA(this.ctx,t.textDirection);let S=y+d;this.legendItems.forEach((D,T)=>{n.strokeStyle=D.fontColor,n.fillStyle=D.fontColor;let O=n.measureText(D.text).width,F=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),P=g+f+O,L=m.x,C=m.y;l.setWidth(this.width),w?T>0&&L+P+d>this.right&&(C=m.y+=S,m.line++,L=m.x=In(a,this.left+d,this.right-i[m.line])):T>0&&C+S>this.bottom&&(L=m.x=L+e[m.line].width+d,m.line++,C=m.y=In(a,this.top+E+d,this.bottom-e[m.line].height));let A=l.x(L);if(b(A,C,D),L=OX(F,L+g+f,w?L+P:this.right,t.rtl),_(l.x(L),C,D),w)m.x+=P+d;else if(typeof D.text!="string"){let R=c.lineHeight;m.y+=f9(D,R)+d}else m.y+=S}),DA(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=Qi(e.font),n=On(e.padding);if(!e.display)return;let a=zd(t.rtl,this.left,this.width),o=this.ctx,s=e.position,l=i.size/2,c=n.top+l,d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=In(t.align,u,this.right-f);else{let g=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);d=c+In(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}let m=In(s,u,u+f);o.textAlign=a.textAlign(b_(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,vc(o,e.text,m,d,i)}_computeTitleHeight(){let t=this.options.title,e=Qi(t.font),i=On(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,a;if(hs(t,this.left,this.right)&&hs(e,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(n=a[i],hs(t,n.left,n.left+n.width)&&hs(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!ZNe(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let n=this._hoveredItem,a=$Ne(n,i);n&&!a&&ni(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!a&&ni(e.onHover,[t,i,this],this)}else i&&ni(e.onClick,[t,i,this],this)}};function YNe(r,t,e,i,n){let a=XNe(i,r,t,e),o=KNe(n,i,t.lineHeight);return{itemWidth:a,itemHeight:o}}function XNe(r,t,e,i){let n=r.text;return n&&typeof n!="string"&&(n=n.reduce((a,o)=>a.length>o.length?a:o)),t+e.size/2+i.measureText(n).width}function KNe(r,t,e){let i=r;return typeof t.text!="string"&&(i=f9(t,e)),i}function f9(r,t){let e=r.text?r.text.length:0;return t*e}function ZNe(r,t){return!!((r==="mousemove"||r==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(r==="click"||r==="mouseup"))}var QNe={id:"legend",_element:q_,start(r,t,e){let i=r.legend=new q_({ctx:r.ctx,options:e,chart:r});Gn.configure(r,i,e),Gn.addBox(r,i)},stop(r){Gn.removeBox(r,r.legend),delete r.legend},beforeUpdate(r,t,e){let i=r.legend;Gn.configure(r,i,e),i.options=e},afterUpdate(r){let t=r.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(r,t){t.replay||r.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(r,t,e){let i=t.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:r=>r.chart.options.color,boxWidth:40,padding:10,generateLabels(r){let t=r.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:a,useBorderRadius:o,borderRadius:s}}=r.legend.options;return r._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=On(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(s||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:r=>r.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:r=>!r.startsWith("on"),labels:{_scriptable:r=>!["generateLabels","filter","sort"].includes(r)}}},Sg=class extends No{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let n=hi(i.text)?i.text.length:1;this._padding=On(i.padding);let a=n*Qi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:n,right:a,options:o}=this,s=o.align,l=0,c,d,u;return this.isHorizontal()?(d=In(s,i,a),u=e+t,c=a-i):(o.position==="left"?(d=i+t,u=In(s,n,e),l=fi*-.5):(d=a-t,u=In(s,e,n),l=fi*.5),c=n-e),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=Qi(e.font),a=i.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:l,rotation:c}=this._drawArgs(a);vc(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:b_(e.align),textBaseline:"middle",translation:[o,s]})}};function JNe(r,t){let e=new Sg({ctx:r.ctx,options:t,chart:r});Gn.configure(r,e,t),Gn.addBox(r,e),r.titleBlock=e}var e2e={id:"title",_element:Sg,start(r,t,e){JNe(r,e)},stop(r){let t=r.titleBlock;Gn.removeBox(r,t),delete r.titleBlock},beforeUpdate(r,t,e){let i=r.titleBlock;Gn.configure(r,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},I_=new WeakMap,t2e={id:"subtitle",start(r,t,e){let i=new Sg({ctx:r.ctx,options:e,chart:r});Gn.configure(r,i,e),Gn.addBox(r,i),I_.set(r,i)},stop(r){Gn.removeBox(r,I_.get(r)),I_.delete(r)},beforeUpdate(r,t,e){let i=I_.get(r);Gn.configure(r,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Cg={average(r){if(!r.length)return!1;let t,e,i=new Set,n=0,a=0;for(t=0,e=r.length;t<e;++t){let s=r[t].element;if(s&&s.hasValue()){let l=s.tooltipPosition();i.add(l.x),n+=l.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((s,l)=>s+l)/i.size,y:n/a}},nearest(r,t){if(!r.length)return!1;let e=t.x,i=t.y,n=Number.POSITIVE_INFINITY,a,o,s;for(a=0,o=r.length;a<o;++a){let l=r[a].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=m_(t,c);d<n&&(n=d,s=l)}}if(s){let l=s.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function fs(r,t){return t&&(hi(t)?Array.prototype.push.apply(r,t):r.push(t)),r}function rl(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function r2e(r,t){let{element:e,datasetIndex:i,index:n}=t,a=r.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(n);return{chart:r,label:o,parsed:a.getParsed(n),raw:r.data.datasets[i].data[n],formattedValue:s,dataset:a.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function k6(r,t){let e=r.chart.ctx,{body:i,footer:n,title:a}=r,{boxWidth:o,boxHeight:s}=t,l=Qi(t.bodyFont),c=Qi(t.titleFont),d=Qi(t.footerFont),u=a.length,f=n.length,m=i.length,g=On(t.padding),v=g.height,y=0,b=i.reduce((E,S)=>E+S.before.length+S.lines.length+S.after.length,0);if(b+=r.beforeBody.length+r.afterBody.length,u&&(v+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),b){let E=t.displayColors?Math.max(s,l.lineHeight):l.lineHeight;v+=m*E+(b-m)*l.lineHeight+(b-1)*t.bodySpacing}f&&(v+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let _=0,w=function(E){y=Math.max(y,e.measureText(E).width+_)};return e.save(),e.font=c.string,$r(r.title,w),e.font=l.string,$r(r.beforeBody.concat(r.afterBody),w),_=t.displayColors?o+2+t.boxPadding:0,$r(i,E=>{$r(E.before,w),$r(E.lines,w),$r(E.after,w)}),_=0,e.font=d.string,$r(r.footer,w),e.restore(),y+=g.width,{width:y,height:v}}function i2e(r,t){let{y:e,height:i}=t;return e<i/2?"top":e>r.height-i/2?"bottom":"center"}function n2e(r,t,e,i){let{x:n,width:a}=i,o=e.caretSize+e.caretPadding;if(r==="left"&&n+a+o>t.width||r==="right"&&n-a-o<0)return!0}function a2e(r,t,e,i){let{x:n,width:a}=e,{width:o,chartArea:{left:s,right:l}}=r,c="center";return i==="center"?c=n<=(s+l)/2?"left":"right":n<=a/2?c="left":n>=o-a/2&&(c="right"),n2e(c,r,t,e)&&(c="center"),c}function P6(r,t,e){let i=e.yAlign||t.yAlign||i2e(r,e);return{xAlign:e.xAlign||t.xAlign||a2e(r,t,e,i),yAlign:i}}function o2e(r,t){let{x:e,width:i}=r;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function s2e(r,t,e){let{y:i,height:n}=r;return t==="top"?i+=e:t==="bottom"?i-=n+e:i-=n/2,i}function L6(r,t,e,i){let{caretSize:n,caretPadding:a,cornerRadius:o}=r,{xAlign:s,yAlign:l}=e,c=n+a,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:m}=yc(o),g=o2e(t,s),v=s2e(t,l,c);return l==="center"?s==="left"?g+=c:s==="right"&&(g-=c):s==="left"?g-=Math.max(d,f)+n:s==="right"&&(g+=Math.max(u,m)+n),{x:dn(g,0,i.width-t.width),y:dn(v,0,i.height-t.height)}}function O_(r,t,e){let i=On(e.padding);return t==="center"?r.x+r.width/2:t==="right"?r.x+r.width-i.right:r.x+i.left}function F6(r){return fs([],rl(r))}function l2e(r,t,e){return el(r,{tooltip:t,tooltipItems:e,type:"tooltip"})}function N6(r,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?r.override(e):r}var m9={beforeTitle:us,title(r){if(r.length>0){let t=r[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let t=r.dataset.label||"";t&&(t+=": ");let e=r.formattedValue;return _r(e)||(t+=e),t},labelColor(r){let e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){let e=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function pa(r,t,e,i){let n=r[t].call(e,i);return typeof n>"u"?m9[t].call(e,i):n}var B6=(()=>{class r extends No{static positioners=Cg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&i.options.animation&&n.animations,o=new F_(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=l2e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:n}=i,a=pa(n,"beforeTitle",this,e),o=pa(n,"title",this,e),s=pa(n,"afterTitle",this,e),l=[];return l=fs(l,rl(a)),l=fs(l,rl(o)),l=fs(l,rl(s)),l}getBeforeBody(e,i){return F6(pa(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:n}=i,a=[];return $r(e,o=>{let s={before:[],lines:[],after:[]},l=N6(n,o);fs(s.before,rl(pa(l,"beforeLabel",this,o))),fs(s.lines,pa(l,"label",this,o)),fs(s.after,rl(pa(l,"afterLabel",this,o))),a.push(s)}),a}getAfterBody(e,i){return F6(pa(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:n}=i,a=pa(n,"beforeFooter",this,e),o=pa(n,"footer",this,e),s=pa(n,"afterFooter",this,e),l=[];return l=fs(l,rl(a)),l=fs(l,rl(o)),l=fs(l,rl(s)),l}_createItems(e){let i=this._active,n=this.chart.data,a=[],o=[],s=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(r2e(this.chart,i[c]));return e.filter&&(l=l.filter((u,f,m)=>e.filter(u,f,m,n))),e.itemSort&&(l=l.sort((u,f)=>e.itemSort(u,f,n))),$r(l,u=>{let f=N6(e.callbacks,u);a.push(pa(f,"labelColor",this,u)),o.push(pa(f,"labelPointStyle",this,u)),s.push(pa(f,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=l,l}update(e,i){let n=this.options.setContext(this.getContext()),a=this._active,o,s=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{let l=Cg[n.position].call(this,a,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);let c=this._size=k6(this,n),d=Object.assign({},l,c),u=P6(this.chart,n,d),f=L6(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,n,a){let o=this.getCaretPosition(e,n,a);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,n){let{xAlign:a,yAlign:o}=this,{caretSize:s,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=yc(l),{x:m,y:g}=e,{width:v,height:y}=i,b,_,w,E,S,D;return o==="center"?(S=g+y/2,a==="left"?(b=m,_=b-s,E=S+s,D=S-s):(b=m+v,_=b+s,E=S-s,D=S+s),w=b):(a==="left"?_=m+Math.max(c,u)+s:a==="right"?_=m+v-Math.max(d,f)-s:_=this.caretX,o==="top"?(E=g,S=E-s,b=_-s,w=_+s):(E=g+y,S=E+s,b=_+s,w=_-s),D=E),{x1:b,x2:_,x3:w,y1:E,y2:S,y3:D}}drawTitle(e,i,n){let a=this.title,o=a.length,s,l,c;if(o){let d=zd(n.rtl,this.x,this.width);for(e.x=O_(this,n.titleAlign,n),i.textAlign=d.textAlign(n.titleAlign),i.textBaseline="middle",s=Qi(n.titleFont),l=n.titleSpacing,i.fillStyle=n.titleColor,i.font=s.string,c=0;c<o;++c)i.fillText(a[c],d.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+l,c+1===o&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,i,n,a,o){let s=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=o,u=Qi(o.bodyFont),f=O_(this,"left",o),m=a.x(f),g=c<u.lineHeight?(u.lineHeight-c)/2:0,v=i.y+g;if(o.usePointStyle){let y={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=a.leftForLtr(m,d)+d/2,_=v+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,x_(e,y,b,_),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,x_(e,y,b,_)}else{e.lineWidth=Cr(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;let y=a.leftForLtr(m,d),b=a.leftForLtr(a.xPlus(m,1),d-2),_=yc(s.borderRadius);Object.values(_).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,nf(e,{x:y,y:v,w:d,h:c,radius:_}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),nf(e,{x:b,y:v+1,w:d-2,h:c-2,radius:_}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(y,v,d,c),e.strokeRect(y,v,d,c),e.fillStyle=s.backgroundColor,e.fillRect(b,v+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,i,n){let{body:a}=this,{bodySpacing:o,bodyAlign:s,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,f=Qi(n.bodyFont),m=f.lineHeight,g=0,v=zd(n.rtl,this.x,this.width),y=function(F){i.fillText(F,v.x(e.x+g),e.y+m/2),e.y+=m+o},b=v.textAlign(s),_,w,E,S,D,T,O;for(i.textAlign=s,i.textBaseline="middle",i.font=f.string,e.x=O_(this,b,n),i.fillStyle=n.bodyColor,$r(this.beforeBody,y),g=l&&b!=="right"?s==="center"?d/2+u:d+2+u:0,S=0,T=a.length;S<T;++S){for(_=a[S],w=this.labelTextColors[S],i.fillStyle=w,$r(_.before,y),E=_.lines,l&&E.length&&(this._drawColorBox(i,e,S,v,n),m=Math.max(f.lineHeight,c)),D=0,O=E.length;D<O;++D)y(E[D]),m=f.lineHeight;$r(_.after,y)}g=0,m=f.lineHeight,$r(this.afterBody,y),e.y-=o}drawFooter(e,i,n){let a=this.footer,o=a.length,s,l;if(o){let c=zd(n.rtl,this.x,this.width);for(e.x=O_(this,n.footerAlign,n),e.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",s=Qi(n.footerFont),i.fillStyle=n.footerColor,i.font=s.string,l=0;l<o;++l)i.fillText(a[l],c.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,i,n,a){let{xAlign:o,yAlign:s}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:f,topRight:m,bottomLeft:g,bottomRight:v}=yc(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(l+f,c),s==="top"&&this.drawCaret(e,i,n,a),i.lineTo(l+d-m,c),i.quadraticCurveTo(l+d,c,l+d,c+m),s==="center"&&o==="right"&&this.drawCaret(e,i,n,a),i.lineTo(l+d,c+u-v),i.quadraticCurveTo(l+d,c+u,l+d-v,c+u),s==="bottom"&&this.drawCaret(e,i,n,a),i.lineTo(l+g,c+u),i.quadraticCurveTo(l,c+u,l,c+u-g),s==="center"&&o==="left"&&this.drawCaret(e,i,n,a),i.lineTo(l,c+f),i.quadraticCurveTo(l,c,l+f,c),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,n=this.$animations,a=n&&n.x,o=n&&n.y;if(a||o){let s=Cg[e.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=k6(this,e),c=Object.assign({},s,this._size),d=P6(i,e,c),u=L6(e,c,d,i);(a._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let s=On(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,a,i),MA(e,i.textDirection),o.y+=s.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),DA(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let n=this._active,a=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!fg(n,a),s=this._positionChanged(a,i);(o||s)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,o=this._active||[],s=this._getActiveElements(e,o,i,n),l=this._positionChanged(s,e),c=i||!fg(s,o)||l;return c&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,n,a){let o=this.options;if(e.type==="mouseout")return[];if(!a)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let s=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&s.reverse(),s}_positionChanged(e,i){let{caretX:n,caretY:a,options:o}=this,s=Cg[o.position].call(this,e,i);return s!==!1&&(n!==s.x||a!==s.y)}}return r})(),c2e={id:"tooltip",_element:B6,positioners:Cg,afterInit(r,t,e){e&&(r.tooltip=new B6({chart:r,options:e}))},beforeUpdate(r,t,e){r.tooltip&&r.tooltip.initialize(e)},reset(r,t,e){r.tooltip&&r.tooltip.initialize(e)},afterDraw(r){let t=r.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(r.notifyPlugins("beforeTooltipDraw",Bt(Oe({},e),{cancelable:!0}))===!1)return;t.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",e)}},afterEvent(r,t){if(r.tooltip){let e=t.replay;r.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,t)=>t.bodyFont.size,boxWidth:(r,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m9},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},d2e=Object.freeze({__proto__:null,Colors:wNe,Decimation:MNe,Filler:jNe,Legend:QNe,SubTitle:t2e,Title:e2e,Tooltip:c2e}),u2e=(r,t,e,i)=>(typeof t=="string"?(e=r.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function h2e(r,t,e,i){let n=r.indexOf(t);if(n===-1)return u2e(r,t,e,i);let a=r.lastIndexOf(t);return n!==a?e:n}var f2e=(r,t)=>r===null?null:dn(Math.round(r),0,t);function V6(r){let t=this.getLabels();return r>=0&&r<t.length?t[r]:r}var m2e=(()=>{class r extends Hd{static id="category";static defaults={ticks:{callback:V6}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:a,label:o}of i)n[a]===o&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(_r(e))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===e?i:h2e(n,e,tr(i,e),this._addedLabels),f2e(i,n.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),i||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){let e=this.min,i=this.max,n=this.options.offset,a=[],o=this.getLabels();o=e===0&&i===o.length-1?o:o.slice(e,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=i;s++)a.push({value:s});return a}getLabelForValue(e){return V6.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return r})();function p2e(r,t){let e=[],{bounds:n,step:a,min:o,max:s,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:f}=r,m=a||1,g=d-1,{min:v,max:y}=t,b=!_r(o),_=!_r(s),w=!_r(c),E=(y-v)/(u+1),S=aA((y-v)/g/m)*m,D,T,O,F;if(S<1e-14&&!b&&!_)return[{value:v},{value:y}];F=Math.ceil(y/S)-Math.floor(v/S),F>g&&(S=aA(F*S/g/m)*m),_r(l)||(D=Math.pow(10,l),S=Math.ceil(S*D)/D),n==="ticks"?(T=Math.floor(v/S)*S,O=Math.ceil(y/S)*S):(T=v,O=y),b&&_&&a&&SX((s-o)/a,S/1e3)?(F=Math.round(Math.min((s-o)/S,d)),S=(s-o)/F,T=o,O=s):w?(T=b?o:T,O=_?s:O,F=c-1,S=(O-T)/F):(F=(O-T)/S,ef(F,Math.round(F),S/1e3)?F=Math.round(F):F=Math.ceil(F));let P=Math.max(sA(S),sA(T));D=Math.pow(10,_r(l)?P:l),T=Math.round(T*D)/D,O=Math.round(O*D)/D;let L=0;for(b&&(f&&T!==o?(e.push({value:o}),T<o&&L++,ef(Math.round((T+L*S)*D)/D,o,z6(o,E,r))&&L++):T<o&&L++);L<F;++L){let C=Math.round((T+L*S)*D)/D;if(_&&C>s)break;e.push({value:C})}return _&&f&&O!==s?e.length&&ef(e[e.length-1].value,s,z6(s,E,r))?e[e.length-1].value=s:e.push({value:s}):(!_||O===s)&&e.push({value:O}),e}function z6(r,t,{horizontal:e,minRotation:i}){let n=po(i),a=(e?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+r).length;return Math.min(t/a,o)}var lf=class extends Hd{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return _r(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:n,max:a}=this,o=l=>n=e?n:l,s=l=>a=i?a:l;if(t){let l=Fo(n),c=Fo(a);l<0&&c<0?s(0):l>0&&c>0&&o(0)}if(n===a){let l=a===0?1:Math.abs(a*.05);s(a+l),t||o(n-l)}this.min=n,this.max=a}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,o=p2e(n,a);return t.bounds==="ticks"&&oA(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rf(t,this.chart.options.locale,this.options.ticks.format)}},tR=class extends lf{static id="linear";static defaults={ticks:{callback:mg.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ti(t)?t:0,this.max=Ti(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=po(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Mg=r=>Math.floor(Qs(r)),Ud=(r,t)=>Math.pow(10,Mg(r)+t);function q6(r){return r/Math.pow(10,Mg(r))===1}function U6(r,t,e){let i=Math.pow(10,e),n=Math.floor(r/i);return Math.ceil(t/i)-n}function g2e(r,t){let e=t-r,i=Mg(e);for(;U6(r,t,i)>10;)i++;for(;U6(r,t,i)<10;)i--;return Math.min(i,Mg(r))}function v2e(r,{min:t,max:e}){t=ma(r.min,t);let i=[],n=Mg(t),a=g2e(t,e),o=a<0?Math.pow(10,Math.abs(a)):1,s=Math.pow(10,a),l=n>a?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,d=Math.floor((t-l)/s/10)*s*10,u=Math.floor((c-d)/Math.pow(10,a)),f=ma(r.min,Math.round((l+d+u*Math.pow(10,a))*o)/o);for(;f<e;)i.push({value:f,major:q6(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(a++,u=2,o=a>=0?1:o),f=Math.round((l+d+u*Math.pow(10,a))*o)/o;let m=ma(r.max,f);return i.push({value:m,major:q6(m),significand:u}),i}var rR=class extends Hd{static id="logarithmic";static defaults={ticks:{callback:mg.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=lf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ti(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Ti(t)?Math.max(0,t):null,this.max=Ti(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ti(this._userMin)&&(this.min=t===Ud(this.min,0)?Ud(this.min,-1):Ud(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,n=this.max,a=s=>i=t?i:s,o=s=>n=e?n:s;i===n&&(i<=0?(a(1),o(10)):(a(Ud(i,-1)),o(Ud(n,1)))),i<=0&&a(Ud(n,-1)),n<=0&&o(Ud(i,1)),this.min=i,this.max=n}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=v2e(e,this);return t.bounds==="ticks"&&oA(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":rf(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Qs(t),this._valueRange=Qs(this.max)-Qs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Qs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function iR(r){let t=r.ticks;if(t.display&&r.display){let e=On(t.backdropPadding);return tr(t.font&&t.font.size,bi.font.size)+e.height}return 0}function y2e(r,t,e){return e=hi(e)?e:[e],{w:PX(r,t.string,e),h:e.length*t.lineHeight}}function H6(r,t,e,i,n){return r===i||r===n?{start:t-e/2,end:t+e/2}:r<i||r>n?{start:t-e,end:t}:{start:t,end:t+e}}function b2e(r){let t={l:r.left+r._padding.left,r:r.right-r._padding.right,t:r.top+r._padding.top,b:r.bottom-r._padding.bottom},e=Object.assign({},t),i=[],n=[],a=r._pointLabels.length,o=r.options.pointLabels,s=o.centerPointLabels?fi/a:0;for(let l=0;l<a;l++){let c=o.setContext(r.getPointLabelContext(l));n[l]=c.padding;let d=r.getPointPosition(l,r.drawingArea+n[l],s),u=Qi(c.font),f=y2e(r.ctx,u,r._pointLabels[l]);i[l]=f;let m=fa(r.getIndexAngle(l)+s),g=Math.round(v_(m)),v=H6(g,d.x,f.w,0,180),y=H6(g,d.y,f.h,90,270);_2e(e,t,m,v,y)}r.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),r._pointLabelItems=C2e(r,i,n)}function _2e(r,t,e,i,n){let a=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e)),s=0,l=0;i.start<t.l?(s=(t.l-i.start)/a,r.l=Math.min(r.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,r.r=Math.max(r.r,t.r+s)),n.start<t.t?(l=(t.t-n.start)/o,r.t=Math.min(r.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,r.b=Math.max(r.b,t.b+l))}function x2e(r,t,e){let i=r.drawingArea,{extra:n,additionalAngle:a,padding:o,size:s}=e,l=r.getPointPosition(t,i+n+o,a),c=Math.round(v_(fa(l.angle+Ni))),d=M2e(l.y,s.h,c),u=E2e(c),f=S2e(l.x,s.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:f,top:d,right:f+s.w,bottom:d+s.h}}function w2e(r,t){if(!t)return!0;let{left:e,top:i,right:n,bottom:a}=r;return!(ds({x:e,y:i},t)||ds({x:e,y:a},t)||ds({x:n,y:i},t)||ds({x:n,y:a},t))}function C2e(r,t,e){let i=[],n=r._pointLabels.length,a=r.options,{centerPointLabels:o,display:s}=a.pointLabels,l={extra:iR(a)/2,additionalAngle:o?fi/n:0},c;for(let d=0;d<n;d++){l.padding=e[d],l.size=t[d];let u=x2e(r,d,l);i.push(u),s==="auto"&&(u.visible=w2e(u,c),u.visible&&(c=u))}return i}function E2e(r){return r===0||r===180?"center":r<180?"left":"right"}function S2e(r,t,e){return e==="right"?r-=t:e==="center"&&(r-=t/2),r}function M2e(r,t,e){return e===90||e===270?r-=t/2:(e>270||e<90)&&(r-=t),r}function D2e(r,t,e){let{left:i,top:n,right:a,bottom:o}=e,{backdropColor:s}=t;if(!_r(s)){let l=yc(t.borderRadius),c=On(t.backdropPadding);r.fillStyle=s;let d=i-c.left,u=n-c.top,f=a-i+c.width,m=o-n+c.height;Object.values(l).some(g=>g!==0)?(r.beginPath(),nf(r,{x:d,y:u,w:f,h:m,radius:l}),r.fill()):r.fillRect(d,u,f,m)}}function T2e(r,t){let{ctx:e,options:{pointLabels:i}}=r;for(let n=t-1;n>=0;n--){let a=r._pointLabelItems[n];if(!a.visible)continue;let o=i.setContext(r.getPointLabelContext(n));D2e(e,o,a);let s=Qi(o.font),{x:l,y:c,textAlign:d}=a;vc(e,r._pointLabels[n],l,c+s.lineHeight/2,s,{color:o.color,textAlign:d,textBaseline:"middle"})}}function p9(r,t,e,i){let{ctx:n}=r;if(e)n.arc(r.xCenter,r.yCenter,t,0,mi);else{let a=r.getPointPosition(0,t);n.moveTo(a.x,a.y);for(let o=1;o<i;o++)a=r.getPointPosition(o,t),n.lineTo(a.x,a.y)}}function A2e(r,t,e,i,n){let a=r.ctx,o=t.circular,{color:s,lineWidth:l}=t;!o&&!i||!s||!l||e<0||(a.save(),a.strokeStyle=s,a.lineWidth=l,a.setLineDash(n.dash||[]),a.lineDashOffset=n.dashOffset,a.beginPath(),p9(r,e,o,i),a.closePath(),a.stroke(),a.restore())}function R2e(r,t,e){return el(r,{label:e,index:t,type:"pointLabel"})}var nR=class extends lf{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=On(iR(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Ti(t)&&!isNaN(t)?t:0,this.max=Ti(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/iR(this.options))}generateTickLabels(t){lf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let n=ni(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?b2e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){let e=mi/(this._pointLabels.length||1),i=this.options.startAngle||0;return fa(t*e+po(i))}getDistanceFromCenterForValue(t){if(_r(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(_r(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return R2e(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let n=this.getIndexAngle(t)-Ni+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:n,bottom:a}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:a}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),p9(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:n,border:a}=e,o=this._pointLabels.length,s,l,c;if(e.pointLabels.display&&T2e(this,o),n.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let f=this.getContext(u),m=n.setContext(f),g=a.setContext(f);A2e(this,m,l,o,g)}}),i.display){for(t.save(),s=o-1;s>=0;s--){let d=i.setContext(this.getPointLabelContext(s)),{color:u,lineWidth:f}=d;!f||!u||(t.lineWidth=f,t.strokeStyle=u,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(s,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let n=this.getIndexAngle(0),a,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=i.setContext(this.getContext(l)),d=Qi(c.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(s.label).width,t.fillStyle=c.backdropColor;let u=On(c.backdropPadding);t.fillRect(-o/2-u.left,-a-d.size/2-u.top,o+u.width,d.size+u.height)}vc(t,s.label,0,-a,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}},H_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ga=Object.keys(H_);function G6(r,t){return r-t}function W6(r,t){if(_r(t))return null;let e=r._adapter,{parser:i,round:n,isoWeekday:a}=r._parseOpts,o=t;return typeof i=="function"&&(o=i(o)),Ti(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(n&&(o=n==="week"&&(Vd(a)||a===!0)?e.startOf(o,"isoWeek",a):e.startOf(o,n)),+o)}function j6(r,t,e,i){let n=ga.length;for(let a=ga.indexOf(r);a<n-1;++a){let o=H_[ga[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(s*o.size))<=i)return ga[a]}return ga[n-1]}function I2e(r,t,e,i,n){for(let a=ga.length-1;a>=ga.indexOf(e);a--){let o=ga[a];if(H_[o].common&&r._adapter.diff(n,i,o)>=t-1)return o}return ga[e?ga.indexOf(e):0]}function O2e(r){for(let t=ga.indexOf(r)+1,e=ga.length;t<e;++t)if(H_[ga[t]].common)return ga[t]}function $6(r,t,e){if(!e)r[t]=!0;else if(e.length){let{lo:i,hi:n}=y_(e,t),a=e[i]>=t?e[i]:e[n];r[a]=!0}}function k2e(r,t,e,i){let n=r._adapter,a=+n.startOf(t[0].value,i),o=t[t.length-1].value,s,l;for(s=a;s<=o;s=+n.add(s,1,i))l=e[s],l>=0&&(t[l].major=!0);return t}function Y6(r,t,e){let i=[],n={},a=t.length,o,s;for(o=0;o<a;++o)s=t[o],n[s]=o,i.push({value:s,major:!1});return a===0||!e?i:k2e(r,i,n,e)}var aR=(()=>{class r extends Hd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let n=e.time||(e.time={}),a=this._adapter=new GLe._date(e.adapters.date);a.init(i),Qh(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:W6(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,n=e.time.unit||"day",{min:a,max:o,minDefined:s,maxDefined:l}=this.getUserBounds();function c(d){!s&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!s||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Ti(a)&&!isNaN(a)?a:+i.startOf(Date.now(),n),o=Ti(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],n=e[e.length-1]),{min:i,max:n}}buildTicks(){let e=this.options,i=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let o=this.min,s=this.max,l=TX(a,o,s);return this._unit=i.unit||(n.autoSkip?j6(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):I2e(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:O2e(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),Y6(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,n=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?i=1-a:i=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);let s=e.length<3?.5:.25;i=dn(i,0,s),n=dn(n,0,s),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let e=this._adapter,i=this.min,n=this.max,a=this.options,o=a.time,s=o.unit||j6(o.minUnit,i,n,this._getLabelCapacity(i)),l=tr(a.ticks.stepSize,1),c=s==="week"?o.isoWeekday:!1,d=Vd(c)||c===!0,u={},f=i,m,g;if(d&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,d?"day":s),e.diff(n,i,s)>1e5*l)throw new Error(i+" and "+n+" are too far apart with stepSize of "+l+" "+s);let v=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,g=0;m<n;m=+e.add(m,l,s),g++)$6(u,m,v);return(m===n||a.bounds==="ticks"||g===1)&&$6(u,m,v),Object.keys(u).sort(G6).map(y=>+y)}getLabelForValue(e){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(e,n.tooltipFormat):i.format(e,n.displayFormats.datetime)}format(e,i){let a=this.options.time.displayFormats,o=this._unit,s=i||a[o];return this._adapter.format(e,s)}_tickFormatFunction(e,i,n,a){let o=this.options,s=o.ticks.callback;if(s)return ni(s,[e,i,n],this);let l=o.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],f=d&&l[d],m=n[i],g=d&&f&&m&&m.major;return this._adapter.format(e,a||(g?f:u))}generateTickLabels(e){let i,n,a;for(i=0,n=e.length;i<n;++i)a=e[i],a.label=this._tickFormatFunction(a.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(e){let i=this._offsets,n=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,n=this.ctx.measureText(e).width,a=po(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(a),s=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*o+l*s,h:n*s+l*o}}_getLabelCapacity(e){let i=this.options.time,n=i.displayFormats,a=n[i.unit]||n.millisecond,o=this._tickFormatFunction(e,0,Y6(this,[e],this._majorUnit),a),s=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],i,n;if(e.length)return e;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,n=a.length;i<n;++i)e=e.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,n;if(e.length)return e;let a=this.getLabels();for(i=0,n=a.length;i<n;++i)e.push(W6(this,a[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dA(e.sort(G6))}}return r})();function k_(r,t,e){let i=0,n=r.length-1,a,o,s,l;e?(t>=r[i].pos&&t<=r[n].pos&&({lo:i,hi:n}=cs(r,"pos",t)),{pos:a,time:s}=r[i],{pos:o,time:l}=r[n]):(t>=r[i].time&&t<=r[n].time&&({lo:i,hi:n}=cs(r,"time",t)),{time:a,pos:s}=r[i],{time:o,pos:l}=r[n]);let c=o-a;return c?s+(l-s)*(t-a)/c:s}var oR=class extends aR{static id="timeseries";static defaults=aR.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=k_(e,this.min),this._tableRange=k_(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,n=[],a=[],o,s,l,c,d;for(o=0,s=t.length;o<s;++o)c=t[o],c>=e&&c<=i&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)d=n[o+1],l=n[o-1],c=n[o],Math.round((d+l)/2)!==c&&a.push({time:c,pos:o/(s-1)});return a}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,a)=>n-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(k_(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return k_(this._table,i*this._tableRange+this._minPos,!0)}},P2e=Object.freeze({__proto__:null,CategoryScale:m2e,LinearScale:tR,LogarithmicScale:rR,RadialLinearScale:nR,TimeScale:aR,TimeSeriesScale:oR}),g9=[HLe,pNe,d2e,P2e];Bo.register(...g9);var v9=la(Bs());var G_=class r{subscription=new rt;defaultBuckets=10;buckets=new St(this.defaultBuckets,[Ne.min(1)]);configuredAlgorithm=Nn(void 0);ngOnInit(){this.subscription.add(this.buckets.valueChanges.pipe(dr(this.defaultBuckets),At(t=>t!==null&&this.buckets.valid),Et(t=>{t!==null&&this.configuredAlgorithm.set(Zi.Uniform(t))})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-uniform-sample-config"]],inputs:{configuredAlgorithm:[1,"configuredAlgorithm"]},outputs:{configuredAlgorithm:"configuredAlgorithmChange"},standalone:!1,decls:5,vars:1,consts:[[3,"keydown.enter","submit"],["appearance","outline"],["matInput","","type","number",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"mat-form-field",1)(2,"mat-label"),He(3,"Buckets"),ue(),Pe(4,"input",2),ue()()),e&2&&(ge(4),Re("formControl",i.buckets))},dependencies:[Ci,li,Gr,Oi,En,ki,Hr,tn,Xi],encapsulation:2})};var W_=class r{subscription=new rt;defaultProbability=.5;probability=new St(this.defaultProbability,[Ne.required,Ne.min(0),Ne.max(1)]);configuredAlgorithm=Nn(void 0);ngOnInit(){this.subscription.add(this.probability.valueChanges.pipe(dr(this.defaultProbability),At(t=>t!==null&&this.probability.valid),Et(t=>{t!==null&&this.configuredAlgorithm.set(Zi.Bernoulli(t))})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-bernoulli-sample-config"]],inputs:{configuredAlgorithm:[1,"configuredAlgorithm"]},outputs:{configuredAlgorithm:"configuredAlgorithmChange"},standalone:!1,decls:5,vars:1,consts:[[3,"keydown.enter","submit"],["appearance","outline"],["matInput","","type","number","min","0","max","1",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"mat-form-field",1)(2,"mat-label"),He(3,"Probability"),ue(),Pe(4,"input",2),ue()()),e&2&&(ge(4),Re("formControl",i.probability))},dependencies:[Ci,li,Gr,Oi,En,ki,Hr,fm,aE,tn,Xi],encapsulation:2})};var j_=class r{constructor(t){this.formBuilder=t;this.configForm=t.group({average:[this.config.average,[Ne.required,Ne.min(1)]],stdDeviation:[this.config.stdDeviation,[Ne.required,Ne.min(0)]]})}subscription=new rt;configForm;config={average:50,stdDeviation:20};configuredAlgorithm=Nn(void 0);ngOnInit(){this.subscription.add(this.configForm.valueChanges.pipe(dr(this.config),At(t=>t!==null&&this.configForm.valid),Et(t=>{t!==null&&this.configuredAlgorithm.set(Zi.Normal(t.average,t.stdDeviation))})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)(Jt(dy))};static \u0275cmp=De({type:r,selectors:[["app-normal-sample-config"]],inputs:{configuredAlgorithm:[1,"configuredAlgorithm"]},outputs:{configuredAlgorithm:"configuredAlgorithmChange"},standalone:!1,decls:9,vars:1,consts:[[3,"keydown.enter","submit","formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","average"],["matInput","","type","number","formControlName","stdDeviation"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"mat-form-field",1)(2,"mat-label"),He(3,"Average"),ue(),Pe(4,"input",2),ue(),ae(5,"mat-form-field",1)(6,"mat-label"),He(7,"Standard Deviation"),ue(),Pe(8,"input",3),ue()()),e&2&&Re("formGroup",i.configForm)},dependencies:[Ci,li,Gr,Oi,En,ki,Hr,Ia,hm,Xi],encapsulation:2})};var $_=class r{subscription=new rt;defaultLambda=.1;lambda=new St(this.defaultLambda,[Ne.required,Ne.min(0)]);configuredAlgorithm=Nn(void 0);ngOnInit(){this.subscription.add(this.lambda.valueChanges.pipe(dr(this.defaultLambda),At(t=>t!==null&&this.lambda.valid),Et(t=>{t!==null&&this.configuredAlgorithm.set(Zi.Exponential(t))})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-exponential-sample-config"]],inputs:{configuredAlgorithm:[1,"configuredAlgorithm"]},outputs:{configuredAlgorithm:"configuredAlgorithmChange"},standalone:!1,decls:5,vars:1,consts:[[3,"keydown.enter","submit"],["appearance","outline"],["matInput","","type","number",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"mat-form-field",1)(2,"mat-label"),He(3,"Lambda"),ue(),Pe(4,"input",2),ue()()),e&2&&(ge(4),Re("formControl",i.lambda))},dependencies:[Ci,li,Gr,Oi,En,ki,Hr,tn,Xi],encapsulation:2})};var Y_=class r{subscription=new rt;defaultLambda=5;lambda=new St(this.defaultLambda,[Ne.required,Ne.min(0)]);configuredAlgorithm=Nn(void 0);ngOnInit(){this.subscription.add(this.lambda.valueChanges.pipe(dr(this.defaultLambda),At(t=>t!==null&&this.lambda.valid),Et(t=>{t!==null&&this.configuredAlgorithm.set(Zi.Poisson(t))})).subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-poisson-sample-config"]],inputs:{configuredAlgorithm:[1,"configuredAlgorithm"]},outputs:{configuredAlgorithm:"configuredAlgorithmChange"},standalone:!1,decls:5,vars:1,consts:[[3,"keydown.enter","submit"],["appearance","outline"],["matInput","","type","number","min","0",3,"formControl"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"mat-form-field",1)(2,"mat-label"),He(3,"Lambda"),ue(),Pe(4,"input",2),ue()()),e&2&&(ge(4),Re("formControl",i.lambda))},dependencies:[Ci,li,Gr,Oi,En,ki,Hr,fm,tn,Xi],encapsulation:2})};var z2e=["randomSampleCanvas"];function q2e(r,t){if(r&1&&(ae(0,"mat-option",3),He(1),ue()),r&2){let e=t.$implicit;Re("value",e),ge(),Rr(e)}}function U2e(r,t){if(r&1){let e=Br();ae(0,"app-uniform-sample-config",8),to("configuredAlgorithmChange",function(n){Gt(e);let a=nt();return eo(a.configuredAlgorithm,n)||(a.configuredAlgorithm=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("configuredAlgorithm",e.configuredAlgorithm)}}function H2e(r,t){if(r&1){let e=Br();ae(0,"app-bernoulli-sample-config",8),to("configuredAlgorithmChange",function(n){Gt(e);let a=nt();return eo(a.configuredAlgorithm,n)||(a.configuredAlgorithm=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("configuredAlgorithm",e.configuredAlgorithm)}}function G2e(r,t){if(r&1){let e=Br();ae(0,"app-normal-sample-config",8),to("configuredAlgorithmChange",function(n){Gt(e);let a=nt();return eo(a.configuredAlgorithm,n)||(a.configuredAlgorithm=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("configuredAlgorithm",e.configuredAlgorithm)}}function W2e(r,t){if(r&1){let e=Br();ae(0,"app-exponential-sample-config",8),to("configuredAlgorithmChange",function(n){Gt(e);let a=nt();return eo(a.configuredAlgorithm,n)||(a.configuredAlgorithm=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("configuredAlgorithm",e.configuredAlgorithm)}}function j2e(r,t){if(r&1){let e=Br();ae(0,"app-poisson-sample-config",8),to("configuredAlgorithmChange",function(n){Gt(e);let a=nt();return eo(a.configuredAlgorithm,n)||(a.configuredAlgorithm=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("configuredAlgorithm",e.configuredAlgorithm)}}function $2e(r,t){}var X_=class r{subscription=new rt;chart;chartCanvas=Fn.required("randomSampleCanvas");totalSamples=new St(1e6,[Ne.required,Ne.min(1),Ne.max(1e6)]);algorithmNames=yr(Object.keys(Zi));selectedAlgorithm=yr("");configuredAlgorithm=yr(void 0);samplesObservable=new ir([]);ngOnInit(){this.subscription.add(this.observeSamples())}ngOnDestroy(){this.subscription.unsubscribe()}generate(){let t=this.configuredAlgorithm();if(t===void 0||this.totalSamples.invalid||this.totalSamples.value===null)return;let e=[];for(;e.length<this.totalSamples.value;)e.push(t());this.samplesObservable.next(e)}updateChart(t,e){for(let n of e)t[n]=t[n]?t[n]+1:1;let i=[...Array(t.length).keys()];this.chart.data.labels=i,this.chart.data.datasets[0].data=i.map(n=>t[n]??0),this.chart.update()}observeSamples(){return this.samplesObservable.pipe(nr(t=>(this.resetChart(),Ze((0,v9.chunk)(t,Math.ceil(t.length/100))))),nr(t=>{let e=[];return ri(t).pipe(zi(i=>Ze(i).pipe(Xa(10),Et(()=>{this.updateChart(e,i)}))))})).subscribe()}resetChart(){this.chart!==void 0&&this.chart.destroy(),this.chart=new Bo(this.chartCanvas().nativeElement,{type:"bar",data:{labels:[],datasets:[{data:[]}]},options:{indexAxis:this.selectedAlgorithm()==="Bernoulli"?"y":"x",responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1}}}}),this.chart.render()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-random-sample"]],viewQuery:function(e,i){e&1&&Bn(i.chartCanvas,z2e,5),e&2&&mn()},standalone:!1,decls:27,vars:5,consts:[["randomSampleCanvas",""],["appearance","outline"],[3,"valueChange","required","value"],[3,"value"],[3,"configuredAlgorithm"],["matInput","","type","number",3,"formControl"],["mat-raised-button","",3,"click","disabled"],[1,"chart-container"],[3,"configuredAlgorithmChange","configuredAlgorithm"]],template:function(e,i){if(e&1){let n=Br();ae(0,"table")(1,"tr")(2,"td")(3,"mat-form-field",1)(4,"mat-label"),He(5,"Distribution"),ue(),ae(6,"mat-select",2),to("valueChange",function(o){return Gt(n),eo(i.selectedAlgorithm,o)||(i.selectedAlgorithm=o),Wt(o)}),fr(7,q2e,2,2,"mat-option",3,mu),ue()()(),Nt(9,U2e,1,1,"app-uniform-sample-config",4)(10,H2e,1,1,"app-bernoulli-sample-config",4)(11,G2e,1,1,"app-normal-sample-config",4)(12,W2e,1,1,"app-exponential-sample-config",4)(13,j2e,1,1,"app-poisson-sample-config",4)(14,$2e,0,0),ue(),ae(15,"tr")(16,"td")(17,"mat-form-field",1)(18,"mat-label"),He(19,"Samples"),ue(),Pe(20,"input",5),ue()(),ae(21,"td")(22,"button",6),Xe("click",function(){return Gt(n),Wt(i.generate())}),He(23," Run "),ue()()()(),ae(24,"div",7),Pe(25,"canvas",null,0),ue()}if(e&2){let n;ge(6),Re("required",!0),Ja("value",i.selectedAlgorithm),ge(),mr(i.algorithmNames()),ge(2),$t((n=i.selectedAlgorithm())==="Uniform"?9:n==="Bernoulli"?10:n==="Normal"?11:n==="Exponential"?12:n==="Poisson"?13:14),ge(11),Re("formControl",i.totalSamples),ge(2),Re("disabled",i.configuredAlgorithm()===void 0||i.totalSamples.invalid)}},dependencies:[da,Ci,li,Pl,Oi,En,ki,tn,Xi,yn,G_,W_,j_,$_,Y_],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:75vh;position:relative}"]})};var y9=la(Bs());var K_=class{constructor(t){this.maze=t}generate(){let t=this.maze.getConfig(),e=[this.maze.cloneGrid()];for(let i=0;i<t.rows;i++)for(let n=0;n<t.columns;n++){let a=this.maze.getCell(n,i);a.visited=!0;let o=this.expand(a);if(o.length>0){let s=Math.floor(Math.random()*o.length);this.maze.connect(a,o[s]),e.push(this.maze.cloneGrid())}}return{steps:e}}expand(t){let e=[{y:t.y-1,x:t.x},{y:t.y,x:t.x-1}],i=[];for(let n of e)this.maze.inBound(n.x,n.y)&&i.push(this.maze.getCell(n.x,n.y));return i}};var Z_=class{constructor(t){this.maze=t}generate(){let t=[],e=this.maze.getConfig();for(let i=0;i<e.rows;i++){let n=[];for(let a=0;a<e.columns;a++){let o=this.maze.getCell(a,i);if(o.visited=!0,n.push(o),n.length>0&&this.maze.connect(o,n[n.length-2]),o.y!==0&&(o.x===e.columns-1||Math.random()<.3333333)){let l=Math.floor(Math.random()*n.length);this.maze.connect(n[l],this.maze.getCell(n[l].x,n[l].y-1)),n=[]}t.push(this.maze.cloneGrid())}}return{steps:t}}};var Q_=class{constructor(t){this.config=t;this.grid=this.newGrid()}grid;getConfig(){return this.config}cloneGrid(){let t=[[]];for(let e=0;e<this.grid.length;e++){t[e]=[];for(let i=0;i<this.grid[0].length;i++)t[e][i]=(0,y9.cloneDeep)(this.grid[e][i])}return t}getCell(t,e){if(this.inBound(t,e))return this.grid[e][t]}inBound(t,e){return 0<=t&&t<this.config.columns&&0<=e&&e<this.config.rows}connect(t,e){t===void 0||e===void 0||(t.y+1===e.y?(t.wall.south=!1,e.wall.north=!1):t.x+1===e.x?(t.wall.east=!1,e.wall.west=!1):t.y-1===e.y?(t.wall.north=!1,e.wall.south=!1):t.x-1===e.x&&(t.wall.west=!1,e.wall.east=!1))}newGrid(){let t=[[]];for(let e=0;e<this.config.rows;e++){t[e]=[];for(let i=0;i<this.config.columns;i++)t[e][i]={x:i,y:e,visited:!1,wall:{north:!0,east:!0,south:!0,west:!0}}}return t}},cR={Binary:r=>new K_(r),Sidewinder:r=>new Z_(r)};var b9=()=>[];function Y2e(r,t){if(r&1&&(ae(0,"mat-option",5),He(1),ue()),r&2){let e=t.$implicit;Re("value",e),ge(),Rr(e)}}function X2e(r,t){r&1&&Pe(0,"mat-progress-bar",7)}function K2e(r,t){if(r&1&&Pe(0,"td",9),r&2){let e=t.$index,i=nt().$index,n=nt();Re("ngClass",n.cellStyle(n.grid()[i][e]))}}function Z2e(r,t){if(r&1&&(ae(0,"tr"),fr(1,K2e,1,1,"td",9,fu),ue()),r&2){let e=nt();ge(),mr(gu(0,b9).constructor(e.grid()[0].length))}}var J_=class r{constructor(t){this.fb=t;this.mazeConfigForm=this.fb.group({columns:[30,[Ne.required]],rows:[30,[Ne.required]],generator:["Binary",[Ne.required]]})}mazeConfigForm;grid=yr([[]]);sub=new rt;generatorName=yr(Object.keys(cR));generating=yr(!1);generationSteps=new ir([]);ngOnInit(){this.sub.add(this.generationSteps.pipe(nr(t=>ri(t||[]).pipe(zi(e=>Ze(e).pipe(Xa(1),Et(i=>{this.grid.set(i)})))))).subscribe())}ngOnDestroy(){this.sub.unsubscribe()}generate(){if(this.mazeConfigForm.valid){let t=new Q_(this.mazeConfigForm.value);this.generationSteps.next([t.cloneGrid()]),this.generating.set(!0),setTimeout(()=>{let e=cR[this.mazeConfigForm.value.generator];if(e!==void 0){let i=e(t).generate().steps;this.generationSteps.next(i)}this.generating.set(!1)},1)}}cellStyle(t){return{unknown:!t.visited,"wall-north":t.wall.north,"wall-east":t.wall.east,"wall-south":t.wall.south,"wall-west":t.wall.west}}static \u0275fac=function(e){return new(e||r)(Jt(dy))};static \u0275cmp=De({type:r,selectors:[["app-maze"]],standalone:!1,decls:27,vars:5,consts:[[1,"config-panel",3,"keydown.enter","submit","formGroup"],["appearance","outline"],["matInput","","type","number","formControlName","columns"],["matInput","","type","number","formControlName","rows"],["formControlName","generator",3,"required"],[3,"value"],["mat-raised-button","",3,"click","disabled"],["mode","indeterminate"],[1,"maze"],[3,"ngClass"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("keydown.enter",function(a){return a.preventDefault()})("submit",function(a){return a.preventDefault()}),ae(1,"table")(2,"tr")(3,"td")(4,"mat-form-field",1)(5,"mat-label"),He(6,"Columns"),ue(),Pe(7,"input",2),ue()(),ae(8,"td")(9,"mat-form-field",1)(10,"mat-label"),He(11,"Rows"),ue(),Pe(12,"input",3),ue()(),ae(13,"td")(14,"mat-form-field",1)(15,"mat-label"),He(16,"Distribution"),ue(),ae(17,"mat-select",4),fr(18,Y2e,2,2,"mat-option",5,mu),ue()()(),ae(20,"td")(21,"button",6),Xe("click",function(){return i.generate()}),He(22,"Generate"),ue()()()()(),Nt(23,X2e,1,0,"mat-progress-bar",7),ae(24,"table",8),fr(25,Z2e,3,1,"tr",null,fu),ue()),e&2&&(Re("formGroup",i.mazeConfigForm),ge(17),Re("required",!0),ge(),mr(i.generatorName()),ge(3),Re("disabled",i.mazeConfigForm.invalid),ge(2),$t(i.generating()?23:-1),ge(2),mr(gu(4,b9).constructor(i.grid().length)))},dependencies:[Mv,i_,da,Ci,li,Pl,Gr,Oi,En,ki,Hr,mm,Ia,hm,Xi,yn],styles:["table.maze[_ngcontent-%COMP%]{border-collapse:collapse}table.maze[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:12px;height:12px}td.unknown[_ngcontent-%COMP%]{background-color:gray}td.wall-north[_ngcontent-%COMP%]{border-top:2px solid black}td.wall-east[_ngcontent-%COMP%]{border-right:2px solid black}td.wall-south[_ngcontent-%COMP%]{border-bottom:2px solid black}td.wall-west[_ngcontent-%COMP%]{border-left:2px solid black}"]})};var il=class r{constructor(t,e=[]){this.data=t;this.children=e}grad=0;_backward=()=>{};_forward=()=>{};label="";add(t){t instanceof r||(t=new r(t));let e=new r(this.data+t.data,[this,t]);return e._backward=()=>{this.grad+=e.grad,t.grad+=e.grad},e._forward=()=>{e.children.forEach(i=>i._forward()),e.data=e.children.reduce((i,n)=>i+n.data,0)},e}sub(t){t instanceof r||(t=new r(t));let e=new r(this.data-t.data,[this,t]);return e._backward=()=>{this.grad+=e.grad,t.grad+=e.grad},e._forward=()=>{e.children.forEach(i=>i._forward()),e.data=e.children.reduce((i,n)=>i-n.data,0)},e}mul(t){t instanceof r||(t=new r(t));let e=new r(this.data*t.data,[this,t]);return e._backward=()=>{this.grad+=t.data*e.grad,t.grad+=this.data*e.grad},e._forward=()=>{e.children.forEach(i=>i._forward()),e.data=e.children.reduce((i,n)=>i*n.data,1)},e}pow(t){let e=new r(this.data**t,[this]);return e._backward=()=>{this.grad+=t*this.data**(t-1)*e.grad},e._forward=()=>{this._forward(),e.data=this.data**t},e}div(t){t instanceof r||(t=new r(t));let e=new r(this.data*t.data**-1,[this,t]);return e._backward=()=>{this.grad+=1/t.data*e.grad,t.grad+=-this.data/t.data**2*e.grad},e._forward=()=>{e.children.forEach(i=>i._forward()),e.data=this.data*t.data**-1},e}tanh(){let t=this.data,e=(Math.exp(2*t)-1)/(Math.exp(2*t)+1),i=new r(e,[this]);return i._backward=()=>{this.grad+=(1-e**2)*i.grad},i._forward=()=>{this._forward();let n=this.data;i.data=(Math.exp(2*n)-1)/(Math.exp(2*n)+1)},i}exp(){let t=Math.exp(this.data),e=new r(t,[this]);return e._backward=()=>{this.grad+=e.data*e.grad},e._forward=()=>{this._forward(),e.data=Math.exp(this.data)},e}backward(){let t=[],e=new Set,i=n=>{if(!e.has(n)){e.add(n);for(let a of n.children)i(a);t.push(n)}};i(this),this.grad=1;for(let n of t.reverse())n._backward()}zero_grad(){this.grad=0,this.children.forEach(t=>t.zero_grad())}forward(){this._forward()}};var Gd=class{constructor(t){this.name=t}_data=new ir([]);addData(t){let e=this._data.getValue();e.push(...t),this._data.next(e)}setData(t){this._data.next(t)}obData(){return this._data}};var Q2e=["chart"],cf=class r{sub=new rt;view=Fn.required("chart");_chart;chartDef=si.required();ngOnInit(){this.initChart(),this.sub.add(this.obData())}ngOnDestroy(){this.sub.unsubscribe()}obData(){return this.chartDef().obData().subscribe({next:t=>{let e=this._chart.data;e.datasets[0].data=t.map(i=>i.y),e.labels=t.map(i=>i.x),this._chart.update()}})}initChart(){this._chart=new Bo(this.view().nativeElement,{type:"line",data:this.chartData(),options:this.chartOptions()})}chartData(){return{labels:[],datasets:[{data:[],backgroundColor:"red",fill:!1}]}}chartOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1},title:{display:!0,text:this.chartDef().name}}}}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-line-chart"]],viewQuery:function(e,i){e&1&&Bn(i.view,Q2e,5),e&2&&mn()},inputs:{chartDef:[1,"chartDef"]},decls:3,vars:0,consts:[["chart",""]],template:function(e,i){e&1&&(ae(0,"div"),Pe(1,"canvas",null,0),ue())},encapsulation:2})};var eBe=(r,t)=>t.name;function tBe(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var ex=class r{w1;x1;w1x1;w2;x2;w2x2;bias;w1x1w2x2;prediction;target;error;_train=new ir(!1);statCharts;form=new Pi([er.number("iteration","Iteration",new St(10,[Ne.required,Ne.min(1)])),er.number("learningRate","Learning Rate",new St(.01,[Ne.required,Ne.min(1e-4)])),er.number("threshold","Threshold",new St("0.001",[Ne.required,Ne.min(1e-4)]))]);_totalIteration=0;graphDef;constructor(){this.initNeuron(-3,1,6.88),this.graphDef=new ah("error = target - ((w1 * x1) + (w2 * x2) + bias)",{"text-wrap":"wrap",label:t=>`${t.data("id")}
data: ${t.data("value").data}
grad: ${t.data("value").grad}`},{width:4,"target-arrow-shape":"triangle","line-color":"#9dbaea","target-arrow-color":"#9dbaea","curve-style":"bezier"},{name:"dagre",nodeSep:300,minLen:()=>1}),this.graphDef.setData(this.collectData())}ngOnInit(){this.initStatGraphCharts(),this.obTrainRequest()}train(){this._train.next(!0)}obTrainRequest(){return this._train.pipe(At(t=>t),nr(()=>{let t=this.form.group().value;return lu(1e3).pipe(oi(t.iteration),cu(()=>this.error.data<=t.threshold),Et(()=>{this._totalIteration+=1}),Et(()=>{this.w1.data-=this.w1.grad*t.learningRate,this.w2.data-=this.w2.grad*t.learningRate,this.bias.data-=this.bias.grad*t.learningRate,this.error.forward(),this.error.zero_grad(),this.error.backward()}),Et(()=>{this.graphDef.setData(this.collectData())}),Et(()=>{[this.w1,this.w2,this.bias,this.error].forEach(e=>{this.statCharts[e.label].addData([{x:this._totalIteration,y:e.data}])})}))})).subscribe()}initNeuron(t,e,i){this.w1=new il(t),this.w1.label="w1",this.x1=new il(2),this.x1.label="x1",this.w1x1=this.w1.mul(this.x1),this.w1x1.label="a = w1 * x1",this.w2=new il(e),this.w2.label="w2",this.x2=new il(0),this.x2.label="x2",this.w2x2=this.w2.mul(this.x2),this.w2x2.label="b = w2 * x2",this.w1x1w2x2=this.w1x1.add(this.w2x2),this.w1x1w2x2.label="c = w1x1 + w2x2",this.bias=new il(i),this.bias.label="bias",this.prediction=this.w1x1w2x2.add(this.bias),this.prediction.label="prediction = c + bias",this.target=new il(0),this.target.label="target",this.error=this.target.sub(this.prediction),this.error.label="error = target - prediction"}collectData(){let t=[],e=[],i=[this.error];for(;i.length>0;){let n=i.pop();t.push({data:{id:n?.label,value:n}});let a=n?.children||[];for(let o of a)e.push({data:{source:o.label,target:n.label}}),i.push(o)}return{action:"init",nodes:t,edges:e}}initStatGraphCharts(){this.statCharts={w1:this.statChart(this.w1),w2:this.statChart(this.w2),bias:this.statChart(this.bias),"error = target - prediction":this.statChart(this.error)}}statChart(t){let e=new Gd(t.label);return e.addData([{x:this._totalIteration,y:t.data}]),e}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-auto-diff"]],decls:14,vars:6,consts:[[3,"submit"],[3,"field"],["mat-raised-button","",3,"click","disabled"],[2,"width","100%","height","90vh"],[1,"compute-graph-container"],[3,"graphDef"],[1,"stats-container"],[3,"chartDef"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,tBe,1,1,"app-form-field",1,eBe),ae(3,"button",2),Xe("click",function(){return i.train()}),ae(4,"span"),He(5,"Run"),ue()()(),ae(6,"div",3)(7,"div",4),Pe(8,"app-graph",5),ue(),ae(9,"div",6),Pe(10,"app-line-chart",7)(11,"app-line-chart",7)(12,"app-line-chart",7)(13,"app-line-chart",7),ue()()),e&2&&(ge(),mr(i.form.fields()),ge(2),Re("disabled",i.form.group().invalid),ge(5),Re("graphDef",i.graphDef),ge(2),Re("chartDef",i.statCharts.w1),ge(),Re("chartDef",i.statCharts.w2),ge(),Re("chartDef",i.statCharts.bias),ge(),Re("chartDef",i.statCharts["error = target - prediction"]))},dependencies:[Ki,yn,cf,jh],styles:[".compute-graph-container[_ngcontent-%COMP%]{width:100%;height:65%}.stats-container[_ngcontent-%COMP%]{width:100%;height:30%;display:grid;grid-template-columns:auto auto auto auto}"]})};var dR=la(Bs());var tx=class{constructor(t,e,i,n){this.k=t;this.maxIter=e;this.tolerance=i;this.data=n}run(){let t=[],e=this.initCentroids();for(let i=0;i<this.maxIter;i++){let n=this.assignClusters(e);t.push({centroids:e,clusters:n});let a=this.updateCentroids(n,e);if(this.converged(e,a,this.tolerance))break;e=a}return t}initCentroids(){let t=new Set;for(;t.size<this.k;){let e=Math.floor(Math.random()*this.data.length);t.add(e)}return Array.from(t).map(e=>this.data[e])}assignClusters(t){let e=Array.from({length:t.length},()=>[]);for(let i of this.data){let n=0,a=this.euclideanDistance(i,t[n]);for(let o=1;o<t.length;o+=1){let s=this.euclideanDistance(i,t[o]);s<a&&(n=o,a=s)}e[n].push(i)}return e}updateCentroids(t,e){return t.map((i,n)=>{if(i.length===0)return e[n];let a=i.reduce((o,s)=>(o.x+=s.x,o.y+=s.y,o),{x:0,y:0});return{x:a.x/i.length,y:a.y/i.length}})}converged(t,e,i){return t.every((n,a)=>this.euclideanDistance(n,e[a])<=i)}euclideanDistance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}};var ps=["#000000","#e6194b","#3cb44b","#ffe119","#4363d8","#f58231","#911eb4","#46f0f0","#f032e6","#bcf60c","#fabebe","#008080","#e6beff","#9a6324","#fffac8","#800000","#aaffc3","#808000","#ffd8b1","#000075","#808080","#ffffff"];var rx=class{_chart;constructor(t){this._chart=this.initChart(t)}setSource(t){this._chart.data={datasets:[{label:"source",data:t,backgroundColor:ps[0]}]},this._chart.update()}renderStep(t){let e=[];for(let i=0;i<t.centroids.length;i++)e.push({label:`centroid ${i}`,data:[t.centroids[i]],backgroundColor:ps[i+1],borderColor:ps[0],borderWidth:3,pointRadius:5}),e.push({label:`cluster ${i}`,data:t.clusters[i],borderColor:ps[i+1],backgroundColor:ps[i+1]});this._chart.data.datasets=e,this._chart.update()}initChart(t){return new Bo(t.nativeElement,{type:"scatter",data:{datasets:[{label:"source",data:[],backgroundColor:ps[0]}]},options:{animation:!1,plugins:{legend:{labels:{filter:e=>!e.text.includes("centroid")}}}}})}};var rBe=["chart"],_9=(r,t)=>t.name;function iBe(r,t){if(r&1&&Pe(0,"app-form-field",2),r&2){let e=t.$implicit;Re("field",e)}}function nBe(r,t){if(r&1&&Pe(0,"app-form-field",2),r&2){let e=t.$implicit;Re("field",e)}}var ix=class r{sub=new rt;view=Fn.required("chart");form=new Pi([er.number("k","K",new St(10,[Ne.required,Ne.min(1),Ne.max(10)])),er.number("maxIter","Max Iteration",new St(100,[Ne.required,Ne.min(1)])),er.number("tolerance","Tolerance",new St(.01,[Ne.required,Ne.min(.01)]))]);dataForm=new Pi([er.number("points","Points",new St(200,[Ne.required,Ne.min(1)]))]);data=[];formSubmission=new ir(void 0);chart;ngOnInit(){this.chart=new rx(this.view()),this.obFormSubmission()}ngOnDestroy(){this.sub.unsubscribe()}generateData(){this.data=this.generateRandomPoints(this.dataForm.control("points")?.value),this.chart.setSource(this.data)}run(){this.form.group().invalid||this.formSubmission.next(this.form.group().value)}obFormSubmission(){return this.formSubmission.pipe(At(t=>t!==void 0),nr(t=>(this.chart.setSource(this.data),Ze(new tx(t.k,t.maxIter,t.tolerance,this.data)).pipe(zi(e=>ri(e.run())),zi(e=>Ze(e).pipe(Xa(500),Et(i=>{this.chart.renderStep(i)}))))))).subscribe()}generateRandomPoints(t){let e=[];for(let i=0;i<t;i++)e.push({x:dR.default.random(0,100),y:dR.default.random(0,100)});return e}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-k-mean-cluster"]],viewQuery:function(e,i){e&1&&Bn(i.view,rBe,5),e&2&&mn()},standalone:!1,decls:14,vars:2,consts:[["chart",""],[3,"submit"],[3,"field"],["mat-raised-button","",3,"click","disabled"]],template:function(e,i){if(e&1){let n=Br();ae(0,"form",1),Xe("submit",function(o){return Gt(n),Wt(o.preventDefault())}),fr(1,iBe,1,1,"app-form-field",2,_9),ae(3,"button",3),Xe("click",function(){return Gt(n),Wt(i.run())}),ae(4,"span"),He(5,"Run"),ue()()(),ae(6,"form",1),Xe("submit",function(o){return Gt(n),Wt(o.preventDefault())}),fr(7,nBe,1,1,"app-form-field",2,_9),ae(9,"button",3),Xe("click",function(){return Gt(n),Wt(i.generateData())}),ae(10,"span"),He(11,"Generate"),ue()()(),Pe(12,"canvas",null,0)}e&2&&(ge(),mr(i.form.fields()),ge(2),Re("disabled",i.form.group().invalid),ge(4),mr(i.dataForm.fields()),ge(2),Re("disabled",i.dataForm.group().invalid))},dependencies:[Gr,Hr,yn,Ki],encapsulation:2})};var nx=class{_chart;ready=!1;constructor(t){this._chart=this.initChart(t)}setPath(t){this._chart.data.datasets[1]={label:"path",data:t,borderColor:ps[1],showLine:!0,fill:!1},this._chart.update()}setCities(t){this._chart.data={datasets:[{label:"cities",data:t,backgroundColor:ps[0],pointRadius:5}]},this._chart.update(),this.ready=!0}initChart(t){return new Bo(t.nativeElement,{type:"scatter",data:{datasets:[]},options:{animation:!1}})}};var uR=la(Bs()),ax=class{cities=[];generateCities(t){this.cities=[];for(let e=0;e<t;e++)this.cities.push({x:uR.default.random(0,100),y:uR.default.random(0,100)});return this.cities}pathCost(t){let e=0;for(let i=0;i<t.length-1;i++)e+=this.cityDistance(t[i],t[i+1]);return e+=this.cityDistance(t[t.length-1],t[0]),e}cityDistance(t,e){let i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)}};var ox=la(Bs()),sx=class{constructor(t){this.params=t;this.temp=t.initialTemp}i=0;bestCost=Number.MAX_VALUE;bestPath=[];done=!1;temp;path;pathCost;tsp;setProblem(t){this.done=!1,this.i=0,this.bestCost=Number.MAX_VALUE,this.bestPath=[],this.tsp=t,this.path=t.cities,this.pathCost=t.pathCost(this.path)}run(){if(this.temp>this.params.minTemp){let e=this.randomNeighbour(ox.default.cloneDeep(this.path)),i=this.tsp.pathCost(e),n=i-this.pathCost;return(n<0||Math.random()<Math.exp(-n/this.temp))&&(this.path=e,this.pathCost=i,this.pathCost<this.bestCost&&(this.bestCost=this.pathCost,this.bestPath=this.path)),this.i+=1,this.temp=this.temp*this.params.coolingRate,{i:this.i,path:[...ox.default.cloneDeep(this.path),ox.default.cloneDeep(this.path[0])],cost:this.pathCost,iY:this.temp,done:this.done}}let t={i:this.i,path:[...this.bestPath,this.bestPath[0]],cost:this.bestCost,iY:this.temp,done:this.done};return this.done=!0,this.i+=1,t}randomNeighbour(t){let e=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);for(;i===e;)i=Math.floor(Math.random()*t.length);let[n,a]=[Math.min(e,i),Math.max(e,i)];return[...t.slice(0,n),...t.slice(n,a+1).reverse(),...t.slice(a+1)]}};var aBe=(r,t)=>t.name;function oBe(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var lx=class r{sub=new rt;defaultParam={initialTemp:1e3,coolingRate:.995,minTemp:.001};saForm=new Pi([er.number("initialTemp","Initial Temp",new St(this.defaultParam.initialTemp,[Ne.required,Ne.min(1),Ne.max(1e4)])),er.number("coolingRate","Cooling Rate",new St(this.defaultParam.coolingRate,[Ne.required,Ne.min(1e-7),Ne.max(.99999)])),er.number("minTemp","Minimum Temp",new St(this.defaultParam.minTemp,[Ne.required,Ne.min(1e-6)]))]);algo=Nn.required();ngOnInit(){this.sub.add(this.saForm.valueChanges().pipe(dr(this.defaultParam),At(()=>this.saForm.group().valid)).subscribe({next:t=>{this.algo.set(new sx(t))}}))}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-simulated-annealing"]],inputs:{algo:[1,"algo"]},outputs:{algo:"algoChange"},standalone:!1,decls:3,vars:0,consts:[[2,"display","inline",3,"submit"],[3,"field"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,oBe,1,1,"app-form-field",1,aBe),ue()),e&2&&(ge(),mr(i.saForm.fields()))},dependencies:[Gr,Hr,Ki],encapsulation:2})};var cx=la(Bs()),dx=class{constructor(t){this.conf=t}i=0;bestCost=Number.MAX_VALUE;bestPath=[];done=!1;tsp;population=[];setProblem(t){this.done=!1,this.i=0,this.bestCost=Number.MAX_VALUE,this.bestPath=[],this.tsp=t,this.generateInitialPopulation()}run(){if(this.i<this.conf.generations){let e=this.population.map(a=>({path:a,cost:this.tsp.pathCost(a)}));e=cx.default.sortBy(e,"cost"),e[0].cost<this.bestCost&&(this.bestPath=e[0].path,this.bestCost=e[0].cost);let i=[];for(;i.length<this.conf.population;){let a=this.crossover(this.select(e),this.select(e));i.push(this.mutate(a))}this.population=i;let n={i:this.i,iY:this.i,path:[...e[0].path,e[0].path[0]],cost:e[0].cost,done:this.done};return this.i+=1,n}let t={i:this.i,iY:this.i,path:[...this.bestPath,this.bestPath[0]],cost:this.bestCost,done:this.done};return this.done=!0,this.i+=1,t}generateInitialPopulation(){this.population=[];for(let t=0;t<this.conf.population;t++)this.population.push(cx.default.shuffle(this.tsp.cities))}select(t){return t[cx.default.random(0,Math.floor(t.length/3))]}crossover(t,e){if(Math.random()<this.conf.crossOverRate){let i=Math.floor(Math.random()*t.path.length),n=i+Math.floor(Math.random()*(t.path.length-i)),a=t.path.slice(i,n),o=a.reduce((l,c)=>(l[c.x]=l[c.x]||[],l[c.x][c.y]=!0,l),[]),s=e.path.filter(l=>!o?.[l.x]?.[l.y]);return[...a,...s]}else return t.cost<e.cost?t.path:e.path}mutate(t){if(Math.random()<this.conf.mutationRate){let e=Math.floor(Math.random()*t.length),i=Math.floor(Math.random()*t.length);for(;i===e;)i=Math.floor(Math.random()*t.length);let[n,a]=[Math.min(e,i),Math.max(e,i)];return[...t.slice(0,n),...t.slice(n,a+1).reverse(),...t.slice(a+1)]}return t}};var lBe=(r,t)=>t.name;function cBe(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var ux=class r{sub=new rt;defaultParam={population:300,mutationRate:.1,crossOverRate:.8,generations:2e3};confForm=new Pi([er.number("population","Population",new St(this.defaultParam.population,[Ne.required,Ne.min(1),Ne.max(1e4)])),er.number("mutationRate","Mutation Rate",new St(this.defaultParam.mutationRate,[Ne.required,Ne.min(0),Ne.max(1)])),er.number("crossOverRate","Crossover Rate",new St(this.defaultParam.crossOverRate,[Ne.required,Ne.min(0),Ne.max(1)])),er.number("generations","Generations",new St(this.defaultParam.generations,[Ne.required,Ne.min(1)]))]);algo=Nn.required();ngOnInit(){this.sub.add(this.confForm.valueChanges().pipe(dr(this.defaultParam),At(()=>this.confForm.group().valid)).subscribe({next:t=>{this.algo.set(new dx(t))}}))}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-genetic-algorithm"]],inputs:{algo:[1,"algo"]},outputs:{algo:"algoChange"},standalone:!1,decls:3,vars:0,consts:[[2,"display","inline",3,"submit"],[3,"field"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,cBe,1,1,"app-form-field",1,lBe),ue()),e&2&&(ge(),mr(i.confForm.fields()))},dependencies:[Gr,Hr,Ki],encapsulation:2})};var hx=class{constructor(t){this.conf=t}i=0;bestCost=Number.MAX_VALUE;bestPath=[];done=!1;tsp;distances=[];pheromones=[];setProblem(t){this.done=!1,this.i=0,this.bestCost=Number.MAX_VALUE,this.bestPath=[],this.tsp=t,this.distances=this.cityDistance(t.cities),this.pheromones=Array.from({length:this.tsp.cities.length},()=>new Array(this.tsp.cities.length).fill(1))}run(){if(this.i<this.conf.iteration){let e=this.createAnts();this.buildSolution(e),this.updatePheromones(e),this.updateBestTour(e),this.i+=1}let t={i:this.i,iY:this.i,path:[...this.bestPath,this.bestPath[0]],cost:this.bestCost,done:this.done};return this.i>=this.conf.iteration&&(this.done=!0),t}cityDistance(t){let e=[];for(let i=0;i<t.length;i++){e[i]=[];for(let n=0;n<t.length;n++){let a=t[i].x-t[n].x,o=t[i].y-t[n].y;e[i][n]=Math.sqrt(a*a+o*o)}}return e}createAnts(){return Array.from({length:this.tsp.cities.length},()=>{let t=Math.floor(Math.random()*this.tsp.cities.length);return new hR(this.tsp.cities.length,t)})}buildSolution(t){for(let e of t){for(;!e.hasVisitedAllCities();){let i=e.currentCity,n=this.selectNextCity(i,e.visited);e.visitCity(n),e.distance+=this.distances[i][n]}e.distance+=this.distances[e.cities[e.cities.length-1]][e.cities[0]]}}selectNextCity(t,e){let i=0,n=new Array(this.tsp.cities.length).fill(0);for(let l=0;l<this.tsp.cities.length;l++)if(!e[l]){let c=this.pheromones[t][l],d=1/this.distances[t][l];n[l]=Math.pow(c,this.conf.alpha)*Math.pow(d,this.conf.beta),i+=n[l]}let a=Math.random()*i,o=0;for(let l=0;l<this.tsp.cities.length;l++)if(!e[l]&&(o+=n[l],o>=a))return l;let s=[];for(let l=0;l<this.tsp.cities.length;l++)e[l]||s.push(l);return s[Math.floor(Math.random()*s.length)]}updatePheromones(t){for(let e=0;e<this.tsp.cities.length;e++)for(let i=0;i<this.tsp.cities.length;i++)this.pheromones[e][i]=this.pheromones[e][i]*(1-this.conf.evaporationRate);for(let e of t){let i=1/e.distance,n=e.cities;for(let a=0;a<n.length-1;a++){let[o,s]=[n[a],n[a+1]];this.pheromones[o][s]+=i,this.pheromones[s][o]+=i}}}updateBestTour(t){for(let e of t)e.distance<this.bestCost&&(this.bestCost=e.distance,this.bestPath=e.cities.map(i=>this.tsp.cities[i]))}},hR=class{cities=[];distance=0;visited;constructor(t,e){this.visited=new Array(t).fill(!1),this.visitCity(e)}visitCity(t){this.visited[t]||(this.visited[t]=!0,this.cities.push(t))}hasVisitedAllCities(){return this.cities.length===this.visited.length}get currentCity(){return this.cities.length>0?this.cities[this.cities.length-1]:-1}};var uBe=(r,t)=>t.name;function hBe(r,t){if(r&1&&Pe(0,"app-form-field",1),r&2){let e=t.$implicit;Re("field",e)}}var fx=class r{sub=new rt;defaultParam={ants:100,evaporationRate:.5,alpha:1,beta:2,iteration:100};confForm=new Pi([er.number("ants","Ants",new St(this.defaultParam.ants,[Ne.required,Ne.min(1),Ne.max(1e4)])),er.number("evaporationRate","Evaporation Rate",new St(this.defaultParam.evaporationRate,[Ne.required,Ne.min(0),Ne.max(1)])),er.number("alpha","Alpha",new St(this.defaultParam.alpha,[Ne.required,Ne.min(0)])),er.number("beta","Beta",new St(this.defaultParam.beta,[Ne.required,Ne.min(0)])),er.number("iteration","Iteration",new St(this.defaultParam.iteration,[Ne.required,Ne.min(1)]))]);algo=Nn.required();ngOnInit(){this.sub.add(this.confForm.valueChanges().pipe(dr(this.defaultParam),At(()=>this.confForm.group().valid)).subscribe({next:t=>{this.algo.set(new hx(t))}}))}ngOnDestroy(){this.sub.unsubscribe()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-ant-colony-optimization"]],inputs:{algo:[1,"algo"]},outputs:{algo:"algoChange"},standalone:!1,decls:3,vars:0,consts:[[2,"display","inline",3,"submit"],[3,"field"]],template:function(e,i){e&1&&(ae(0,"form",0),Xe("submit",function(a){return a.preventDefault()}),fr(1,hBe,1,1,"app-form-field",1,uBe),ue()),e&2&&(ge(),mr(i.confForm.fields()))},dependencies:[Gr,Hr,Ki],encapsulation:2})};var mBe=["graph"],pBe=(r,t)=>t.name;function gBe(r,t){if(r&1){let e=Br();ae(0,"app-simulated-annealing",13),to("algoChange",function(n){Gt(e);let a=nt();return eo(a.tspSolver,n)||(a.tspSolver=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("algo",e.tspSolver)}}function vBe(r,t){if(r&1){let e=Br();ae(0,"app-genetic-algorithm",13),to("algoChange",function(n){Gt(e);let a=nt();return eo(a.tspSolver,n)||(a.tspSolver=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("algo",e.tspSolver)}}function yBe(r,t){if(r&1){let e=Br();ae(0,"app-ant-colony-optimization",13),to("algoChange",function(n){Gt(e);let a=nt();return eo(a.tspSolver,n)||(a.tspSolver=n),Wt(n)}),ue()}if(r&2){let e=nt();Ja("algo",e.tspSolver)}}function bBe(r,t){if(r&1&&Pe(0,"app-form-field",9),r&2){let e=t.$implicit;Re("field",e)}}var mx=class r{sub=new rt;tspGraphElem=Fn.required("graph");tspGraph;cityForm=new Pi([er.number("city","City",new St(30,[Ne.required,Ne.min(1),Ne.max(500)]))]);tspIterationChartDef;tspCostChartDef;tsp=new ax;run$=new ir(void 0);selectedAlgorithm=yr("sa");tspSolver=yr(void 0);ngOnInit(){this.tspGraph=new nx(this.tspGraphElem()),this.tspCostChartDef=new Gd("Path Cost"),this.tspIterationChartDef=new Gd("Iteration"),this.sub.add(this.obRun())}ngOnDestroy(){this.sub.unsubscribe()}run(){let t=this.tspSolver();t&&(t.setProblem(this.tsp),this.run$.next(t))}generateCities(){this.tspGraph.setCities(this.tsp.generateCities(this.cityForm.control("city")?.value)),this.tspCostChartDef.setData([]),this.tspIterationChartDef.setData([]),this.run$.next(void 0)}obRun(){return this.run$.pipe(nr(t=>t===void 0?Ze(t):(this.tspCostChartDef.setData([]),this.tspIterationChartDef.setData([]),lu(2).pipe(zi(()=>Ze(t.run())),Et(e=>{e.done&&console.log(e)}),cu(e=>!e.done))))).subscribe({next:t=>{t&&(this.tspGraph.setPath(t.path),this.tspCostChartDef.addData([{x:t.i,y:t.cost}]),this.tspIterationChartDef.addData([{x:t.i,y:t.iY}]))}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-traveling-salesman"]],viewQuery:function(e,i){e&1&&Bn(i.tspGraphElem,mBe,5),e&2&&mn()},standalone:!1,decls:29,vars:7,consts:[["graph",""],["appearance","outline"],[3,"valueChange","required","value"],["value","sa"],["value","ga"],["value","aco"],[3,"algo"],["mat-raised-button","",3,"click","disabled"],[3,"submit"],[3,"field"],[2,"width","100%","height","60vh"],[2,"width","45%","height","20vh","display","inline-block"],[3,"chartDef"],[3,"algoChange","algo"]],template:function(e,i){if(e&1){let n=Br();ae(0,"mat-form-field",1)(1,"mat-label"),He(2,"Algorithm"),ue(),ae(3,"mat-select",2),to("valueChange",function(o){return Gt(n),eo(i.selectedAlgorithm,o)||(i.selectedAlgorithm=o),Wt(o)}),ae(4,"mat-option",3),He(5,"Simulated Annealing"),ue(),ae(6,"mat-option",4),He(7,"Genetic Algorithm"),ue(),ae(8,"mat-option",5),He(9,"Ant Colony Optimization"),ue()()(),Nt(10,gBe,1,1,"app-simulated-annealing",6)(11,vBe,1,1,"app-genetic-algorithm",6)(12,yBe,1,1,"app-ant-colony-optimization",6),ae(13,"button",7),Xe("click",function(){return Gt(n),Wt(i.run())}),ae(14,"span"),He(15,"Run"),ue()(),ae(16,"form",8),Xe("submit",function(o){return Gt(n),Wt(o.preventDefault())}),fr(17,bBe,1,1,"app-form-field",9,pBe),ae(19,"button",7),Xe("click",function(){return Gt(n),Wt(i.generateCities())}),ae(20,"span"),He(21,"Generate"),ue()()(),ae(22,"div",10),Pe(23,"canvas",null,0),ue(),ae(25,"div",11),Pe(26,"app-line-chart",12),ue(),ae(27,"div",11),Pe(28,"app-line-chart",12),ue()}if(e&2){let n;ge(3),Re("required",!0),Ja("value",i.selectedAlgorithm),ge(7),$t((n=i.selectedAlgorithm())==="sa"?10:n==="ga"?11:n==="aco"?12:-1),ge(3),Re("disabled",i.tspSolver()===void 0||!i.tspGraph.ready),ge(4),mr(i.cityForm.fields()),ge(2),Re("disabled",i.cityForm.group().invalid),ge(7),Re("chartDef",i.tspCostChartDef),ge(2),Re("chartDef",i.tspIterationChartDef)}},dependencies:[da,Ci,li,Pl,Gr,Hr,yn,Ki,cf,lx,ux,fx],encapsulation:2})};var x9=[{path:"algorithm",component:fb},{path:"algorithm/path-search",component:a_},{path:"algorithm/random-sample",component:X_},{path:"algorithm/maze-generation",component:J_},{path:"algorithm/auto-diff",component:ex},{path:"algorithm/k-mean-clustering",component:ix},{path:"algorithm/minimum-spanning-tree",component:t_},{path:"algorithm/traveling-salesman",component:mx}];var w9=[{path:"",pathMatch:"full",component:am},{path:"home",component:am},...x9,...d2];var _Be="@",xBe=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=V(Nr);loadingSchedulerFn=V(wBe,{optional:!0});_engine;constructor(e,i,n,a,o){this.doc=e,this.delegate=i,this.zone=n,this.animationType=a,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-LU7YY2SA.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(n=>{throw new Ar(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:a})=>{this._engine=n(this.animationType,this.doc);let o=new a(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let a=new fR(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let s=o.createRenderer(e,i);a.use(s),this.scheduler??=this.injector.get(ZO,null,{optional:!0}),this.scheduler?.notify(11)}).catch(o=>{a.use(n)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){_v()};static \u0275prov=Je({token:r,factory:r.\u0275fac})}return r})(),fR=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,n){this.delegate.insertBefore(t,e,i,n)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,n){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(t,e,i,n)),this.delegate.listen(t,e,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(_Be)}},wBe=new je("");function C9(r="animations"){return qw("NgAsyncAnimations"),du([{provide:Za,useFactory:(t,e,i)=>new xBe(t,e,i,r),deps:[zt,Rv,_t]},{provide:Wi,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var E9={providers:[gk({eventCoalescing:!0}),WP(w9,WC()),C9()]};var S9=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,qt]})}return r})();var CBe=["*"],EBe='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color, transparent);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-sys-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height, 48px)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height, 64px)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height, 88px)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;content:"";pointer-events:none}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size, 24px);height:var(--mdc-list-list-item-leading-icon-size, 24px);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size, 40px);height:var(--mdc-list-list-item-leading-avatar-size, 40px);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-sys-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-sys-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-sys-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-sys-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-sys-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-sys-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size, 24px);height:var(--mdc-list-list-item-trailing-icon-size, 24px)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-sys-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-sys-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-sys-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-sys-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-sys-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-sys-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity, 0.38)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity, 0.38)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-sys-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity, 0.3)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-sys-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-sys-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size, 24px)}@media(forced-colors: active){a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none;border-radius:inherit}.mat-mdc-list-item>.mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space, 16px);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space, 16px)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full));--mat-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-sys-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-sys-secondary-container))}',SBe=["unscopedContent"],MBe=["text"],DBe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],TBe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var ABe=new je("ListOption"),pR=(()=>{class r{_elementRef=V(vt);constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return r})(),RBe=(()=>{class r{_elementRef=V(vt);constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return r})(),IBe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return r})(),M9=(()=>{class r{_listOption=V(ABe,{optional:!0});constructor(){}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,hostVars:4,hostBindings:function(i,n){i&2&&It("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}return r})(),OBe=(()=>{class r extends M9{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Zr]})}return r})(),gR=(()=>{class r extends M9{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275dir=ut({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Zr]})}return r})(),kBe=new je("MAT_LIST_CONFIG"),mR=(()=>{class r{_isNonInteractive=!0;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rn(e)}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e)}_disabled=!1;_defaultOptions=V(kBe,{optional:!0});static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,hostVars:1,hostBindings:function(i,n){i&2&&Vt("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return r})(),PBe=(()=>{class r{_elementRef=V(vt);_ngZone=V(_t);_listBase=V(mR,{optional:!0});_platform=V(Ir);_hostElement;_isButtonElement;_noopAnimations;_avatars;_icons;set lines(e){this._explicitLines=zn(e,null),this._updateItemLines(!1)}_explicitLines=null;get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=rn(e)}_disableRipple=!1;get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=rn(e)}_disabled=!1;_subscriptions=new rt;_rippleRenderer=null;_hasUnscopedTextContent=!1;rippleConfig;get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(){V(vn).load(rd);let e=V(Ey,{optional:!0}),i=V(Wi,{optional:!0});this.rippleConfig=e||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=i==="NoopAnimations",this._listBase&&!this._listBase._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Gu(this,this._ngZone,this._hostElement,this._platform,V(Nr)),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(xi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let a=this._titles.length===0&&i===1;n.classList.toggle("mdc-list-item__primary-text",a),n.classList.toggle("mdc-list-item__secondary-text",!a)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static \u0275fac=function(i){return new(i||r)};static \u0275dir=ut({type:r,contentQueries:function(i,n,a){if(i&1&&(Tr(a,OBe,4),Tr(a,gR,4)),i&2){let o;Mt(o=Dt())&&(n._avatars=o),Mt(o=Dt())&&(n._icons=o)}},hostVars:4,hostBindings:function(i,n){i&2&&(Vt("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),It("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return r})();var D9=(()=>{class r extends PBe{_lines;_titles;_meta;_unscopedContent;_itemText;get activated(){return this._activated}set activated(e){this._activated=rn(e)}_activated=!1;_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,RBe,5),Tr(a,pR,5),Tr(a,IBe,5)),i&2){let o;Mt(o=Dt())&&(n._lines=o),Mt(o=Dt())&&(n._titles=o),Mt(o=Dt())&&(n._meta=o)}},viewQuery:function(i,n){if(i&1&&(Qr(SBe,5),Qr(MBe,5)),i&2){let a;Mt(a=Dt())&&(n._unscopedContent=a.first),Mt(a=Dt())&&(n._itemText=a.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,n){i&2&&(Vt("aria-current",n._getAriaCurrent()),It("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Zr],ngContentSelectors:TBe,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-focus-indicator"]],template:function(i,n){if(i&1){let a=Br();Dr(DBe),Ct(0),ae(1,"span",1),Ct(2,1),Ct(3,2),ae(4,"span",2,0),Xe("cdkObserveContent",function(){return Gt(a),Wt(n._updateItemLines(!0))}),Ct(6,3),ue()(),Ct(7,4),Ct(8,5),Pe(9,"div",3)}},dependencies:[TL],encapsulation:2,changeDetection:0})}return r})();var T9=(()=>{class r extends mR{_isNonInteractive=!1;static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Yt([{provide:mR,useExisting:r}]),Zr],ngContentSelectors:CBe,decls:1,vars:0,template:function(i,n){i&1&&(Dr(),Ct(0))},styles:[EBe],encapsulation:2,changeDetection:0})}return r})();var A9=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[py,qt,id,CE,S9]})}return r})();var vx=["*"],FBe=["content"],NBe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],BBe=["mat-drawer","mat-drawer-content","*"];function VBe(r,t){if(r&1){let e=Br();ae(0,"div",1),Xe("click",function(){Gt(e);let n=nt();return Wt(n._onBackdropClicked())}),ue()}if(r&2){let e=nt();It("mat-drawer-shown",e._isShowingBackdrop())}}function zBe(r,t){r&1&&(ae(0,"mat-drawer-content"),Ct(1,2),ue())}var qBe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],UBe=["mat-sidenav","mat-sidenav-content","*"];function HBe(r,t){if(r&1){let e=Br();ae(0,"div",1),Xe("click",function(){Gt(e);let n=nt();return Wt(n._onBackdropClicked())}),ue()}if(r&2){let e=nt();It("mat-drawer-shown",e._isShowingBackdrop())}}function GBe(r,t){r&1&&(ae(0,"mat-sidenav-content"),Ct(1,2),ue())}var WBe=".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}";var jBe=new je("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:$Be}),bR=new je("MAT_DRAWER_CONTAINER");function $Be(){return!1}var px=(()=>{class r extends $u{_platform=V(Ir);_changeDetectorRef=V(Kr);_container=V(yR);constructor(){let e=V(vt),i=V(nd),n=V(_t);super(e,i,n)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:i}=this._container;return e!=null&&e.mode!=="over"&&e.opened||i!=null&&i.mode!=="over"&&i.opened}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(i,n){i&2&&(Co("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px"),It("mat-drawer-content-hidden",n._shouldBeHidden()))},features:[Yt([{provide:$u,useExisting:r}]),Zr],ngContentSelectors:vx,decls:1,vars:0,template:function(i,n){i&1&&(Dr(),Ct(0))},encapsulation:2,changeDetection:0})}return r})(),vR=(()=>{class r{_elementRef=V(vt);_focusTrapFactory=V(BL);_focusMonitor=V(td);_platform=V(Ir);_ngZone=V(_t);_renderer=V(qi);_interactivityChecker=V(gE);_doc=V(zt,{optional:!0});_container=V(bR,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=rn(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=rn(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(rn(e))}_opened=!1;_openedVia;_animationStarted=new Ue;_animationEnd=new Ue;openedChange=new gt(!0);_openedStream=this.openedChange.pipe(At(e=>e),pt(()=>{}));openedStart=this._animationStarted.pipe(At(()=>this.opened),Lw(void 0));_closedStream=this.openedChange.pipe(At(e=>!e),pt(()=>{}));closedStart=this._animationStarted.pipe(At(()=>!this.opened),Lw(void 0));_destroyed=new Ue;onPositionChanged=new gt;_content;_modeChanged=new Ue;_injector=V(Nr);_changeDetectorRef=V(Kr);constructor(){this.openedChange.pipe(hr(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;su(e,"keydown").pipe(At(i=>i.keyCode===27&&!this.disableClose&&!Sn(i)),hr(this._destroyed)).subscribe(i=>this._ngZone.run(()=>{this.close(),i.stopPropagation(),i.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{a(),o(),e.removeAttribute("tabindex")},a=this._renderer.listen(e,"blur",n),o=this._renderer.listen(e,"mousedown",n)})),e.focus(i)}_focusByCssSelector(e,i){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,i)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Ln(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);let n=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),n}_setOpen(e,i,n){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&i&&this._restoreFocus(n),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe(oi(1)).subscribe(o=>a(o?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let i=this._elementRef.nativeElement,n=i.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),n.insertBefore(this._anchor,i)),n.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}_handleTransitionEvent=e=>{let i=this._elementRef.nativeElement;e.target===i&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-drawer"]],viewQuery:function(i,n){if(i&1&&Qr(FBe,5),i&2){let a;Mt(a=Dt())&&(n._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(i,n){i&2&&(Vt("align",null),Co("visibility",!n._container&&!n.opened?"hidden":null),It("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:vx,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,n){i&1&&(Dr(),ae(0,"div",1,0),Ct(2),ue())},dependencies:[$u],encapsulation:2,changeDetection:0})}return r})(),yR=(()=>{class r{_dir=V(Yi,{optional:!0});_element=V(vt);_ngZone=V(_t);_changeDetectorRef=V(Kr);_animationMode=V(Wi,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Bc;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=rn(e)}_autosize=V(jBe);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:rn(e)}_backdropOverride;backdropClick=new gt;_start;_end;_left;_right;_destroyed=new Ue;_doCheckSubject=new Ue;_contentMargins={left:null,right:null};_contentMarginChanges=new Ue;get scrollable(){return this._userContent||this._content}_injector=V(Nr);constructor(){let e=V(Ir),i=V(Ao);this._dir?.change.pipe(hr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),i.change().pipe(hr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(dr(this._allDrawers),hr(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(dr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Ya(10),hr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let n=this._left._getWidth();e+=n,i-=n}}if(this._right&&this._right.opened){if(this._right.mode=="side")i+=this._right._getWidth();else if(this._right.mode=="push"){let n=this._right._getWidth();i+=n,e-=n}}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(hr(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(hr(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(hr(this._drawers.changes)).subscribe(()=>{Ln({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(hr(xi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let i=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?i.add(n):i.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=De({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,px,5),Tr(a,vR,5)),i&2){let o;Mt(o=Dt())&&(n._content=o.first),Mt(o=Dt())&&(n._allDrawers=o)}},viewQuery:function(i,n){if(i&1&&Qr(px,5),i&2){let a;Mt(a=Dt())&&(n._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,n){i&2&&It("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Yt([{provide:bR,useExisting:r}])],ngContentSelectors:BBe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){i&1&&(Dr(NBe),Nt(0,VBe,1,2,"div",0),Ct(1),Ct(2,1),Nt(3,zBe,2,0,"mat-drawer-content")),i&2&&($t(n.hasBackdrop?0:-1),ge(3),$t(n._content?-1:3))},dependencies:[px],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}"],encapsulation:2,changeDetection:0})}return r})(),gx=(()=>{class r extends px{static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[Yt([{provide:$u,useExisting:r}]),Zr],ngContentSelectors:vx,decls:1,vars:0,template:function(i,n){i&1&&(Dr(),Ct(0))},encapsulation:2,changeDetection:0})}return r})(),_R=(()=>{class r extends vR{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=rn(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=zn(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=zn(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:15,hostBindings:function(i,n){i&2&&(Vt("align",null),Co("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),It("mat-drawer-end",n.position==="end")("mat-drawer-over",n.mode==="over")("mat-drawer-push",n.mode==="push")("mat-drawer-side",n.mode==="side")("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Yt([{provide:vR,useExisting:r}]),Zr],ngContentSelectors:vx,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,n){i&1&&(Dr(),ae(0,"div",1,0),Ct(2),ue())},dependencies:[$u],encapsulation:2,changeDetection:0})}return r})(),R9=(()=>{class r extends yR{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(n){return(e||(e=wi(r)))(n||r)}})();static \u0275cmp=De({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,n,a){if(i&1&&(Tr(a,gx,5),Tr(a,_R,5)),i&2){let o;Mt(o=Dt())&&(n._content=o.first),Mt(o=Dt())&&(n._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,n){i&2&&It("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[Yt([{provide:bR,useExisting:r},{provide:yR,useExisting:r}]),Zr],ngContentSelectors:UBe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,n){i&1&&(Dr(qBe),Nt(0,HBe,1,2,"div",0),Ct(1),Ct(2,1),Nt(3,GBe,2,0,"mat-sidenav-content")),i&2&&($t(n.hasBackdrop?0:-1),ge(3),$t(n._content?-1:3))},dependencies:[gx],styles:[WBe],encapsulation:2,changeDetection:0})}return r})(),I9=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[qt,no,no,qt]})}return r})();var XBe=(r,t)=>t.label;function KBe(r,t){if(r&1&&(ae(0,"span",5),He(1),ue()),r&2){let e=nt().$implicit;ge(),Rr(e.label)}}function ZBe(r,t){if(r&1&&(ae(0,"a",3,0)(2,"mat-icon",4),He(3),ue(),Nt(4,KBe,2,1,"span",5),ue()),r&2){let e=t.$implicit,i=Qa(1),n=nt();Re("routerLink",e.route)("activated",i.isActive),ge(3),Rr(e.icon),ge(),$t(n.collapsed()?-1:4)}}var yx=class r{collapsed=yr(!1);sidNavWidth=Ma(()=>this.collapsed()?"65px":"250px");menuItems=si.required();static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-sidenav"]],inputs:{menuItems:[1,"menuItems"]},decls:11,vars:4,consts:[["rla","routerLinkActive"],["opened","","mode","side"],["mat-icon-button","",3,"click"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["matListItemIcon",""],["matListItemTitle",""]],template:function(e,i){e&1&&(ae(0,"mat-sidenav-container")(1,"mat-sidenav",1)(2,"mat-toolbar")(3,"button",2),Xe("click",function(){return i.collapsed.set(!i.collapsed())}),ae(4,"mat-icon"),He(5,"menu"),ue()()(),ae(6,"mat-nav-list"),fr(7,ZBe,5,4,"a",3,XBe),ue()(),ae(9,"mat-sidenav-content"),Pe(10,"router-outlet"),ue()()),e&2&&(ge(),Co("width",i.sidNavWidth()),ge(6),mr(i.menuItems()),ge(2),Co("margin-left",i.sidNavWidth()))},dependencies:[Gc,A9,T9,D9,gR,pR,Zu,Ku,KP,VC,Ru,HP,I9,_R,R9,gx,qy,Fl],styles:["mat-sidenav[_ngcontent-%COMP%]{border-right:1px solid black;border-radius:0}mat-sidenav-container[_ngcontent-%COMP%]{height:100%}mat-sidenav-content[_ngcontent-%COMP%]{padding-top:1rem;padding-left:1rem;padding-right:1rem}"]})};var bx=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=xt({type:r});static \u0275inj=bt({imports:[Gc,By,Vy,eX,Ry,ky,Vn,nn,Uy,Nl,Ll]})};var _x=class r{title="My Little Web";menuItems=[{icon:"home",label:"Home",route:"home"},{icon:"code",label:"Algorithm",route:"algorithm"},{icon:"dashboard",label:"UI Component",route:"ui"}];static \u0275fac=function(e){return new(e||r)};static \u0275cmp=De({type:r,selectors:[["app-root"]],decls:1,vars:1,consts:[[3,"menuItems"]],template:function(e,i){e&1&&Pe(0,"app-sidenav",0),e&2&&Re("menuItems",i.menuItems)},dependencies:[Zu,yx,bx],styles:["mat-toolbar[_ngcontent-%COMP%]{position:relative;z-index:999;box-shadow:var(--mat-sys-level3)}"]})};Qk(_x,E9).catch(r=>console.error(r));
